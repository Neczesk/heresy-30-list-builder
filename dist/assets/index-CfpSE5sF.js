function Bj(t,e){for(var a=0;a<e.length;a++){const n=e[a];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const l=Object.getOwnPropertyDescriptor(n,i);l&&Object.defineProperty(t,i,l.get?l:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function a(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(i){if(i.ep)return;i.ep=!0;const l=a(i);fetch(i.href,l)}})();function nA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Hb={exports:{}},Nu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IT;function Nj(){if(IT)return Nu;IT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function a(n,i,l){var d=null;if(l!==void 0&&(d=""+l),i.key!==void 0&&(d=""+i.key),"key"in i){l={};for(var u in i)u!=="key"&&(l[u]=i[u])}else l=i;return i=l.ref,{$$typeof:t,type:n,key:d,ref:i!==void 0?i:null,props:l}}return Nu.Fragment=e,Nu.jsx=a,Nu.jsxs=a,Nu}var PT;function Fj(){return PT||(PT=1,Hb.exports=Nj()),Hb.exports}var s=Fj(),$b={exports:{}},Lt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WT;function qj(){if(WT)return Lt;WT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),d=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function x(H){return H===null||typeof H!="object"?null:(H=v&&H[v]||H["@@iterator"],typeof H=="function"?H:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,j={};function E(H,te,Q){this.props=H,this.context=te,this.refs=j,this.updater=Q||T}E.prototype.isReactComponent={},E.prototype.setState=function(H,te){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,te,"setState")},E.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function M(){}M.prototype=E.prototype;function L(H,te,Q){this.props=H,this.context=te,this.refs=j,this.updater=Q||T}var W=L.prototype=new M;W.constructor=L,C(W,E.prototype),W.isPureReactComponent=!0;var R=Array.isArray,I={H:null,A:null,T:null,S:null,V:null},N=Object.prototype.hasOwnProperty;function V(H,te,Q,ne,ye,be){return Q=be.ref,{$$typeof:t,type:H,key:te,ref:Q!==void 0?Q:null,props:be}}function A(H,te){return V(H.type,te,void 0,void 0,void 0,H.props)}function _(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function S(H){var te={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(Q){return te[Q]})}var D=/\/+/g;function U(H,te){return typeof H=="object"&&H!==null&&H.key!=null?S(""+H.key):te.toString(36)}function P(){}function K(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(P,P):(H.status="pending",H.then(function(te){H.status==="pending"&&(H.status="fulfilled",H.value=te)},function(te){H.status==="pending"&&(H.status="rejected",H.reason=te)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function J(H,te,Q,ne,ye){var be=typeof H;(be==="undefined"||be==="boolean")&&(H=null);var oe=!1;if(H===null)oe=!0;else switch(be){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(H.$$typeof){case t:case e:oe=!0;break;case y:return oe=H._init,J(oe(H._payload),te,Q,ne,ye)}}if(oe)return ye=ye(H),oe=ne===""?"."+U(H,0):ne,R(ye)?(Q="",oe!=null&&(Q=oe.replace(D,"$&/")+"/"),J(ye,te,Q,"",function(Oe){return Oe})):ye!=null&&(_(ye)&&(ye=A(ye,Q+(ye.key==null||H&&H.key===ye.key?"":(""+ye.key).replace(D,"$&/")+"/")+oe)),te.push(ye)),1;oe=0;var _e=ne===""?".":ne+":";if(R(H))for(var Me=0;Me<H.length;Me++)ne=H[Me],be=_e+U(ne,Me),oe+=J(ne,te,Q,be,ye);else if(Me=x(H),typeof Me=="function")for(H=Me.call(H),Me=0;!(ne=H.next()).done;)ne=ne.value,be=_e+U(ne,Me++),oe+=J(ne,te,Q,be,ye);else if(be==="object"){if(typeof H.then=="function")return J(K(H),te,Q,ne,ye);throw te=String(H),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return oe}function $(H,te,Q){if(H==null)return H;var ne=[],ye=0;return J(H,ne,"","",function(be){return te.call(Q,be,ye++)}),ne}function X(H){if(H._status===-1){var te=H._result;te=te(),te.then(function(Q){(H._status===0||H._status===-1)&&(H._status=1,H._result=Q)},function(Q){(H._status===0||H._status===-1)&&(H._status=2,H._result=Q)}),H._status===-1&&(H._status=0,H._result=te)}if(H._status===1)return H._result.default;throw H._result}var le=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function ie(){}return Lt.Children={map:$,forEach:function(H,te,Q){$(H,function(){te.apply(this,arguments)},Q)},count:function(H){var te=0;return $(H,function(){te++}),te},toArray:function(H){return $(H,function(te){return te})||[]},only:function(H){if(!_(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Lt.Component=E,Lt.Fragment=a,Lt.Profiler=i,Lt.PureComponent=L,Lt.StrictMode=n,Lt.Suspense=h,Lt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Lt.__COMPILER_RUNTIME={__proto__:null,c:function(H){return I.H.useMemoCache(H)}},Lt.cache=function(H){return function(){return H.apply(null,arguments)}},Lt.cloneElement=function(H,te,Q){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var ne=C({},H.props),ye=H.key,be=void 0;if(te!=null)for(oe in te.ref!==void 0&&(be=void 0),te.key!==void 0&&(ye=""+te.key),te)!N.call(te,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&te.ref===void 0||(ne[oe]=te[oe]);var oe=arguments.length-2;if(oe===1)ne.children=Q;else if(1<oe){for(var _e=Array(oe),Me=0;Me<oe;Me++)_e[Me]=arguments[Me+2];ne.children=_e}return V(H.type,ye,void 0,void 0,be,ne)},Lt.createContext=function(H){return H={$$typeof:d,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:l,_context:H},H},Lt.createElement=function(H,te,Q){var ne,ye={},be=null;if(te!=null)for(ne in te.key!==void 0&&(be=""+te.key),te)N.call(te,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(ye[ne]=te[ne]);var oe=arguments.length-2;if(oe===1)ye.children=Q;else if(1<oe){for(var _e=Array(oe),Me=0;Me<oe;Me++)_e[Me]=arguments[Me+2];ye.children=_e}if(H&&H.defaultProps)for(ne in oe=H.defaultProps,oe)ye[ne]===void 0&&(ye[ne]=oe[ne]);return V(H,be,void 0,void 0,null,ye)},Lt.createRef=function(){return{current:null}},Lt.forwardRef=function(H){return{$$typeof:u,render:H}},Lt.isValidElement=_,Lt.lazy=function(H){return{$$typeof:y,_payload:{_status:-1,_result:H},_init:X}},Lt.memo=function(H,te){return{$$typeof:m,type:H,compare:te===void 0?null:te}},Lt.startTransition=function(H){var te=I.T,Q={};I.T=Q;try{var ne=H(),ye=I.S;ye!==null&&ye(Q,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(ie,le)}catch(be){le(be)}finally{I.T=te}},Lt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Lt.use=function(H){return I.H.use(H)},Lt.useActionState=function(H,te,Q){return I.H.useActionState(H,te,Q)},Lt.useCallback=function(H,te){return I.H.useCallback(H,te)},Lt.useContext=function(H){return I.H.useContext(H)},Lt.useDebugValue=function(){},Lt.useDeferredValue=function(H,te){return I.H.useDeferredValue(H,te)},Lt.useEffect=function(H,te,Q){var ne=I.H;if(typeof Q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ne.useEffect(H,te)},Lt.useId=function(){return I.H.useId()},Lt.useImperativeHandle=function(H,te,Q){return I.H.useImperativeHandle(H,te,Q)},Lt.useInsertionEffect=function(H,te){return I.H.useInsertionEffect(H,te)},Lt.useLayoutEffect=function(H,te){return I.H.useLayoutEffect(H,te)},Lt.useMemo=function(H,te){return I.H.useMemo(H,te)},Lt.useOptimistic=function(H,te){return I.H.useOptimistic(H,te)},Lt.useReducer=function(H,te,Q){return I.H.useReducer(H,te,Q)},Lt.useRef=function(H){return I.H.useRef(H)},Lt.useState=function(H){return I.H.useState(H)},Lt.useSyncExternalStore=function(H,te,Q){return I.H.useSyncExternalStore(H,te,Q)},Lt.useTransition=function(){return I.H.useTransition()},Lt.version="19.1.1",Lt}var DT;function Dx(){return DT||(DT=1,$b.exports=qj()),$b.exports}var w=Dx();const Oi=nA(w),Tg=Bj({__proto__:null,default:Oi},[w]);var Gb={exports:{}},Fu={},Kb={exports:{}},Yb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LT;function Hj(){return LT||(LT=1,function(t){function e($,X){var le=$.length;$.push(X);e:for(;0<le;){var ie=le-1>>>1,H=$[ie];if(0<i(H,X))$[ie]=X,$[le]=H,le=ie;else break e}}function a($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var X=$[0],le=$.pop();if(le!==X){$[0]=le;e:for(var ie=0,H=$.length,te=H>>>1;ie<te;){var Q=2*(ie+1)-1,ne=$[Q],ye=Q+1,be=$[ye];if(0>i(ne,le))ye<H&&0>i(be,ne)?($[ie]=be,$[ye]=le,ie=ye):($[ie]=ne,$[Q]=le,ie=Q);else if(ye<H&&0>i(be,le))$[ie]=be,$[ye]=le,ie=ye;else break e}}return X}function i($,X){var le=$.sortIndex-X.sortIndex;return le!==0?le:$.id-X.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var d=Date,u=d.now();t.unstable_now=function(){return d.now()-u}}var h=[],m=[],y=1,v=null,x=3,T=!1,C=!1,j=!1,E=!1,M=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function R($){for(var X=a(m);X!==null;){if(X.callback===null)n(m);else if(X.startTime<=$)n(m),X.sortIndex=X.expirationTime,e(h,X);else break;X=a(m)}}function I($){if(j=!1,R($),!C)if(a(h)!==null)C=!0,N||(N=!0,U());else{var X=a(m);X!==null&&J(I,X.startTime-$)}}var N=!1,V=-1,A=5,_=-1;function S(){return E?!0:!(t.unstable_now()-_<A)}function D(){if(E=!1,N){var $=t.unstable_now();_=$;var X=!0;try{e:{C=!1,j&&(j=!1,L(V),V=-1),T=!0;var le=x;try{t:{for(R($),v=a(h);v!==null&&!(v.expirationTime>$&&S());){var ie=v.callback;if(typeof ie=="function"){v.callback=null,x=v.priorityLevel;var H=ie(v.expirationTime<=$);if($=t.unstable_now(),typeof H=="function"){v.callback=H,R($),X=!0;break t}v===a(h)&&n(h),R($)}else n(h);v=a(h)}if(v!==null)X=!0;else{var te=a(m);te!==null&&J(I,te.startTime-$),X=!1}}break e}finally{v=null,x=le,T=!1}X=void 0}}finally{X?U():N=!1}}}var U;if(typeof W=="function")U=function(){W(D)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,K=P.port2;P.port1.onmessage=D,U=function(){K.postMessage(null)}}else U=function(){M(D,0)};function J($,X){V=M(function(){$(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function($){switch(x){case 1:case 2:case 3:var X=3;break;default:X=x}var le=x;x=X;try{return $()}finally{x=le}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function($,X){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var le=x;x=$;try{return X()}finally{x=le}},t.unstable_scheduleCallback=function($,X,le){var ie=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?ie+le:ie):le=ie,$){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=le+H,$={id:y++,callback:X,priorityLevel:$,startTime:le,expirationTime:H,sortIndex:-1},le>ie?($.sortIndex=le,e(m,$),a(h)===null&&$===a(m)&&(j?(L(V),V=-1):j=!0,J(I,le-ie))):($.sortIndex=H,e(h,$),C||T||(C=!0,N||(N=!0,U()))),$},t.unstable_shouldYield=S,t.unstable_wrapCallback=function($){var X=x;return function(){var le=x;x=X;try{return $.apply(this,arguments)}finally{x=le}}}}(Yb)),Yb}var VT;function $j(){return VT||(VT=1,Kb.exports=Hj()),Kb.exports}var Xb={exports:{}},Wn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UT;function Gj(){if(UT)return Wn;UT=1;var t=Dx();function e(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var n={d:{f:a,r:function(){throw Error(e(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(h,m,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:v==null?null:""+v,children:h,containerInfo:m,implementation:y}}var d=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Wn.createPortal=function(h,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(h,m,null,y)},Wn.flushSync=function(h){var m=d.T,y=n.p;try{if(d.T=null,n.p=2,h)return h()}finally{d.T=m,n.p=y,n.d.f()}},Wn.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,n.d.C(h,m))},Wn.prefetchDNS=function(h){typeof h=="string"&&n.d.D(h)},Wn.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var y=m.as,v=u(y,m.crossOrigin),x=typeof m.integrity=="string"?m.integrity:void 0,T=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?n.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:T}):y==="script"&&n.d.X(h,{crossOrigin:v,integrity:x,fetchPriority:T,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Wn.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=u(m.as,m.crossOrigin);n.d.M(h,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&n.d.M(h)},Wn.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,v=u(y,m.crossOrigin);n.d.L(h,y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Wn.preloadModule=function(h,m){if(typeof h=="string")if(m){var y=u(m.as,m.crossOrigin);n.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else n.d.m(h)},Wn.requestFormReset=function(h){n.d.r(h)},Wn.unstable_batchedUpdates=function(h,m){return h(m)},Wn.useFormState=function(h,m,y){return d.H.useFormState(h,m,y)},Wn.useFormStatus=function(){return d.H.useHostTransitionStatus()},Wn.version="19.1.1",Wn}var OT;function rA(){if(OT)return Xb.exports;OT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Xb.exports=Gj(),Xb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zT;function Kj(){if(zT)return Fu;zT=1;var t=$j(),e=Dx(),a=rA();function n(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var o=r,c=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(c=o.return),r=o.return;while(r)}return o.tag===3?c:null}function d(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function u(r){if(l(r)!==r)throw Error(n(188))}function h(r){var o=r.alternate;if(!o){if(o=l(r),o===null)throw Error(n(188));return o!==r?null:r}for(var c=r,p=o;;){var f=c.return;if(f===null)break;var b=f.alternate;if(b===null){if(p=f.return,p!==null){c=p;continue}break}if(f.child===b.child){for(b=f.child;b;){if(b===c)return u(f),r;if(b===p)return u(f),o;b=b.sibling}throw Error(n(188))}if(c.return!==p.return)c=f,p=b;else{for(var B=!1,q=f.child;q;){if(q===c){B=!0,c=f,p=b;break}if(q===p){B=!0,p=f,c=b;break}q=q.sibling}if(!B){for(q=b.child;q;){if(q===c){B=!0,c=b,p=f;break}if(q===p){B=!0,p=b,c=f;break}q=q.sibling}if(!B)throw Error(n(189))}}if(c.alternate!==p)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?r:o}function m(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=m(r),o!==null)return o;r=r.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),W=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),S=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(r){return r===null||typeof r!="object"?null:(r=D&&r[D]||r["@@iterator"],typeof r=="function"?r:null)}var P=Symbol.for("react.client.reference");function K(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===P?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case C:return"Fragment";case E:return"Profiler";case j:return"StrictMode";case I:return"Suspense";case N:return"SuspenseList";case _:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case T:return"Portal";case W:return(r.displayName||"Context")+".Provider";case L:return(r._context.displayName||"Context")+".Consumer";case R:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case V:return o=r.displayName||null,o!==null?o:K(r.type)||"Memo";case A:o=r._payload,r=r._init;try{return K(r(o))}catch{}}return null}var J=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},ie=[],H=-1;function te(r){return{current:r}}function Q(r){0>H||(r.current=ie[H],ie[H]=null,H--)}function ne(r,o){H++,ie[H]=r.current,r.current=o}var ye=te(null),be=te(null),oe=te(null),_e=te(null);function Me(r,o){switch(ne(oe,o),ne(be,r),ne(ye,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?oT(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=oT(o),r=sT(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Q(ye),ne(ye,r)}function Oe(){Q(ye),Q(be),Q(oe)}function qe(r){r.memoizedState!==null&&ne(_e,r);var o=ye.current,c=sT(o,r.type);o!==c&&(ne(be,r),ne(ye,c))}function Qe(r){be.current===r&&(Q(ye),Q(be)),_e.current===r&&(Q(_e),Vu._currentValue=le)}var ae=Object.prototype.hasOwnProperty,ve=t.unstable_scheduleCallback,De=t.unstable_cancelCallback,He=t.unstable_shouldYield,se=t.unstable_requestPaint,ee=t.unstable_now,Se=t.unstable_getCurrentPriorityLevel,pe=t.unstable_ImmediatePriority,je=t.unstable_UserBlockingPriority,we=t.unstable_NormalPriority,Ee=t.unstable_LowPriority,rt=t.unstable_IdlePriority,Mt=t.log,Gt=t.unstable_setDisableYieldValue,mt=null,$e=null;function Ge(r){if(typeof Mt=="function"&&Gt(r),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(mt,r)}catch{}}var Ue=Math.clz32?Math.clz32:Wt,ct=Math.log,Fe=Math.LN2;function Wt(r){return r>>>=0,r===0?32:31-(ct(r)/Fe|0)|0}var oa=256,Na=4194304;function Xe(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Vt(r,o,c){var p=r.pendingLanes;if(p===0)return 0;var f=0,b=r.suspendedLanes,B=r.pingedLanes;r=r.warmLanes;var q=p&134217727;return q!==0?(p=q&~b,p!==0?f=Xe(p):(B&=q,B!==0?f=Xe(B):c||(c=q&~r,c!==0&&(f=Xe(c))))):(q=p&~b,q!==0?f=Xe(q):B!==0?f=Xe(B):c||(c=p&~r,c!==0&&(f=Xe(c)))),f===0?0:o!==0&&o!==f&&(o&b)===0&&(b=f&-f,c=o&-o,b>=c||b===32&&(c&4194048)!==0)?o:f}function aa(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function Da(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xn(){var r=oa;return oa<<=1,(oa&4194048)===0&&(oa=256),r}function Ne(){var r=Na;return Na<<=1,(Na&62914560)===0&&(Na=4194304),r}function it(r){for(var o=[],c=0;31>c;c++)o.push(r);return o}function ot(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Ut(r,o,c,p,f,b){var B=r.pendingLanes;r.pendingLanes=c,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=c,r.entangledLanes&=c,r.errorRecoveryDisabledLanes&=c,r.shellSuspendCounter=0;var q=r.entanglements,Z=r.expirationTimes,he=r.hiddenUpdates;for(c=B&~c;0<c;){var Re=31-Ue(c),Ie=1<<Re;q[Re]=0,Z[Re]=-1;var me=he[Re];if(me!==null)for(he[Re]=null,Re=0;Re<me.length;Re++){var fe=me[Re];fe!==null&&(fe.lane&=-536870913)}c&=~Ie}p!==0&&vt(r,p,0),b!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=b&~(B&~o))}function vt(r,o,c){r.pendingLanes|=o,r.suspendedLanes&=~o;var p=31-Ue(o);r.entangledLanes|=o,r.entanglements[p]=r.entanglements[p]|1073741824|c&4194090}function Dt(r,o){var c=r.entangledLanes|=o;for(r=r.entanglements;c;){var p=31-Ue(c),f=1<<p;f&o|r[p]&o&&(r[p]|=o),c&=~f}}function Jt(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function ft(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Zt(){var r=X.p;return r!==0?r:(r=window.event,r===void 0?32:RT(r.type))}function Ke(r,o){var c=X.p;try{return X.p=r,o()}finally{X.p=c}}var ze=Math.random().toString(36).slice(2),pt="__reactFiber$"+ze,ht="__reactProps$"+ze,Rt="__reactContainer$"+ze,un="__reactEvents$"+ze,Kr="__reactListeners$"+ze,er="__reactHandles$"+ze,Ns="__reactResources$"+ze,Yr="__reactMarker$"+ze;function qo(r){delete r[pt],delete r[ht],delete r[un],delete r[Kr],delete r[er]}function eo(r){var o=r[pt];if(o)return o;for(var c=r.parentNode;c;){if(o=c[Rt]||c[pt]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(r=uT(r);r!==null;){if(c=r[pt])return c;r=uT(r)}return o}r=c,c=r.parentNode}return null}function fi(r){if(r=r[pt]||r[Rt]){var o=r.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return r}return null}function yi(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(n(33))}function Bn(r){var o=r[Ns];return o||(o=r[Ns]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Fa(r){r[Yr]=!0}var Fd=new Set,Yl={};function Xr(r,o){to(r,o),to(r+"Capture",o)}function to(r,o){for(Yl[r]=o,r=0;r<o.length;r++)Fd.add(o[r])}var bh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vh={},Fs={};function xh(r){return ae.call(Fs,r)?!0:ae.call(vh,r)?!1:bh.test(r)?Fs[r]=!0:(vh[r]=!0,!1)}function Ho(r,o,c){if(xh(o))if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+c)}}function bi(r,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+c)}}function wn(r,o,c,p){if(p===null)r.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(c);return}r.setAttributeNS(o,c,""+p)}}var qs,wh;function ao(r){if(qs===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);qs=o&&o[1]||"",wh=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qs+r+wh}var Xl=!1;function Ql(r,o){if(!r||Xl)return"";Xl=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var Ie=function(){throw Error()};if(Object.defineProperty(Ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ie,[])}catch(fe){var me=fe}Reflect.construct(r,[],Ie)}else{try{Ie.call()}catch(fe){me=fe}r.call(Ie.prototype)}}else{try{throw Error()}catch(fe){me=fe}(Ie=r())&&typeof Ie.catch=="function"&&Ie.catch(function(){})}}catch(fe){if(fe&&me&&typeof fe.stack=="string")return[fe.stack,me.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=p.DetermineComponentFrameRoot(),B=b[0],q=b[1];if(B&&q){var Z=B.split(`
`),he=q.split(`
`);for(f=p=0;p<Z.length&&!Z[p].includes("DetermineComponentFrameRoot");)p++;for(;f<he.length&&!he[f].includes("DetermineComponentFrameRoot");)f++;if(p===Z.length||f===he.length)for(p=Z.length-1,f=he.length-1;1<=p&&0<=f&&Z[p]!==he[f];)f--;for(;1<=p&&0<=f;p--,f--)if(Z[p]!==he[f]){if(p!==1||f!==1)do if(p--,f--,0>f||Z[p]!==he[f]){var Re=`
`+Z[p].replace(" at new "," at ");return r.displayName&&Re.includes("<anonymous>")&&(Re=Re.replace("<anonymous>",r.displayName)),Re}while(1<=p&&0<=f);break}}}finally{Xl=!1,Error.prepareStackTrace=c}return(c=r?r.displayName||r.name:"")?ao(c):""}function qd(r){switch(r.tag){case 26:case 27:case 5:return ao(r.type);case 16:return ao("Lazy");case 13:return ao("Suspense");case 19:return ao("SuspenseList");case 0:case 15:return Ql(r.type,!1);case 11:return Ql(r.type.render,!1);case 1:return Ql(r.type,!0);case 31:return ao("Activity");default:return""}}function Jl(r){try{var o="";do o+=qd(r),r=r.return;while(r);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Nn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Hd(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Yf(r){var o=Hd(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),p=""+r[o];if(!r.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,b=c.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return f.call(this)},set:function(B){p=""+B,b.call(this,B)}}),Object.defineProperty(r,o,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(B){p=""+B},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function Zl(r){r._valueTracker||(r._valueTracker=Yf(r))}function $d(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var c=o.getValue(),p="";return r&&(p=Hd(r)?r.checked?"true":"false":r.value),r=p,r!==c?(o.setValue(r),!0):!1}function Hs(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Xf=/[\n"\\]/g;function Qa(r){return r.replace(Xf,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function ur(r,o,c,p,f,b,B,q){r.name="",B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?r.type=B:r.removeAttribute("type"),o!=null?B==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+Nn(o)):r.value!==""+Nn(o)&&(r.value=""+Nn(o)):B!=="submit"&&B!=="reset"||r.removeAttribute("value"),o!=null?$o(r,B,Nn(o)):c!=null?$o(r,B,Nn(c)):p!=null&&r.removeAttribute("value"),f==null&&b!=null&&(r.defaultChecked=!!b),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?r.name=""+Nn(q):r.removeAttribute("name")}function $s(r,o,c,p,f,b,B,q){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.type=b),o!=null||c!=null){if(!(b!=="submit"&&b!=="reset"||o!=null))return;c=c!=null?""+Nn(c):"",o=o!=null?""+Nn(o):c,q||o===r.value||(r.value=o),r.defaultValue=o}p=p??f,p=typeof p!="function"&&typeof p!="symbol"&&!!p,r.checked=q?r.checked:!!p,r.defaultChecked=!!p,B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(r.name=B)}function $o(r,o,c){o==="number"&&Hs(r.ownerDocument)===r||r.defaultValue===""+c||(r.defaultValue=""+c)}function no(r,o,c,p){if(r=r.options,o){o={};for(var f=0;f<c.length;f++)o["$"+c[f]]=!0;for(c=0;c<r.length;c++)f=o.hasOwnProperty("$"+r[c].value),r[c].selected!==f&&(r[c].selected=f),f&&p&&(r[c].defaultSelected=!0)}else{for(c=""+Nn(c),o=null,f=0;f<r.length;f++){if(r[f].value===c){r[f].selected=!0,p&&(r[f].defaultSelected=!0);return}o!==null||r[f].disabled||(o=r[f])}o!==null&&(o.selected=!0)}}function ha(r,o,c){if(o!=null&&(o=""+Nn(o),o!==r.value&&(r.value=o),c==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=c!=null?""+Nn(c):""}function Gs(r,o,c,p){if(o==null){if(p!=null){if(c!=null)throw Error(n(92));if(J(p)){if(1<p.length)throw Error(n(93));p=p[0]}c=p}c==null&&(c=""),o=c}c=Nn(o),r.defaultValue=c,p=r.textContent,p===c&&p!==""&&p!==null&&(r.value=p)}function Rr(r,o){if(o){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=o;return}}r.textContent=o}var Ks=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sh(r,o,c){var p=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?p?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":p?r.setProperty(o,c):typeof c!="number"||c===0||Ks.has(o)?o==="float"?r.cssFloat=c:r[o]=(""+c).trim():r[o]=c+"px"}function Gd(r,o,c){if(o!=null&&typeof o!="object")throw Error(n(62));if(r=r.style,c!=null){for(var p in c)!c.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?r.setProperty(p,""):p==="float"?r.cssFloat="":r[p]="");for(var f in o)p=o[f],o.hasOwnProperty(f)&&c[f]!==p&&Sh(r,f,p)}else for(var b in o)o.hasOwnProperty(b)&&Sh(r,b,o[b])}function Kd(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Jf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ec(r){return Jf.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var ro=null;function Ar(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var io=null,oo=null;function Yd(r){var o=fi(r);if(o&&(r=o.stateNode)){var c=r[ht]||null;e:switch(r=o.stateNode,o.type){case"input":if(ur(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Qa(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var p=c[o];if(p!==r&&p.form===r.form){var f=p[ht]||null;if(!f)throw Error(n(90));ur(p,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(o=0;o<c.length;o++)p=c[o],p.form===r.form&&$d(p)}break e;case"textarea":ha(r,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&no(r,!!c.multiple,o,!1)}}}var vi=!1;function Th(r,o,c){if(vi)return r(o,c);vi=!0;try{var p=r(o);return p}finally{if(vi=!1,(io!==null||oo!==null)&&(fm(),io&&(o=io,r=oo,oo=io=null,Yd(o),r)))for(o=0;o<r.length;o++)Yd(r[o])}}function Ys(r,o){var c=r.stateNode;if(c===null)return null;var p=c[ht]||null;if(p===null)return null;c=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(r=r.type,p=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!p;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(n(231,o,typeof c));return c}var Qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kr=!1;if(Qr)try{var Xs={};Object.defineProperty(Xs,"passive",{get:function(){kr=!0}}),window.addEventListener("test",Xs,Xs),window.removeEventListener("test",Xs,Xs)}catch{kr=!1}var xi=null,Go=null,so=null;function Xd(){if(so)return so;var r,o=Go,c=o.length,p,f="value"in xi?xi.value:xi.textContent,b=f.length;for(r=0;r<c&&o[r]===f[r];r++);var B=c-r;for(p=1;p<=B&&o[c-p]===f[b-p];p++);return so=f.slice(r,1<p?1-p:void 0)}function wi(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function Si(){return!0}function Qd(){return!1}function pn(r){function o(c,p,f,b,B){this._reactName=c,this._targetInst=f,this.type=p,this.nativeEvent=b,this.target=B,this.currentTarget=null;for(var q in r)r.hasOwnProperty(q)&&(c=r[q],this[q]=c?c(b):b[q]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Si:Qd,this.isPropagationStopped=Qd,this}return y(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Si)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Si)},persist:function(){},isPersistent:Si}),o}var sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tc=pn(sa),Qs=y({},sa,{view:0,detail:0}),Ch=pn(Qs),ac,nc,Ti,Js=y({},Qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tl,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ti&&(Ti&&r.type==="mousemove"?(ac=r.screenX-Ti.screenX,nc=r.screenY-Ti.screenY):nc=ac=0,Ti=r),ac)},movementY:function(r){return"movementY"in r?r.movementY:nc}}),Er=pn(Js),Mh=y({},Js,{dataTransfer:0}),Zf=pn(Mh),Zs=y({},Qs,{relatedTarget:0}),rc=pn(Zs),Jd=y({},sa,{animationName:0,elapsedTime:0,pseudoElement:0}),ic=pn(Jd),Rh=y({},sa,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),oc=pn(Rh),ey=y({},sa,{data:0}),Zd=pn(ey),el={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ah={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eu(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=kh[r])?!!o[r]:!1}function tl(){return eu}var Eh=y({},Qs,{key:function(r){if(r.key){var o=el[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=wi(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ah[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tl,charCode:function(r){return r.type==="keypress"?wi(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?wi(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),sc=pn(Eh),_h=y({},Js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tu=pn(_h),lo=y({},Qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tl}),jh=pn(lo),Ih=y({},sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ph=pn(Ih),Wh=y({},Js,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),lc=pn(Wh),Fn=y({},sa,{newState:0,oldState:0}),Dh=pn(Fn),Lh=[9,13,27,32],Ci=Qr&&"CompositionEvent"in window,g=null;Qr&&"documentMode"in document&&(g=document.documentMode);var k=Qr&&"TextEvent"in window&&!g,z=Qr&&(!Ci||g&&8<g&&11>=g),G=" ",de=!1;function xe(r,o){switch(r){case"keyup":return Lh.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Be(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Kt=!1;function nn(r,o){switch(r){case"compositionend":return Be(o);case"keypress":return o.which!==32?null:(de=!0,G);case"textInput":return r=o.data,r===G&&de?null:r;default:return null}}function Yt(r,o){if(Kt)return r==="compositionend"||!Ci&&xe(r,o)?(r=Xd(),so=Go=xi=null,Kt=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return z&&o.locale!=="ko"?null:o.data;default:return null}}var hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rn(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!hn[r.type]:o==="textarea"}function co(r,o,c,p){io?oo?oo.push(p):oo=[p]:io=p,o=Sm(o,"onChange"),0<o.length&&(c=new tc("onChange","change",null,c,p),r.push({event:c,listeners:o}))}var Sn=null,Mi=null;function au(r){tT(r,0)}function Vh(r){var o=yi(r);if($d(o))return r}function SS(r,o){if(r==="change")return o}var TS=!1;if(Qr){var ty;if(Qr){var ay="oninput"in document;if(!ay){var CS=document.createElement("div");CS.setAttribute("oninput","return;"),ay=typeof CS.oninput=="function"}ty=ay}else ty=!1;TS=ty&&(!document.documentMode||9<document.documentMode)}function MS(){Sn&&(Sn.detachEvent("onpropertychange",RS),Mi=Sn=null)}function RS(r){if(r.propertyName==="value"&&Vh(Mi)){var o=[];co(o,Mi,r,Ar(r)),Th(au,o)}}function y_(r,o,c){r==="focusin"?(MS(),Sn=o,Mi=c,Sn.attachEvent("onpropertychange",RS)):r==="focusout"&&MS()}function b_(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Vh(Mi)}function v_(r,o){if(r==="click")return Vh(o)}function x_(r,o){if(r==="input"||r==="change")return Vh(o)}function w_(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var pr=typeof Object.is=="function"?Object.is:w_;function nu(r,o){if(pr(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var c=Object.keys(r),p=Object.keys(o);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var f=c[p];if(!ae.call(o,f)||!pr(r[f],o[f]))return!1}return!0}function AS(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function kS(r,o){var c=AS(r);r=0;for(var p;c;){if(c.nodeType===3){if(p=r+c.textContent.length,r<=o&&p>=o)return{node:c,offset:o-r};r=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=AS(c)}}function ES(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?ES(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function _S(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=Hs(r.document);o instanceof r.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)r=o.contentWindow;else break;o=Hs(r.document)}return o}function ny(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var S_=Qr&&"documentMode"in document&&11>=document.documentMode,cc=null,ry=null,ru=null,iy=!1;function jS(r,o,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;iy||cc==null||cc!==Hs(p)||(p=cc,"selectionStart"in p&&ny(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),ru&&nu(ru,p)||(ru=p,p=Sm(ry,"onSelect"),0<p.length&&(o=new tc("onSelect","select",null,o,c),r.push({event:o,listeners:p}),o.target=cc)))}function al(r,o){var c={};return c[r.toLowerCase()]=o.toLowerCase(),c["Webkit"+r]="webkit"+o,c["Moz"+r]="moz"+o,c}var dc={animationend:al("Animation","AnimationEnd"),animationiteration:al("Animation","AnimationIteration"),animationstart:al("Animation","AnimationStart"),transitionrun:al("Transition","TransitionRun"),transitionstart:al("Transition","TransitionStart"),transitioncancel:al("Transition","TransitionCancel"),transitionend:al("Transition","TransitionEnd")},oy={},IS={};Qr&&(IS=document.createElement("div").style,"AnimationEvent"in window||(delete dc.animationend.animation,delete dc.animationiteration.animation,delete dc.animationstart.animation),"TransitionEvent"in window||delete dc.transitionend.transition);function nl(r){if(oy[r])return oy[r];if(!dc[r])return r;var o=dc[r],c;for(c in o)if(o.hasOwnProperty(c)&&c in IS)return oy[r]=o[c];return r}var PS=nl("animationend"),WS=nl("animationiteration"),DS=nl("animationstart"),T_=nl("transitionrun"),C_=nl("transitionstart"),M_=nl("transitioncancel"),LS=nl("transitionend"),VS=new Map,sy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sy.push("scrollEnd");function Jr(r,o){VS.set(r,o),Xr(o,[r])}var US=new WeakMap;function _r(r,o){if(typeof r=="object"&&r!==null){var c=US.get(r);return c!==void 0?c:(o={value:r,source:o,stack:Jl(o)},US.set(r,o),o)}return{value:r,source:o,stack:Jl(o)}}var jr=[],uc=0,ly=0;function Uh(){for(var r=uc,o=ly=uc=0;o<r;){var c=jr[o];jr[o++]=null;var p=jr[o];jr[o++]=null;var f=jr[o];jr[o++]=null;var b=jr[o];if(jr[o++]=null,p!==null&&f!==null){var B=p.pending;B===null?f.next=f:(f.next=B.next,B.next=f),p.pending=f}b!==0&&OS(c,f,b)}}function Oh(r,o,c,p){jr[uc++]=r,jr[uc++]=o,jr[uc++]=c,jr[uc++]=p,ly|=p,r.lanes|=p,r=r.alternate,r!==null&&(r.lanes|=p)}function cy(r,o,c,p){return Oh(r,o,c,p),zh(r)}function pc(r,o){return Oh(r,null,null,o),zh(r)}function OS(r,o,c){r.lanes|=c;var p=r.alternate;p!==null&&(p.lanes|=c);for(var f=!1,b=r.return;b!==null;)b.childLanes|=c,p=b.alternate,p!==null&&(p.childLanes|=c),b.tag===22&&(r=b.stateNode,r===null||r._visibility&1||(f=!0)),r=b,b=b.return;return r.tag===3?(b=r.stateNode,f&&o!==null&&(f=31-Ue(c),r=b.hiddenUpdates,p=r[f],p===null?r[f]=[o]:p.push(o),o.lane=c|536870912),b):null}function zh(r){if(50<Eu)throw Eu=0,gb=null,Error(n(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var hc={};function R_(r,o,c,p){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(r,o,c,p){return new R_(r,o,c,p)}function dy(r){return r=r.prototype,!(!r||!r.isReactComponent)}function uo(r,o){var c=r.alternate;return c===null?(c=hr(r.tag,o,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=o,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&65011712,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,o=r.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c.refCleanup=r.refCleanup,c}function zS(r,o){r.flags&=65011714;var c=r.alternate;return c===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=c.childLanes,r.lanes=c.lanes,r.child=c.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=c.memoizedProps,r.memoizedState=c.memoizedState,r.updateQueue=c.updateQueue,r.type=c.type,o=c.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function Bh(r,o,c,p,f,b){var B=0;if(p=r,typeof r=="function")dy(r)&&(B=1);else if(typeof r=="string")B=kj(r,c,ye.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case _:return r=hr(31,c,o,f),r.elementType=_,r.lanes=b,r;case C:return rl(c.children,f,b,o);case j:B=8,f|=24;break;case E:return r=hr(12,c,o,f|2),r.elementType=E,r.lanes=b,r;case I:return r=hr(13,c,o,f),r.elementType=I,r.lanes=b,r;case N:return r=hr(19,c,o,f),r.elementType=N,r.lanes=b,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case M:case W:B=10;break e;case L:B=9;break e;case R:B=11;break e;case V:B=14;break e;case A:B=16,p=null;break e}B=29,c=Error(n(130,r===null?"null":typeof r,"")),p=null}return o=hr(B,c,o,f),o.elementType=r,o.type=p,o.lanes=b,o}function rl(r,o,c,p){return r=hr(7,r,p,o),r.lanes=c,r}function uy(r,o,c){return r=hr(6,r,null,o),r.lanes=c,r}function py(r,o,c){return o=hr(4,r.children!==null?r.children:[],r.key,o),o.lanes=c,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var mc=[],gc=0,Nh=null,Fh=0,Ir=[],Pr=0,il=null,po=1,ho="";function ol(r,o){mc[gc++]=Fh,mc[gc++]=Nh,Nh=r,Fh=o}function BS(r,o,c){Ir[Pr++]=po,Ir[Pr++]=ho,Ir[Pr++]=il,il=r;var p=po;r=ho;var f=32-Ue(p)-1;p&=~(1<<f),c+=1;var b=32-Ue(o)+f;if(30<b){var B=f-f%5;b=(p&(1<<B)-1).toString(32),p>>=B,f-=B,po=1<<32-Ue(o)+f|c<<f|p,ho=b+r}else po=1<<b|c<<f|p,ho=r}function hy(r){r.return!==null&&(ol(r,1),BS(r,1,0))}function my(r){for(;r===Nh;)Nh=mc[--gc],mc[gc]=null,Fh=mc[--gc],mc[gc]=null;for(;r===il;)il=Ir[--Pr],Ir[Pr]=null,ho=Ir[--Pr],Ir[Pr]=null,po=Ir[--Pr],Ir[Pr]=null}var qn=null,La=null,na=!1,sl=null,Ri=!1,gy=Error(n(519));function ll(r){var o=Error(n(418,""));throw su(_r(o,r)),gy}function NS(r){var o=r.stateNode,c=r.type,p=r.memoizedProps;switch(o[pt]=r,o[ht]=p,c){case"dialog":Nt("cancel",o),Nt("close",o);break;case"iframe":case"object":case"embed":Nt("load",o);break;case"video":case"audio":for(c=0;c<ju.length;c++)Nt(ju[c],o);break;case"source":Nt("error",o);break;case"img":case"image":case"link":Nt("error",o),Nt("load",o);break;case"details":Nt("toggle",o);break;case"input":Nt("invalid",o),$s(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0),Zl(o);break;case"select":Nt("invalid",o);break;case"textarea":Nt("invalid",o),Gs(o,p.value,p.defaultValue,p.children),Zl(o)}c=p.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||p.suppressHydrationWarning===!0||iT(o.textContent,c)?(p.popover!=null&&(Nt("beforetoggle",o),Nt("toggle",o)),p.onScroll!=null&&Nt("scroll",o),p.onScrollEnd!=null&&Nt("scrollend",o),p.onClick!=null&&(o.onclick=Tm),o=!0):o=!1,o||ll(r)}function FS(r){for(qn=r.return;qn;)switch(qn.tag){case 5:case 13:Ri=!1;return;case 27:case 3:Ri=!0;return;default:qn=qn.return}}function iu(r){if(r!==qn)return!1;if(!na)return FS(r),na=!0,!1;var o=r.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=r.type,c=!(c!=="form"&&c!=="button")||jb(r.type,r.memoizedProps)),c=!c),c&&La&&ll(r),FS(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8)if(c=r.data,c==="/$"){if(o===0){La=ei(r.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++;r=r.nextSibling}La=null}}else o===27?(o=La,cs(r.type)?(r=Db,Db=null,La=r):La=o):La=qn?ei(r.stateNode.nextSibling):null;return!0}function ou(){La=qn=null,na=!1}function qS(){var r=sl;return r!==null&&(nr===null?nr=r:nr.push.apply(nr,r),sl=null),r}function su(r){sl===null?sl=[r]:sl.push(r)}var fy=te(null),cl=null,mo=null;function Ko(r,o,c){ne(fy,o._currentValue),o._currentValue=c}function go(r){r._currentValue=fy.current,Q(fy)}function yy(r,o,c){for(;r!==null;){var p=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),r===c)break;r=r.return}}function by(r,o,c,p){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var b=f.dependencies;if(b!==null){var B=f.child;b=b.firstContext;e:for(;b!==null;){var q=b;b=f;for(var Z=0;Z<o.length;Z++)if(q.context===o[Z]){b.lanes|=c,q=b.alternate,q!==null&&(q.lanes|=c),yy(b.return,c,r),p||(B=null);break e}b=q.next}}else if(f.tag===18){if(B=f.return,B===null)throw Error(n(341));B.lanes|=c,b=B.alternate,b!==null&&(b.lanes|=c),yy(B,c,r),B=null}else B=f.child;if(B!==null)B.return=f;else for(B=f;B!==null;){if(B===r){B=null;break}if(f=B.sibling,f!==null){f.return=B.return,B=f;break}B=B.return}f=B}}function lu(r,o,c,p){r=null;for(var f=o,b=!1;f!==null;){if(!b){if((f.flags&524288)!==0)b=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var B=f.alternate;if(B===null)throw Error(n(387));if(B=B.memoizedProps,B!==null){var q=f.type;pr(f.pendingProps.value,B.value)||(r!==null?r.push(q):r=[q])}}else if(f===_e.current){if(B=f.alternate,B===null)throw Error(n(387));B.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(Vu):r=[Vu])}f=f.return}r!==null&&by(o,r,c,p),o.flags|=262144}function qh(r){for(r=r.firstContext;r!==null;){if(!pr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function dl(r){cl=r,mo=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Pn(r){return HS(cl,r)}function Hh(r,o){return cl===null&&dl(r),HS(r,o)}function HS(r,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},mo===null){if(r===null)throw Error(n(308));mo=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else mo=mo.next=o;return c}var A_=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(c,p){r.push(p)}};this.abort=function(){o.aborted=!0,r.forEach(function(c){return c()})}},k_=t.unstable_scheduleCallback,E_=t.unstable_NormalPriority,on={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vy(){return{controller:new A_,data:new Map,refCount:0}}function cu(r){r.refCount--,r.refCount===0&&k_(E_,function(){r.controller.abort()})}var du=null,xy=0,fc=0,yc=null;function __(r,o){if(du===null){var c=du=[];xy=0,fc=Sb(),yc={status:"pending",value:void 0,then:function(p){c.push(p)}}}return xy++,o.then($S,$S),o}function $S(){if(--xy===0&&du!==null){yc!==null&&(yc.status="fulfilled");var r=du;du=null,fc=0,yc=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function j_(r,o){var c=[],p={status:"pending",value:null,reason:null,then:function(f){c.push(f)}};return r.then(function(){p.status="fulfilled",p.value=o;for(var f=0;f<c.length;f++)(0,c[f])(o)},function(f){for(p.status="rejected",p.reason=f,f=0;f<c.length;f++)(0,c[f])(void 0)}),p}var GS=$.S;$.S=function(r,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&__(r,o),GS!==null&&GS(r,o)};var ul=te(null);function wy(){var r=ul.current;return r!==null?r:wa.pooledCache}function $h(r,o){o===null?ne(ul,ul.current):ne(ul,o.pool)}function KS(){var r=wy();return r===null?null:{parent:on._currentValue,pool:r}}var uu=Error(n(460)),YS=Error(n(474)),Gh=Error(n(542)),Sy={then:function(){}};function XS(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Kh(){}function QS(r,o,c){switch(c=r[c],c===void 0?r.push(o):c!==o&&(o.then(Kh,Kh),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,ZS(r),r;default:if(typeof o.status=="string")o.then(Kh,Kh);else{if(r=wa,r!==null&&100<r.shellSuspendCounter)throw Error(n(482));r=o,r.status="pending",r.then(function(p){if(o.status==="pending"){var f=o;f.status="fulfilled",f.value=p}},function(p){if(o.status==="pending"){var f=o;f.status="rejected",f.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,ZS(r),r}throw pu=o,uu}}var pu=null;function JS(){if(pu===null)throw Error(n(459));var r=pu;return pu=null,r}function ZS(r){if(r===uu||r===Gh)throw Error(n(483))}var Yo=!1;function Ty(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cy(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Xo(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Qo(r,o,c){var p=r.updateQueue;if(p===null)return null;if(p=p.shared,(da&2)!==0){var f=p.pending;return f===null?o.next=o:(o.next=f.next,f.next=o),p.pending=o,o=zh(r),OS(r,null,c),o}return Oh(r,p,o,c),zh(r)}function hu(r,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var p=o.lanes;p&=r.pendingLanes,c|=p,o.lanes=c,Dt(r,c)}}function My(r,o){var c=r.updateQueue,p=r.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var f=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var B={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};b===null?f=b=B:b=b.next=B,c=c.next}while(c!==null);b===null?f=b=o:b=b.next=o}else f=b=o;c={baseState:p.baseState,firstBaseUpdate:f,lastBaseUpdate:b,shared:p.shared,callbacks:p.callbacks},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=o:r.next=o,c.lastBaseUpdate=o}var Ry=!1;function mu(){if(Ry){var r=yc;if(r!==null)throw r}}function gu(r,o,c,p){Ry=!1;var f=r.updateQueue;Yo=!1;var b=f.firstBaseUpdate,B=f.lastBaseUpdate,q=f.shared.pending;if(q!==null){f.shared.pending=null;var Z=q,he=Z.next;Z.next=null,B===null?b=he:B.next=he,B=Z;var Re=r.alternate;Re!==null&&(Re=Re.updateQueue,q=Re.lastBaseUpdate,q!==B&&(q===null?Re.firstBaseUpdate=he:q.next=he,Re.lastBaseUpdate=Z))}if(b!==null){var Ie=f.baseState;B=0,Re=he=Z=null,q=b;do{var me=q.lane&-536870913,fe=me!==q.lane;if(fe?(Xt&me)===me:(p&me)===me){me!==0&&me===fc&&(Ry=!0),Re!==null&&(Re=Re.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});e:{var kt=r,Tt=q;me=o;var fa=c;switch(Tt.tag){case 1:if(kt=Tt.payload,typeof kt=="function"){Ie=kt.call(fa,Ie,me);break e}Ie=kt;break e;case 3:kt.flags=kt.flags&-65537|128;case 0:if(kt=Tt.payload,me=typeof kt=="function"?kt.call(fa,Ie,me):kt,me==null)break e;Ie=y({},Ie,me);break e;case 2:Yo=!0}}me=q.callback,me!==null&&(r.flags|=64,fe&&(r.flags|=8192),fe=f.callbacks,fe===null?f.callbacks=[me]:fe.push(me))}else fe={lane:me,tag:q.tag,payload:q.payload,callback:q.callback,next:null},Re===null?(he=Re=fe,Z=Ie):Re=Re.next=fe,B|=me;if(q=q.next,q===null){if(q=f.shared.pending,q===null)break;fe=q,q=fe.next,fe.next=null,f.lastBaseUpdate=fe,f.shared.pending=null}}while(!0);Re===null&&(Z=Ie),f.baseState=Z,f.firstBaseUpdate=he,f.lastBaseUpdate=Re,b===null&&(f.shared.lanes=0),is|=B,r.lanes=B,r.memoizedState=Ie}}function e0(r,o){if(typeof r!="function")throw Error(n(191,r));r.call(o)}function t0(r,o){var c=r.callbacks;if(c!==null)for(r.callbacks=null,r=0;r<c.length;r++)e0(c[r],o)}var bc=te(null),Yh=te(0);function a0(r,o){r=So,ne(Yh,r),ne(bc,o),So=r|o.baseLanes}function Ay(){ne(Yh,So),ne(bc,bc.current)}function ky(){So=Yh.current,Q(bc),Q(Yh)}var Jo=0,Ot=null,ma=null,Ja=null,Xh=!1,vc=!1,pl=!1,Qh=0,fu=0,xc=null,I_=0;function qa(){throw Error(n(321))}function Ey(r,o){if(o===null)return!1;for(var c=0;c<o.length&&c<r.length;c++)if(!pr(r[c],o[c]))return!1;return!0}function _y(r,o,c,p,f,b){return Jo=b,Ot=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,$.H=r===null||r.memoizedState===null?O0:z0,pl=!1,b=c(p,f),pl=!1,vc&&(b=r0(o,c,p,f)),n0(r),b}function n0(r){$.H=nm;var o=ma!==null&&ma.next!==null;if(Jo=0,Ja=ma=Ot=null,Xh=!1,fu=0,xc=null,o)throw Error(n(300));r===null||mn||(r=r.dependencies,r!==null&&qh(r)&&(mn=!0))}function r0(r,o,c,p){Ot=r;var f=0;do{if(vc&&(xc=null),fu=0,vc=!1,25<=f)throw Error(n(301));if(f+=1,Ja=ma=null,r.updateQueue!=null){var b=r.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}$.H=O_,b=o(c,p)}while(vc);return b}function P_(){var r=$.H,o=r.useState()[0];return o=typeof o.then=="function"?yu(o):o,r=r.useState()[0],(ma!==null?ma.memoizedState:null)!==r&&(Ot.flags|=1024),o}function jy(){var r=Qh!==0;return Qh=0,r}function Iy(r,o,c){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~c}function Py(r){if(Xh){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Xh=!1}Jo=0,Ja=ma=Ot=null,vc=!1,fu=Qh=0,xc=null}function tr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ja===null?Ot.memoizedState=Ja=r:Ja=Ja.next=r,Ja}function Za(){if(ma===null){var r=Ot.alternate;r=r!==null?r.memoizedState:null}else r=ma.next;var o=Ja===null?Ot.memoizedState:Ja.next;if(o!==null)Ja=o,ma=r;else{if(r===null)throw Ot.alternate===null?Error(n(467)):Error(n(310));ma=r,r={memoizedState:ma.memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},Ja===null?Ot.memoizedState=Ja=r:Ja=Ja.next=r}return Ja}function Wy(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yu(r){var o=fu;return fu+=1,xc===null&&(xc=[]),r=QS(xc,r,o),o=Ot,(Ja===null?o.memoizedState:Ja.next)===null&&(o=o.alternate,$.H=o===null||o.memoizedState===null?O0:z0),r}function Jh(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return yu(r);if(r.$$typeof===W)return Pn(r)}throw Error(n(438,String(r)))}function Dy(r){var o=null,c=Ot.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var p=Ot.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(f){return f.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=Wy(),Ot.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(r),p=0;p<r;p++)c[p]=S;return o.index++,c}function fo(r,o){return typeof o=="function"?o(r):o}function Zh(r){var o=Za();return Ly(o,ma,r)}function Ly(r,o,c){var p=r.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=c;var f=r.baseQueue,b=p.pending;if(b!==null){if(f!==null){var B=f.next;f.next=b.next,b.next=B}o.baseQueue=f=b,p.pending=null}if(b=r.baseState,f===null)r.memoizedState=b;else{o=f.next;var q=B=null,Z=null,he=o,Re=!1;do{var Ie=he.lane&-536870913;if(Ie!==he.lane?(Xt&Ie)===Ie:(Jo&Ie)===Ie){var me=he.revertLane;if(me===0)Z!==null&&(Z=Z.next={lane:0,revertLane:0,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),Ie===fc&&(Re=!0);else if((Jo&me)===me){he=he.next,me===fc&&(Re=!0);continue}else Ie={lane:0,revertLane:he.revertLane,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},Z===null?(q=Z=Ie,B=b):Z=Z.next=Ie,Ot.lanes|=me,is|=me;Ie=he.action,pl&&c(b,Ie),b=he.hasEagerState?he.eagerState:c(b,Ie)}else me={lane:Ie,revertLane:he.revertLane,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},Z===null?(q=Z=me,B=b):Z=Z.next=me,Ot.lanes|=Ie,is|=Ie;he=he.next}while(he!==null&&he!==o);if(Z===null?B=b:Z.next=q,!pr(b,r.memoizedState)&&(mn=!0,Re&&(c=yc,c!==null)))throw c;r.memoizedState=b,r.baseState=B,r.baseQueue=Z,p.lastRenderedState=b}return f===null&&(p.lanes=0),[r.memoizedState,p.dispatch]}function Vy(r){var o=Za(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=r;var p=c.dispatch,f=c.pending,b=o.memoizedState;if(f!==null){c.pending=null;var B=f=f.next;do b=r(b,B.action),B=B.next;while(B!==f);pr(b,o.memoizedState)||(mn=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),c.lastRenderedState=b}return[b,p]}function i0(r,o,c){var p=Ot,f=Za(),b=na;if(b){if(c===void 0)throw Error(n(407));c=c()}else c=o();var B=!pr((ma||f).memoizedState,c);B&&(f.memoizedState=c,mn=!0),f=f.queue;var q=l0.bind(null,p,f,r);if(bu(2048,8,q,[r]),f.getSnapshot!==o||B||Ja!==null&&Ja.memoizedState.tag&1){if(p.flags|=2048,wc(9,em(),s0.bind(null,p,f,c,o),null),wa===null)throw Error(n(349));b||(Jo&124)!==0||o0(p,o,c)}return c}function o0(r,o,c){r.flags|=16384,r={getSnapshot:o,value:c},o=Ot.updateQueue,o===null?(o=Wy(),Ot.updateQueue=o,o.stores=[r]):(c=o.stores,c===null?o.stores=[r]:c.push(r))}function s0(r,o,c,p){o.value=c,o.getSnapshot=p,c0(o)&&d0(r)}function l0(r,o,c){return c(function(){c0(o)&&d0(r)})}function c0(r){var o=r.getSnapshot;r=r.value;try{var c=o();return!pr(r,c)}catch{return!0}}function d0(r){var o=pc(r,2);o!==null&&br(o,r,2)}function Uy(r){var o=tr();if(typeof r=="function"){var c=r;if(r=c(),pl){Ge(!0);try{c()}finally{Ge(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:r},o}function u0(r,o,c,p){return r.baseState=c,Ly(r,ma,typeof p=="function"?p:fo)}function W_(r,o,c,p,f){if(am(r))throw Error(n(485));if(r=o.action,r!==null){var b={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(B){b.listeners.push(B)}};$.T!==null?c(!0):b.isTransition=!1,p(b),c=o.pending,c===null?(b.next=o.pending=b,p0(o,b)):(b.next=c.next,o.pending=c.next=b)}}function p0(r,o){var c=o.action,p=o.payload,f=r.state;if(o.isTransition){var b=$.T,B={};$.T=B;try{var q=c(f,p),Z=$.S;Z!==null&&Z(B,q),h0(r,o,q)}catch(he){Oy(r,o,he)}finally{$.T=b}}else try{b=c(f,p),h0(r,o,b)}catch(he){Oy(r,o,he)}}function h0(r,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(p){m0(r,o,p)},function(p){return Oy(r,o,p)}):m0(r,o,c)}function m0(r,o,c){o.status="fulfilled",o.value=c,g0(o),r.state=c,o=r.pending,o!==null&&(c=o.next,c===o?r.pending=null:(c=c.next,o.next=c,p0(r,c)))}function Oy(r,o,c){var p=r.pending;if(r.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=c,g0(o),o=o.next;while(o!==p)}r.action=null}function g0(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function f0(r,o){return o}function y0(r,o){if(na){var c=wa.formState;if(c!==null){e:{var p=Ot;if(na){if(La){t:{for(var f=La,b=Ri;f.nodeType!==8;){if(!b){f=null;break t}if(f=ei(f.nextSibling),f===null){f=null;break t}}b=f.data,f=b==="F!"||b==="F"?f:null}if(f){La=ei(f.nextSibling),p=f.data==="F!";break e}}ll(p)}p=!1}p&&(o=c[0])}}return c=tr(),c.memoizedState=c.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f0,lastRenderedState:o},c.queue=p,c=L0.bind(null,Ot,p),p.dispatch=c,p=Uy(!1),b=qy.bind(null,Ot,!1,p.queue),p=tr(),f={state:o,dispatch:null,action:r,pending:null},p.queue=f,c=W_.bind(null,Ot,f,b,c),f.dispatch=c,p.memoizedState=r,[o,c,!1]}function b0(r){var o=Za();return v0(o,ma,r)}function v0(r,o,c){if(o=Ly(r,o,f0)[0],r=Zh(fo)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=yu(o)}catch(B){throw B===uu?Gh:B}else p=o;o=Za();var f=o.queue,b=f.dispatch;return c!==o.memoizedState&&(Ot.flags|=2048,wc(9,em(),D_.bind(null,f,c),null)),[p,b,r]}function D_(r,o){r.action=o}function x0(r){var o=Za(),c=ma;if(c!==null)return v0(o,c,r);Za(),o=o.memoizedState,c=Za();var p=c.queue.dispatch;return c.memoizedState=r,[o,p,!1]}function wc(r,o,c,p){return r={tag:r,create:c,deps:p,inst:o,next:null},o=Ot.updateQueue,o===null&&(o=Wy(),Ot.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=r.next=r:(p=c.next,c.next=r,r.next=p,o.lastEffect=r),r}function em(){return{destroy:void 0,resource:void 0}}function w0(){return Za().memoizedState}function tm(r,o,c,p){var f=tr();p=p===void 0?null:p,Ot.flags|=r,f.memoizedState=wc(1|o,em(),c,p)}function bu(r,o,c,p){var f=Za();p=p===void 0?null:p;var b=f.memoizedState.inst;ma!==null&&p!==null&&Ey(p,ma.memoizedState.deps)?f.memoizedState=wc(o,b,c,p):(Ot.flags|=r,f.memoizedState=wc(1|o,b,c,p))}function S0(r,o){tm(8390656,8,r,o)}function T0(r,o){bu(2048,8,r,o)}function C0(r,o){return bu(4,2,r,o)}function M0(r,o){return bu(4,4,r,o)}function R0(r,o){if(typeof o=="function"){r=r();var c=o(r);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function A0(r,o,c){c=c!=null?c.concat([r]):null,bu(4,4,R0.bind(null,o,r),c)}function zy(){}function k0(r,o){var c=Za();o=o===void 0?null:o;var p=c.memoizedState;return o!==null&&Ey(o,p[1])?p[0]:(c.memoizedState=[r,o],r)}function E0(r,o){var c=Za();o=o===void 0?null:o;var p=c.memoizedState;if(o!==null&&Ey(o,p[1]))return p[0];if(p=r(),pl){Ge(!0);try{r()}finally{Ge(!1)}}return c.memoizedState=[p,o],p}function By(r,o,c){return c===void 0||(Jo&1073741824)!==0?r.memoizedState=o:(r.memoizedState=c,r=I1(),Ot.lanes|=r,is|=r,c)}function _0(r,o,c,p){return pr(c,o)?c:bc.current!==null?(r=By(r,c,p),pr(r,o)||(mn=!0),r):(Jo&42)===0?(mn=!0,r.memoizedState=c):(r=I1(),Ot.lanes|=r,is|=r,o)}function j0(r,o,c,p,f){var b=X.p;X.p=b!==0&&8>b?b:8;var B=$.T,q={};$.T=q,qy(r,!1,o,c);try{var Z=f(),he=$.S;if(he!==null&&he(q,Z),Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var Re=j_(Z,p);vu(r,o,Re,yr(r))}else vu(r,o,p,yr(r))}catch(Ie){vu(r,o,{then:function(){},status:"rejected",reason:Ie},yr())}finally{X.p=b,$.T=B}}function L_(){}function Ny(r,o,c,p){if(r.tag!==5)throw Error(n(476));var f=I0(r).queue;j0(r,f,o,le,c===null?L_:function(){return P0(r),c(p)})}function I0(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:le},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:c},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function P0(r){var o=I0(r).next.queue;vu(r,o,{},yr())}function Fy(){return Pn(Vu)}function W0(){return Za().memoizedState}function D0(){return Za().memoizedState}function V_(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var c=yr();r=Xo(c);var p=Qo(o,r,c);p!==null&&(br(p,o,c),hu(p,o,c)),o={cache:vy()},r.payload=o;return}o=o.return}}function U_(r,o,c){var p=yr();c={lane:p,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},am(r)?V0(o,c):(c=cy(r,o,c,p),c!==null&&(br(c,r,p),U0(c,o,p)))}function L0(r,o,c){var p=yr();vu(r,o,c,p)}function vu(r,o,c,p){var f={lane:p,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(am(r))V0(o,f);else{var b=r.alternate;if(r.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var B=o.lastRenderedState,q=b(B,c);if(f.hasEagerState=!0,f.eagerState=q,pr(q,B))return Oh(r,o,f,0),wa===null&&Uh(),!1}catch{}finally{}if(c=cy(r,o,f,p),c!==null)return br(c,r,p),U0(c,o,p),!0}return!1}function qy(r,o,c,p){if(p={lane:2,revertLane:Sb(),action:p,hasEagerState:!1,eagerState:null,next:null},am(r)){if(o)throw Error(n(479))}else o=cy(r,c,p,2),o!==null&&br(o,r,2)}function am(r){var o=r.alternate;return r===Ot||o!==null&&o===Ot}function V0(r,o){vc=Xh=!0;var c=r.pending;c===null?o.next=o:(o.next=c.next,c.next=o),r.pending=o}function U0(r,o,c){if((c&4194048)!==0){var p=o.lanes;p&=r.pendingLanes,c|=p,o.lanes=c,Dt(r,c)}}var nm={readContext:Pn,use:Jh,useCallback:qa,useContext:qa,useEffect:qa,useImperativeHandle:qa,useLayoutEffect:qa,useInsertionEffect:qa,useMemo:qa,useReducer:qa,useRef:qa,useState:qa,useDebugValue:qa,useDeferredValue:qa,useTransition:qa,useSyncExternalStore:qa,useId:qa,useHostTransitionStatus:qa,useFormState:qa,useActionState:qa,useOptimistic:qa,useMemoCache:qa,useCacheRefresh:qa},O0={readContext:Pn,use:Jh,useCallback:function(r,o){return tr().memoizedState=[r,o===void 0?null:o],r},useContext:Pn,useEffect:S0,useImperativeHandle:function(r,o,c){c=c!=null?c.concat([r]):null,tm(4194308,4,R0.bind(null,o,r),c)},useLayoutEffect:function(r,o){return tm(4194308,4,r,o)},useInsertionEffect:function(r,o){tm(4,2,r,o)},useMemo:function(r,o){var c=tr();o=o===void 0?null:o;var p=r();if(pl){Ge(!0);try{r()}finally{Ge(!1)}}return c.memoizedState=[p,o],p},useReducer:function(r,o,c){var p=tr();if(c!==void 0){var f=c(o);if(pl){Ge(!0);try{c(o)}finally{Ge(!1)}}}else f=o;return p.memoizedState=p.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},p.queue=r,r=r.dispatch=U_.bind(null,Ot,r),[p.memoizedState,r]},useRef:function(r){var o=tr();return r={current:r},o.memoizedState=r},useState:function(r){r=Uy(r);var o=r.queue,c=L0.bind(null,Ot,o);return o.dispatch=c,[r.memoizedState,c]},useDebugValue:zy,useDeferredValue:function(r,o){var c=tr();return By(c,r,o)},useTransition:function(){var r=Uy(!1);return r=j0.bind(null,Ot,r.queue,!0,!1),tr().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,c){var p=Ot,f=tr();if(na){if(c===void 0)throw Error(n(407));c=c()}else{if(c=o(),wa===null)throw Error(n(349));(Xt&124)!==0||o0(p,o,c)}f.memoizedState=c;var b={value:c,getSnapshot:o};return f.queue=b,S0(l0.bind(null,p,b,r),[r]),p.flags|=2048,wc(9,em(),s0.bind(null,p,b,c,o),null),c},useId:function(){var r=tr(),o=wa.identifierPrefix;if(na){var c=ho,p=po;c=(p&~(1<<32-Ue(p)-1)).toString(32)+c,o=""+o+"R"+c,c=Qh++,0<c&&(o+="H"+c.toString(32)),o+=""}else c=I_++,o=""+o+"r"+c.toString(32)+"";return r.memoizedState=o},useHostTransitionStatus:Fy,useFormState:y0,useActionState:y0,useOptimistic:function(r){var o=tr();o.memoizedState=o.baseState=r;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=qy.bind(null,Ot,!0,c),c.dispatch=o,[r,o]},useMemoCache:Dy,useCacheRefresh:function(){return tr().memoizedState=V_.bind(null,Ot)}},z0={readContext:Pn,use:Jh,useCallback:k0,useContext:Pn,useEffect:T0,useImperativeHandle:A0,useInsertionEffect:C0,useLayoutEffect:M0,useMemo:E0,useReducer:Zh,useRef:w0,useState:function(){return Zh(fo)},useDebugValue:zy,useDeferredValue:function(r,o){var c=Za();return _0(c,ma.memoizedState,r,o)},useTransition:function(){var r=Zh(fo)[0],o=Za().memoizedState;return[typeof r=="boolean"?r:yu(r),o]},useSyncExternalStore:i0,useId:W0,useHostTransitionStatus:Fy,useFormState:b0,useActionState:b0,useOptimistic:function(r,o){var c=Za();return u0(c,ma,r,o)},useMemoCache:Dy,useCacheRefresh:D0},O_={readContext:Pn,use:Jh,useCallback:k0,useContext:Pn,useEffect:T0,useImperativeHandle:A0,useInsertionEffect:C0,useLayoutEffect:M0,useMemo:E0,useReducer:Vy,useRef:w0,useState:function(){return Vy(fo)},useDebugValue:zy,useDeferredValue:function(r,o){var c=Za();return ma===null?By(c,r,o):_0(c,ma.memoizedState,r,o)},useTransition:function(){var r=Vy(fo)[0],o=Za().memoizedState;return[typeof r=="boolean"?r:yu(r),o]},useSyncExternalStore:i0,useId:W0,useHostTransitionStatus:Fy,useFormState:x0,useActionState:x0,useOptimistic:function(r,o){var c=Za();return ma!==null?u0(c,ma,r,o):(c.baseState=r,[r,c.queue.dispatch])},useMemoCache:Dy,useCacheRefresh:D0},Sc=null,xu=0;function rm(r){var o=xu;return xu+=1,Sc===null&&(Sc=[]),QS(Sc,r,o)}function wu(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function im(r,o){throw o.$$typeof===v?Error(n(525)):(r=Object.prototype.toString.call(o),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function B0(r){var o=r._init;return o(r._payload)}function N0(r){function o(ce,re){if(r){var ue=ce.deletions;ue===null?(ce.deletions=[re],ce.flags|=16):ue.push(re)}}function c(ce,re){if(!r)return null;for(;re!==null;)o(ce,re),re=re.sibling;return null}function p(ce){for(var re=new Map;ce!==null;)ce.key!==null?re.set(ce.key,ce):re.set(ce.index,ce),ce=ce.sibling;return re}function f(ce,re){return ce=uo(ce,re),ce.index=0,ce.sibling=null,ce}function b(ce,re,ue){return ce.index=ue,r?(ue=ce.alternate,ue!==null?(ue=ue.index,ue<re?(ce.flags|=67108866,re):ue):(ce.flags|=67108866,re)):(ce.flags|=1048576,re)}function B(ce){return r&&ce.alternate===null&&(ce.flags|=67108866),ce}function q(ce,re,ue,ke){return re===null||re.tag!==6?(re=uy(ue,ce.mode,ke),re.return=ce,re):(re=f(re,ue),re.return=ce,re)}function Z(ce,re,ue,ke){var st=ue.type;return st===C?Re(ce,re,ue.props.children,ke,ue.key):re!==null&&(re.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===A&&B0(st)===re.type)?(re=f(re,ue.props),wu(re,ue),re.return=ce,re):(re=Bh(ue.type,ue.key,ue.props,null,ce.mode,ke),wu(re,ue),re.return=ce,re)}function he(ce,re,ue,ke){return re===null||re.tag!==4||re.stateNode.containerInfo!==ue.containerInfo||re.stateNode.implementation!==ue.implementation?(re=py(ue,ce.mode,ke),re.return=ce,re):(re=f(re,ue.children||[]),re.return=ce,re)}function Re(ce,re,ue,ke,st){return re===null||re.tag!==7?(re=rl(ue,ce.mode,ke,st),re.return=ce,re):(re=f(re,ue),re.return=ce,re)}function Ie(ce,re,ue){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return re=uy(""+re,ce.mode,ue),re.return=ce,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case x:return ue=Bh(re.type,re.key,re.props,null,ce.mode,ue),wu(ue,re),ue.return=ce,ue;case T:return re=py(re,ce.mode,ue),re.return=ce,re;case A:var ke=re._init;return re=ke(re._payload),Ie(ce,re,ue)}if(J(re)||U(re))return re=rl(re,ce.mode,ue,null),re.return=ce,re;if(typeof re.then=="function")return Ie(ce,rm(re),ue);if(re.$$typeof===W)return Ie(ce,Hh(ce,re),ue);im(ce,re)}return null}function me(ce,re,ue,ke){var st=re!==null?re.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return st!==null?null:q(ce,re,""+ue,ke);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case x:return ue.key===st?Z(ce,re,ue,ke):null;case T:return ue.key===st?he(ce,re,ue,ke):null;case A:return st=ue._init,ue=st(ue._payload),me(ce,re,ue,ke)}if(J(ue)||U(ue))return st!==null?null:Re(ce,re,ue,ke,null);if(typeof ue.then=="function")return me(ce,re,rm(ue),ke);if(ue.$$typeof===W)return me(ce,re,Hh(ce,ue),ke);im(ce,ue)}return null}function fe(ce,re,ue,ke,st){if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return ce=ce.get(ue)||null,q(re,ce,""+ke,st);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case x:return ce=ce.get(ke.key===null?ue:ke.key)||null,Z(re,ce,ke,st);case T:return ce=ce.get(ke.key===null?ue:ke.key)||null,he(re,ce,ke,st);case A:var zt=ke._init;return ke=zt(ke._payload),fe(ce,re,ue,ke,st)}if(J(ke)||U(ke))return ce=ce.get(ue)||null,Re(re,ce,ke,st,null);if(typeof ke.then=="function")return fe(ce,re,ue,rm(ke),st);if(ke.$$typeof===W)return fe(ce,re,ue,Hh(re,ke),st);im(re,ke)}return null}function kt(ce,re,ue,ke){for(var st=null,zt=null,gt=re,Ct=re=0,fn=null;gt!==null&&Ct<ue.length;Ct++){gt.index>Ct?(fn=gt,gt=null):fn=gt.sibling;var ea=me(ce,gt,ue[Ct],ke);if(ea===null){gt===null&&(gt=fn);break}r&&gt&&ea.alternate===null&&o(ce,gt),re=b(ea,re,Ct),zt===null?st=ea:zt.sibling=ea,zt=ea,gt=fn}if(Ct===ue.length)return c(ce,gt),na&&ol(ce,Ct),st;if(gt===null){for(;Ct<ue.length;Ct++)gt=Ie(ce,ue[Ct],ke),gt!==null&&(re=b(gt,re,Ct),zt===null?st=gt:zt.sibling=gt,zt=gt);return na&&ol(ce,Ct),st}for(gt=p(gt);Ct<ue.length;Ct++)fn=fe(gt,ce,Ct,ue[Ct],ke),fn!==null&&(r&&fn.alternate!==null&&gt.delete(fn.key===null?Ct:fn.key),re=b(fn,re,Ct),zt===null?st=fn:zt.sibling=fn,zt=fn);return r&&gt.forEach(function(ms){return o(ce,ms)}),na&&ol(ce,Ct),st}function Tt(ce,re,ue,ke){if(ue==null)throw Error(n(151));for(var st=null,zt=null,gt=re,Ct=re=0,fn=null,ea=ue.next();gt!==null&&!ea.done;Ct++,ea=ue.next()){gt.index>Ct?(fn=gt,gt=null):fn=gt.sibling;var ms=me(ce,gt,ea.value,ke);if(ms===null){gt===null&&(gt=fn);break}r&&gt&&ms.alternate===null&&o(ce,gt),re=b(ms,re,Ct),zt===null?st=ms:zt.sibling=ms,zt=ms,gt=fn}if(ea.done)return c(ce,gt),na&&ol(ce,Ct),st;if(gt===null){for(;!ea.done;Ct++,ea=ue.next())ea=Ie(ce,ea.value,ke),ea!==null&&(re=b(ea,re,Ct),zt===null?st=ea:zt.sibling=ea,zt=ea);return na&&ol(ce,Ct),st}for(gt=p(gt);!ea.done;Ct++,ea=ue.next())ea=fe(gt,ce,Ct,ea.value,ke),ea!==null&&(r&&ea.alternate!==null&&gt.delete(ea.key===null?Ct:ea.key),re=b(ea,re,Ct),zt===null?st=ea:zt.sibling=ea,zt=ea);return r&&gt.forEach(function(zj){return o(ce,zj)}),na&&ol(ce,Ct),st}function fa(ce,re,ue,ke){if(typeof ue=="object"&&ue!==null&&ue.type===C&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case x:e:{for(var st=ue.key;re!==null;){if(re.key===st){if(st=ue.type,st===C){if(re.tag===7){c(ce,re.sibling),ke=f(re,ue.props.children),ke.return=ce,ce=ke;break e}}else if(re.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===A&&B0(st)===re.type){c(ce,re.sibling),ke=f(re,ue.props),wu(ke,ue),ke.return=ce,ce=ke;break e}c(ce,re);break}else o(ce,re);re=re.sibling}ue.type===C?(ke=rl(ue.props.children,ce.mode,ke,ue.key),ke.return=ce,ce=ke):(ke=Bh(ue.type,ue.key,ue.props,null,ce.mode,ke),wu(ke,ue),ke.return=ce,ce=ke)}return B(ce);case T:e:{for(st=ue.key;re!==null;){if(re.key===st)if(re.tag===4&&re.stateNode.containerInfo===ue.containerInfo&&re.stateNode.implementation===ue.implementation){c(ce,re.sibling),ke=f(re,ue.children||[]),ke.return=ce,ce=ke;break e}else{c(ce,re);break}else o(ce,re);re=re.sibling}ke=py(ue,ce.mode,ke),ke.return=ce,ce=ke}return B(ce);case A:return st=ue._init,ue=st(ue._payload),fa(ce,re,ue,ke)}if(J(ue))return kt(ce,re,ue,ke);if(U(ue)){if(st=U(ue),typeof st!="function")throw Error(n(150));return ue=st.call(ue),Tt(ce,re,ue,ke)}if(typeof ue.then=="function")return fa(ce,re,rm(ue),ke);if(ue.$$typeof===W)return fa(ce,re,Hh(ce,ue),ke);im(ce,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint"?(ue=""+ue,re!==null&&re.tag===6?(c(ce,re.sibling),ke=f(re,ue),ke.return=ce,ce=ke):(c(ce,re),ke=uy(ue,ce.mode,ke),ke.return=ce,ce=ke),B(ce)):c(ce,re)}return function(ce,re,ue,ke){try{xu=0;var st=fa(ce,re,ue,ke);return Sc=null,st}catch(gt){if(gt===uu||gt===Gh)throw gt;var zt=hr(29,gt,null,ce.mode);return zt.lanes=ke,zt.return=ce,zt}finally{}}}var Tc=N0(!0),F0=N0(!1),Wr=te(null),Ai=null;function Zo(r){var o=r.alternate;ne(sn,sn.current&1),ne(Wr,r),Ai===null&&(o===null||bc.current!==null||o.memoizedState!==null)&&(Ai=r)}function q0(r){if(r.tag===22){if(ne(sn,sn.current),ne(Wr,r),Ai===null){var o=r.alternate;o!==null&&o.memoizedState!==null&&(Ai=r)}}else es()}function es(){ne(sn,sn.current),ne(Wr,Wr.current)}function yo(r){Q(Wr),Ai===r&&(Ai=null),Q(sn)}var sn=te(0);function om(r){for(var o=r;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||Wb(c)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Hy(r,o,c,p){o=r.memoizedState,c=c(p,o),c=c==null?o:y({},o,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var $y={enqueueSetState:function(r,o,c){r=r._reactInternals;var p=yr(),f=Xo(p);f.payload=o,c!=null&&(f.callback=c),o=Qo(r,f,p),o!==null&&(br(o,r,p),hu(o,r,p))},enqueueReplaceState:function(r,o,c){r=r._reactInternals;var p=yr(),f=Xo(p);f.tag=1,f.payload=o,c!=null&&(f.callback=c),o=Qo(r,f,p),o!==null&&(br(o,r,p),hu(o,r,p))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var c=yr(),p=Xo(c);p.tag=2,o!=null&&(p.callback=o),o=Qo(r,p,c),o!==null&&(br(o,r,c),hu(o,r,c))}};function H0(r,o,c,p,f,b,B){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(p,b,B):o.prototype&&o.prototype.isPureReactComponent?!nu(c,p)||!nu(f,b):!0}function $0(r,o,c,p){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,p),o.state!==r&&$y.enqueueReplaceState(o,o.state,null)}function hl(r,o){var c=o;if("ref"in o){c={};for(var p in o)p!=="ref"&&(c[p]=o[p])}if(r=r.defaultProps){c===o&&(c=y({},c));for(var f in r)c[f]===void 0&&(c[f]=r[f])}return c}var sm=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function G0(r){sm(r)}function K0(r){console.error(r)}function Y0(r){sm(r)}function lm(r,o){try{var c=r.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function X0(r,o,c){try{var p=r.onCaughtError;p(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Gy(r,o,c){return c=Xo(c),c.tag=3,c.payload={element:null},c.callback=function(){lm(r,o)},c}function Q0(r){return r=Xo(r),r.tag=3,r}function J0(r,o,c,p){var f=c.type.getDerivedStateFromError;if(typeof f=="function"){var b=p.value;r.payload=function(){return f(b)},r.callback=function(){X0(o,c,p)}}var B=c.stateNode;B!==null&&typeof B.componentDidCatch=="function"&&(r.callback=function(){X0(o,c,p),typeof f!="function"&&(os===null?os=new Set([this]):os.add(this));var q=p.stack;this.componentDidCatch(p.value,{componentStack:q!==null?q:""})})}function z_(r,o,c,p,f){if(c.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=c.alternate,o!==null&&lu(o,c,f,!0),c=Wr.current,c!==null){switch(c.tag){case 13:return Ai===null?yb():c.alternate===null&&Va===0&&(Va=3),c.flags&=-257,c.flags|=65536,c.lanes=f,p===Sy?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([p]):o.add(p),vb(r,p,f)),!1;case 22:return c.flags|=65536,p===Sy?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([p]):c.add(p)),vb(r,p,f)),!1}throw Error(n(435,c.tag))}return vb(r,p,f),yb(),!1}if(na)return o=Wr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=f,p!==gy&&(r=Error(n(422),{cause:p}),su(_r(r,c)))):(p!==gy&&(o=Error(n(423),{cause:p}),su(_r(o,c))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,p=_r(p,c),f=Gy(r.stateNode,p,f),My(r,f),Va!==4&&(Va=2)),!1;var b=Error(n(520),{cause:p});if(b=_r(b,c),ku===null?ku=[b]:ku.push(b),Va!==4&&(Va=2),o===null)return!0;p=_r(p,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,r=f&-f,c.lanes|=r,r=Gy(c.stateNode,p,r),My(c,r),!1;case 1:if(o=c.type,b=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(os===null||!os.has(b))))return c.flags|=65536,f&=-f,c.lanes|=f,f=Q0(f),J0(f,r,c,p),My(c,f),!1}c=c.return}while(c!==null);return!1}var Z0=Error(n(461)),mn=!1;function Tn(r,o,c,p){o.child=r===null?F0(o,null,c,p):Tc(o,r.child,c,p)}function e1(r,o,c,p,f){c=c.render;var b=o.ref;if("ref"in p){var B={};for(var q in p)q!=="ref"&&(B[q]=p[q])}else B=p;return dl(o),p=_y(r,o,c,B,b,f),q=jy(),r!==null&&!mn?(Iy(r,o,f),bo(r,o,f)):(na&&q&&hy(o),o.flags|=1,Tn(r,o,p,f),o.child)}function t1(r,o,c,p,f){if(r===null){var b=c.type;return typeof b=="function"&&!dy(b)&&b.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=b,a1(r,o,b,p,f)):(r=Bh(c.type,null,p,o,o.mode,f),r.ref=o.ref,r.return=o,o.child=r)}if(b=r.child,!tb(r,f)){var B=b.memoizedProps;if(c=c.compare,c=c!==null?c:nu,c(B,p)&&r.ref===o.ref)return bo(r,o,f)}return o.flags|=1,r=uo(b,p),r.ref=o.ref,r.return=o,o.child=r}function a1(r,o,c,p,f){if(r!==null){var b=r.memoizedProps;if(nu(b,p)&&r.ref===o.ref)if(mn=!1,o.pendingProps=p=b,tb(r,f))(r.flags&131072)!==0&&(mn=!0);else return o.lanes=r.lanes,bo(r,o,f)}return Ky(r,o,c,p,f)}function n1(r,o,c){var p=o.pendingProps,f=p.children,b=r!==null?r.memoizedState:null;if(p.mode==="hidden"){if((o.flags&128)!==0){if(p=b!==null?b.baseLanes|c:c,r!==null){for(f=o.child=r.child,b=0;f!==null;)b=b|f.lanes|f.childLanes,f=f.sibling;o.childLanes=b&~p}else o.childLanes=0,o.child=null;return r1(r,o,p,c)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&$h(o,b!==null?b.cachePool:null),b!==null?a0(o,b):Ay(),q0(o);else return o.lanes=o.childLanes=536870912,r1(r,o,b!==null?b.baseLanes|c:c,c)}else b!==null?($h(o,b.cachePool),a0(o,b),es(),o.memoizedState=null):(r!==null&&$h(o,null),Ay(),es());return Tn(r,o,f,c),o.child}function r1(r,o,c,p){var f=wy();return f=f===null?null:{parent:on._currentValue,pool:f},o.memoizedState={baseLanes:c,cachePool:f},r!==null&&$h(o,null),Ay(),q0(o),r!==null&&lu(r,o,p,!0),null}function cm(r,o){var c=o.ref;if(c===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(n(284));(r===null||r.ref!==c)&&(o.flags|=4194816)}}function Ky(r,o,c,p,f){return dl(o),c=_y(r,o,c,p,void 0,f),p=jy(),r!==null&&!mn?(Iy(r,o,f),bo(r,o,f)):(na&&p&&hy(o),o.flags|=1,Tn(r,o,c,f),o.child)}function i1(r,o,c,p,f,b){return dl(o),o.updateQueue=null,c=r0(o,p,c,f),n0(r),p=jy(),r!==null&&!mn?(Iy(r,o,b),bo(r,o,b)):(na&&p&&hy(o),o.flags|=1,Tn(r,o,c,b),o.child)}function o1(r,o,c,p,f){if(dl(o),o.stateNode===null){var b=hc,B=c.contextType;typeof B=="object"&&B!==null&&(b=Pn(B)),b=new c(p,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=$y,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=p,b.state=o.memoizedState,b.refs={},Ty(o),B=c.contextType,b.context=typeof B=="object"&&B!==null?Pn(B):hc,b.state=o.memoizedState,B=c.getDerivedStateFromProps,typeof B=="function"&&(Hy(o,c,B,p),b.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(B=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),B!==b.state&&$y.enqueueReplaceState(b,b.state,null),gu(o,p,b,f),mu(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(r===null){b=o.stateNode;var q=o.memoizedProps,Z=hl(c,q);b.props=Z;var he=b.context,Re=c.contextType;B=hc,typeof Re=="object"&&Re!==null&&(B=Pn(Re));var Ie=c.getDerivedStateFromProps;Re=typeof Ie=="function"||typeof b.getSnapshotBeforeUpdate=="function",q=o.pendingProps!==q,Re||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(q||he!==B)&&$0(o,b,p,B),Yo=!1;var me=o.memoizedState;b.state=me,gu(o,p,b,f),mu(),he=o.memoizedState,q||me!==he||Yo?(typeof Ie=="function"&&(Hy(o,c,Ie,p),he=o.memoizedState),(Z=Yo||H0(o,c,Z,p,me,he,B))?(Re||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=he),b.props=p,b.state=he,b.context=B,p=Z):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{b=o.stateNode,Cy(r,o),B=o.memoizedProps,Re=hl(c,B),b.props=Re,Ie=o.pendingProps,me=b.context,he=c.contextType,Z=hc,typeof he=="object"&&he!==null&&(Z=Pn(he)),q=c.getDerivedStateFromProps,(he=typeof q=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(B!==Ie||me!==Z)&&$0(o,b,p,Z),Yo=!1,me=o.memoizedState,b.state=me,gu(o,p,b,f),mu();var fe=o.memoizedState;B!==Ie||me!==fe||Yo||r!==null&&r.dependencies!==null&&qh(r.dependencies)?(typeof q=="function"&&(Hy(o,c,q,p),fe=o.memoizedState),(Re=Yo||H0(o,c,Re,p,me,fe,Z)||r!==null&&r.dependencies!==null&&qh(r.dependencies))?(he||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(p,fe,Z),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(p,fe,Z)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||B===r.memoizedProps&&me===r.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||B===r.memoizedProps&&me===r.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=fe),b.props=p,b.state=fe,b.context=Z,p=Re):(typeof b.componentDidUpdate!="function"||B===r.memoizedProps&&me===r.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||B===r.memoizedProps&&me===r.memoizedState||(o.flags|=1024),p=!1)}return b=p,cm(r,o),p=(o.flags&128)!==0,b||p?(b=o.stateNode,c=p&&typeof c.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,r!==null&&p?(o.child=Tc(o,r.child,null,f),o.child=Tc(o,null,c,f)):Tn(r,o,c,f),o.memoizedState=b.state,r=o.child):r=bo(r,o,f),r}function s1(r,o,c,p){return ou(),o.flags|=256,Tn(r,o,c,p),o.child}var Yy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xy(r){return{baseLanes:r,cachePool:KS()}}function Qy(r,o,c){return r=r!==null?r.childLanes&~c:0,o&&(r|=Dr),r}function l1(r,o,c){var p=o.pendingProps,f=!1,b=(o.flags&128)!==0,B;if((B=b)||(B=r!==null&&r.memoizedState===null?!1:(sn.current&2)!==0),B&&(f=!0,o.flags&=-129),B=(o.flags&32)!==0,o.flags&=-33,r===null){if(na){if(f?Zo(o):es(),na){var q=La,Z;if(Z=q){e:{for(Z=q,q=Ri;Z.nodeType!==8;){if(!q){q=null;break e}if(Z=ei(Z.nextSibling),Z===null){q=null;break e}}q=Z}q!==null?(o.memoizedState={dehydrated:q,treeContext:il!==null?{id:po,overflow:ho}:null,retryLane:536870912,hydrationErrors:null},Z=hr(18,null,null,0),Z.stateNode=q,Z.return=o,o.child=Z,qn=o,La=null,Z=!0):Z=!1}Z||ll(o)}if(q=o.memoizedState,q!==null&&(q=q.dehydrated,q!==null))return Wb(q)?o.lanes=32:o.lanes=536870912,null;yo(o)}return q=p.children,p=p.fallback,f?(es(),f=o.mode,q=dm({mode:"hidden",children:q},f),p=rl(p,f,c,null),q.return=o,p.return=o,q.sibling=p,o.child=q,f=o.child,f.memoizedState=Xy(c),f.childLanes=Qy(r,B,c),o.memoizedState=Yy,p):(Zo(o),Jy(o,q))}if(Z=r.memoizedState,Z!==null&&(q=Z.dehydrated,q!==null)){if(b)o.flags&256?(Zo(o),o.flags&=-257,o=Zy(r,o,c)):o.memoizedState!==null?(es(),o.child=r.child,o.flags|=128,o=null):(es(),f=p.fallback,q=o.mode,p=dm({mode:"visible",children:p.children},q),f=rl(f,q,c,null),f.flags|=2,p.return=o,f.return=o,p.sibling=f,o.child=p,Tc(o,r.child,null,c),p=o.child,p.memoizedState=Xy(c),p.childLanes=Qy(r,B,c),o.memoizedState=Yy,o=f);else if(Zo(o),Wb(q)){if(B=q.nextSibling&&q.nextSibling.dataset,B)var he=B.dgst;B=he,p=Error(n(419)),p.stack="",p.digest=B,su({value:p,source:null,stack:null}),o=Zy(r,o,c)}else if(mn||lu(r,o,c,!1),B=(c&r.childLanes)!==0,mn||B){if(B=wa,B!==null&&(p=c&-c,p=(p&42)!==0?1:Jt(p),p=(p&(B.suspendedLanes|c))!==0?0:p,p!==0&&p!==Z.retryLane))throw Z.retryLane=p,pc(r,p),br(B,r,p),Z0;q.data==="$?"||yb(),o=Zy(r,o,c)}else q.data==="$?"?(o.flags|=192,o.child=r.child,o=null):(r=Z.treeContext,La=ei(q.nextSibling),qn=o,na=!0,sl=null,Ri=!1,r!==null&&(Ir[Pr++]=po,Ir[Pr++]=ho,Ir[Pr++]=il,po=r.id,ho=r.overflow,il=o),o=Jy(o,p.children),o.flags|=4096);return o}return f?(es(),f=p.fallback,q=o.mode,Z=r.child,he=Z.sibling,p=uo(Z,{mode:"hidden",children:p.children}),p.subtreeFlags=Z.subtreeFlags&65011712,he!==null?f=uo(he,f):(f=rl(f,q,c,null),f.flags|=2),f.return=o,p.return=o,p.sibling=f,o.child=p,p=f,f=o.child,q=r.child.memoizedState,q===null?q=Xy(c):(Z=q.cachePool,Z!==null?(he=on._currentValue,Z=Z.parent!==he?{parent:he,pool:he}:Z):Z=KS(),q={baseLanes:q.baseLanes|c,cachePool:Z}),f.memoizedState=q,f.childLanes=Qy(r,B,c),o.memoizedState=Yy,p):(Zo(o),c=r.child,r=c.sibling,c=uo(c,{mode:"visible",children:p.children}),c.return=o,c.sibling=null,r!==null&&(B=o.deletions,B===null?(o.deletions=[r],o.flags|=16):B.push(r)),o.child=c,o.memoizedState=null,c)}function Jy(r,o){return o=dm({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function dm(r,o){return r=hr(22,r,null,o),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Zy(r,o,c){return Tc(o,r.child,null,c),r=Jy(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function c1(r,o,c){r.lanes|=o;var p=r.alternate;p!==null&&(p.lanes|=o),yy(r.return,o,c)}function eb(r,o,c,p,f){var b=r.memoizedState;b===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:f}:(b.isBackwards=o,b.rendering=null,b.renderingStartTime=0,b.last=p,b.tail=c,b.tailMode=f)}function d1(r,o,c){var p=o.pendingProps,f=p.revealOrder,b=p.tail;if(Tn(r,o,p.children,c),p=sn.current,(p&2)!==0)p=p&1|2,o.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&c1(r,c,o);else if(r.tag===19)c1(r,c,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}p&=1}switch(ne(sn,p),f){case"forwards":for(c=o.child,f=null;c!==null;)r=c.alternate,r!==null&&om(r)===null&&(f=c),c=c.sibling;c=f,c===null?(f=o.child,o.child=null):(f=c.sibling,c.sibling=null),eb(o,!1,f,c,b);break;case"backwards":for(c=null,f=o.child,o.child=null;f!==null;){if(r=f.alternate,r!==null&&om(r)===null){o.child=f;break}r=f.sibling,f.sibling=c,c=f,f=r}eb(o,!0,c,null,b);break;case"together":eb(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function bo(r,o,c){if(r!==null&&(o.dependencies=r.dependencies),is|=o.lanes,(c&o.childLanes)===0)if(r!==null){if(lu(r,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(n(153));if(o.child!==null){for(r=o.child,c=uo(r,r.pendingProps),o.child=c,c.return=o;r.sibling!==null;)r=r.sibling,c=c.sibling=uo(r,r.pendingProps),c.return=o;c.sibling=null}return o.child}function tb(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&qh(r)))}function B_(r,o,c){switch(o.tag){case 3:Me(o,o.stateNode.containerInfo),Ko(o,on,r.memoizedState.cache),ou();break;case 27:case 5:qe(o);break;case 4:Me(o,o.stateNode.containerInfo);break;case 10:Ko(o,o.type,o.memoizedProps.value);break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(Zo(o),o.flags|=128,null):(c&o.child.childLanes)!==0?l1(r,o,c):(Zo(o),r=bo(r,o,c),r!==null?r.sibling:null);Zo(o);break;case 19:var f=(r.flags&128)!==0;if(p=(c&o.childLanes)!==0,p||(lu(r,o,c,!1),p=(c&o.childLanes)!==0),f){if(p)return d1(r,o,c);o.flags|=128}if(f=o.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ne(sn,sn.current),p)break;return null;case 22:case 23:return o.lanes=0,n1(r,o,c);case 24:Ko(o,on,r.memoizedState.cache)}return bo(r,o,c)}function u1(r,o,c){if(r!==null)if(r.memoizedProps!==o.pendingProps)mn=!0;else{if(!tb(r,c)&&(o.flags&128)===0)return mn=!1,B_(r,o,c);mn=(r.flags&131072)!==0}else mn=!1,na&&(o.flags&1048576)!==0&&BS(o,Fh,o.index);switch(o.lanes=0,o.tag){case 16:e:{r=o.pendingProps;var p=o.elementType,f=p._init;if(p=f(p._payload),o.type=p,typeof p=="function")dy(p)?(r=hl(p,r),o.tag=1,o=o1(null,o,p,r,c)):(o.tag=0,o=Ky(null,o,p,r,c));else{if(p!=null){if(f=p.$$typeof,f===R){o.tag=11,o=e1(null,o,p,r,c);break e}else if(f===V){o.tag=14,o=t1(null,o,p,r,c);break e}}throw o=K(p)||p,Error(n(306,o,""))}}return o;case 0:return Ky(r,o,o.type,o.pendingProps,c);case 1:return p=o.type,f=hl(p,o.pendingProps),o1(r,o,p,f,c);case 3:e:{if(Me(o,o.stateNode.containerInfo),r===null)throw Error(n(387));p=o.pendingProps;var b=o.memoizedState;f=b.element,Cy(r,o),gu(o,p,null,c);var B=o.memoizedState;if(p=B.cache,Ko(o,on,p),p!==b.cache&&by(o,[on],c,!0),mu(),p=B.element,b.isDehydrated)if(b={element:p,isDehydrated:!1,cache:B.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=s1(r,o,p,c);break e}else if(p!==f){f=_r(Error(n(424)),o),su(f),o=s1(r,o,p,c);break e}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(La=ei(r.firstChild),qn=o,na=!0,sl=null,Ri=!0,c=F0(o,null,p,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(ou(),p===f){o=bo(r,o,c);break e}Tn(r,o,p,c)}o=o.child}return o;case 26:return cm(r,o),r===null?(c=gT(o.type,null,o.pendingProps,null))?o.memoizedState=c:na||(c=o.type,r=o.pendingProps,p=Cm(oe.current).createElement(c),p[pt]=o,p[ht]=r,Mn(p,c,r),Fa(p),o.stateNode=p):o.memoizedState=gT(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return qe(o),r===null&&na&&(p=o.stateNode=pT(o.type,o.pendingProps,oe.current),qn=o,Ri=!0,f=La,cs(o.type)?(Db=f,La=ei(p.firstChild)):La=f),Tn(r,o,o.pendingProps.children,c),cm(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&na&&((f=p=La)&&(p=gj(p,o.type,o.pendingProps,Ri),p!==null?(o.stateNode=p,qn=o,La=ei(p.firstChild),Ri=!1,f=!0):f=!1),f||ll(o)),qe(o),f=o.type,b=o.pendingProps,B=r!==null?r.memoizedProps:null,p=b.children,jb(f,b)?p=null:B!==null&&jb(f,B)&&(o.flags|=32),o.memoizedState!==null&&(f=_y(r,o,P_,null,null,c),Vu._currentValue=f),cm(r,o),Tn(r,o,p,c),o.child;case 6:return r===null&&na&&((r=c=La)&&(c=fj(c,o.pendingProps,Ri),c!==null?(o.stateNode=c,qn=o,La=null,r=!0):r=!1),r||ll(o)),null;case 13:return l1(r,o,c);case 4:return Me(o,o.stateNode.containerInfo),p=o.pendingProps,r===null?o.child=Tc(o,null,p,c):Tn(r,o,p,c),o.child;case 11:return e1(r,o,o.type,o.pendingProps,c);case 7:return Tn(r,o,o.pendingProps,c),o.child;case 8:return Tn(r,o,o.pendingProps.children,c),o.child;case 12:return Tn(r,o,o.pendingProps.children,c),o.child;case 10:return p=o.pendingProps,Ko(o,o.type,p.value),Tn(r,o,p.children,c),o.child;case 9:return f=o.type._context,p=o.pendingProps.children,dl(o),f=Pn(f),p=p(f),o.flags|=1,Tn(r,o,p,c),o.child;case 14:return t1(r,o,o.type,o.pendingProps,c);case 15:return a1(r,o,o.type,o.pendingProps,c);case 19:return d1(r,o,c);case 31:return p=o.pendingProps,c=o.mode,p={mode:p.mode,children:p.children},r===null?(c=dm(p,c),c.ref=o.ref,o.child=c,c.return=o,o=c):(c=uo(r.child,p),c.ref=o.ref,o.child=c,c.return=o,o=c),o;case 22:return n1(r,o,c);case 24:return dl(o),p=Pn(on),r===null?(f=wy(),f===null&&(f=wa,b=vy(),f.pooledCache=b,b.refCount++,b!==null&&(f.pooledCacheLanes|=c),f=b),o.memoizedState={parent:p,cache:f},Ty(o),Ko(o,on,f)):((r.lanes&c)!==0&&(Cy(r,o),gu(o,null,null,c),mu()),f=r.memoizedState,b=o.memoizedState,f.parent!==p?(f={parent:p,cache:p},o.memoizedState=f,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=f),Ko(o,on,p)):(p=b.cache,Ko(o,on,p),p!==f.cache&&by(o,[on],c,!0))),Tn(r,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function vo(r){r.flags|=4}function p1(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!xT(o)){if(o=Wr.current,o!==null&&((Xt&4194048)===Xt?Ai!==null:(Xt&62914560)!==Xt&&(Xt&536870912)===0||o!==Ai))throw pu=Sy,YS;r.flags|=8192}}function um(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?Ne():536870912,r.lanes|=o,Ac|=o)}function Su(r,o){if(!na)switch(r.tailMode){case"hidden":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:p.sibling=null}}function Ia(r){var o=r.alternate!==null&&r.alternate.child===r.child,c=0,p=0;if(o)for(var f=r.child;f!==null;)c|=f.lanes|f.childLanes,p|=f.subtreeFlags&65011712,p|=f.flags&65011712,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)c|=f.lanes|f.childLanes,p|=f.subtreeFlags,p|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=p,r.childLanes=c,o}function N_(r,o,c){var p=o.pendingProps;switch(my(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ia(o),null;case 1:return Ia(o),null;case 3:return c=o.stateNode,p=null,r!==null&&(p=r.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),go(on),Oe(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(iu(o)?vo(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,qS())),Ia(o),null;case 26:return c=o.memoizedState,r===null?(vo(o),c!==null?(Ia(o),p1(o,c)):(Ia(o),o.flags&=-16777217)):c?c!==r.memoizedState?(vo(o),Ia(o),p1(o,c)):(Ia(o),o.flags&=-16777217):(r.memoizedProps!==p&&vo(o),Ia(o),o.flags&=-16777217),null;case 27:Qe(o),c=oe.current;var f=o.type;if(r!==null&&o.stateNode!=null)r.memoizedProps!==p&&vo(o);else{if(!p){if(o.stateNode===null)throw Error(n(166));return Ia(o),null}r=ye.current,iu(o)?NS(o):(r=pT(f,p,c),o.stateNode=r,vo(o))}return Ia(o),null;case 5:if(Qe(o),c=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==p&&vo(o);else{if(!p){if(o.stateNode===null)throw Error(n(166));return Ia(o),null}if(r=ye.current,iu(o))NS(o);else{switch(f=Cm(oe.current),r){case 1:r=f.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:r=f.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":r=f.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":r=f.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":r=f.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof p.is=="string"?f.createElement("select",{is:p.is}):f.createElement("select"),p.multiple?r.multiple=!0:p.size&&(r.size=p.size);break;default:r=typeof p.is=="string"?f.createElement(c,{is:p.is}):f.createElement(c)}}r[pt]=o,r[ht]=p;e:for(f=o.child;f!==null;){if(f.tag===5||f.tag===6)r.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===o)break e;for(;f.sibling===null;){if(f.return===null||f.return===o)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}o.stateNode=r;e:switch(Mn(r,c,p),c){case"button":case"input":case"select":case"textarea":r=!!p.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&vo(o)}}return Ia(o),o.flags&=-16777217,null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==p&&vo(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(n(166));if(r=oe.current,iu(o)){if(r=o.stateNode,c=o.memoizedProps,p=null,f=qn,f!==null)switch(f.tag){case 27:case 5:p=f.memoizedProps}r[pt]=o,r=!!(r.nodeValue===c||p!==null&&p.suppressHydrationWarning===!0||iT(r.nodeValue,c)),r||ll(o)}else r=Cm(r).createTextNode(p),r[pt]=o,o.stateNode=r}return Ia(o),null;case 13:if(p=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=iu(o),p!==null&&p.dehydrated!==null){if(r===null){if(!f)throw Error(n(318));if(f=o.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));f[pt]=o}else ou(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ia(o),f=!1}else f=qS(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),f=!0;if(!f)return o.flags&256?(yo(o),o):(yo(o),null)}if(yo(o),(o.flags&128)!==0)return o.lanes=c,o;if(c=p!==null,r=r!==null&&r.memoizedState!==null,c){p=o.child,f=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(f=p.alternate.memoizedState.cachePool.pool);var b=null;p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(b=p.memoizedState.cachePool.pool),b!==f&&(p.flags|=2048)}return c!==r&&c&&(o.child.flags|=8192),um(o,o.updateQueue),Ia(o),null;case 4:return Oe(),r===null&&Rb(o.stateNode.containerInfo),Ia(o),null;case 10:return go(o.type),Ia(o),null;case 19:if(Q(sn),f=o.memoizedState,f===null)return Ia(o),null;if(p=(o.flags&128)!==0,b=f.rendering,b===null)if(p)Su(f,!1);else{if(Va!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(b=om(r),b!==null){for(o.flags|=128,Su(f,!1),r=b.updateQueue,o.updateQueue=r,um(o,r),o.subtreeFlags=0,r=c,c=o.child;c!==null;)zS(c,r),c=c.sibling;return ne(sn,sn.current&1|2),o.child}r=r.sibling}f.tail!==null&&ee()>mm&&(o.flags|=128,p=!0,Su(f,!1),o.lanes=4194304)}else{if(!p)if(r=om(b),r!==null){if(o.flags|=128,p=!0,r=r.updateQueue,o.updateQueue=r,um(o,r),Su(f,!0),f.tail===null&&f.tailMode==="hidden"&&!b.alternate&&!na)return Ia(o),null}else 2*ee()-f.renderingStartTime>mm&&c!==536870912&&(o.flags|=128,p=!0,Su(f,!1),o.lanes=4194304);f.isBackwards?(b.sibling=o.child,o.child=b):(r=f.last,r!==null?r.sibling=b:o.child=b,f.last=b)}return f.tail!==null?(o=f.tail,f.rendering=o,f.tail=o.sibling,f.renderingStartTime=ee(),o.sibling=null,r=sn.current,ne(sn,p?r&1|2:r&1),o):(Ia(o),null);case 22:case 23:return yo(o),ky(),p=o.memoizedState!==null,r!==null?r.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(c&536870912)!==0&&(o.flags&128)===0&&(Ia(o),o.subtreeFlags&6&&(o.flags|=8192)):Ia(o),c=o.updateQueue,c!==null&&um(o,c.retryQueue),c=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==c&&(o.flags|=2048),r!==null&&Q(ul),null;case 24:return c=null,r!==null&&(c=r.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),go(on),Ia(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function F_(r,o){switch(my(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return go(on),Oe(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return Qe(o),null;case 13:if(yo(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(n(340));ou()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return Q(sn),null;case 4:return Oe(),null;case 10:return go(o.type),null;case 22:case 23:return yo(o),ky(),r!==null&&Q(ul),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return go(on),null;case 25:return null;default:return null}}function h1(r,o){switch(my(o),o.tag){case 3:go(on),Oe();break;case 26:case 27:case 5:Qe(o);break;case 4:Oe();break;case 13:yo(o);break;case 19:Q(sn);break;case 10:go(o.type);break;case 22:case 23:yo(o),ky(),r!==null&&Q(ul);break;case 24:go(on)}}function Tu(r,o){try{var c=o.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var f=p.next;c=f;do{if((c.tag&r)===r){p=void 0;var b=c.create,B=c.inst;p=b(),B.destroy=p}c=c.next}while(c!==f)}}catch(q){ba(o,o.return,q)}}function ts(r,o,c){try{var p=o.updateQueue,f=p!==null?p.lastEffect:null;if(f!==null){var b=f.next;p=b;do{if((p.tag&r)===r){var B=p.inst,q=B.destroy;if(q!==void 0){B.destroy=void 0,f=o;var Z=c,he=q;try{he()}catch(Re){ba(f,Z,Re)}}}p=p.next}while(p!==b)}}catch(Re){ba(o,o.return,Re)}}function m1(r){var o=r.updateQueue;if(o!==null){var c=r.stateNode;try{t0(o,c)}catch(p){ba(r,r.return,p)}}}function g1(r,o,c){c.props=hl(r.type,r.memoizedProps),c.state=r.memoizedState;try{c.componentWillUnmount()}catch(p){ba(r,o,p)}}function Cu(r,o){try{var c=r.ref;if(c!==null){switch(r.tag){case 26:case 27:case 5:var p=r.stateNode;break;case 30:p=r.stateNode;break;default:p=r.stateNode}typeof c=="function"?r.refCleanup=c(p):c.current=p}}catch(f){ba(r,o,f)}}function ki(r,o){var c=r.ref,p=r.refCleanup;if(c!==null)if(typeof p=="function")try{p()}catch(f){ba(r,o,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(f){ba(r,o,f)}else c.current=null}function f1(r){var o=r.type,c=r.memoizedProps,p=r.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&p.focus();break e;case"img":c.src?p.src=c.src:c.srcSet&&(p.srcset=c.srcSet)}}catch(f){ba(r,r.return,f)}}function ab(r,o,c){try{var p=r.stateNode;dj(p,r.type,c,o),p[ht]=o}catch(f){ba(r,r.return,f)}}function y1(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&cs(r.type)||r.tag===4}function nb(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||y1(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&cs(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function rb(r,o,c){var p=r.tag;if(p===5||p===6)r=r.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(r,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(r),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Tm));else if(p!==4&&(p===27&&cs(r.type)&&(c=r.stateNode,o=null),r=r.child,r!==null))for(rb(r,o,c),r=r.sibling;r!==null;)rb(r,o,c),r=r.sibling}function pm(r,o,c){var p=r.tag;if(p===5||p===6)r=r.stateNode,o?c.insertBefore(r,o):c.appendChild(r);else if(p!==4&&(p===27&&cs(r.type)&&(c=r.stateNode),r=r.child,r!==null))for(pm(r,o,c),r=r.sibling;r!==null;)pm(r,o,c),r=r.sibling}function b1(r){var o=r.stateNode,c=r.memoizedProps;try{for(var p=r.type,f=o.attributes;f.length;)o.removeAttributeNode(f[0]);Mn(o,p,c),o[pt]=r,o[ht]=c}catch(b){ba(r,r.return,b)}}var xo=!1,Ha=!1,ib=!1,v1=typeof WeakSet=="function"?WeakSet:Set,gn=null;function q_(r,o){if(r=r.containerInfo,Eb=_m,r=_S(r),ny(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var f=p.anchorOffset,b=p.focusNode;p=p.focusOffset;try{c.nodeType,b.nodeType}catch{c=null;break e}var B=0,q=-1,Z=-1,he=0,Re=0,Ie=r,me=null;t:for(;;){for(var fe;Ie!==c||f!==0&&Ie.nodeType!==3||(q=B+f),Ie!==b||p!==0&&Ie.nodeType!==3||(Z=B+p),Ie.nodeType===3&&(B+=Ie.nodeValue.length),(fe=Ie.firstChild)!==null;)me=Ie,Ie=fe;for(;;){if(Ie===r)break t;if(me===c&&++he===f&&(q=B),me===b&&++Re===p&&(Z=B),(fe=Ie.nextSibling)!==null)break;Ie=me,me=Ie.parentNode}Ie=fe}c=q===-1||Z===-1?null:{start:q,end:Z}}else c=null}c=c||{start:0,end:0}}else c=null;for(_b={focusedElem:r,selectionRange:c},_m=!1,gn=o;gn!==null;)if(o=gn,r=o.child,(o.subtreeFlags&1024)!==0&&r!==null)r.return=o,gn=r;else for(;gn!==null;){switch(o=gn,b=o.alternate,r=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&b!==null){r=void 0,c=o,f=b.memoizedProps,b=b.memoizedState,p=c.stateNode;try{var kt=hl(c.type,f,c.elementType===c.type);r=p.getSnapshotBeforeUpdate(kt,b),p.__reactInternalSnapshotBeforeUpdate=r}catch(Tt){ba(c,c.return,Tt)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,c=r.nodeType,c===9)Pb(r);else if(c===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Pb(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(n(163))}if(r=o.sibling,r!==null){r.return=o.return,gn=r;break}gn=o.return}}function x1(r,o,c){var p=c.flags;switch(c.tag){case 0:case 11:case 15:as(r,c),p&4&&Tu(5,c);break;case 1:if(as(r,c),p&4)if(r=c.stateNode,o===null)try{r.componentDidMount()}catch(B){ba(c,c.return,B)}else{var f=hl(c.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(f,o,r.__reactInternalSnapshotBeforeUpdate)}catch(B){ba(c,c.return,B)}}p&64&&m1(c),p&512&&Cu(c,c.return);break;case 3:if(as(r,c),p&64&&(r=c.updateQueue,r!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{t0(r,o)}catch(B){ba(c,c.return,B)}}break;case 27:o===null&&p&4&&b1(c);case 26:case 5:as(r,c),o===null&&p&4&&f1(c),p&512&&Cu(c,c.return);break;case 12:as(r,c);break;case 13:as(r,c),p&4&&T1(r,c),p&64&&(r=c.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(c=Z_.bind(null,c),yj(r,c))));break;case 22:if(p=c.memoizedState!==null||xo,!p){o=o!==null&&o.memoizedState!==null||Ha,f=xo;var b=Ha;xo=p,(Ha=o)&&!b?ns(r,c,(c.subtreeFlags&8772)!==0):as(r,c),xo=f,Ha=b}break;case 30:break;default:as(r,c)}}function w1(r){var o=r.alternate;o!==null&&(r.alternate=null,w1(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&qo(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Ea=null,ar=!1;function wo(r,o,c){for(c=c.child;c!==null;)S1(r,o,c),c=c.sibling}function S1(r,o,c){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(mt,c)}catch{}switch(c.tag){case 26:Ha||ki(c,o),wo(r,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Ha||ki(c,o);var p=Ea,f=ar;cs(c.type)&&(Ea=c.stateNode,ar=!1),wo(r,o,c),Pu(c.stateNode),Ea=p,ar=f;break;case 5:Ha||ki(c,o);case 6:if(p=Ea,f=ar,Ea=null,wo(r,o,c),Ea=p,ar=f,Ea!==null)if(ar)try{(Ea.nodeType===9?Ea.body:Ea.nodeName==="HTML"?Ea.ownerDocument.body:Ea).removeChild(c.stateNode)}catch(b){ba(c,o,b)}else try{Ea.removeChild(c.stateNode)}catch(b){ba(c,o,b)}break;case 18:Ea!==null&&(ar?(r=Ea,dT(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,c.stateNode),Bu(r)):dT(Ea,c.stateNode));break;case 4:p=Ea,f=ar,Ea=c.stateNode.containerInfo,ar=!0,wo(r,o,c),Ea=p,ar=f;break;case 0:case 11:case 14:case 15:Ha||ts(2,c,o),Ha||ts(4,c,o),wo(r,o,c);break;case 1:Ha||(ki(c,o),p=c.stateNode,typeof p.componentWillUnmount=="function"&&g1(c,o,p)),wo(r,o,c);break;case 21:wo(r,o,c);break;case 22:Ha=(p=Ha)||c.memoizedState!==null,wo(r,o,c),Ha=p;break;default:wo(r,o,c)}}function T1(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Bu(r)}catch(c){ba(o,o.return,c)}}function H_(r){switch(r.tag){case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new v1),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new v1),o;default:throw Error(n(435,r.tag))}}function ob(r,o){var c=H_(r);o.forEach(function(p){var f=ej.bind(null,r,p);c.has(p)||(c.add(p),p.then(f,f))})}function mr(r,o){var c=o.deletions;if(c!==null)for(var p=0;p<c.length;p++){var f=c[p],b=r,B=o,q=B;e:for(;q!==null;){switch(q.tag){case 27:if(cs(q.type)){Ea=q.stateNode,ar=!1;break e}break;case 5:Ea=q.stateNode,ar=!1;break e;case 3:case 4:Ea=q.stateNode.containerInfo,ar=!0;break e}q=q.return}if(Ea===null)throw Error(n(160));S1(b,B,f),Ea=null,ar=!1,b=f.alternate,b!==null&&(b.return=null),f.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)C1(o,r),o=o.sibling}var Zr=null;function C1(r,o){var c=r.alternate,p=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:mr(o,r),gr(r),p&4&&(ts(3,r,r.return),Tu(3,r),ts(5,r,r.return));break;case 1:mr(o,r),gr(r),p&512&&(Ha||c===null||ki(c,c.return)),p&64&&xo&&(r=r.updateQueue,r!==null&&(p=r.callbacks,p!==null&&(c=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=c===null?p:c.concat(p))));break;case 26:var f=Zr;if(mr(o,r),gr(r),p&512&&(Ha||c===null||ki(c,c.return)),p&4){var b=c!==null?c.memoizedState:null;if(p=r.memoizedState,c===null)if(p===null)if(r.stateNode===null){e:{p=r.type,c=r.memoizedProps,f=f.ownerDocument||f;t:switch(p){case"title":b=f.getElementsByTagName("title")[0],(!b||b[Yr]||b[pt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=f.createElement(p),f.head.insertBefore(b,f.querySelector("head > title"))),Mn(b,p,c),b[pt]=r,Fa(b),p=b;break e;case"link":var B=bT("link","href",f).get(p+(c.href||""));if(B){for(var q=0;q<B.length;q++)if(b=B[q],b.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&b.getAttribute("rel")===(c.rel==null?null:c.rel)&&b.getAttribute("title")===(c.title==null?null:c.title)&&b.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){B.splice(q,1);break t}}b=f.createElement(p),Mn(b,p,c),f.head.appendChild(b);break;case"meta":if(B=bT("meta","content",f).get(p+(c.content||""))){for(q=0;q<B.length;q++)if(b=B[q],b.getAttribute("content")===(c.content==null?null:""+c.content)&&b.getAttribute("name")===(c.name==null?null:c.name)&&b.getAttribute("property")===(c.property==null?null:c.property)&&b.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&b.getAttribute("charset")===(c.charSet==null?null:c.charSet)){B.splice(q,1);break t}}b=f.createElement(p),Mn(b,p,c),f.head.appendChild(b);break;default:throw Error(n(468,p))}b[pt]=r,Fa(b),p=b}r.stateNode=p}else vT(f,r.type,r.stateNode);else r.stateNode=yT(f,p,r.memoizedProps);else b!==p?(b===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):b.count--,p===null?vT(f,r.type,r.stateNode):yT(f,p,r.memoizedProps)):p===null&&r.stateNode!==null&&ab(r,r.memoizedProps,c.memoizedProps)}break;case 27:mr(o,r),gr(r),p&512&&(Ha||c===null||ki(c,c.return)),c!==null&&p&4&&ab(r,r.memoizedProps,c.memoizedProps);break;case 5:if(mr(o,r),gr(r),p&512&&(Ha||c===null||ki(c,c.return)),r.flags&32){f=r.stateNode;try{Rr(f,"")}catch(fe){ba(r,r.return,fe)}}p&4&&r.stateNode!=null&&(f=r.memoizedProps,ab(r,f,c!==null?c.memoizedProps:f)),p&1024&&(ib=!0);break;case 6:if(mr(o,r),gr(r),p&4){if(r.stateNode===null)throw Error(n(162));p=r.memoizedProps,c=r.stateNode;try{c.nodeValue=p}catch(fe){ba(r,r.return,fe)}}break;case 3:if(Am=null,f=Zr,Zr=Mm(o.containerInfo),mr(o,r),Zr=f,gr(r),p&4&&c!==null&&c.memoizedState.isDehydrated)try{Bu(o.containerInfo)}catch(fe){ba(r,r.return,fe)}ib&&(ib=!1,M1(r));break;case 4:p=Zr,Zr=Mm(r.stateNode.containerInfo),mr(o,r),gr(r),Zr=p;break;case 12:mr(o,r),gr(r);break;case 13:mr(o,r),gr(r),r.child.flags&8192&&r.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(pb=ee()),p&4&&(p=r.updateQueue,p!==null&&(r.updateQueue=null,ob(r,p)));break;case 22:f=r.memoizedState!==null;var Z=c!==null&&c.memoizedState!==null,he=xo,Re=Ha;if(xo=he||f,Ha=Re||Z,mr(o,r),Ha=Re,xo=he,gr(r),p&8192)e:for(o=r.stateNode,o._visibility=f?o._visibility&-2:o._visibility|1,f&&(c===null||Z||xo||Ha||ml(r)),c=null,o=r;;){if(o.tag===5||o.tag===26){if(c===null){Z=c=o;try{if(b=Z.stateNode,f)B=b.style,typeof B.setProperty=="function"?B.setProperty("display","none","important"):B.display="none";else{q=Z.stateNode;var Ie=Z.memoizedProps.style,me=Ie!=null&&Ie.hasOwnProperty("display")?Ie.display:null;q.style.display=me==null||typeof me=="boolean"?"":(""+me).trim()}}catch(fe){ba(Z,Z.return,fe)}}}else if(o.tag===6){if(c===null){Z=o;try{Z.stateNode.nodeValue=f?"":Z.memoizedProps}catch(fe){ba(Z,Z.return,fe)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break e;for(;o.sibling===null;){if(o.return===null||o.return===r)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=r.updateQueue,p!==null&&(c=p.retryQueue,c!==null&&(p.retryQueue=null,ob(r,c))));break;case 19:mr(o,r),gr(r),p&4&&(p=r.updateQueue,p!==null&&(r.updateQueue=null,ob(r,p)));break;case 30:break;case 21:break;default:mr(o,r),gr(r)}}function gr(r){var o=r.flags;if(o&2){try{for(var c,p=r.return;p!==null;){if(y1(p)){c=p;break}p=p.return}if(c==null)throw Error(n(160));switch(c.tag){case 27:var f=c.stateNode,b=nb(r);pm(r,b,f);break;case 5:var B=c.stateNode;c.flags&32&&(Rr(B,""),c.flags&=-33);var q=nb(r);pm(r,q,B);break;case 3:case 4:var Z=c.stateNode.containerInfo,he=nb(r);rb(r,he,Z);break;default:throw Error(n(161))}}catch(Re){ba(r,r.return,Re)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function M1(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;M1(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function as(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)x1(r,o.alternate,o),o=o.sibling}function ml(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:ts(4,o,o.return),ml(o);break;case 1:ki(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&g1(o,o.return,c),ml(o);break;case 27:Pu(o.stateNode);case 26:case 5:ki(o,o.return),ml(o);break;case 22:o.memoizedState===null&&ml(o);break;case 30:ml(o);break;default:ml(o)}r=r.sibling}}function ns(r,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,f=r,b=o,B=b.flags;switch(b.tag){case 0:case 11:case 15:ns(f,b,c),Tu(4,b);break;case 1:if(ns(f,b,c),p=b,f=p.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(he){ba(p,p.return,he)}if(p=b,f=p.updateQueue,f!==null){var q=p.stateNode;try{var Z=f.shared.hiddenCallbacks;if(Z!==null)for(f.shared.hiddenCallbacks=null,f=0;f<Z.length;f++)e0(Z[f],q)}catch(he){ba(p,p.return,he)}}c&&B&64&&m1(b),Cu(b,b.return);break;case 27:b1(b);case 26:case 5:ns(f,b,c),c&&p===null&&B&4&&f1(b),Cu(b,b.return);break;case 12:ns(f,b,c);break;case 13:ns(f,b,c),c&&B&4&&T1(f,b);break;case 22:b.memoizedState===null&&ns(f,b,c),Cu(b,b.return);break;case 30:break;default:ns(f,b,c)}o=o.sibling}}function sb(r,o){var c=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==c&&(r!=null&&r.refCount++,c!=null&&cu(c))}function lb(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&cu(r))}function Ei(r,o,c,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)R1(r,o,c,p),o=o.sibling}function R1(r,o,c,p){var f=o.flags;switch(o.tag){case 0:case 11:case 15:Ei(r,o,c,p),f&2048&&Tu(9,o);break;case 1:Ei(r,o,c,p);break;case 3:Ei(r,o,c,p),f&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&cu(r)));break;case 12:if(f&2048){Ei(r,o,c,p),r=o.stateNode;try{var b=o.memoizedProps,B=b.id,q=b.onPostCommit;typeof q=="function"&&q(B,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(Z){ba(o,o.return,Z)}}else Ei(r,o,c,p);break;case 13:Ei(r,o,c,p);break;case 23:break;case 22:b=o.stateNode,B=o.alternate,o.memoizedState!==null?b._visibility&2?Ei(r,o,c,p):Mu(r,o):b._visibility&2?Ei(r,o,c,p):(b._visibility|=2,Cc(r,o,c,p,(o.subtreeFlags&10256)!==0)),f&2048&&sb(B,o);break;case 24:Ei(r,o,c,p),f&2048&&lb(o.alternate,o);break;default:Ei(r,o,c,p)}}function Cc(r,o,c,p,f){for(f=f&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var b=r,B=o,q=c,Z=p,he=B.flags;switch(B.tag){case 0:case 11:case 15:Cc(b,B,q,Z,f),Tu(8,B);break;case 23:break;case 22:var Re=B.stateNode;B.memoizedState!==null?Re._visibility&2?Cc(b,B,q,Z,f):Mu(b,B):(Re._visibility|=2,Cc(b,B,q,Z,f)),f&&he&2048&&sb(B.alternate,B);break;case 24:Cc(b,B,q,Z,f),f&&he&2048&&lb(B.alternate,B);break;default:Cc(b,B,q,Z,f)}o=o.sibling}}function Mu(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=r,p=o,f=p.flags;switch(p.tag){case 22:Mu(c,p),f&2048&&sb(p.alternate,p);break;case 24:Mu(c,p),f&2048&&lb(p.alternate,p);break;default:Mu(c,p)}o=o.sibling}}var Ru=8192;function Mc(r){if(r.subtreeFlags&Ru)for(r=r.child;r!==null;)A1(r),r=r.sibling}function A1(r){switch(r.tag){case 26:Mc(r),r.flags&Ru&&r.memoizedState!==null&&_j(Zr,r.memoizedState,r.memoizedProps);break;case 5:Mc(r);break;case 3:case 4:var o=Zr;Zr=Mm(r.stateNode.containerInfo),Mc(r),Zr=o;break;case 22:r.memoizedState===null&&(o=r.alternate,o!==null&&o.memoizedState!==null?(o=Ru,Ru=16777216,Mc(r),Ru=o):Mc(r));break;default:Mc(r)}}function k1(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function Au(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var p=o[c];gn=p,_1(p,r)}k1(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)E1(r),r=r.sibling}function E1(r){switch(r.tag){case 0:case 11:case 15:Au(r),r.flags&2048&&ts(9,r,r.return);break;case 3:Au(r);break;case 12:Au(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,hm(r)):Au(r);break;default:Au(r)}}function hm(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var p=o[c];gn=p,_1(p,r)}k1(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:ts(8,o,o.return),hm(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,hm(o));break;default:hm(o)}r=r.sibling}}function _1(r,o){for(;gn!==null;){var c=gn;switch(c.tag){case 0:case 11:case 15:ts(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var p=c.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:cu(c.memoizedState.cache)}if(p=c.child,p!==null)p.return=c,gn=p;else e:for(c=r;gn!==null;){p=gn;var f=p.sibling,b=p.return;if(w1(p),p===c){gn=null;break e}if(f!==null){f.return=b,gn=f;break e}gn=b}}}var $_={getCacheForType:function(r){var o=Pn(on),c=o.data.get(r);return c===void 0&&(c=r(),o.data.set(r,c)),c}},G_=typeof WeakMap=="function"?WeakMap:Map,da=0,wa=null,Bt=null,Xt=0,ua=0,fr=null,rs=!1,Rc=!1,cb=!1,So=0,Va=0,is=0,gl=0,db=0,Dr=0,Ac=0,ku=null,nr=null,ub=!1,pb=0,mm=1/0,gm=null,os=null,Cn=0,ss=null,kc=null,Ec=0,hb=0,mb=null,j1=null,Eu=0,gb=null;function yr(){if((da&2)!==0&&Xt!==0)return Xt&-Xt;if($.T!==null){var r=fc;return r!==0?r:Sb()}return Zt()}function I1(){Dr===0&&(Dr=(Xt&536870912)===0||na?xn():536870912);var r=Wr.current;return r!==null&&(r.flags|=32),Dr}function br(r,o,c){(r===wa&&(ua===2||ua===9)||r.cancelPendingCommit!==null)&&(_c(r,0),ls(r,Xt,Dr,!1)),ot(r,c),((da&2)===0||r!==wa)&&(r===wa&&((da&2)===0&&(gl|=c),Va===4&&ls(r,Xt,Dr,!1)),_i(r))}function P1(r,o,c){if((da&6)!==0)throw Error(n(327));var p=!c&&(o&124)===0&&(o&r.expiredLanes)===0||aa(r,o),f=p?X_(r,o):bb(r,o,!0),b=p;do{if(f===0){Rc&&!p&&ls(r,o,0,!1);break}else{if(c=r.current.alternate,b&&!K_(c)){f=bb(r,o,!1),b=!1;continue}if(f===2){if(b=o,r.errorRecoveryDisabledLanes&b)var B=0;else B=r.pendingLanes&-536870913,B=B!==0?B:B&536870912?536870912:0;if(B!==0){o=B;e:{var q=r;f=ku;var Z=q.current.memoizedState.isDehydrated;if(Z&&(_c(q,B).flags|=256),B=bb(q,B,!1),B!==2){if(cb&&!Z){q.errorRecoveryDisabledLanes|=b,gl|=b,f=4;break e}b=nr,nr=f,b!==null&&(nr===null?nr=b:nr.push.apply(nr,b))}f=B}if(b=!1,f!==2)continue}}if(f===1){_c(r,0),ls(r,o,0,!0);break}e:{switch(p=r,b=f,b){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:ls(p,o,Dr,!rs);break e;case 2:nr=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(f=pb+300-ee(),10<f)){if(ls(p,o,Dr,!rs),Vt(p,0,!0)!==0)break e;p.timeoutHandle=lT(W1.bind(null,p,c,nr,gm,ub,o,Dr,gl,Ac,rs,b,2,-0,0),f);break e}W1(p,c,nr,gm,ub,o,Dr,gl,Ac,rs,b,0,-0,0)}}break}while(!0);_i(r)}function W1(r,o,c,p,f,b,B,q,Z,he,Re,Ie,me,fe){if(r.timeoutHandle=-1,Ie=o.subtreeFlags,(Ie&8192||(Ie&16785408)===16785408)&&(Lu={stylesheets:null,count:0,unsuspend:Ej},A1(o),Ie=jj(),Ie!==null)){r.cancelPendingCommit=Ie(B1.bind(null,r,o,b,c,p,f,B,q,Z,Re,1,me,fe)),ls(r,b,B,!he);return}B1(r,o,b,c,p,f,B,q,Z)}function K_(r){for(var o=r;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var p=0;p<c.length;p++){var f=c[p],b=f.getSnapshot;f=f.value;try{if(!pr(b(),f))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ls(r,o,c,p){o&=~db,o&=~gl,r.suspendedLanes|=o,r.pingedLanes&=~o,p&&(r.warmLanes|=o),p=r.expirationTimes;for(var f=o;0<f;){var b=31-Ue(f),B=1<<b;p[b]=-1,f&=~B}c!==0&&vt(r,c,o)}function fm(){return(da&6)===0?(_u(0),!1):!0}function fb(){if(Bt!==null){if(ua===0)var r=Bt.return;else r=Bt,mo=cl=null,Py(r),Sc=null,xu=0,r=Bt;for(;r!==null;)h1(r.alternate,r),r=r.return;Bt=null}}function _c(r,o){var c=r.timeoutHandle;c!==-1&&(r.timeoutHandle=-1,pj(c)),c=r.cancelPendingCommit,c!==null&&(r.cancelPendingCommit=null,c()),fb(),wa=r,Bt=c=uo(r.current,null),Xt=o,ua=0,fr=null,rs=!1,Rc=aa(r,o),cb=!1,Ac=Dr=db=gl=is=Va=0,nr=ku=null,ub=!1,(o&8)!==0&&(o|=o&32);var p=r.entangledLanes;if(p!==0)for(r=r.entanglements,p&=o;0<p;){var f=31-Ue(p),b=1<<f;o|=r[f],p&=~b}return So=o,Uh(),c}function D1(r,o){Ot=null,$.H=nm,o===uu||o===Gh?(o=JS(),ua=3):o===YS?(o=JS(),ua=4):ua=o===Z0?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,fr=o,Bt===null&&(Va=1,lm(r,_r(o,r.current)))}function L1(){var r=$.H;return $.H=nm,r===null?nm:r}function V1(){var r=$.A;return $.A=$_,r}function yb(){Va=4,rs||(Xt&4194048)!==Xt&&Wr.current!==null||(Rc=!0),(is&134217727)===0&&(gl&134217727)===0||wa===null||ls(wa,Xt,Dr,!1)}function bb(r,o,c){var p=da;da|=2;var f=L1(),b=V1();(wa!==r||Xt!==o)&&(gm=null,_c(r,o)),o=!1;var B=Va;e:do try{if(ua!==0&&Bt!==null){var q=Bt,Z=fr;switch(ua){case 8:fb(),B=6;break e;case 3:case 2:case 9:case 6:Wr.current===null&&(o=!0);var he=ua;if(ua=0,fr=null,jc(r,q,Z,he),c&&Rc){B=0;break e}break;default:he=ua,ua=0,fr=null,jc(r,q,Z,he)}}Y_(),B=Va;break}catch(Re){D1(r,Re)}while(!0);return o&&r.shellSuspendCounter++,mo=cl=null,da=p,$.H=f,$.A=b,Bt===null&&(wa=null,Xt=0,Uh()),B}function Y_(){for(;Bt!==null;)U1(Bt)}function X_(r,o){var c=da;da|=2;var p=L1(),f=V1();wa!==r||Xt!==o?(gm=null,mm=ee()+500,_c(r,o)):Rc=aa(r,o);e:do try{if(ua!==0&&Bt!==null){o=Bt;var b=fr;t:switch(ua){case 1:ua=0,fr=null,jc(r,o,b,1);break;case 2:case 9:if(XS(b)){ua=0,fr=null,O1(o);break}o=function(){ua!==2&&ua!==9||wa!==r||(ua=7),_i(r)},b.then(o,o);break e;case 3:ua=7;break e;case 4:ua=5;break e;case 7:XS(b)?(ua=0,fr=null,O1(o)):(ua=0,fr=null,jc(r,o,b,7));break;case 5:var B=null;switch(Bt.tag){case 26:B=Bt.memoizedState;case 5:case 27:var q=Bt;if(!B||xT(B)){ua=0,fr=null;var Z=q.sibling;if(Z!==null)Bt=Z;else{var he=q.return;he!==null?(Bt=he,ym(he)):Bt=null}break t}}ua=0,fr=null,jc(r,o,b,5);break;case 6:ua=0,fr=null,jc(r,o,b,6);break;case 8:fb(),Va=6;break e;default:throw Error(n(462))}}Q_();break}catch(Re){D1(r,Re)}while(!0);return mo=cl=null,$.H=p,$.A=f,da=c,Bt!==null?0:(wa=null,Xt=0,Uh(),Va)}function Q_(){for(;Bt!==null&&!He();)U1(Bt)}function U1(r){var o=u1(r.alternate,r,So);r.memoizedProps=r.pendingProps,o===null?ym(r):Bt=o}function O1(r){var o=r,c=o.alternate;switch(o.tag){case 15:case 0:o=i1(c,o,o.pendingProps,o.type,void 0,Xt);break;case 11:o=i1(c,o,o.pendingProps,o.type.render,o.ref,Xt);break;case 5:Py(o);default:h1(c,o),o=Bt=zS(o,So),o=u1(c,o,So)}r.memoizedProps=r.pendingProps,o===null?ym(r):Bt=o}function jc(r,o,c,p){mo=cl=null,Py(o),Sc=null,xu=0;var f=o.return;try{if(z_(r,f,o,c,Xt)){Va=1,lm(r,_r(c,r.current)),Bt=null;return}}catch(b){if(f!==null)throw Bt=f,b;Va=1,lm(r,_r(c,r.current)),Bt=null;return}o.flags&32768?(na||p===1?r=!0:Rc||(Xt&536870912)!==0?r=!1:(rs=r=!0,(p===2||p===9||p===3||p===6)&&(p=Wr.current,p!==null&&p.tag===13&&(p.flags|=16384))),z1(o,r)):ym(o)}function ym(r){var o=r;do{if((o.flags&32768)!==0){z1(o,rs);return}r=o.return;var c=N_(o.alternate,o,So);if(c!==null){Bt=c;return}if(o=o.sibling,o!==null){Bt=o;return}Bt=o=r}while(o!==null);Va===0&&(Va=5)}function z1(r,o){do{var c=F_(r.alternate,r);if(c!==null){c.flags&=32767,Bt=c;return}if(c=r.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(r=r.sibling,r!==null)){Bt=r;return}Bt=r=c}while(r!==null);Va=6,Bt=null}function B1(r,o,c,p,f,b,B,q,Z){r.cancelPendingCommit=null;do bm();while(Cn!==0);if((da&6)!==0)throw Error(n(327));if(o!==null){if(o===r.current)throw Error(n(177));if(b=o.lanes|o.childLanes,b|=ly,Ut(r,c,b,B,q,Z),r===wa&&(Bt=wa=null,Xt=0),kc=o,ss=r,Ec=c,hb=b,mb=f,j1=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,tj(we,function(){return $1(),null})):(r.callbackNode=null,r.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=$.T,$.T=null,f=X.p,X.p=2,B=da,da|=4;try{q_(r,o,c)}finally{da=B,X.p=f,$.T=p}}Cn=1,N1(),F1(),q1()}}function N1(){if(Cn===1){Cn=0;var r=ss,o=kc,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=$.T,$.T=null;var p=X.p;X.p=2;var f=da;da|=4;try{C1(o,r);var b=_b,B=_S(r.containerInfo),q=b.focusedElem,Z=b.selectionRange;if(B!==q&&q&&q.ownerDocument&&ES(q.ownerDocument.documentElement,q)){if(Z!==null&&ny(q)){var he=Z.start,Re=Z.end;if(Re===void 0&&(Re=he),"selectionStart"in q)q.selectionStart=he,q.selectionEnd=Math.min(Re,q.value.length);else{var Ie=q.ownerDocument||document,me=Ie&&Ie.defaultView||window;if(me.getSelection){var fe=me.getSelection(),kt=q.textContent.length,Tt=Math.min(Z.start,kt),fa=Z.end===void 0?Tt:Math.min(Z.end,kt);!fe.extend&&Tt>fa&&(B=fa,fa=Tt,Tt=B);var ce=kS(q,Tt),re=kS(q,fa);if(ce&&re&&(fe.rangeCount!==1||fe.anchorNode!==ce.node||fe.anchorOffset!==ce.offset||fe.focusNode!==re.node||fe.focusOffset!==re.offset)){var ue=Ie.createRange();ue.setStart(ce.node,ce.offset),fe.removeAllRanges(),Tt>fa?(fe.addRange(ue),fe.extend(re.node,re.offset)):(ue.setEnd(re.node,re.offset),fe.addRange(ue))}}}}for(Ie=[],fe=q;fe=fe.parentNode;)fe.nodeType===1&&Ie.push({element:fe,left:fe.scrollLeft,top:fe.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<Ie.length;q++){var ke=Ie[q];ke.element.scrollLeft=ke.left,ke.element.scrollTop=ke.top}}_m=!!Eb,_b=Eb=null}finally{da=f,X.p=p,$.T=c}}r.current=o,Cn=2}}function F1(){if(Cn===2){Cn=0;var r=ss,o=kc,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=$.T,$.T=null;var p=X.p;X.p=2;var f=da;da|=4;try{x1(r,o.alternate,o)}finally{da=f,X.p=p,$.T=c}}Cn=3}}function q1(){if(Cn===4||Cn===3){Cn=0,se();var r=ss,o=kc,c=Ec,p=j1;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Cn=5:(Cn=0,kc=ss=null,H1(r,r.pendingLanes));var f=r.pendingLanes;if(f===0&&(os=null),ft(c),o=o.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(mt,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=$.T,f=X.p,X.p=2,$.T=null;try{for(var b=r.onRecoverableError,B=0;B<p.length;B++){var q=p[B];b(q.value,{componentStack:q.stack})}}finally{$.T=o,X.p=f}}(Ec&3)!==0&&bm(),_i(r),f=r.pendingLanes,(c&4194090)!==0&&(f&42)!==0?r===gb?Eu++:(Eu=0,gb=r):Eu=0,_u(0)}}function H1(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,cu(o)))}function bm(r){return N1(),F1(),q1(),$1()}function $1(){if(Cn!==5)return!1;var r=ss,o=hb;hb=0;var c=ft(Ec),p=$.T,f=X.p;try{X.p=32>c?32:c,$.T=null,c=mb,mb=null;var b=ss,B=Ec;if(Cn=0,kc=ss=null,Ec=0,(da&6)!==0)throw Error(n(331));var q=da;if(da|=4,E1(b.current),R1(b,b.current,B,c),da=q,_u(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(mt,b)}catch{}return!0}finally{X.p=f,$.T=p,H1(r,o)}}function G1(r,o,c){o=_r(c,o),o=Gy(r.stateNode,o,2),r=Qo(r,o,2),r!==null&&(ot(r,2),_i(r))}function ba(r,o,c){if(r.tag===3)G1(r,r,c);else for(;o!==null;){if(o.tag===3){G1(o,r,c);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(os===null||!os.has(p))){r=_r(c,r),c=Q0(2),p=Qo(o,c,2),p!==null&&(J0(c,p,o,r),ot(p,2),_i(p));break}}o=o.return}}function vb(r,o,c){var p=r.pingCache;if(p===null){p=r.pingCache=new G_;var f=new Set;p.set(o,f)}else f=p.get(o),f===void 0&&(f=new Set,p.set(o,f));f.has(c)||(cb=!0,f.add(c),r=J_.bind(null,r,o,c),o.then(r,r))}function J_(r,o,c){var p=r.pingCache;p!==null&&p.delete(o),r.pingedLanes|=r.suspendedLanes&c,r.warmLanes&=~c,wa===r&&(Xt&c)===c&&(Va===4||Va===3&&(Xt&62914560)===Xt&&300>ee()-pb?(da&2)===0&&_c(r,0):db|=c,Ac===Xt&&(Ac=0)),_i(r)}function K1(r,o){o===0&&(o=Ne()),r=pc(r,o),r!==null&&(ot(r,o),_i(r))}function Z_(r){var o=r.memoizedState,c=0;o!==null&&(c=o.retryLane),K1(r,c)}function ej(r,o){var c=0;switch(r.tag){case 13:var p=r.stateNode,f=r.memoizedState;f!==null&&(c=f.retryLane);break;case 19:p=r.stateNode;break;case 22:p=r.stateNode._retryCache;break;default:throw Error(n(314))}p!==null&&p.delete(o),K1(r,c)}function tj(r,o){return ve(r,o)}var vm=null,Ic=null,xb=!1,xm=!1,wb=!1,fl=0;function _i(r){r!==Ic&&r.next===null&&(Ic===null?vm=Ic=r:Ic=Ic.next=r),xm=!0,xb||(xb=!0,nj())}function _u(r,o){if(!wb&&xm){wb=!0;do for(var c=!1,p=vm;p!==null;){if(r!==0){var f=p.pendingLanes;if(f===0)var b=0;else{var B=p.suspendedLanes,q=p.pingedLanes;b=(1<<31-Ue(42|r)+1)-1,b&=f&~(B&~q),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(c=!0,J1(p,b))}else b=Xt,b=Vt(p,p===wa?b:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(b&3)===0||aa(p,b)||(c=!0,J1(p,b));p=p.next}while(c);wb=!1}}function aj(){Y1()}function Y1(){xm=xb=!1;var r=0;fl!==0&&(uj()&&(r=fl),fl=0);for(var o=ee(),c=null,p=vm;p!==null;){var f=p.next,b=X1(p,o);b===0?(p.next=null,c===null?vm=f:c.next=f,f===null&&(Ic=c)):(c=p,(r!==0||(b&3)!==0)&&(xm=!0)),p=f}_u(r)}function X1(r,o){for(var c=r.suspendedLanes,p=r.pingedLanes,f=r.expirationTimes,b=r.pendingLanes&-62914561;0<b;){var B=31-Ue(b),q=1<<B,Z=f[B];Z===-1?((q&c)===0||(q&p)!==0)&&(f[B]=Da(q,o)):Z<=o&&(r.expiredLanes|=q),b&=~q}if(o=wa,c=Xt,c=Vt(r,r===o?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),p=r.callbackNode,c===0||r===o&&(ua===2||ua===9)||r.cancelPendingCommit!==null)return p!==null&&p!==null&&De(p),r.callbackNode=null,r.callbackPriority=0;if((c&3)===0||aa(r,c)){if(o=c&-c,o===r.callbackPriority)return o;switch(p!==null&&De(p),ft(c)){case 2:case 8:c=je;break;case 32:c=we;break;case 268435456:c=rt;break;default:c=we}return p=Q1.bind(null,r),c=ve(c,p),r.callbackPriority=o,r.callbackNode=c,o}return p!==null&&p!==null&&De(p),r.callbackPriority=2,r.callbackNode=null,2}function Q1(r,o){if(Cn!==0&&Cn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var c=r.callbackNode;if(bm()&&r.callbackNode!==c)return null;var p=Xt;return p=Vt(r,r===wa?p:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),p===0?null:(P1(r,p,o),X1(r,ee()),r.callbackNode!=null&&r.callbackNode===c?Q1.bind(null,r):null)}function J1(r,o){if(bm())return null;P1(r,o,!0)}function nj(){hj(function(){(da&6)!==0?ve(pe,aj):Y1()})}function Sb(){return fl===0&&(fl=xn()),fl}function Z1(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:ec(""+r)}function eT(r,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,r.id&&c.setAttribute("form",r.id),o.parentNode.insertBefore(c,o),r=new FormData(r),c.parentNode.removeChild(c),r}function rj(r,o,c,p,f){if(o==="submit"&&c&&c.stateNode===f){var b=Z1((f[ht]||null).action),B=p.submitter;B&&(o=(o=B[ht]||null)?Z1(o.formAction):B.getAttribute("formAction"),o!==null&&(b=o,B=null));var q=new tc("action","action",null,p,f);r.push({event:q,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(fl!==0){var Z=B?eT(f,B):new FormData(f);Ny(c,{pending:!0,data:Z,method:f.method,action:b},null,Z)}}else typeof b=="function"&&(q.preventDefault(),Z=B?eT(f,B):new FormData(f),Ny(c,{pending:!0,data:Z,method:f.method,action:b},b,Z))},currentTarget:f}]})}}for(var Tb=0;Tb<sy.length;Tb++){var Cb=sy[Tb],ij=Cb.toLowerCase(),oj=Cb[0].toUpperCase()+Cb.slice(1);Jr(ij,"on"+oj)}Jr(PS,"onAnimationEnd"),Jr(WS,"onAnimationIteration"),Jr(DS,"onAnimationStart"),Jr("dblclick","onDoubleClick"),Jr("focusin","onFocus"),Jr("focusout","onBlur"),Jr(T_,"onTransitionRun"),Jr(C_,"onTransitionStart"),Jr(M_,"onTransitionCancel"),Jr(LS,"onTransitionEnd"),to("onMouseEnter",["mouseout","mouseover"]),to("onMouseLeave",["mouseout","mouseover"]),to("onPointerEnter",["pointerout","pointerover"]),to("onPointerLeave",["pointerout","pointerover"]),Xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ju));function tT(r,o){o=(o&4)!==0;for(var c=0;c<r.length;c++){var p=r[c],f=p.event;p=p.listeners;e:{var b=void 0;if(o)for(var B=p.length-1;0<=B;B--){var q=p[B],Z=q.instance,he=q.currentTarget;if(q=q.listener,Z!==b&&f.isPropagationStopped())break e;b=q,f.currentTarget=he;try{b(f)}catch(Re){sm(Re)}f.currentTarget=null,b=Z}else for(B=0;B<p.length;B++){if(q=p[B],Z=q.instance,he=q.currentTarget,q=q.listener,Z!==b&&f.isPropagationStopped())break e;b=q,f.currentTarget=he;try{b(f)}catch(Re){sm(Re)}f.currentTarget=null,b=Z}}}}function Nt(r,o){var c=o[un];c===void 0&&(c=o[un]=new Set);var p=r+"__bubble";c.has(p)||(aT(o,r,2,!1),c.add(p))}function Mb(r,o,c){var p=0;o&&(p|=4),aT(c,r,p,o)}var wm="_reactListening"+Math.random().toString(36).slice(2);function Rb(r){if(!r[wm]){r[wm]=!0,Fd.forEach(function(c){c!=="selectionchange"&&(sj.has(c)||Mb(c,!1,r),Mb(c,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[wm]||(o[wm]=!0,Mb("selectionchange",!1,o))}}function aT(r,o,c,p){switch(RT(o)){case 2:var f=Wj;break;case 8:f=Dj;break;default:f=zb}c=f.bind(null,o,c,r),f=void 0,!kr||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(f=!0),p?f!==void 0?r.addEventListener(o,c,{capture:!0,passive:f}):r.addEventListener(o,c,!0):f!==void 0?r.addEventListener(o,c,{passive:f}):r.addEventListener(o,c,!1)}function Ab(r,o,c,p,f){var b=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var B=p.tag;if(B===3||B===4){var q=p.stateNode.containerInfo;if(q===f)break;if(B===4)for(B=p.return;B!==null;){var Z=B.tag;if((Z===3||Z===4)&&B.stateNode.containerInfo===f)return;B=B.return}for(;q!==null;){if(B=eo(q),B===null)return;if(Z=B.tag,Z===5||Z===6||Z===26||Z===27){p=b=B;continue e}q=q.parentNode}}p=p.return}Th(function(){var he=b,Re=Ar(c),Ie=[];e:{var me=VS.get(r);if(me!==void 0){var fe=tc,kt=r;switch(r){case"keypress":if(wi(c)===0)break e;case"keydown":case"keyup":fe=sc;break;case"focusin":kt="focus",fe=rc;break;case"focusout":kt="blur",fe=rc;break;case"beforeblur":case"afterblur":fe=rc;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=Er;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=Zf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=jh;break;case PS:case WS:case DS:fe=ic;break;case LS:fe=Ph;break;case"scroll":case"scrollend":fe=Ch;break;case"wheel":fe=lc;break;case"copy":case"cut":case"paste":fe=oc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=tu;break;case"toggle":case"beforetoggle":fe=Dh}var Tt=(o&4)!==0,fa=!Tt&&(r==="scroll"||r==="scrollend"),ce=Tt?me!==null?me+"Capture":null:me;Tt=[];for(var re=he,ue;re!==null;){var ke=re;if(ue=ke.stateNode,ke=ke.tag,ke!==5&&ke!==26&&ke!==27||ue===null||ce===null||(ke=Ys(re,ce),ke!=null&&Tt.push(Iu(re,ke,ue))),fa)break;re=re.return}0<Tt.length&&(me=new fe(me,kt,null,c,Re),Ie.push({event:me,listeners:Tt}))}}if((o&7)===0){e:{if(me=r==="mouseover"||r==="pointerover",fe=r==="mouseout"||r==="pointerout",me&&c!==ro&&(kt=c.relatedTarget||c.fromElement)&&(eo(kt)||kt[Rt]))break e;if((fe||me)&&(me=Re.window===Re?Re:(me=Re.ownerDocument)?me.defaultView||me.parentWindow:window,fe?(kt=c.relatedTarget||c.toElement,fe=he,kt=kt?eo(kt):null,kt!==null&&(fa=l(kt),Tt=kt.tag,kt!==fa||Tt!==5&&Tt!==27&&Tt!==6)&&(kt=null)):(fe=null,kt=he),fe!==kt)){if(Tt=Er,ke="onMouseLeave",ce="onMouseEnter",re="mouse",(r==="pointerout"||r==="pointerover")&&(Tt=tu,ke="onPointerLeave",ce="onPointerEnter",re="pointer"),fa=fe==null?me:yi(fe),ue=kt==null?me:yi(kt),me=new Tt(ke,re+"leave",fe,c,Re),me.target=fa,me.relatedTarget=ue,ke=null,eo(Re)===he&&(Tt=new Tt(ce,re+"enter",kt,c,Re),Tt.target=ue,Tt.relatedTarget=fa,ke=Tt),fa=ke,fe&&kt)t:{for(Tt=fe,ce=kt,re=0,ue=Tt;ue;ue=Pc(ue))re++;for(ue=0,ke=ce;ke;ke=Pc(ke))ue++;for(;0<re-ue;)Tt=Pc(Tt),re--;for(;0<ue-re;)ce=Pc(ce),ue--;for(;re--;){if(Tt===ce||ce!==null&&Tt===ce.alternate)break t;Tt=Pc(Tt),ce=Pc(ce)}Tt=null}else Tt=null;fe!==null&&nT(Ie,me,fe,Tt,!1),kt!==null&&fa!==null&&nT(Ie,fa,kt,Tt,!0)}}e:{if(me=he?yi(he):window,fe=me.nodeName&&me.nodeName.toLowerCase(),fe==="select"||fe==="input"&&me.type==="file")var st=SS;else if(rn(me))if(TS)st=x_;else{st=b_;var zt=y_}else fe=me.nodeName,!fe||fe.toLowerCase()!=="input"||me.type!=="checkbox"&&me.type!=="radio"?he&&Kd(he.elementType)&&(st=SS):st=v_;if(st&&(st=st(r,he))){co(Ie,st,c,Re);break e}zt&&zt(r,me,he),r==="focusout"&&he&&me.type==="number"&&he.memoizedProps.value!=null&&$o(me,"number",me.value)}switch(zt=he?yi(he):window,r){case"focusin":(rn(zt)||zt.contentEditable==="true")&&(cc=zt,ry=he,ru=null);break;case"focusout":ru=ry=cc=null;break;case"mousedown":iy=!0;break;case"contextmenu":case"mouseup":case"dragend":iy=!1,jS(Ie,c,Re);break;case"selectionchange":if(S_)break;case"keydown":case"keyup":jS(Ie,c,Re)}var gt;if(Ci)e:{switch(r){case"compositionstart":var Ct="onCompositionStart";break e;case"compositionend":Ct="onCompositionEnd";break e;case"compositionupdate":Ct="onCompositionUpdate";break e}Ct=void 0}else Kt?xe(r,c)&&(Ct="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(Ct="onCompositionStart");Ct&&(z&&c.locale!=="ko"&&(Kt||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&Kt&&(gt=Xd()):(xi=Re,Go="value"in xi?xi.value:xi.textContent,Kt=!0)),zt=Sm(he,Ct),0<zt.length&&(Ct=new Zd(Ct,r,null,c,Re),Ie.push({event:Ct,listeners:zt}),gt?Ct.data=gt:(gt=Be(c),gt!==null&&(Ct.data=gt)))),(gt=k?nn(r,c):Yt(r,c))&&(Ct=Sm(he,"onBeforeInput"),0<Ct.length&&(zt=new Zd("onBeforeInput","beforeinput",null,c,Re),Ie.push({event:zt,listeners:Ct}),zt.data=gt)),rj(Ie,r,he,c,Re)}tT(Ie,o)})}function Iu(r,o,c){return{instance:r,listener:o,currentTarget:c}}function Sm(r,o){for(var c=o+"Capture",p=[];r!==null;){var f=r,b=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||b===null||(f=Ys(r,c),f!=null&&p.unshift(Iu(r,f,b)),f=Ys(r,o),f!=null&&p.push(Iu(r,f,b))),r.tag===3)return p;r=r.return}return[]}function Pc(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function nT(r,o,c,p,f){for(var b=o._reactName,B=[];c!==null&&c!==p;){var q=c,Z=q.alternate,he=q.stateNode;if(q=q.tag,Z!==null&&Z===p)break;q!==5&&q!==26&&q!==27||he===null||(Z=he,f?(he=Ys(c,b),he!=null&&B.unshift(Iu(c,he,Z))):f||(he=Ys(c,b),he!=null&&B.push(Iu(c,he,Z)))),c=c.return}B.length!==0&&r.push({event:o,listeners:B})}var lj=/\r\n?/g,cj=/\u0000|\uFFFD/g;function rT(r){return(typeof r=="string"?r:""+r).replace(lj,`
`).replace(cj,"")}function iT(r,o){return o=rT(o),rT(r)===o}function Tm(){}function ga(r,o,c,p,f,b){switch(c){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||Rr(r,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&Rr(r,""+p);break;case"className":bi(r,"class",p);break;case"tabIndex":bi(r,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":bi(r,c,p);break;case"style":Gd(r,p,b);break;case"data":if(o!=="object"){bi(r,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||c!=="href")){r.removeAttribute(c);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){r.removeAttribute(c);break}p=ec(""+p),r.setAttribute(c,p);break;case"action":case"formAction":if(typeof p=="function"){r.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(c==="formAction"?(o!=="input"&&ga(r,o,"name",f.name,f,null),ga(r,o,"formEncType",f.formEncType,f,null),ga(r,o,"formMethod",f.formMethod,f,null),ga(r,o,"formTarget",f.formTarget,f,null)):(ga(r,o,"encType",f.encType,f,null),ga(r,o,"method",f.method,f,null),ga(r,o,"target",f.target,f,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){r.removeAttribute(c);break}p=ec(""+p),r.setAttribute(c,p);break;case"onClick":p!=null&&(r.onclick=Tm);break;case"onScroll":p!=null&&Nt("scroll",r);break;case"onScrollEnd":p!=null&&Nt("scrollend",r);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(c=p.__html,c!=null){if(f.children!=null)throw Error(n(60));r.innerHTML=c}}break;case"multiple":r.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":r.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){r.removeAttribute("xlink:href");break}c=ec(""+p),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?r.setAttribute(c,""+p):r.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?r.setAttribute(c,""):r.removeAttribute(c);break;case"capture":case"download":p===!0?r.setAttribute(c,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?r.setAttribute(c,p):r.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?r.setAttribute(c,p):r.removeAttribute(c);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?r.removeAttribute(c):r.setAttribute(c,p);break;case"popover":Nt("beforetoggle",r),Nt("toggle",r),Ho(r,"popover",p);break;case"xlinkActuate":wn(r,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":wn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":wn(r,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":wn(r,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":wn(r,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":wn(r,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":wn(r,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":wn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":wn(r,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Ho(r,"is",p);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Qf.get(c)||c,Ho(r,c,p))}}function kb(r,o,c,p,f,b){switch(c){case"style":Gd(r,p,b);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(c=p.__html,c!=null){if(f.children!=null)throw Error(n(60));r.innerHTML=c}}break;case"children":typeof p=="string"?Rr(r,p):(typeof p=="number"||typeof p=="bigint")&&Rr(r,""+p);break;case"onScroll":p!=null&&Nt("scroll",r);break;case"onScrollEnd":p!=null&&Nt("scrollend",r);break;case"onClick":p!=null&&(r.onclick=Tm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yl.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(f=c.endsWith("Capture"),o=c.slice(2,f?c.length-7:void 0),b=r[ht]||null,b=b!=null?b[c]:null,typeof b=="function"&&r.removeEventListener(o,b,f),typeof p=="function")){typeof b!="function"&&b!==null&&(c in r?r[c]=null:r.hasAttribute(c)&&r.removeAttribute(c)),r.addEventListener(o,p,f);break e}c in r?r[c]=p:p===!0?r.setAttribute(c,""):Ho(r,c,p)}}}function Mn(r,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",r),Nt("load",r);var p=!1,f=!1,b;for(b in c)if(c.hasOwnProperty(b)){var B=c[b];if(B!=null)switch(b){case"src":p=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:ga(r,o,b,B,c,null)}}f&&ga(r,o,"srcSet",c.srcSet,c,null),p&&ga(r,o,"src",c.src,c,null);return;case"input":Nt("invalid",r);var q=b=B=f=null,Z=null,he=null;for(p in c)if(c.hasOwnProperty(p)){var Re=c[p];if(Re!=null)switch(p){case"name":f=Re;break;case"type":B=Re;break;case"checked":Z=Re;break;case"defaultChecked":he=Re;break;case"value":b=Re;break;case"defaultValue":q=Re;break;case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(n(137,o));break;default:ga(r,o,p,Re,c,null)}}$s(r,b,q,Z,he,B,f,!1),Zl(r);return;case"select":Nt("invalid",r),p=B=b=null;for(f in c)if(c.hasOwnProperty(f)&&(q=c[f],q!=null))switch(f){case"value":b=q;break;case"defaultValue":B=q;break;case"multiple":p=q;default:ga(r,o,f,q,c,null)}o=b,c=B,r.multiple=!!p,o!=null?no(r,!!p,o,!1):c!=null&&no(r,!!p,c,!0);return;case"textarea":Nt("invalid",r),b=f=p=null;for(B in c)if(c.hasOwnProperty(B)&&(q=c[B],q!=null))switch(B){case"value":p=q;break;case"defaultValue":f=q;break;case"children":b=q;break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(n(91));break;default:ga(r,o,B,q,c,null)}Gs(r,p,f,b),Zl(r);return;case"option":for(Z in c)if(c.hasOwnProperty(Z)&&(p=c[Z],p!=null))switch(Z){case"selected":r.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:ga(r,o,Z,p,c,null)}return;case"dialog":Nt("beforetoggle",r),Nt("toggle",r),Nt("cancel",r),Nt("close",r);break;case"iframe":case"object":Nt("load",r);break;case"video":case"audio":for(p=0;p<ju.length;p++)Nt(ju[p],r);break;case"image":Nt("error",r),Nt("load",r);break;case"details":Nt("toggle",r);break;case"embed":case"source":case"link":Nt("error",r),Nt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(he in c)if(c.hasOwnProperty(he)&&(p=c[he],p!=null))switch(he){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:ga(r,o,he,p,c,null)}return;default:if(Kd(o)){for(Re in c)c.hasOwnProperty(Re)&&(p=c[Re],p!==void 0&&kb(r,o,Re,p,c,void 0));return}}for(q in c)c.hasOwnProperty(q)&&(p=c[q],p!=null&&ga(r,o,q,p,c,null))}function dj(r,o,c,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,b=null,B=null,q=null,Z=null,he=null,Re=null;for(fe in c){var Ie=c[fe];if(c.hasOwnProperty(fe)&&Ie!=null)switch(fe){case"checked":break;case"value":break;case"defaultValue":Z=Ie;default:p.hasOwnProperty(fe)||ga(r,o,fe,null,p,Ie)}}for(var me in p){var fe=p[me];if(Ie=c[me],p.hasOwnProperty(me)&&(fe!=null||Ie!=null))switch(me){case"type":b=fe;break;case"name":f=fe;break;case"checked":he=fe;break;case"defaultChecked":Re=fe;break;case"value":B=fe;break;case"defaultValue":q=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(n(137,o));break;default:fe!==Ie&&ga(r,o,me,fe,p,Ie)}}ur(r,B,q,Z,he,Re,b,f);return;case"select":fe=B=q=me=null;for(b in c)if(Z=c[b],c.hasOwnProperty(b)&&Z!=null)switch(b){case"value":break;case"multiple":fe=Z;default:p.hasOwnProperty(b)||ga(r,o,b,null,p,Z)}for(f in p)if(b=p[f],Z=c[f],p.hasOwnProperty(f)&&(b!=null||Z!=null))switch(f){case"value":me=b;break;case"defaultValue":q=b;break;case"multiple":B=b;default:b!==Z&&ga(r,o,f,b,p,Z)}o=q,c=B,p=fe,me!=null?no(r,!!c,me,!1):!!p!=!!c&&(o!=null?no(r,!!c,o,!0):no(r,!!c,c?[]:"",!1));return;case"textarea":fe=me=null;for(q in c)if(f=c[q],c.hasOwnProperty(q)&&f!=null&&!p.hasOwnProperty(q))switch(q){case"value":break;case"children":break;default:ga(r,o,q,null,p,f)}for(B in p)if(f=p[B],b=c[B],p.hasOwnProperty(B)&&(f!=null||b!=null))switch(B){case"value":me=f;break;case"defaultValue":fe=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(n(91));break;default:f!==b&&ga(r,o,B,f,p,b)}ha(r,me,fe);return;case"option":for(var kt in c)if(me=c[kt],c.hasOwnProperty(kt)&&me!=null&&!p.hasOwnProperty(kt))switch(kt){case"selected":r.selected=!1;break;default:ga(r,o,kt,null,p,me)}for(Z in p)if(me=p[Z],fe=c[Z],p.hasOwnProperty(Z)&&me!==fe&&(me!=null||fe!=null))switch(Z){case"selected":r.selected=me&&typeof me!="function"&&typeof me!="symbol";break;default:ga(r,o,Z,me,p,fe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in c)me=c[Tt],c.hasOwnProperty(Tt)&&me!=null&&!p.hasOwnProperty(Tt)&&ga(r,o,Tt,null,p,me);for(he in p)if(me=p[he],fe=c[he],p.hasOwnProperty(he)&&me!==fe&&(me!=null||fe!=null))switch(he){case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(n(137,o));break;default:ga(r,o,he,me,p,fe)}return;default:if(Kd(o)){for(var fa in c)me=c[fa],c.hasOwnProperty(fa)&&me!==void 0&&!p.hasOwnProperty(fa)&&kb(r,o,fa,void 0,p,me);for(Re in p)me=p[Re],fe=c[Re],!p.hasOwnProperty(Re)||me===fe||me===void 0&&fe===void 0||kb(r,o,Re,me,p,fe);return}}for(var ce in c)me=c[ce],c.hasOwnProperty(ce)&&me!=null&&!p.hasOwnProperty(ce)&&ga(r,o,ce,null,p,me);for(Ie in p)me=p[Ie],fe=c[Ie],!p.hasOwnProperty(Ie)||me===fe||me==null&&fe==null||ga(r,o,Ie,me,p,fe)}var Eb=null,_b=null;function Cm(r){return r.nodeType===9?r:r.ownerDocument}function oT(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sT(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function jb(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ib=null;function uj(){var r=window.event;return r&&r.type==="popstate"?r===Ib?!1:(Ib=r,!0):(Ib=null,!1)}var lT=typeof setTimeout=="function"?setTimeout:void 0,pj=typeof clearTimeout=="function"?clearTimeout:void 0,cT=typeof Promise=="function"?Promise:void 0,hj=typeof queueMicrotask=="function"?queueMicrotask:typeof cT<"u"?function(r){return cT.resolve(null).then(r).catch(mj)}:lT;function mj(r){setTimeout(function(){throw r})}function cs(r){return r==="head"}function dT(r,o){var c=o,p=0,f=0;do{var b=c.nextSibling;if(r.removeChild(c),b&&b.nodeType===8)if(c=b.data,c==="/$"){if(0<p&&8>p){c=p;var B=r.ownerDocument;if(c&1&&Pu(B.documentElement),c&2&&Pu(B.body),c&4)for(c=B.head,Pu(c),B=c.firstChild;B;){var q=B.nextSibling,Z=B.nodeName;B[Yr]||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&B.rel.toLowerCase()==="stylesheet"||c.removeChild(B),B=q}}if(f===0){r.removeChild(b),Bu(o);return}f--}else c==="$"||c==="$?"||c==="$!"?f++:p=c.charCodeAt(0)-48;else p=0;c=b}while(c);Bu(o)}function Pb(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Pb(c),qo(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}r.removeChild(c)}}function gj(r,o,c,p){for(;r.nodeType===1;){var f=c;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(p){if(!r[Yr])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(b=r.getAttribute("rel"),b==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(b!==f.rel||r.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(b=r.getAttribute("src"),(b!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&b&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var b=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===b)return r}else return r;if(r=ei(r.nextSibling),r===null)break}return null}function fj(r,o,c){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!c||(r=ei(r.nextSibling),r===null))return null;return r}function Wb(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function yj(r,o){var c=r.ownerDocument;if(r.data!=="$?"||c.readyState==="complete")o();else{var p=function(){o(),c.removeEventListener("DOMContentLoaded",p)};c.addEventListener("DOMContentLoaded",p),r._reactRetry=p}}function ei(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return r}var Db=null;function uT(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return r;o--}else c==="/$"&&o++}r=r.previousSibling}return null}function pT(r,o,c){switch(o=Cm(c),r){case"html":if(r=o.documentElement,!r)throw Error(n(452));return r;case"head":if(r=o.head,!r)throw Error(n(453));return r;case"body":if(r=o.body,!r)throw Error(n(454));return r;default:throw Error(n(451))}}function Pu(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);qo(r)}var Lr=new Map,hT=new Set;function Mm(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var To=X.d;X.d={f:bj,r:vj,D:xj,C:wj,L:Sj,m:Tj,X:Mj,S:Cj,M:Rj};function bj(){var r=To.f(),o=fm();return r||o}function vj(r){var o=fi(r);o!==null&&o.tag===5&&o.type==="form"?P0(o):To.r(r)}var Wc=typeof document>"u"?null:document;function mT(r,o,c){var p=Wc;if(p&&typeof o=="string"&&o){var f=Qa(o);f='link[rel="'+r+'"][href="'+f+'"]',typeof c=="string"&&(f+='[crossorigin="'+c+'"]'),hT.has(f)||(hT.add(f),r={rel:r,crossOrigin:c,href:o},p.querySelector(f)===null&&(o=p.createElement("link"),Mn(o,"link",r),Fa(o),p.head.appendChild(o)))}}function xj(r){To.D(r),mT("dns-prefetch",r,null)}function wj(r,o){To.C(r,o),mT("preconnect",r,o)}function Sj(r,o,c){To.L(r,o,c);var p=Wc;if(p&&r&&o){var f='link[rel="preload"][as="'+Qa(o)+'"]';o==="image"&&c&&c.imageSrcSet?(f+='[imagesrcset="'+Qa(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(f+='[imagesizes="'+Qa(c.imageSizes)+'"]')):f+='[href="'+Qa(r)+'"]';var b=f;switch(o){case"style":b=Dc(r);break;case"script":b=Lc(r)}Lr.has(b)||(r=y({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:r,as:o},c),Lr.set(b,r),p.querySelector(f)!==null||o==="style"&&p.querySelector(Wu(b))||o==="script"&&p.querySelector(Du(b))||(o=p.createElement("link"),Mn(o,"link",r),Fa(o),p.head.appendChild(o)))}}function Tj(r,o){To.m(r,o);var c=Wc;if(c&&r){var p=o&&typeof o.as=="string"?o.as:"script",f='link[rel="modulepreload"][as="'+Qa(p)+'"][href="'+Qa(r)+'"]',b=f;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Lc(r)}if(!Lr.has(b)&&(r=y({rel:"modulepreload",href:r},o),Lr.set(b,r),c.querySelector(f)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Du(b)))return}p=c.createElement("link"),Mn(p,"link",r),Fa(p),c.head.appendChild(p)}}}function Cj(r,o,c){To.S(r,o,c);var p=Wc;if(p&&r){var f=Bn(p).hoistableStyles,b=Dc(r);o=o||"default";var B=f.get(b);if(!B){var q={loading:0,preload:null};if(B=p.querySelector(Wu(b)))q.loading=5;else{r=y({rel:"stylesheet",href:r,"data-precedence":o},c),(c=Lr.get(b))&&Lb(r,c);var Z=B=p.createElement("link");Fa(Z),Mn(Z,"link",r),Z._p=new Promise(function(he,Re){Z.onload=he,Z.onerror=Re}),Z.addEventListener("load",function(){q.loading|=1}),Z.addEventListener("error",function(){q.loading|=2}),q.loading|=4,Rm(B,o,p)}B={type:"stylesheet",instance:B,count:1,state:q},f.set(b,B)}}}function Mj(r,o){To.X(r,o);var c=Wc;if(c&&r){var p=Bn(c).hoistableScripts,f=Lc(r),b=p.get(f);b||(b=c.querySelector(Du(f)),b||(r=y({src:r,async:!0},o),(o=Lr.get(f))&&Vb(r,o),b=c.createElement("script"),Fa(b),Mn(b,"link",r),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},p.set(f,b))}}function Rj(r,o){To.M(r,o);var c=Wc;if(c&&r){var p=Bn(c).hoistableScripts,f=Lc(r),b=p.get(f);b||(b=c.querySelector(Du(f)),b||(r=y({src:r,async:!0,type:"module"},o),(o=Lr.get(f))&&Vb(r,o),b=c.createElement("script"),Fa(b),Mn(b,"link",r),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},p.set(f,b))}}function gT(r,o,c,p){var f=(f=oe.current)?Mm(f):null;if(!f)throw Error(n(446));switch(r){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Dc(c.href),c=Bn(f).hoistableStyles,p=c.get(o),p||(p={type:"style",instance:null,count:0,state:null},c.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){r=Dc(c.href);var b=Bn(f).hoistableStyles,B=b.get(r);if(B||(f=f.ownerDocument||f,B={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(r,B),(b=f.querySelector(Wu(r)))&&!b._p&&(B.instance=b,B.state.loading=5),Lr.has(r)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Lr.set(r,c),b||Aj(f,r,c,B.state))),o&&p===null)throw Error(n(528,""));return B}if(o&&p!==null)throw Error(n(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Lc(c),c=Bn(f).hoistableScripts,p=c.get(o),p||(p={type:"script",instance:null,count:0,state:null},c.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,r))}}function Dc(r){return'href="'+Qa(r)+'"'}function Wu(r){return'link[rel="stylesheet"]['+r+"]"}function fT(r){return y({},r,{"data-precedence":r.precedence,precedence:null})}function Aj(r,o,c,p){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=r.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),Mn(o,"link",c),Fa(o),r.head.appendChild(o))}function Lc(r){return'[src="'+Qa(r)+'"]'}function Du(r){return"script[async]"+r}function yT(r,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var p=r.querySelector('style[data-href~="'+Qa(c.href)+'"]');if(p)return o.instance=p,Fa(p),p;var f=y({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return p=(r.ownerDocument||r).createElement("style"),Fa(p),Mn(p,"style",f),Rm(p,c.precedence,r),o.instance=p;case"stylesheet":f=Dc(c.href);var b=r.querySelector(Wu(f));if(b)return o.state.loading|=4,o.instance=b,Fa(b),b;p=fT(c),(f=Lr.get(f))&&Lb(p,f),b=(r.ownerDocument||r).createElement("link"),Fa(b);var B=b;return B._p=new Promise(function(q,Z){B.onload=q,B.onerror=Z}),Mn(b,"link",p),o.state.loading|=4,Rm(b,c.precedence,r),o.instance=b;case"script":return b=Lc(c.src),(f=r.querySelector(Du(b)))?(o.instance=f,Fa(f),f):(p=c,(f=Lr.get(b))&&(p=y({},c),Vb(p,f)),r=r.ownerDocument||r,f=r.createElement("script"),Fa(f),Mn(f,"link",p),r.head.appendChild(f),o.instance=f);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,Rm(p,c.precedence,r));return o.instance}function Rm(r,o,c){for(var p=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=p.length?p[p.length-1]:null,b=f,B=0;B<p.length;B++){var q=p[B];if(q.dataset.precedence===o)b=q;else if(b!==f)break}b?b.parentNode.insertBefore(r,b.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(r,o.firstChild))}function Lb(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function Vb(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var Am=null;function bT(r,o,c){if(Am===null){var p=new Map,f=Am=new Map;f.set(c,p)}else f=Am,p=f.get(c),p||(p=new Map,f.set(c,p));if(p.has(r))return p;for(p.set(r,null),c=c.getElementsByTagName(r),f=0;f<c.length;f++){var b=c[f];if(!(b[Yr]||b[pt]||r==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var B=b.getAttribute(o)||"";B=r+B;var q=p.get(B);q?q.push(b):p.set(B,[b])}}return p}function vT(r,o,c){r=r.ownerDocument||r,r.head.insertBefore(c,o==="title"?r.querySelector("head > title"):null)}function kj(r,o,c){if(c===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function xT(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Lu=null;function Ej(){}function _j(r,o,c){if(Lu===null)throw Error(n(475));var p=Lu;if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=Dc(c.href),b=r.querySelector(Wu(f));if(b){r=b._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(p.count++,p=km.bind(p),r.then(p,p)),o.state.loading|=4,o.instance=b,Fa(b);return}b=r.ownerDocument||r,c=fT(c),(f=Lr.get(f))&&Lb(c,f),b=b.createElement("link"),Fa(b);var B=b;B._p=new Promise(function(q,Z){B.onload=q,B.onerror=Z}),Mn(b,"link",c),o.instance=b}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(p.count++,o=km.bind(p),r.addEventListener("load",o),r.addEventListener("error",o))}}function jj(){if(Lu===null)throw Error(n(475));var r=Lu;return r.stylesheets&&r.count===0&&Ub(r,r.stylesheets),0<r.count?function(o){var c=setTimeout(function(){if(r.stylesheets&&Ub(r,r.stylesheets),r.unsuspend){var p=r.unsuspend;r.unsuspend=null,p()}},6e4);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(c)}}:null}function km(){if(this.count--,this.count===0){if(this.stylesheets)Ub(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Em=null;function Ub(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Em=new Map,o.forEach(Ij,r),Em=null,km.call(r))}function Ij(r,o){if(!(o.state.loading&4)){var c=Em.get(r);if(c)var p=c.get(null);else{c=new Map,Em.set(r,c);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<f.length;b++){var B=f[b];(B.nodeName==="LINK"||B.getAttribute("media")!=="not all")&&(c.set(B.dataset.precedence,B),p=B)}p&&c.set(null,p)}f=o.instance,B=f.getAttribute("data-precedence"),b=c.get(B)||p,b===p&&c.set(null,f),c.set(B,f),this.count++,p=km.bind(this),f.addEventListener("load",p),f.addEventListener("error",p),b?b.parentNode.insertBefore(f,b.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),o.state.loading|=4}}var Vu={$$typeof:W,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function Pj(r,o,c,p,f,b,B,q){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=it(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=it(0),this.hiddenUpdates=it(null),this.identifierPrefix=p,this.onUncaughtError=f,this.onCaughtError=b,this.onRecoverableError=B,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function wT(r,o,c,p,f,b,B,q,Z,he,Re,Ie){return r=new Pj(r,o,c,B,q,Z,he,Ie),o=1,b===!0&&(o|=24),b=hr(3,null,null,o),r.current=b,b.stateNode=r,o=vy(),o.refCount++,r.pooledCache=o,o.refCount++,b.memoizedState={element:p,isDehydrated:c,cache:o},Ty(b),r}function ST(r){return r?(r=hc,r):hc}function TT(r,o,c,p,f,b){f=ST(f),p.context===null?p.context=f:p.pendingContext=f,p=Xo(o),p.payload={element:c},b=b===void 0?null:b,b!==null&&(p.callback=b),c=Qo(r,p,o),c!==null&&(br(c,r,o),hu(c,r,o))}function CT(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<o?c:o}}function Ob(r,o){CT(r,o),(r=r.alternate)&&CT(r,o)}function MT(r){if(r.tag===13){var o=pc(r,67108864);o!==null&&br(o,r,67108864),Ob(r,67108864)}}var _m=!0;function Wj(r,o,c,p){var f=$.T;$.T=null;var b=X.p;try{X.p=2,zb(r,o,c,p)}finally{X.p=b,$.T=f}}function Dj(r,o,c,p){var f=$.T;$.T=null;var b=X.p;try{X.p=8,zb(r,o,c,p)}finally{X.p=b,$.T=f}}function zb(r,o,c,p){if(_m){var f=Bb(p);if(f===null)Ab(r,o,p,jm,c),AT(r,p);else if(Vj(f,r,o,c,p))p.stopPropagation();else if(AT(r,p),o&4&&-1<Lj.indexOf(r)){for(;f!==null;){var b=fi(f);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var B=Xe(b.pendingLanes);if(B!==0){var q=b;for(q.pendingLanes|=2,q.entangledLanes|=2;B;){var Z=1<<31-Ue(B);q.entanglements[1]|=Z,B&=~Z}_i(b),(da&6)===0&&(mm=ee()+500,_u(0))}}break;case 13:q=pc(b,2),q!==null&&br(q,b,2),fm(),Ob(b,2)}if(b=Bb(p),b===null&&Ab(r,o,p,jm,c),b===f)break;f=b}f!==null&&p.stopPropagation()}else Ab(r,o,p,null,c)}}function Bb(r){return r=Ar(r),Nb(r)}var jm=null;function Nb(r){if(jm=null,r=eo(r),r!==null){var o=l(r);if(o===null)r=null;else{var c=o.tag;if(c===13){if(r=d(o),r!==null)return r;r=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return jm=r,null}function RT(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Se()){case pe:return 2;case je:return 8;case we:case Ee:return 32;case rt:return 268435456;default:return 32}default:return 32}}var Fb=!1,ds=null,us=null,ps=null,Uu=new Map,Ou=new Map,hs=[],Lj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function AT(r,o){switch(r){case"focusin":case"focusout":ds=null;break;case"dragenter":case"dragleave":us=null;break;case"mouseover":case"mouseout":ps=null;break;case"pointerover":case"pointerout":Uu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ou.delete(o.pointerId)}}function zu(r,o,c,p,f,b){return r===null||r.nativeEvent!==b?(r={blockedOn:o,domEventName:c,eventSystemFlags:p,nativeEvent:b,targetContainers:[f]},o!==null&&(o=fi(o),o!==null&&MT(o)),r):(r.eventSystemFlags|=p,o=r.targetContainers,f!==null&&o.indexOf(f)===-1&&o.push(f),r)}function Vj(r,o,c,p,f){switch(o){case"focusin":return ds=zu(ds,r,o,c,p,f),!0;case"dragenter":return us=zu(us,r,o,c,p,f),!0;case"mouseover":return ps=zu(ps,r,o,c,p,f),!0;case"pointerover":var b=f.pointerId;return Uu.set(b,zu(Uu.get(b)||null,r,o,c,p,f)),!0;case"gotpointercapture":return b=f.pointerId,Ou.set(b,zu(Ou.get(b)||null,r,o,c,p,f)),!0}return!1}function kT(r){var o=eo(r.target);if(o!==null){var c=l(o);if(c!==null){if(o=c.tag,o===13){if(o=d(c),o!==null){r.blockedOn=o,Ke(r.priority,function(){if(c.tag===13){var p=yr();p=Jt(p);var f=pc(c,p);f!==null&&br(f,c,p),Ob(c,p)}});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Im(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var c=Bb(r.nativeEvent);if(c===null){c=r.nativeEvent;var p=new c.constructor(c.type,c);ro=p,c.target.dispatchEvent(p),ro=null}else return o=fi(c),o!==null&&MT(o),r.blockedOn=c,!1;o.shift()}return!0}function ET(r,o,c){Im(r)&&c.delete(o)}function Uj(){Fb=!1,ds!==null&&Im(ds)&&(ds=null),us!==null&&Im(us)&&(us=null),ps!==null&&Im(ps)&&(ps=null),Uu.forEach(ET),Ou.forEach(ET)}function Pm(r,o){r.blockedOn===o&&(r.blockedOn=null,Fb||(Fb=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Uj)))}var Wm=null;function _T(r){Wm!==r&&(Wm=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Wm===r&&(Wm=null);for(var o=0;o<r.length;o+=3){var c=r[o],p=r[o+1],f=r[o+2];if(typeof p!="function"){if(Nb(p||c)===null)continue;break}var b=fi(c);b!==null&&(r.splice(o,3),o-=3,Ny(b,{pending:!0,data:f,method:c.method,action:p},p,f))}}))}function Bu(r){function o(Z){return Pm(Z,r)}ds!==null&&Pm(ds,r),us!==null&&Pm(us,r),ps!==null&&Pm(ps,r),Uu.forEach(o),Ou.forEach(o);for(var c=0;c<hs.length;c++){var p=hs[c];p.blockedOn===r&&(p.blockedOn=null)}for(;0<hs.length&&(c=hs[0],c.blockedOn===null);)kT(c),c.blockedOn===null&&hs.shift();if(c=(r.ownerDocument||r).$$reactFormReplay,c!=null)for(p=0;p<c.length;p+=3){var f=c[p],b=c[p+1],B=f[ht]||null;if(typeof b=="function")B||_T(c);else if(B){var q=null;if(b&&b.hasAttribute("formAction")){if(f=b,B=b[ht]||null)q=B.formAction;else if(Nb(f)!==null)continue}else q=B.action;typeof q=="function"?c[p+1]=q:(c.splice(p,3),p-=3),_T(c)}}}function qb(r){this._internalRoot=r}Dm.prototype.render=qb.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(n(409));var c=o.current,p=yr();TT(c,p,r,o,null,null)},Dm.prototype.unmount=qb.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;TT(r.current,2,null,r,null,null),fm(),o[Rt]=null}};function Dm(r){this._internalRoot=r}Dm.prototype.unstable_scheduleHydration=function(r){if(r){var o=Zt();r={blockedOn:null,target:r,priority:o};for(var c=0;c<hs.length&&o!==0&&o<hs[c].priority;c++);hs.splice(c,0,r),c===0&&kT(r)}};var jT=e.version;if(jT!=="19.1.1")throw Error(n(527,jT,"19.1.1"));X.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=h(o),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var Oj={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lm.isDisabled&&Lm.supportsFiber)try{mt=Lm.inject(Oj),$e=Lm}catch{}}return Fu.createRoot=function(r,o){if(!i(r))throw Error(n(299));var c=!1,p="",f=G0,b=K0,B=Y0,q=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(f=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(B=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(q=o.unstable_transitionCallbacks)),o=wT(r,1,!1,null,null,c,p,f,b,B,q,null),r[Rt]=o.current,Rb(r),new qb(o)},Fu.hydrateRoot=function(r,o,c){if(!i(r))throw Error(n(299));var p=!1,f="",b=G0,B=K0,q=Y0,Z=null,he=null;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(f=c.identifierPrefix),c.onUncaughtError!==void 0&&(b=c.onUncaughtError),c.onCaughtError!==void 0&&(B=c.onCaughtError),c.onRecoverableError!==void 0&&(q=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(Z=c.unstable_transitionCallbacks),c.formState!==void 0&&(he=c.formState)),o=wT(r,1,!0,o,c??null,p,f,b,B,q,Z,he),o.context=ST(null),c=o.current,p=yr(),p=Jt(p),f=Xo(p),f.callback=null,Qo(c,f,p),c=p,o.current.lanes=c,ot(o,c),_i(o),r[Rt]=o.current,Rb(r),new Dm(o)},Fu.version="19.1.1",Fu}var BT;function Yj(){if(BT)return Gb.exports;BT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Gb.exports=Kj(),Gb.exports}var Xj=Yj();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var NT="popstate";function Qj(t={}){function e(n,i){let{pathname:l,search:d,hash:u}=n.location;return Vv("",{pathname:l,search:d,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function a(n,i){return typeof i=="string"?i:Ep(i)}return Zj(e,a,null,t)}function ja(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ui(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Jj(){return Math.random().toString(36).substring(2,10)}function FT(t,e){return{usr:t.state,key:t.key,idx:e}}function Vv(t,e,a=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Md(e):e,state:a,key:e&&e.key||n||Jj()}}function Ep({pathname:t="/",search:e="",hash:a=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function Md(t){let e={};if(t){let a=t.indexOf("#");a>=0&&(e.hash=t.substring(a),t=t.substring(0,a));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function Zj(t,e,a,n={}){let{window:i=document.defaultView,v5Compat:l=!1}=n,d=i.history,u="POP",h=null,m=y();m==null&&(m=0,d.replaceState({...d.state,idx:m},""));function y(){return(d.state||{idx:null}).idx}function v(){u="POP";let E=y(),M=E==null?null:E-m;m=E,h&&h({action:u,location:j.location,delta:M})}function x(E,M){u="PUSH";let L=Vv(j.location,E,M);m=y()+1;let W=FT(L,m),R=j.createHref(L);try{d.pushState(W,"",R)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(R)}l&&h&&h({action:u,location:j.location,delta:1})}function T(E,M){u="REPLACE";let L=Vv(j.location,E,M);m=y();let W=FT(L,m),R=j.createHref(L);d.replaceState(W,"",R),l&&h&&h({action:u,location:j.location,delta:0})}function C(E){return eI(E)}let j={get action(){return u},get location(){return t(i,d)},listen(E){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(NT,v),h=E,()=>{i.removeEventListener(NT,v),h=null}},createHref(E){return e(i,E)},createURL:C,encodeLocation(E){let M=C(E);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:x,replace:T,go(E){return d.go(E)}};return j}function eI(t,e=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),ja(a,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:Ep(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=a+n),new URL(n,a)}function iA(t,e,a="/"){return tI(t,e,a,!1)}function tI(t,e,a,n){let i=typeof e=="string"?Md(e):e,l=Wo(i.pathname||"/",a);if(l==null)return null;let d=oA(t);aI(d);let u=null;for(let h=0;u==null&&h<d.length;++h){let m=hI(l);u=uI(d[h],m,n)}return u}function oA(t,e=[],a=[],n=""){let i=(l,d,u)=>{let h={relativePath:u===void 0?l.path||"":u,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};h.relativePath.startsWith("/")&&(ja(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length));let m=Po([n,h.relativePath]),y=a.concat(h);l.children&&l.children.length>0&&(ja(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),oA(l.children,e,y,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:cI(m,l.index),routesMeta:y})};return t.forEach((l,d)=>{if(l.path===""||!l.path?.includes("?"))i(l,d);else for(let u of sA(l.path))i(l,d,u)}),e}function sA(t){let e=t.split("/");if(e.length===0)return[];let[a,...n]=e,i=a.endsWith("?"),l=a.replace(/\?$/,"");if(n.length===0)return i?[l,""]:[l];let d=sA(n.join("/")),u=[];return u.push(...d.map(h=>h===""?l:[l,h].join("/"))),i&&u.push(...d),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function aI(t){t.sort((e,a)=>e.score!==a.score?a.score-e.score:dI(e.routesMeta.map(n=>n.childrenIndex),a.routesMeta.map(n=>n.childrenIndex)))}var nI=/^:[\w-]+$/,rI=3,iI=2,oI=1,sI=10,lI=-2,qT=t=>t==="*";function cI(t,e){let a=t.split("/"),n=a.length;return a.some(qT)&&(n+=lI),e&&(n+=iI),a.filter(i=>!qT(i)).reduce((i,l)=>i+(nI.test(l)?rI:l===""?oI:sI),n)}function dI(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function uI(t,e,a=!1){let{routesMeta:n}=t,i={},l="/",d=[];for(let u=0;u<n.length;++u){let h=n[u],m=u===n.length-1,y=l==="/"?e:e.slice(l.length)||"/",v=Cg({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},y),x=h.route;if(!v&&m&&a&&!n[n.length-1].route.index&&(v=Cg({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!v)return null;Object.assign(i,v.params),d.push({params:i,pathname:Po([l,v.pathname]),pathnameBase:yI(Po([l,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(l=Po([l,v.pathnameBase]))}return d}function Cg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[a,n]=pI(t.path,t.caseSensitive,t.end),i=e.match(a);if(!i)return null;let l=i[0],d=l.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((m,{paramName:y,isOptional:v},x)=>{if(y==="*"){let C=u[x]||"";d=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const T=u[x];return v&&!T?m[y]=void 0:m[y]=(T||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:d,pattern:t}}function pI(t,e=!1,a=!0){ui(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,u,h)=>(n.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function hI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ui(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Wo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let a=e.endsWith("/")?e.length-1:e.length,n=t.charAt(a);return n&&n!=="/"?null:t.slice(a)||"/"}function mI(t,e="/"){let{pathname:a,search:n="",hash:i=""}=typeof t=="string"?Md(t):t;return{pathname:a?a.startsWith("/")?a:gI(a,e):e,search:bI(n),hash:vI(i)}}function gI(t,e){let a=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?a.length>1&&a.pop():i!=="."&&a.push(i)}),a.length>1?a.join("/"):"/"}function Qb(t,e,a,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fI(t){return t.filter((e,a)=>a===0||e.route.path&&e.route.path.length>0)}function Lx(t){let e=fI(t);return e.map((a,n)=>n===e.length-1?a.pathname:a.pathnameBase)}function Vx(t,e,a,n=!1){let i;typeof t=="string"?i=Md(t):(i={...t},ja(!i.pathname||!i.pathname.includes("?"),Qb("?","pathname","search",i)),ja(!i.pathname||!i.pathname.includes("#"),Qb("#","pathname","hash",i)),ja(!i.search||!i.search.includes("#"),Qb("#","search","hash",i)));let l=t===""||i.pathname==="",d=l?"/":i.pathname,u;if(d==null)u=a;else{let v=e.length-1;if(!n&&d.startsWith("..")){let x=d.split("/");for(;x[0]==="..";)x.shift(),v-=1;i.pathname=x.join("/")}u=v>=0?e[v]:"/"}let h=mI(i,u),m=d&&d!=="/"&&d.endsWith("/"),y=(l||d===".")&&a.endsWith("/");return!h.pathname.endsWith("/")&&(m||y)&&(h.pathname+="/"),h}var Po=t=>t.join("/").replace(/\/\/+/g,"/"),yI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),bI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,vI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function xI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var lA=["POST","PUT","PATCH","DELETE"];new Set(lA);var wI=["GET",...lA];new Set(wI);var Rd=w.createContext(null);Rd.displayName="DataRouter";var nf=w.createContext(null);nf.displayName="DataRouterState";w.createContext(!1);var cA=w.createContext({isTransitioning:!1});cA.displayName="ViewTransition";var SI=w.createContext(new Map);SI.displayName="Fetchers";var TI=w.createContext(null);TI.displayName="Await";var mi=w.createContext(null);mi.displayName="Navigation";var Gp=w.createContext(null);Gp.displayName="Location";var Zi=w.createContext({outlet:null,matches:[],isDataRoute:!1});Zi.displayName="Route";var Ux=w.createContext(null);Ux.displayName="RouteError";function CI(t,{relative:e}={}){ja(Ad(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:n}=w.useContext(mi),{hash:i,pathname:l,search:d}=Kp(t,{relative:e}),u=l;return a!=="/"&&(u=l==="/"?a:Po([a,l])),n.createHref({pathname:u,search:d,hash:i})}function Ad(){return w.useContext(Gp)!=null}function Bo(){return ja(Ad(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Gp).location}var dA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function uA(t){w.useContext(mi).static||w.useLayoutEffect(t)}function Us(){let{isDataRoute:t}=w.useContext(Zi);return t?VI():MI()}function MI(){ja(Ad(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(Rd),{basename:e,navigator:a}=w.useContext(mi),{matches:n}=w.useContext(Zi),{pathname:i}=Bo(),l=JSON.stringify(Lx(n)),d=w.useRef(!1);return uA(()=>{d.current=!0}),w.useCallback((h,m={})=>{if(ui(d.current,dA),!d.current)return;if(typeof h=="number"){a.go(h);return}let y=Vx(h,JSON.parse(l),i,m.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Po([e,y.pathname])),(m.replace?a.replace:a.push)(y,m.state,m)},[e,a,l,i,t])}w.createContext(null);function Kp(t,{relative:e}={}){let{matches:a}=w.useContext(Zi),{pathname:n}=Bo(),i=JSON.stringify(Lx(a));return w.useMemo(()=>Vx(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function RI(t,e){return pA(t,e)}function pA(t,e,a,n){ja(Ad(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=w.useContext(mi),{matches:l}=w.useContext(Zi),d=l[l.length-1],u=d?d.params:{},h=d?d.pathname:"/",m=d?d.pathnameBase:"/",y=d&&d.route;{let M=y&&y.path||"";hA(h,!y||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let v=Bo(),x;if(e){let M=typeof e=="string"?Md(e):e;ja(m==="/"||M.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${M.pathname}" was given in the \`location\` prop.`),x=M}else x=v;let T=x.pathname||"/",C=T;if(m!=="/"){let M=m.replace(/^\//,"").split("/");C="/"+T.replace(/^\//,"").split("/").slice(M.length).join("/")}let j=iA(t,{pathname:C});ui(y||j!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),ui(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=jI(j&&j.map(M=>Object.assign({},M,{params:Object.assign({},u,M.params),pathname:Po([m,i.encodeLocation?i.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?m:Po([m,i.encodeLocation?i.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),l,a,n);return e&&E?w.createElement(Gp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},E):E}function AI(){let t=LI(),e=xI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),a=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},l={padding:"2px 4px",backgroundColor:n},d=null;return console.error("Error handled by React Router default ErrorBoundary:",t),d=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:l},"ErrorBoundary")," or"," ",w.createElement("code",{style:l},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),a?w.createElement("pre",{style:i},a):null,d)}var kI=w.createElement(AI,null),EI=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?w.createElement(Zi.Provider,{value:this.props.routeContext},w.createElement(Ux.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _I({routeContext:t,match:e,children:a}){let n=w.useContext(Rd);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(Zi.Provider,{value:t},a)}function jI(t,e=[],a=null,n=null){if(t==null){if(!a)return null;if(a.errors)t=a.matches;else if(e.length===0&&!a.initialized&&a.matches.length>0)t=a.matches;else return null}let i=t,l=a?.errors;if(l!=null){let h=i.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);ja(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let d=!1,u=-1;if(a)for(let h=0;h<i.length;h++){let m=i[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=h),m.route.id){let{loaderData:y,errors:v}=a,x=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||x){d=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((h,m,y)=>{let v,x=!1,T=null,C=null;a&&(v=l&&m.route.id?l[m.route.id]:void 0,T=m.route.errorElement||kI,d&&(u<0&&y===0?(hA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,C=null):u===y&&(x=!0,C=m.route.hydrateFallbackElement||null)));let j=e.concat(i.slice(0,y+1)),E=()=>{let M;return v?M=T:x?M=C:m.route.Component?M=w.createElement(m.route.Component,null):m.route.element?M=m.route.element:M=h,w.createElement(_I,{match:m,routeContext:{outlet:h,matches:j,isDataRoute:a!=null},children:M})};return a&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?w.createElement(EI,{location:a.location,revalidation:a.revalidation,component:T,error:v,children:E(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):E()},null)}function Ox(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function II(t){let e=w.useContext(Rd);return ja(e,Ox(t)),e}function PI(t){let e=w.useContext(nf);return ja(e,Ox(t)),e}function WI(t){let e=w.useContext(Zi);return ja(e,Ox(t)),e}function zx(t){let e=WI(t),a=e.matches[e.matches.length-1];return ja(a.route.id,`${t} can only be used on routes that contain a unique "id"`),a.route.id}function DI(){return zx("useRouteId")}function LI(){let t=w.useContext(Ux),e=PI("useRouteError"),a=zx("useRouteError");return t!==void 0?t:e.errors?.[a]}function VI(){let{router:t}=II("useNavigate"),e=zx("useNavigate"),a=w.useRef(!1);return uA(()=>{a.current=!0}),w.useCallback(async(i,l={})=>{ui(a.current,dA),a.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...l}))},[t,e])}var HT={};function hA(t,e,a){!e&&!HT[t]&&(HT[t]=!0,ui(!1,a))}w.memo(UI);function UI({routes:t,future:e,state:a}){return pA(t,void 0,a,e)}function OI({to:t,replace:e,state:a,relative:n}){ja(Ad(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=w.useContext(mi);ui(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=w.useContext(Zi),{pathname:d}=Bo(),u=Us(),h=Vx(t,Lx(l),d,n==="path"),m=JSON.stringify(h);return w.useEffect(()=>{u(JSON.parse(m),{replace:e,state:a,relative:n})},[u,m,n,e,a]),null}function Hn(t){ja(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zI({basename:t="/",children:e=null,location:a,navigationType:n="POP",navigator:i,static:l=!1}){ja(!Ad(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:d,navigator:i,static:l,future:{}}),[d,i,l]);typeof a=="string"&&(a=Md(a));let{pathname:h="/",search:m="",hash:y="",state:v=null,key:x="default"}=a,T=w.useMemo(()=>{let C=Wo(h,d);return C==null?null:{location:{pathname:C,search:m,hash:y,state:v,key:x},navigationType:n}},[d,h,m,y,v,x,n]);return ui(T!=null,`<Router basename="${d}"> is not able to match the URL "${h}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:w.createElement(mi.Provider,{value:u},w.createElement(Gp.Provider,{children:e,value:T}))}function BI({children:t,location:e}){return RI(Uv(t),e)}function Uv(t,e=[]){let a=[];return w.Children.forEach(t,(n,i)=>{if(!w.isValidElement(n))return;let l=[...e,i];if(n.type===w.Fragment){a.push.apply(a,Uv(n.props.children,l));return}ja(n.type===Hn,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ja(!n.props.index||!n.props.children,"An index route cannot have child routes.");let d={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(d.children=Uv(n.props.children,l)),a.push(d)}),a}var ig="get",og="application/x-www-form-urlencoded";function rf(t){return t!=null&&typeof t.tagName=="string"}function NI(t){return rf(t)&&t.tagName.toLowerCase()==="button"}function FI(t){return rf(t)&&t.tagName.toLowerCase()==="form"}function qI(t){return rf(t)&&t.tagName.toLowerCase()==="input"}function HI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function $I(t,e){return t.button===0&&(!e||e==="_self")&&!HI(t)}var Vm=null;function GI(){if(Vm===null)try{new FormData(document.createElement("form"),0),Vm=!1}catch{Vm=!0}return Vm}var KI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Jb(t){return t!=null&&!KI.has(t)?(ui(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${og}"`),null):t}function YI(t,e){let a,n,i,l,d;if(FI(t)){let u=t.getAttribute("action");n=u?Wo(u,e):null,a=t.getAttribute("method")||ig,i=Jb(t.getAttribute("enctype"))||og,l=new FormData(t)}else if(NI(t)||qI(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||u.getAttribute("action");if(n=h?Wo(h,e):null,a=t.getAttribute("formmethod")||u.getAttribute("method")||ig,i=Jb(t.getAttribute("formenctype"))||Jb(u.getAttribute("enctype"))||og,l=new FormData(u,t),!GI()){let{name:m,type:y,value:v}=t;if(y==="image"){let x=m?`${m}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else m&&l.append(m,v)}}else{if(rf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=ig,n=null,i=og,d=t}return l&&i==="text/plain"&&(d=l,l=void 0),{action:n,method:a.toLowerCase(),encType:i,formData:l,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Bx(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function XI(t,e,a){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${a}`:e&&Wo(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${a}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${a}`,n}async function QI(t,e){if(t.id in e)return e[t.id];try{let a=await import(t.module);return e[t.id]=a,a}catch(a){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function JI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function ZI(t,e,a){let n=await Promise.all(t.map(async i=>{let l=e.routes[i.route.id];if(l){let d=await QI(l,a);return d.links?d.links():[]}return[]}));return n5(n.flat(1).filter(JI).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function $T(t,e,a,n,i,l){let d=(h,m)=>a[m]?h.route.id!==a[m].route.id:!0,u=(h,m)=>a[m].pathname!==h.pathname||a[m].route.path?.endsWith("*")&&a[m].params["*"]!==h.params["*"];return l==="assets"?e.filter((h,m)=>d(h,m)||u(h,m)):l==="data"?e.filter((h,m)=>{let y=n.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(d(h,m)||u(h,m))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function e5(t,e,{includeHydrateFallback:a}={}){return t5(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),a&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function t5(t){return[...new Set(t)]}function a5(t){let e={},a=Object.keys(t).sort();for(let n of a)e[n]=t[n];return e}function n5(t,e){let a=new Set;return new Set(e),t.reduce((n,i)=>{let l=JSON.stringify(a5(i));return a.has(l)||(a.add(l),n.push({key:l,link:i})),n},[])}function mA(){let t=w.useContext(Rd);return Bx(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function r5(){let t=w.useContext(nf);return Bx(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Nx=w.createContext(void 0);Nx.displayName="FrameworkContext";function gA(){let t=w.useContext(Nx);return Bx(t,"You must render this element inside a <HydratedRouter> element"),t}function i5(t,e){let a=w.useContext(Nx),[n,i]=w.useState(!1),[l,d]=w.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:m,onMouseLeave:y,onTouchStart:v}=e,x=w.useRef(null);w.useEffect(()=>{if(t==="render"&&d(!0),t==="viewport"){let j=M=>{M.forEach(L=>{d(L.isIntersecting)})},E=new IntersectionObserver(j,{threshold:.5});return x.current&&E.observe(x.current),()=>{E.disconnect()}}},[t]),w.useEffect(()=>{if(n){let j=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(j)}}},[n]);let T=()=>{i(!0)},C=()=>{i(!1),d(!1)};return a?t!=="intent"?[l,x,{}]:[l,x,{onFocus:qu(u,T),onBlur:qu(h,C),onMouseEnter:qu(m,T),onMouseLeave:qu(y,C),onTouchStart:qu(v,T)}]:[!1,x,{}]}function qu(t,e){return a=>{t&&t(a),a.defaultPrevented||e(a)}}function o5({page:t,...e}){let{router:a}=mA(),n=w.useMemo(()=>iA(a.routes,t,a.basename),[a.routes,t,a.basename]);return n?w.createElement(l5,{page:t,matches:n,...e}):null}function s5(t){let{manifest:e,routeModules:a}=gA(),[n,i]=w.useState([]);return w.useEffect(()=>{let l=!1;return ZI(t,e,a).then(d=>{l||i(d)}),()=>{l=!0}},[t,e,a]),n}function l5({page:t,matches:e,...a}){let n=Bo(),{manifest:i,routeModules:l}=gA(),{basename:d}=mA(),{loaderData:u,matches:h}=r5(),m=w.useMemo(()=>$T(t,e,h,i,n,"data"),[t,e,h,i,n]),y=w.useMemo(()=>$T(t,e,h,i,n,"assets"),[t,e,h,i,n]),v=w.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let C=new Set,j=!1;if(e.forEach(M=>{let L=i.routes[M.route.id];!L||!L.hasLoader||(!m.some(W=>W.route.id===M.route.id)&&M.route.id in u&&l[M.route.id]?.shouldRevalidate||L.hasClientLoader?j=!0:C.add(M.route.id))}),C.size===0)return[];let E=XI(t,d,"data");return j&&C.size>0&&E.searchParams.set("_routes",e.filter(M=>C.has(M.route.id)).map(M=>M.route.id).join(",")),[E.pathname+E.search]},[d,u,n,i,m,e,t,l]),x=w.useMemo(()=>e5(y,i),[y,i]),T=s5(y);return w.createElement(w.Fragment,null,v.map(C=>w.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...a})),x.map(C=>w.createElement("link",{key:C,rel:"modulepreload",href:C,...a})),T.map(({key:C,link:j})=>w.createElement("link",{key:C,...j})))}function c5(...t){return e=>{t.forEach(a=>{typeof a=="function"?a(e):a!=null&&(a.current=e)})}}var fA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fA&&(window.__reactRouterVersion="7.7.1")}catch{}function d5({basename:t,children:e,window:a}){let n=w.useRef();n.current==null&&(n.current=Qj({window:a,v5Compat:!0}));let i=n.current,[l,d]=w.useState({action:i.action,location:i.location}),u=w.useCallback(h=>{w.startTransition(()=>d(h))},[d]);return w.useLayoutEffect(()=>i.listen(u),[i,u]),w.createElement(zI,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:i})}var yA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bA=w.forwardRef(function({onClick:e,discover:a="render",prefetch:n="none",relative:i,reloadDocument:l,replace:d,state:u,target:h,to:m,preventScrollReset:y,viewTransition:v,...x},T){let{basename:C}=w.useContext(mi),j=typeof m=="string"&&yA.test(m),E,M=!1;if(typeof m=="string"&&j&&(E=m,fA))try{let _=new URL(window.location.href),S=m.startsWith("//")?new URL(_.protocol+m):new URL(m),D=Wo(S.pathname,C);S.origin===_.origin&&D!=null?m=D+S.search+S.hash:M=!0}catch{ui(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=CI(m,{relative:i}),[W,R,I]=i5(n,x),N=m5(m,{replace:d,state:u,target:h,preventScrollReset:y,relative:i,viewTransition:v});function V(_){e&&e(_),_.defaultPrevented||N(_)}let A=w.createElement("a",{...x,...I,href:E||L,onClick:M||l?e:V,ref:c5(T,R),target:h,"data-discover":!j&&a==="render"?"true":void 0});return W&&!j?w.createElement(w.Fragment,null,A,w.createElement(o5,{page:L})):A});bA.displayName="Link";var u5=w.forwardRef(function({"aria-current":e="page",caseSensitive:a=!1,className:n="",end:i=!1,style:l,to:d,viewTransition:u,children:h,...m},y){let v=Kp(d,{relative:m.relative}),x=Bo(),T=w.useContext(nf),{navigator:C,basename:j}=w.useContext(mi),E=T!=null&&v5(v)&&u===!0,M=C.encodeLocation?C.encodeLocation(v).pathname:v.pathname,L=x.pathname,W=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;a||(L=L.toLowerCase(),W=W?W.toLowerCase():null,M=M.toLowerCase()),W&&j&&(W=Wo(W,j)||W);const R=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let I=L===M||!i&&L.startsWith(M)&&L.charAt(R)==="/",N=W!=null&&(W===M||!i&&W.startsWith(M)&&W.charAt(M.length)==="/"),V={isActive:I,isPending:N,isTransitioning:E},A=I?e:void 0,_;typeof n=="function"?_=n(V):_=[n,I?"active":null,N?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let S=typeof l=="function"?l(V):l;return w.createElement(bA,{...m,"aria-current":A,className:_,ref:y,style:S,to:d,viewTransition:u},typeof h=="function"?h(V):h)});u5.displayName="NavLink";var p5=w.forwardRef(({discover:t="render",fetcherKey:e,navigate:a,reloadDocument:n,replace:i,state:l,method:d=ig,action:u,onSubmit:h,relative:m,preventScrollReset:y,viewTransition:v,...x},T)=>{let C=y5(),j=b5(u,{relative:m}),E=d.toLowerCase()==="get"?"get":"post",M=typeof u=="string"&&yA.test(u),L=W=>{if(h&&h(W),W.defaultPrevented)return;W.preventDefault();let R=W.nativeEvent.submitter,I=R?.getAttribute("formmethod")||d;C(R||W.currentTarget,{fetcherKey:e,method:I,navigate:a,replace:i,state:l,relative:m,preventScrollReset:y,viewTransition:v})};return w.createElement("form",{ref:T,method:E,action:j,onSubmit:n?h:L,...x,"data-discover":!M&&t==="render"?"true":void 0})});p5.displayName="Form";function h5(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vA(t){let e=w.useContext(Rd);return ja(e,h5(t)),e}function m5(t,{target:e,replace:a,state:n,preventScrollReset:i,relative:l,viewTransition:d}={}){let u=Us(),h=Bo(),m=Kp(t,{relative:l});return w.useCallback(y=>{if($I(y,e)){y.preventDefault();let v=a!==void 0?a:Ep(h)===Ep(m);u(t,{replace:v,state:n,preventScrollReset:i,relative:l,viewTransition:d})}},[h,u,m,a,n,e,t,i,l,d])}var g5=0,f5=()=>`__${String(++g5)}__`;function y5(){let{router:t}=vA("useSubmit"),{basename:e}=w.useContext(mi),a=DI();return w.useCallback(async(n,i={})=>{let{action:l,method:d,encType:u,formData:h,body:m}=YI(n,e);if(i.navigate===!1){let y=i.fetcherKey||f5();await t.fetch(y,a,i.action||l,{preventScrollReset:i.preventScrollReset,formData:h,body:m,formMethod:i.method||d,formEncType:i.encType||u,flushSync:i.flushSync})}else await t.navigate(i.action||l,{preventScrollReset:i.preventScrollReset,formData:h,body:m,formMethod:i.method||d,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:a,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,a])}function b5(t,{relative:e}={}){let{basename:a}=w.useContext(mi),n=w.useContext(Zi);ja(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),l={...Kp(t||".",{relative:e})},d=Bo();if(t==null){l.search=d.search;let u=new URLSearchParams(l.search),h=u.getAll("index");if(h.some(y=>y==="")){u.delete("index"),h.filter(v=>v).forEach(v=>u.append("index",v));let y=u.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(l.pathname=l.pathname==="/"?a:Po([a,l.pathname])),Ep(l)}function v5(t,{relative:e}={}){let a=w.useContext(cA);ja(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=vA("useViewTransitionState"),i=Kp(t,{relative:e});if(!a.isTransitioning)return!1;let l=Wo(a.currentLocation.pathname,n)||a.currentLocation.pathname,d=Wo(a.nextLocation.pathname,n)||a.nextLocation.pathname;return Cg(i.pathname,d)!=null||Cg(i.pathname,l)!=null}var xA=rA();const Um=nA(xA),_p={black:"#000",white:"#fff"},Vc={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Uc={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Oc={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},zc={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Bc={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Hu={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},x5={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Do(t,...e){const a=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(n=>a.searchParams.append("args[]",n)),`Minified MUI error #${t}; visit ${a} for the full message.`}const si="$$material";function Mg(){return Mg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)({}).hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Mg.apply(null,arguments)}function w5(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function S5(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var T5=function(){function t(a){var n=this;this._insertTag=function(i){var l;n.tags.length===0?n.insertionPoint?l=n.insertionPoint.nextSibling:n.prepend?l=n.container.firstChild:l=n.before:l=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,l),n.tags.push(i)},this.isSpeedy=a.speedy===void 0?!0:a.speedy,this.tags=[],this.ctr=0,this.nonce=a.nonce,this.key=a.key,this.container=a.container,this.prepend=a.prepend,this.insertionPoint=a.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(S5(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var l=w5(i);try{l.insertRule(n,l.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var i;return(i=n.parentNode)==null?void 0:i.removeChild(n)}),this.tags=[],this.ctr=0},t}(),Ln="-ms-",Rg="-moz-",ra="-webkit-",wA="comm",Fx="rule",qx="decl",C5="@import",SA="@keyframes",M5="@layer",R5=Math.abs,of=String.fromCharCode,A5=Object.assign;function k5(t,e){return kn(t,0)^45?(((e<<2^kn(t,0))<<2^kn(t,1))<<2^kn(t,2))<<2^kn(t,3):0}function TA(t){return t.trim()}function E5(t,e){return(t=e.exec(t))?t[0]:t}function ia(t,e,a){return t.replace(e,a)}function Ov(t,e){return t.indexOf(e)}function kn(t,e){return t.charCodeAt(e)|0}function jp(t,e,a){return t.slice(e,a)}function Li(t){return t.length}function Hx(t){return t.length}function Om(t,e){return e.push(t),t}function _5(t,e){return t.map(e).join("")}var sf=1,sd=1,CA=0,cr=0,tn=0,kd="";function lf(t,e,a,n,i,l,d){return{value:t,root:e,parent:a,type:n,props:i,children:l,line:sf,column:sd,length:d,return:""}}function $u(t,e){return A5(lf("",null,null,"",null,null,0),t,{length:-t.length},e)}function j5(){return tn}function I5(){return tn=cr>0?kn(kd,--cr):0,sd--,tn===10&&(sd=1,sf--),tn}function Sr(){return tn=cr<CA?kn(kd,cr++):0,sd++,tn===10&&(sd=1,sf++),tn}function zi(){return kn(kd,cr)}function sg(){return cr}function Yp(t,e){return jp(kd,t,e)}function Ip(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function MA(t){return sf=sd=1,CA=Li(kd=t),cr=0,[]}function RA(t){return kd="",t}function lg(t){return TA(Yp(cr-1,zv(t===91?t+2:t===40?t+1:t)))}function P5(t){for(;(tn=zi())&&tn<33;)Sr();return Ip(t)>2||Ip(tn)>3?"":" "}function W5(t,e){for(;--e&&Sr()&&!(tn<48||tn>102||tn>57&&tn<65||tn>70&&tn<97););return Yp(t,sg()+(e<6&&zi()==32&&Sr()==32))}function zv(t){for(;Sr();)switch(tn){case t:return cr;case 34:case 39:t!==34&&t!==39&&zv(tn);break;case 40:t===41&&zv(t);break;case 92:Sr();break}return cr}function D5(t,e){for(;Sr()&&t+tn!==57;)if(t+tn===84&&zi()===47)break;return"/*"+Yp(e,cr-1)+"*"+of(t===47?t:Sr())}function L5(t){for(;!Ip(zi());)Sr();return Yp(t,cr)}function V5(t){return RA(cg("",null,null,null,[""],t=MA(t),0,[0],t))}function cg(t,e,a,n,i,l,d,u,h){for(var m=0,y=0,v=d,x=0,T=0,C=0,j=1,E=1,M=1,L=0,W="",R=i,I=l,N=n,V=W;E;)switch(C=L,L=Sr()){case 40:if(C!=108&&kn(V,v-1)==58){Ov(V+=ia(lg(L),"&","&\f"),"&\f")!=-1&&(M=-1);break}case 34:case 39:case 91:V+=lg(L);break;case 9:case 10:case 13:case 32:V+=P5(C);break;case 92:V+=W5(sg()-1,7);continue;case 47:switch(zi()){case 42:case 47:Om(U5(D5(Sr(),sg()),e,a),h);break;default:V+="/"}break;case 123*j:u[m++]=Li(V)*M;case 125*j:case 59:case 0:switch(L){case 0:case 125:E=0;case 59+y:M==-1&&(V=ia(V,/\f/g,"")),T>0&&Li(V)-v&&Om(T>32?KT(V+";",n,a,v-1):KT(ia(V," ","")+";",n,a,v-2),h);break;case 59:V+=";";default:if(Om(N=GT(V,e,a,m,y,i,u,W,R=[],I=[],v),l),L===123)if(y===0)cg(V,e,N,N,R,l,v,u,I);else switch(x===99&&kn(V,3)===110?100:x){case 100:case 108:case 109:case 115:cg(t,N,N,n&&Om(GT(t,N,N,0,0,i,u,W,i,R=[],v),I),i,I,v,u,n?R:I);break;default:cg(V,N,N,N,[""],I,0,u,I)}}m=y=T=0,j=M=1,W=V="",v=d;break;case 58:v=1+Li(V),T=C;default:if(j<1){if(L==123)--j;else if(L==125&&j++==0&&I5()==125)continue}switch(V+=of(L),L*j){case 38:M=y>0?1:(V+="\f",-1);break;case 44:u[m++]=(Li(V)-1)*M,M=1;break;case 64:zi()===45&&(V+=lg(Sr())),x=zi(),y=v=Li(W=V+=L5(sg())),L++;break;case 45:C===45&&Li(V)==2&&(j=0)}}return l}function GT(t,e,a,n,i,l,d,u,h,m,y){for(var v=i-1,x=i===0?l:[""],T=Hx(x),C=0,j=0,E=0;C<n;++C)for(var M=0,L=jp(t,v+1,v=R5(j=d[C])),W=t;M<T;++M)(W=TA(j>0?x[M]+" "+L:ia(L,/&\f/g,x[M])))&&(h[E++]=W);return lf(t,e,a,i===0?Fx:u,h,m,y)}function U5(t,e,a){return lf(t,e,a,wA,of(j5()),jp(t,2,-2),0)}function KT(t,e,a,n){return lf(t,e,a,qx,jp(t,0,n),jp(t,n+1,-1),n)}function ed(t,e){for(var a="",n=Hx(t),i=0;i<n;i++)a+=e(t[i],i,t,e)||"";return a}function O5(t,e,a,n){switch(t.type){case M5:if(t.children.length)break;case C5:case qx:return t.return=t.return||t.value;case wA:return"";case SA:return t.return=t.value+"{"+ed(t.children,n)+"}";case Fx:t.value=t.props.join(",")}return Li(a=ed(t.children,n))?t.return=t.value+"{"+a+"}":""}function z5(t){var e=Hx(t);return function(a,n,i,l){for(var d="",u=0;u<e;u++)d+=t[u](a,n,i,l)||"";return d}}function B5(t){return function(e){e.root||(e=e.return)&&t(e)}}function AA(t){var e=Object.create(null);return function(a){return e[a]===void 0&&(e[a]=t(a)),e[a]}}var N5=function(e,a,n){for(var i=0,l=0;i=l,l=zi(),i===38&&l===12&&(a[n]=1),!Ip(l);)Sr();return Yp(e,cr)},F5=function(e,a){var n=-1,i=44;do switch(Ip(i)){case 0:i===38&&zi()===12&&(a[n]=1),e[n]+=N5(cr-1,a,n);break;case 2:e[n]+=lg(i);break;case 4:if(i===44){e[++n]=zi()===58?"&\f":"",a[n]=e[n].length;break}default:e[n]+=of(i)}while(i=Sr());return e},q5=function(e,a){return RA(F5(MA(e),a))},YT=new WeakMap,H5=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var a=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&a.charCodeAt(0)!==58&&!YT.get(n))&&!i){YT.set(e,!0);for(var l=[],d=q5(a,l),u=n.props,h=0,m=0;h<d.length;h++)for(var y=0;y<u.length;y++,m++)e.props[m]=l[h]?d[h].replace(/&\f/g,u[y]):u[y]+" "+d[h]}}},$5=function(e){if(e.type==="decl"){var a=e.value;a.charCodeAt(0)===108&&a.charCodeAt(2)===98&&(e.return="",e.value="")}};function kA(t,e){switch(k5(t,e)){case 5103:return ra+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ra+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ra+t+Rg+t+Ln+t+t;case 6828:case 4268:return ra+t+Ln+t+t;case 6165:return ra+t+Ln+"flex-"+t+t;case 5187:return ra+t+ia(t,/(\w+).+(:[^]+)/,ra+"box-$1$2"+Ln+"flex-$1$2")+t;case 5443:return ra+t+Ln+"flex-item-"+ia(t,/flex-|-self/,"")+t;case 4675:return ra+t+Ln+"flex-line-pack"+ia(t,/align-content|flex-|-self/,"")+t;case 5548:return ra+t+Ln+ia(t,"shrink","negative")+t;case 5292:return ra+t+Ln+ia(t,"basis","preferred-size")+t;case 6060:return ra+"box-"+ia(t,"-grow","")+ra+t+Ln+ia(t,"grow","positive")+t;case 4554:return ra+ia(t,/([^-])(transform)/g,"$1"+ra+"$2")+t;case 6187:return ia(ia(ia(t,/(zoom-|grab)/,ra+"$1"),/(image-set)/,ra+"$1"),t,"")+t;case 5495:case 3959:return ia(t,/(image-set\([^]*)/,ra+"$1$`$1");case 4968:return ia(ia(t,/(.+:)(flex-)?(.*)/,ra+"box-pack:$3"+Ln+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ra+t+t;case 4095:case 3583:case 4068:case 2532:return ia(t,/(.+)-inline(.+)/,ra+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Li(t)-1-e>6)switch(kn(t,e+1)){case 109:if(kn(t,e+4)!==45)break;case 102:return ia(t,/(.+:)(.+)-([^]+)/,"$1"+ra+"$2-$3$1"+Rg+(kn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Ov(t,"stretch")?kA(ia(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(kn(t,e+1)!==115)break;case 6444:switch(kn(t,Li(t)-3-(~Ov(t,"!important")&&10))){case 107:return ia(t,":",":"+ra)+t;case 101:return ia(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ra+(kn(t,14)===45?"inline-":"")+"box$3$1"+ra+"$2$3$1"+Ln+"$2box$3")+t}break;case 5936:switch(kn(t,e+11)){case 114:return ra+t+Ln+ia(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ra+t+Ln+ia(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ra+t+Ln+ia(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return ra+t+Ln+t+t}return t}var G5=function(e,a,n,i){if(e.length>-1&&!e.return)switch(e.type){case qx:e.return=kA(e.value,e.length);break;case SA:return ed([$u(e,{value:ia(e.value,"@","@"+ra)})],i);case Fx:if(e.length)return _5(e.props,function(l){switch(E5(l,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ed([$u(e,{props:[ia(l,/:(read-\w+)/,":"+Rg+"$1")]})],i);case"::placeholder":return ed([$u(e,{props:[ia(l,/:(plac\w+)/,":"+ra+"input-$1")]}),$u(e,{props:[ia(l,/:(plac\w+)/,":"+Rg+"$1")]}),$u(e,{props:[ia(l,/:(plac\w+)/,Ln+"input-$1")]})],i)}return""})}},K5=[G5],Y5=function(e){var a=e.key;if(a==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(j){var E=j.getAttribute("data-emotion");E.indexOf(" ")!==-1&&(document.head.appendChild(j),j.setAttribute("data-s",""))})}var i=e.stylisPlugins||K5,l={},d,u=[];d=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+a+' "]'),function(j){for(var E=j.getAttribute("data-emotion").split(" "),M=1;M<E.length;M++)l[E[M]]=!0;u.push(j)});var h,m=[H5,$5];{var y,v=[O5,B5(function(j){y.insert(j)})],x=z5(m.concat(i,v)),T=function(E){return ed(V5(E),x)};h=function(E,M,L,W){y=L,T(E?E+"{"+M.styles+"}":M.styles),W&&(C.inserted[M.name]=!0)}}var C={key:a,sheet:new T5({key:a,container:d,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:l,registered:{},insert:h};return C.sheet.hydrate(u),C},Zb={exports:{}},la={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XT;function X5(){if(XT)return la;XT=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,a=t?Symbol.for("react.portal"):60106,n=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,l=t?Symbol.for("react.profiler"):60114,d=t?Symbol.for("react.provider"):60109,u=t?Symbol.for("react.context"):60110,h=t?Symbol.for("react.async_mode"):60111,m=t?Symbol.for("react.concurrent_mode"):60111,y=t?Symbol.for("react.forward_ref"):60112,v=t?Symbol.for("react.suspense"):60113,x=t?Symbol.for("react.suspense_list"):60120,T=t?Symbol.for("react.memo"):60115,C=t?Symbol.for("react.lazy"):60116,j=t?Symbol.for("react.block"):60121,E=t?Symbol.for("react.fundamental"):60117,M=t?Symbol.for("react.responder"):60118,L=t?Symbol.for("react.scope"):60119;function W(I){if(typeof I=="object"&&I!==null){var N=I.$$typeof;switch(N){case e:switch(I=I.type,I){case h:case m:case n:case l:case i:case v:return I;default:switch(I=I&&I.$$typeof,I){case u:case y:case C:case T:case d:return I;default:return N}}case a:return N}}}function R(I){return W(I)===m}return la.AsyncMode=h,la.ConcurrentMode=m,la.ContextConsumer=u,la.ContextProvider=d,la.Element=e,la.ForwardRef=y,la.Fragment=n,la.Lazy=C,la.Memo=T,la.Portal=a,la.Profiler=l,la.StrictMode=i,la.Suspense=v,la.isAsyncMode=function(I){return R(I)||W(I)===h},la.isConcurrentMode=R,la.isContextConsumer=function(I){return W(I)===u},la.isContextProvider=function(I){return W(I)===d},la.isElement=function(I){return typeof I=="object"&&I!==null&&I.$$typeof===e},la.isForwardRef=function(I){return W(I)===y},la.isFragment=function(I){return W(I)===n},la.isLazy=function(I){return W(I)===C},la.isMemo=function(I){return W(I)===T},la.isPortal=function(I){return W(I)===a},la.isProfiler=function(I){return W(I)===l},la.isStrictMode=function(I){return W(I)===i},la.isSuspense=function(I){return W(I)===v},la.isValidElementType=function(I){return typeof I=="string"||typeof I=="function"||I===n||I===m||I===l||I===i||I===v||I===x||typeof I=="object"&&I!==null&&(I.$$typeof===C||I.$$typeof===T||I.$$typeof===d||I.$$typeof===u||I.$$typeof===y||I.$$typeof===E||I.$$typeof===M||I.$$typeof===L||I.$$typeof===j)},la.typeOf=W,la}var QT;function Q5(){return QT||(QT=1,Zb.exports=X5()),Zb.exports}var ev,JT;function J5(){if(JT)return ev;JT=1;var t=Q5(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};l[t.ForwardRef]=n,l[t.Memo]=i;function d(C){return t.isMemo(C)?i:l[C.$$typeof]||e}var u=Object.defineProperty,h=Object.getOwnPropertyNames,m=Object.getOwnPropertySymbols,y=Object.getOwnPropertyDescriptor,v=Object.getPrototypeOf,x=Object.prototype;function T(C,j,E){if(typeof j!="string"){if(x){var M=v(j);M&&M!==x&&T(C,M,E)}var L=h(j);m&&(L=L.concat(m(j)));for(var W=d(C),R=d(j),I=0;I<L.length;++I){var N=L[I];if(!a[N]&&!(E&&E[N])&&!(R&&R[N])&&!(W&&W[N])){var V=y(j,N);try{u(C,N,V)}catch{}}}}return C}return ev=T,ev}J5();var Z5=!0;function EA(t,e,a){var n="";return a.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(n+=i+" ")}),n}var $x=function(e,a,n){var i=e.key+"-"+a.name;(n===!1||Z5===!1)&&e.registered[i]===void 0&&(e.registered[i]=a.styles)},Gx=function(e,a,n){$x(e,a,n);var i=e.key+"-"+a.name;if(e.inserted[a.name]===void 0){var l=a;do e.insert(a===l?"."+i:"",l,e.sheet,!0),l=l.next;while(l!==void 0)}};function eP(t){for(var e=0,a,n=0,i=t.length;i>=4;++n,i-=4)a=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,a=(a&65535)*1540483477+((a>>>16)*59797<<16),a^=a>>>24,e=(a&65535)*1540483477+((a>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var tP={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},aP=/[A-Z]|^ms/g,nP=/_EMO_([^_]+?)_([^]*?)_EMO_/g,_A=function(e){return e.charCodeAt(1)===45},ZT=function(e){return e!=null&&typeof e!="boolean"},tv=AA(function(t){return _A(t)?t:t.replace(aP,"-$&").toLowerCase()}),eC=function(e,a){switch(e){case"animation":case"animationName":if(typeof a=="string")return a.replace(nP,function(n,i,l){return Vi={name:i,styles:l,next:Vi},i})}return tP[e]!==1&&!_A(e)&&typeof a=="number"&&a!==0?a+"px":a};function Pp(t,e,a){if(a==null)return"";var n=a;if(n.__emotion_styles!==void 0)return n;switch(typeof a){case"boolean":return"";case"object":{var i=a;if(i.anim===1)return Vi={name:i.name,styles:i.styles,next:Vi},i.name;var l=a;if(l.styles!==void 0){var d=l.next;if(d!==void 0)for(;d!==void 0;)Vi={name:d.name,styles:d.styles,next:Vi},d=d.next;var u=l.styles+";";return u}return rP(t,e,a)}case"function":{if(t!==void 0){var h=Vi,m=a(t);return Vi=h,Pp(t,e,m)}break}}var y=a;if(e==null)return y;var v=e[y];return v!==void 0?v:y}function rP(t,e,a){var n="";if(Array.isArray(a))for(var i=0;i<a.length;i++)n+=Pp(t,e,a[i])+";";else for(var l in a){var d=a[l];if(typeof d!="object"){var u=d;e!=null&&e[u]!==void 0?n+=l+"{"+e[u]+"}":ZT(u)&&(n+=tv(l)+":"+eC(l,u)+";")}else if(Array.isArray(d)&&typeof d[0]=="string"&&(e==null||e[d[0]]===void 0))for(var h=0;h<d.length;h++)ZT(d[h])&&(n+=tv(l)+":"+eC(l,d[h])+";");else{var m=Pp(t,e,d);switch(l){case"animation":case"animationName":{n+=tv(l)+":"+m+";";break}default:n+=l+"{"+m+"}"}}}return n}var tC=/label:\s*([^\s;{]+)\s*(;|$)/g,Vi;function Xp(t,e,a){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var n=!0,i="";Vi=void 0;var l=t[0];if(l==null||l.raw===void 0)n=!1,i+=Pp(a,e,l);else{var d=l;i+=d[0]}for(var u=1;u<t.length;u++)if(i+=Pp(a,e,t[u]),n){var h=l;i+=h[u]}tC.lastIndex=0;for(var m="",y;(y=tC.exec(i))!==null;)m+="-"+y[1];var v=eP(i)+m;return{name:v,styles:i,next:Vi}}var iP=function(e){return e()},jA=Tg.useInsertionEffect?Tg.useInsertionEffect:!1,IA=jA||iP,aC=jA||w.useLayoutEffect,PA=w.createContext(typeof HTMLElement<"u"?Y5({key:"css"}):null);PA.Provider;var Kx=function(e){return w.forwardRef(function(a,n){var i=w.useContext(PA);return e(a,i,n)})},Qp=w.createContext({}),Yx={}.hasOwnProperty,Bv="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",oP=function(e,a){var n={};for(var i in a)Yx.call(a,i)&&(n[i]=a[i]);return n[Bv]=e,n},sP=function(e){var a=e.cache,n=e.serialized,i=e.isStringTag;return $x(a,n,i),IA(function(){return Gx(a,n,i)}),null},lP=Kx(function(t,e,a){var n=t.css;typeof n=="string"&&e.registered[n]!==void 0&&(n=e.registered[n]);var i=t[Bv],l=[n],d="";typeof t.className=="string"?d=EA(e.registered,l,t.className):t.className!=null&&(d=t.className+" ");var u=Xp(l,void 0,w.useContext(Qp));d+=e.key+"-"+u.name;var h={};for(var m in t)Yx.call(t,m)&&m!=="css"&&m!==Bv&&(h[m]=t[m]);return h.className=d,a&&(h.ref=a),w.createElement(w.Fragment,null,w.createElement(sP,{cache:e,serialized:u,isStringTag:typeof i=="string"}),w.createElement(i,h))}),cP=lP,nC=function(e,a){var n=arguments;if(a==null||!Yx.call(a,"css"))return w.createElement.apply(void 0,n);var i=n.length,l=new Array(i);l[0]=cP,l[1]=oP(e,a);for(var d=2;d<i;d++)l[d]=n[d];return w.createElement.apply(null,l)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(nC||(nC={}));var dP=Kx(function(t,e){var a=t.styles,n=Xp([a],void 0,w.useContext(Qp)),i=w.useRef();return aC(function(){var l=e.key+"-global",d=new e.sheet.constructor({key:l,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),u=!1,h=document.querySelector('style[data-emotion="'+l+" "+n.name+'"]');return e.sheet.tags.length&&(d.before=e.sheet.tags[0]),h!==null&&(u=!0,h.setAttribute("data-emotion",l),d.hydrate([h])),i.current=[d,u],function(){d.flush()}},[e]),aC(function(){var l=i.current,d=l[0],u=l[1];if(u){l[1]=!1;return}if(n.next!==void 0&&Gx(e,n.next,!0),d.tags.length){var h=d.tags[d.tags.length-1].nextElementSibling;d.before=h,d.flush()}e.insert("",n,d,!1)},[e,n.name]),null});function Xx(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];return Xp(e)}function Jp(){var t=Xx.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var uP=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,pP=AA(function(t){return uP.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),hP=pP,mP=function(e){return e!=="theme"},rC=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?hP:mP},iC=function(e,a,n){var i;if(a){var l=a.shouldForwardProp;i=e.__emotion_forwardProp&&l?function(d){return e.__emotion_forwardProp(d)&&l(d)}:l}return typeof i!="function"&&n&&(i=e.__emotion_forwardProp),i},gP=function(e){var a=e.cache,n=e.serialized,i=e.isStringTag;return $x(a,n,i),IA(function(){return Gx(a,n,i)}),null},fP=function t(e,a){var n=e.__emotion_real===e,i=n&&e.__emotion_base||e,l,d;a!==void 0&&(l=a.label,d=a.target);var u=iC(e,a,n),h=u||rC(i),m=!h("as");return function(){var y=arguments,v=n&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(l!==void 0&&v.push("label:"+l+";"),y[0]==null||y[0].raw===void 0)v.push.apply(v,y);else{var x=y[0];v.push(x[0]);for(var T=y.length,C=1;C<T;C++)v.push(y[C],x[C])}var j=Kx(function(E,M,L){var W=m&&E.as||i,R="",I=[],N=E;if(E.theme==null){N={};for(var V in E)N[V]=E[V];N.theme=w.useContext(Qp)}typeof E.className=="string"?R=EA(M.registered,I,E.className):E.className!=null&&(R=E.className+" ");var A=Xp(v.concat(I),M.registered,N);R+=M.key+"-"+A.name,d!==void 0&&(R+=" "+d);var _=m&&u===void 0?rC(W):h,S={};for(var D in E)m&&D==="as"||_(D)&&(S[D]=E[D]);return S.className=R,L&&(S.ref=L),w.createElement(w.Fragment,null,w.createElement(gP,{cache:M,serialized:A,isStringTag:typeof W=="string"}),w.createElement(W,S))});return j.displayName=l!==void 0?l:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",j.defaultProps=e.defaultProps,j.__emotion_real=j,j.__emotion_base=i,j.__emotion_styles=v,j.__emotion_forwardProp=u,Object.defineProperty(j,"toString",{value:function(){return"."+d}}),j.withComponent=function(E,M){var L=t(E,Mg({},a,M,{shouldForwardProp:iC(j,M,!0)}));return L.apply(void 0,v)},j}},yP=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Nv=fP.bind(null);yP.forEach(function(t){Nv[t]=Nv(t)});function bP(t){return t==null||Object.keys(t).length===0}function WA(t){const{styles:e,defaultTheme:a={}}=t,n=typeof e=="function"?i=>e(bP(i)?a:i):e;return s.jsx(dP,{styles:n})}function DA(t,e){return Nv(t,e)}function vP(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const oC=[];function Ts(t){return oC[0]=t,Xp(oC)}var av={exports:{}},ya={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sC;function xP(){if(sC)return ya;sC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),d=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.view_transition"),T=Symbol.for("react.client.reference");function C(j){if(typeof j=="object"&&j!==null){var E=j.$$typeof;switch(E){case t:switch(j=j.type,j){case a:case i:case n:case h:case m:case x:return j;default:switch(j=j&&j.$$typeof,j){case d:case u:case v:case y:return j;case l:return j;default:return E}}case e:return E}}}return ya.ContextConsumer=l,ya.ContextProvider=d,ya.Element=t,ya.ForwardRef=u,ya.Fragment=a,ya.Lazy=v,ya.Memo=y,ya.Portal=e,ya.Profiler=i,ya.StrictMode=n,ya.Suspense=h,ya.SuspenseList=m,ya.isContextConsumer=function(j){return C(j)===l},ya.isContextProvider=function(j){return C(j)===d},ya.isElement=function(j){return typeof j=="object"&&j!==null&&j.$$typeof===t},ya.isForwardRef=function(j){return C(j)===u},ya.isFragment=function(j){return C(j)===a},ya.isLazy=function(j){return C(j)===v},ya.isMemo=function(j){return C(j)===y},ya.isPortal=function(j){return C(j)===e},ya.isProfiler=function(j){return C(j)===i},ya.isStrictMode=function(j){return C(j)===n},ya.isSuspense=function(j){return C(j)===h},ya.isSuspenseList=function(j){return C(j)===m},ya.isValidElementType=function(j){return typeof j=="string"||typeof j=="function"||j===a||j===i||j===n||j===h||j===m||typeof j=="object"&&j!==null&&(j.$$typeof===v||j.$$typeof===y||j.$$typeof===d||j.$$typeof===l||j.$$typeof===u||j.$$typeof===T||j.getModuleId!==void 0)},ya.typeOf=C,ya}var lC;function wP(){return lC||(lC=1,av.exports=xP()),av.exports}var LA=wP();function Ui(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function VA(t){if(w.isValidElement(t)||LA.isValidElementType(t)||!Ui(t))return t;const e={};return Object.keys(t).forEach(a=>{e[a]=VA(t[a])}),e}function vn(t,e,a={clone:!0}){const n=a.clone?{...t}:t;return Ui(t)&&Ui(e)&&Object.keys(e).forEach(i=>{w.isValidElement(e[i])||LA.isValidElementType(e[i])?n[i]=e[i]:Ui(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&Ui(t[i])?n[i]=vn(t[i],e[i],a):a.clone?n[i]=Ui(e[i])?VA(e[i]):e[i]:n[i]=e[i]}),n}const SP=t=>{const e=Object.keys(t).map(a=>({key:a,val:t[a]}))||[];return e.sort((a,n)=>a.val-n.val),e.reduce((a,n)=>({...a,[n.key]:n.val}),{})};function TP(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:a="px",step:n=5,...i}=t,l=SP(e),d=Object.keys(l);function u(x){return`@media (min-width:${typeof e[x]=="number"?e[x]:x}${a})`}function h(x){return`@media (max-width:${(typeof e[x]=="number"?e[x]:x)-n/100}${a})`}function m(x,T){const C=d.indexOf(T);return`@media (min-width:${typeof e[x]=="number"?e[x]:x}${a}) and (max-width:${(C!==-1&&typeof e[d[C]]=="number"?e[d[C]]:T)-n/100}${a})`}function y(x){return d.indexOf(x)+1<d.length?m(x,d[d.indexOf(x)+1]):u(x)}function v(x){const T=d.indexOf(x);return T===0?u(d[1]):T===d.length-1?h(d[T]):m(x,d[d.indexOf(x)+1]).replace("@media","@media not all and")}return{keys:d,values:l,up:u,down:h,between:m,only:y,not:v,unit:a,...i}}function cC(t,e){if(!t.containerQueries)return e;const a=Object.keys(e).filter(n=>n.startsWith("@container")).sort((n,i)=>{const l=/min-width:\s*([0-9.]+)/;return+(n.match(l)?.[1]||0)-+(i.match(l)?.[1]||0)});return a.length?a.reduce((n,i)=>{const l=e[i];return delete n[i],n[i]=l,n},{...e}):e}function CP(t,e){return e==="@"||e.startsWith("@")&&(t.some(a=>e.startsWith(`@${a}`))||!!e.match(/^@\d/))}function MP(t,e){const a=e.match(/^@([^/]+)?\/?(.+)?$/);if(!a)return null;const[,n,i]=a,l=Number.isNaN(+n)?n||0:+n;return t.containerQueries(i).up(l)}function RP(t){const e=(l,d)=>l.replace("@media",d?`@container ${d}`:"@container");function a(l,d){l.up=(...u)=>e(t.breakpoints.up(...u),d),l.down=(...u)=>e(t.breakpoints.down(...u),d),l.between=(...u)=>e(t.breakpoints.between(...u),d),l.only=(...u)=>e(t.breakpoints.only(...u),d),l.not=(...u)=>{const h=e(t.breakpoints.not(...u),d);return h.includes("not all and")?h.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):h}}const n={},i=l=>(a(n,l),n);return a(i),{...t,containerQueries:i}}const AP={borderRadius:4};function hp(t,e){return e?vn(t,e,{clone:!1}):t}const cf={xs:0,sm:600,md:900,lg:1200,xl:1536},dC={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${cf[t]}px)`},kP={containerQueries:t=>({up:e=>{let a=typeof e=="number"?e:cf[e]||e;return typeof a=="number"&&(a=`${a}px`),t?`@container ${t} (min-width:${a})`:`@container (min-width:${a})`}})};function pi(t,e,a){const n=t.theme||{};if(Array.isArray(e)){const l=n.breakpoints||dC;return e.reduce((d,u,h)=>(d[l.up(l.keys[h])]=a(e[h]),d),{})}if(typeof e=="object"){const l=n.breakpoints||dC;return Object.keys(e).reduce((d,u)=>{if(CP(l.keys,u)){const h=MP(n.containerQueries?n:kP,u);h&&(d[h]=a(e[u],u))}else if(Object.keys(l.values||cf).includes(u)){const h=l.up(u);d[h]=a(e[u],u)}else{const h=u;d[h]=e[h]}return d},{})}return a(e)}function UA(t={}){return t.keys?.reduce((a,n)=>{const i=t.up(n);return a[i]={},a},{})||{}}function Fv(t,e){return t.reduce((a,n)=>{const i=a[n];return(!i||Object.keys(i).length===0)&&delete a[n],a},e)}function EP(t,...e){const a=UA(t),n=[a,...e].reduce((i,l)=>vn(i,l),{});return Fv(Object.keys(a),n)}function _P(t,e){if(typeof t!="object")return{};const a={},n=Object.keys(e);return Array.isArray(t)?n.forEach((i,l)=>{l<t.length&&(a[i]=!0)}):n.forEach(i=>{t[i]!=null&&(a[i]=!0)}),a}function nv({values:t,breakpoints:e,base:a}){const n=a||_P(t,e),i=Object.keys(n);if(i.length===0)return t;let l;return i.reduce((d,u,h)=>(Array.isArray(t)?(d[u]=t[h]!=null?t[h]:t[l],l=h):typeof t=="object"?(d[u]=t[u]!=null?t[u]:t[l],l=u):d[u]=t,d),{})}function Ae(t){if(typeof t!="string")throw new Error(Do(7));return t.charAt(0).toUpperCase()+t.slice(1)}function df(t,e,a=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&a){const n=`vars.${e}`.split(".").reduce((i,l)=>i&&i[l]?i[l]:null,t);if(n!=null)return n}return e.split(".").reduce((n,i)=>n&&n[i]!=null?n[i]:null,t)}function Ag(t,e,a,n=a){let i;return typeof t=="function"?i=t(a):Array.isArray(t)?i=t[a]||n:i=df(t,a)||n,e&&(i=e(i,n,t)),i}function Ya(t){const{prop:e,cssProperty:a=t.prop,themeKey:n,transform:i}=t,l=d=>{if(d[e]==null)return null;const u=d[e],h=d.theme,m=df(h,n)||{};return pi(d,u,v=>{let x=Ag(m,i,v);return v===x&&typeof v=="string"&&(x=Ag(m,i,`${e}${v==="default"?"":Ae(v)}`,v)),a===!1?x:{[a]:x}})};return l.propTypes={},l.filterProps=[e],l}function jP(t){const e={};return a=>(e[a]===void 0&&(e[a]=t(a)),e[a])}const IP={m:"margin",p:"padding"},PP={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},uC={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},WP=jP(t=>{if(t.length>2)if(uC[t])t=uC[t];else return[t];const[e,a]=t.split(""),n=IP[e],i=PP[a]||"";return Array.isArray(i)?i.map(l=>n+l):[n+i]}),Qx=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Jx=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Qx,...Jx];function Zp(t,e,a,n){const i=df(t,e,!0)??a;return typeof i=="number"||typeof i=="string"?l=>typeof l=="string"?l:typeof i=="string"?i.startsWith("var(")&&l===0?0:i.startsWith("var(")&&l===1?i:`calc(${l} * ${i})`:i*l:Array.isArray(i)?l=>{if(typeof l=="string")return l;const d=Math.abs(l),u=i[d];return l>=0?u:typeof u=="number"?-u:typeof u=="string"&&u.startsWith("var(")?`calc(-1 * ${u})`:`-${u}`}:typeof i=="function"?i:()=>{}}function uf(t){return Zp(t,"spacing",8)}function Dl(t,e){return typeof e=="string"||e==null?e:t(e)}function DP(t,e){return a=>t.reduce((n,i)=>(n[i]=Dl(e,a),n),{})}function LP(t,e,a,n){if(!e.includes(a))return null;const i=WP(a),l=DP(i,n),d=t[a];return pi(t,d,l)}function OA(t,e){const a=uf(t.theme);return Object.keys(t).map(n=>LP(t,e,n,a)).reduce(hp,{})}function Ua(t){return OA(t,Qx)}Ua.propTypes={};Ua.filterProps=Qx;function Oa(t){return OA(t,Jx)}Oa.propTypes={};Oa.filterProps=Jx;function zA(t=8,e=uf({spacing:t})){if(t.mui)return t;const a=(...n)=>(n.length===0?[1]:n).map(l=>{const d=e(l);return typeof d=="number"?`${d}px`:d}).join(" ");return a.mui=!0,a}function pf(...t){const e=t.reduce((n,i)=>(i.filterProps.forEach(l=>{n[l]=i}),n),{}),a=n=>Object.keys(n).reduce((i,l)=>e[l]?hp(i,e[l](n)):i,{});return a.propTypes={},a.filterProps=t.reduce((n,i)=>n.concat(i.filterProps),[]),a}function zr(t){return typeof t!="number"?t:`${t}px solid`}function Gr(t,e){return Ya({prop:t,themeKey:"borders",transform:e})}const VP=Gr("border",zr),UP=Gr("borderTop",zr),OP=Gr("borderRight",zr),zP=Gr("borderBottom",zr),BP=Gr("borderLeft",zr),NP=Gr("borderColor"),FP=Gr("borderTopColor"),qP=Gr("borderRightColor"),HP=Gr("borderBottomColor"),$P=Gr("borderLeftColor"),GP=Gr("outline",zr),KP=Gr("outlineColor"),hf=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Zp(t.theme,"shape.borderRadius",4),a=n=>({borderRadius:Dl(e,n)});return pi(t,t.borderRadius,a)}return null};hf.propTypes={};hf.filterProps=["borderRadius"];pf(VP,UP,OP,zP,BP,NP,FP,qP,HP,$P,hf,GP,KP);const mf=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Zp(t.theme,"spacing",8),a=n=>({gap:Dl(e,n)});return pi(t,t.gap,a)}return null};mf.propTypes={};mf.filterProps=["gap"];const gf=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Zp(t.theme,"spacing",8),a=n=>({columnGap:Dl(e,n)});return pi(t,t.columnGap,a)}return null};gf.propTypes={};gf.filterProps=["columnGap"];const ff=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Zp(t.theme,"spacing",8),a=n=>({rowGap:Dl(e,n)});return pi(t,t.rowGap,a)}return null};ff.propTypes={};ff.filterProps=["rowGap"];const YP=Ya({prop:"gridColumn"}),XP=Ya({prop:"gridRow"}),QP=Ya({prop:"gridAutoFlow"}),JP=Ya({prop:"gridAutoColumns"}),ZP=Ya({prop:"gridAutoRows"}),eW=Ya({prop:"gridTemplateColumns"}),tW=Ya({prop:"gridTemplateRows"}),aW=Ya({prop:"gridTemplateAreas"}),nW=Ya({prop:"gridArea"});pf(mf,gf,ff,YP,XP,QP,JP,ZP,eW,tW,aW,nW);function td(t,e){return e==="grey"?e:t}const rW=Ya({prop:"color",themeKey:"palette",transform:td}),iW=Ya({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:td}),oW=Ya({prop:"backgroundColor",themeKey:"palette",transform:td});pf(rW,iW,oW);function xr(t){return t<=1&&t!==0?`${t*100}%`:t}const sW=Ya({prop:"width",transform:xr}),Zx=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=a=>{const n=t.theme?.breakpoints?.values?.[a]||cf[a];return n?t.theme?.breakpoints?.unit!=="px"?{maxWidth:`${n}${t.theme.breakpoints.unit}`}:{maxWidth:n}:{maxWidth:xr(a)}};return pi(t,t.maxWidth,e)}return null};Zx.filterProps=["maxWidth"];const lW=Ya({prop:"minWidth",transform:xr}),cW=Ya({prop:"height",transform:xr}),dW=Ya({prop:"maxHeight",transform:xr}),uW=Ya({prop:"minHeight",transform:xr});Ya({prop:"size",cssProperty:"width",transform:xr});Ya({prop:"size",cssProperty:"height",transform:xr});const pW=Ya({prop:"boxSizing"});pf(sW,Zx,lW,cW,dW,uW,pW);const eh={border:{themeKey:"borders",transform:zr},borderTop:{themeKey:"borders",transform:zr},borderRight:{themeKey:"borders",transform:zr},borderBottom:{themeKey:"borders",transform:zr},borderLeft:{themeKey:"borders",transform:zr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:zr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:hf},color:{themeKey:"palette",transform:td},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:td},backgroundColor:{themeKey:"palette",transform:td},p:{style:Oa},pt:{style:Oa},pr:{style:Oa},pb:{style:Oa},pl:{style:Oa},px:{style:Oa},py:{style:Oa},padding:{style:Oa},paddingTop:{style:Oa},paddingRight:{style:Oa},paddingBottom:{style:Oa},paddingLeft:{style:Oa},paddingX:{style:Oa},paddingY:{style:Oa},paddingInline:{style:Oa},paddingInlineStart:{style:Oa},paddingInlineEnd:{style:Oa},paddingBlock:{style:Oa},paddingBlockStart:{style:Oa},paddingBlockEnd:{style:Oa},m:{style:Ua},mt:{style:Ua},mr:{style:Ua},mb:{style:Ua},ml:{style:Ua},mx:{style:Ua},my:{style:Ua},margin:{style:Ua},marginTop:{style:Ua},marginRight:{style:Ua},marginBottom:{style:Ua},marginLeft:{style:Ua},marginX:{style:Ua},marginY:{style:Ua},marginInline:{style:Ua},marginInlineStart:{style:Ua},marginInlineEnd:{style:Ua},marginBlock:{style:Ua},marginBlockStart:{style:Ua},marginBlockEnd:{style:Ua},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:mf},rowGap:{style:ff},columnGap:{style:gf},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:xr},maxWidth:{style:Zx},minWidth:{transform:xr},height:{transform:xr},maxHeight:{transform:xr},minHeight:{transform:xr},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function hW(...t){const e=t.reduce((n,i)=>n.concat(Object.keys(i)),[]),a=new Set(e);return t.every(n=>a.size===Object.keys(n).length)}function mW(t,e){return typeof t=="function"?t(e):t}function gW(){function t(a,n,i,l){const d={[a]:n,theme:i},u=l[a];if(!u)return{[a]:n};const{cssProperty:h=a,themeKey:m,transform:y,style:v}=u;if(n==null)return null;if(m==="typography"&&n==="inherit")return{[a]:n};const x=df(i,m)||{};return v?v(d):pi(d,n,C=>{let j=Ag(x,y,C);return C===j&&typeof C=="string"&&(j=Ag(x,y,`${a}${C==="default"?"":Ae(C)}`,C)),h===!1?j:{[h]:j}})}function e(a){const{sx:n,theme:i={},nested:l}=a||{};if(!n)return null;const d=i.unstable_sxConfig??eh;function u(h){let m=h;if(typeof h=="function")m=h(i);else if(typeof h!="object")return h;if(!m)return null;const y=UA(i.breakpoints),v=Object.keys(y);let x=y;return Object.keys(m).forEach(T=>{const C=mW(m[T],i);if(C!=null)if(typeof C=="object")if(d[T])x=hp(x,t(T,C,i,d));else{const j=pi({theme:i},C,E=>({[T]:E}));hW(j,C)?x[T]=e({sx:C,theme:i,nested:!0}):x=hp(x,j)}else x=hp(x,t(T,C,i,d))}),!l&&i.modularCssLayers?{"@layer sx":cC(i,Fv(v,x))}:cC(i,Fv(v,x))}return Array.isArray(n)?n.map(u):u(n)}return e}const _s=gW();_s.filterProps=["sx"];function fW(t,e){const a=this;if(a.vars){if(!a.colorSchemes?.[t]||typeof a.getColorSchemeSelector!="function")return{};let n=a.getColorSchemeSelector(t);return n==="&"?e:((n.includes("data-")||n.includes("."))&&(n=`*:where(${n.replace(/\s*&$/,"")}) &`),{[n]:e})}return a.palette.mode===t?e:{}}function Ed(t={},...e){const{breakpoints:a={},palette:n={},spacing:i,shape:l={},...d}=t,u=TP(a),h=zA(i);let m=vn({breakpoints:u,direction:"ltr",components:{},palette:{mode:"light",...n},spacing:h,shape:{...AP,...l}},d);return m=RP(m),m.applyStyles=fW,m=e.reduce((y,v)=>vn(y,v),m),m.unstable_sxConfig={...eh,...d?.unstable_sxConfig},m.unstable_sx=function(v){return _s({sx:v,theme:this})},m}function yW(t){return Object.keys(t).length===0}function yf(t=null){const e=w.useContext(Qp);return!e||yW(e)?t:e}const bW=Ed();function th(t=bW){return yf(t)}function rv(t){const e=Ts(t);return t!==e&&e.styles?(e.styles.match(/^@layer\s+[^{]*$/)||(e.styles=`@layer global{${e.styles}}`),e):t}function BA({styles:t,themeId:e,defaultTheme:a={}}){const n=th(a),i=e&&n[e]||n;let l=typeof t=="function"?t(i):t;return i.modularCssLayers&&(Array.isArray(l)?l=l.map(d=>rv(typeof d=="function"?d(i):d)):l=rv(l)),s.jsx(WA,{styles:l})}const vW=t=>{const e={systemProps:{},otherProps:{}},a=t?.theme?.unstable_sxConfig??eh;return Object.keys(t).forEach(n=>{a[n]?e.systemProps[n]=t[n]:e.otherProps[n]=t[n]}),e};function bf(t){const{sx:e,...a}=t,{systemProps:n,otherProps:i}=vW(a);let l;return Array.isArray(e)?l=[n,...e]:typeof e=="function"?l=(...d)=>{const u=e(...d);return Ui(u)?{...n,...u}:n}:l={...n,...e},{...i,sx:l}}const pC=t=>t,xW=()=>{let t=pC;return{configure(e){t=e},generate(e){return t(e)},reset(){t=pC}}},NA=xW();function FA(t){var e,a,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(a=FA(t[e]))&&(n&&(n+=" "),n+=a)}else for(a in t)t[a]&&(n&&(n+=" "),n+=a);return n}function Le(){for(var t,e,a=0,n="",i=arguments.length;a<i;a++)(t=arguments[a])&&(e=FA(t))&&(n&&(n+=" "),n+=e);return n}function wW(t={}){const{themeId:e,defaultTheme:a,defaultClassName:n="MuiBox-root",generateClassName:i}=t,l=DA("div",{shouldForwardProp:u=>u!=="theme"&&u!=="sx"&&u!=="as"})(_s);return w.forwardRef(function(h,m){const y=th(a),{className:v,component:x="div",...T}=bf(h);return s.jsx(l,{as:x,ref:m,className:Le(v,i?i(n):n),theme:e&&y[e]||y,...T})})}const SW={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function et(t,e,a="Mui"){const n=SW[e];return n?`${a}-${n}`:`${NA.generate(t)}-${e}`}function nt(t,e,a="Mui"){const n={};return e.forEach(i=>{n[i]=et(t,i,a)}),n}function qA(t){const{variants:e,...a}=t,n={variants:e,style:Ts(a),isProcessed:!0};return n.style===a||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=Ts(i.style))}),n}const TW=Ed();function iv(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function Ml(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}function CW(t){return t?(e,a)=>a[t]:null}function MW(t,e,a){t.theme=AW(t.theme)?a:t.theme[e]||t.theme}function dg(t,e,a){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(i=>dg(t,i,a));if(Array.isArray(n?.variants)){let i;if(n.isProcessed)i=a?Ml(n.style,a):n.style;else{const{variants:l,...d}=n;i=a?Ml(Ts(d),a):d}return HA(t,n.variants,[i],a)}return n?.isProcessed?a?Ml(Ts(n.style),a):n.style:a?Ml(Ts(n),a):n}function HA(t,e,a=[],n=void 0){let i;e:for(let l=0;l<e.length;l+=1){const d=e[l];if(typeof d.props=="function"){if(i??={...t,...t.ownerState,ownerState:t.ownerState},!d.props(i))continue}else for(const u in d.props)if(t[u]!==d.props[u]&&t.ownerState?.[u]!==d.props[u])continue e;typeof d.style=="function"?(i??={...t,...t.ownerState,ownerState:t.ownerState},a.push(n?Ml(Ts(d.style(i)),n):d.style(i))):a.push(n?Ml(Ts(d.style),n):d.style)}return a}function $A(t={}){const{themeId:e,defaultTheme:a=TW,rootShouldForwardProp:n=iv,slotShouldForwardProp:i=iv}=t;function l(u){MW(u,e,a)}return(u,h={})=>{vP(u,N=>N.filter(V=>V!==_s));const{name:m,slot:y,skipVariantsResolver:v,skipSx:x,overridesResolver:T=CW(EW(y)),...C}=h,j=m&&m.startsWith("Mui")||y?"components":"custom",E=v!==void 0?v:y&&y!=="Root"&&y!=="root"||!1,M=x||!1;let L=iv;y==="Root"||y==="root"?L=n:y?L=i:kW(u)&&(L=void 0);const W=DA(u,{shouldForwardProp:L,label:RW(),...C}),R=N=>{if(N.__emotion_real===N)return N;if(typeof N=="function")return function(A){return dg(A,N,A.theme.modularCssLayers?j:void 0)};if(Ui(N)){const V=qA(N);return function(_){return V.variants?dg(_,V,_.theme.modularCssLayers?j:void 0):_.theme.modularCssLayers?Ml(V.style,j):V.style}}return N},I=(...N)=>{const V=[],A=N.map(R),_=[];if(V.push(l),m&&T&&_.push(function(P){const J=P.theme.components?.[m]?.styleOverrides;if(!J)return null;const $={};for(const X in J)$[X]=dg(P,J[X],P.theme.modularCssLayers?"theme":void 0);return T(P,$)}),m&&!E&&_.push(function(P){const J=P.theme?.components?.[m]?.variants;return J?HA(P,J,[],P.theme.modularCssLayers?"theme":void 0):null}),M||_.push(_s),Array.isArray(A[0])){const U=A.shift(),P=new Array(V.length).fill(""),K=new Array(_.length).fill("");let J;J=[...P,...U,...K],J.raw=[...P,...U.raw,...K],V.unshift(J)}const S=[...V,...A,..._],D=W(...S);return u.muiName&&(D.muiName=u.muiName),D};return W.withConfig&&(I.withConfig=W.withConfig),I}}function RW(t,e){return void 0}function AW(t){for(const e in t)return!1;return!0}function kW(t){return typeof t=="string"&&t.charCodeAt(0)>96}function EW(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}const ew=$A();function ld(t,e,a=!1){const n={...e};for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const l=i;if(l==="components"||l==="slots")n[l]={...t[l],...n[l]};else if(l==="componentsProps"||l==="slotProps"){const d=t[l],u=e[l];if(!u)n[l]=d||{};else if(!d)n[l]=u;else{n[l]={...u};for(const h in d)if(Object.prototype.hasOwnProperty.call(d,h)){const m=h;n[l][m]=ld(d[m],u[m],a)}}}else l==="className"&&a&&e.className?n.className=Le(t?.className,e?.className):l==="style"&&a&&e.style?n.style={...t?.style,...e?.style}:n[l]===void 0&&(n[l]=t[l])}return n}function GA(t){const{theme:e,name:a,props:n}=t;return!e||!e.components||!e.components[a]||!e.components[a].defaultProps?n:ld(e.components[a].defaultProps,n)}function tw({props:t,name:e,defaultTheme:a,themeId:n}){let i=th(a);return n&&(i=i[n]||i),GA({theme:i,name:e,props:t})}const Qn=typeof window<"u"?w.useLayoutEffect:w.useEffect;function _W(t,e,a,n,i){const[l,d]=w.useState(()=>i&&a?a(t).matches:n?n(t).matches:e);return Qn(()=>{if(!a)return;const u=a(t),h=()=>{d(u.matches)};return h(),u.addEventListener("change",h),()=>{u.removeEventListener("change",h)}},[t,a]),l}const jW={...Tg},KA=jW.useSyncExternalStore;function IW(t,e,a,n,i){const l=w.useCallback(()=>e,[e]),d=w.useMemo(()=>{if(i&&a)return()=>a(t).matches;if(n!==null){const{matches:y}=n(t);return()=>y}return l},[l,t,n,i,a]),[u,h]=w.useMemo(()=>{if(a===null)return[l,()=>()=>{}];const y=a(t);return[()=>y.matches,v=>(y.addEventListener("change",v),()=>{y.removeEventListener("change",v)})]},[l,a,t]);return KA(h,u,d)}function YA(t={}){const{themeId:e}=t;return function(n,i={}){let l=yf();l&&e&&(l=l[e]||l);const d=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:u=!1,matchMedia:h=d?window.matchMedia:null,ssrMatchMedia:m=null,noSsr:y=!1}=GA({name:"MuiUseMediaQuery",props:i,theme:l});let v=typeof n=="function"?n(l):n;return v=v.replace(/^@media( ?)/m,""),v.includes("print")&&console.warn(["MUI: You have provided a `print` query to the `useMediaQuery` hook.","Using the print media query to modify print styles can lead to unexpected results.","Consider using the `displayPrint` field in the `sx` prop instead.","More information about `displayPrint` on our docs: https://mui.com/system/display/#display-in-print."].join(`
`)),(KA!==void 0?IW:_W)(v,u,h,m,y)}}YA();function PW(t,e=Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,a))}function aw(t,e=0,a=1){return PW(t,e,a)}function WW(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let a=t.match(e);return a&&a[0].length===1&&(a=a.map(n=>n+n)),a?`rgb${a.length===4?"a":""}(${a.map((n,i)=>i<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function js(t){if(t.type)return t;if(t.charAt(0)==="#")return js(WW(t));const e=t.indexOf("("),a=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(a))throw new Error(Do(9,t));let n=t.substring(e+1,t.length-1),i;if(a==="color"){if(n=n.split(" "),i=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Do(10,i))}else n=n.split(",");return n=n.map(l=>parseFloat(l)),{type:a,values:n,colorSpace:i}}const DW=t=>{const e=js(t);return e.values.slice(0,3).map((a,n)=>e.type.includes("hsl")&&n!==0?`${a}%`:a).join(" ")},ip=(t,e)=>{try{return DW(t)}catch{return t}};function vf(t){const{type:e,colorSpace:a}=t;let{values:n}=t;return e.includes("rgb")?n=n.map((i,l)=>l<3?parseInt(i,10):i):e.includes("hsl")&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),e.includes("color")?n=`${a} ${n.join(" ")}`:n=`${n.join(", ")}`,`${e}(${n})`}function XA(t){t=js(t);const{values:e}=t,a=e[0],n=e[1]/100,i=e[2]/100,l=n*Math.min(i,1-i),d=(m,y=(m+a/30)%12)=>i-l*Math.max(Math.min(y-3,9-y,1),-1);let u="rgb";const h=[Math.round(d(0)*255),Math.round(d(8)*255),Math.round(d(4)*255)];return t.type==="hsla"&&(u+="a",h.push(e[3])),vf({type:u,values:h})}function qv(t){t=js(t);let e=t.type==="hsl"||t.type==="hsla"?js(XA(t)).values:t.values;return e=e.map(a=>(t.type!=="color"&&(a/=255),a<=.03928?a/12.92:((a+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function LW(t,e){const a=qv(t),n=qv(e);return(Math.max(a,n)+.05)/(Math.min(a,n)+.05)}function _t(t,e){return t=js(t),e=aw(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,vf(t)}function zm(t,e,a){try{return _t(t,e)}catch{return t}}function Ll(t,e){if(t=js(t),e=aw(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let a=0;a<3;a+=1)t.values[a]*=1-e;return vf(t)}function va(t,e,a){try{return Ll(t,e)}catch{return t}}function Vl(t,e){if(t=js(t),e=aw(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let a=0;a<3;a+=1)t.values[a]+=(255-t.values[a])*e;else if(t.type.includes("color"))for(let a=0;a<3;a+=1)t.values[a]+=(1-t.values[a])*e;return vf(t)}function xa(t,e,a){try{return Vl(t,e)}catch{return t}}function VW(t,e=.15){return qv(t)>.5?Ll(t,e):Vl(t,e)}function Bm(t,e,a){try{return VW(t,e)}catch{return t}}const QA=w.createContext(null);function nw(){return w.useContext(QA)}const UW=typeof Symbol=="function"&&Symbol.for,OW=UW?Symbol.for("mui.nested"):"__THEME_NESTED__";function zW(t,e){return typeof e=="function"?e(t):{...t,...e}}function BW(t){const{children:e,theme:a}=t,n=nw(),i=w.useMemo(()=>{const l=n===null?{...a}:zW(n,a);return l!=null&&(l[OW]=n!==null),l},[a,n]);return s.jsx(QA.Provider,{value:i,children:e})}const JA=w.createContext();function NW({value:t,...e}){return s.jsx(JA.Provider,{value:t??!0,...e})}const ah=()=>w.useContext(JA)??!1,ZA=w.createContext(void 0);function FW({value:t,children:e}){return s.jsx(ZA.Provider,{value:t,children:e})}function qW(t){const{theme:e,name:a,props:n}=t;if(!e||!e.components||!e.components[a])return n;const i=e.components[a];return i.defaultProps?ld(i.defaultProps,n,e.components.mergeClassNameAndStyle):!i.styleOverrides&&!i.variants?ld(i,n,e.components.mergeClassNameAndStyle):n}function HW({props:t,name:e}){const a=w.useContext(ZA);return qW({props:t,name:e,theme:{components:a}})}let hC=0;function $W(t){const[e,a]=w.useState(t),n=t||e;return w.useEffect(()=>{e==null&&(hC+=1,a(`mui-${hC}`))},[e]),n}const GW={...Tg},mC=GW.useId;function Hl(t){if(mC!==void 0){const e=mC();return t??e}return $W(t)}function KW(t){const e=yf(),a=Hl()||"",{modularCssLayers:n}=t;let i="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!n||e!==null?i="":typeof n=="string"?i=n.replace(/mui(?!\.)/g,i):i=`@layer ${i};`,Qn(()=>{const l=document.querySelector("head");if(!l)return;const d=l.firstChild;if(i){if(d&&d.hasAttribute?.("data-mui-layer-order")&&d.getAttribute("data-mui-layer-order")===a)return;const u=document.createElement("style");u.setAttribute("data-mui-layer-order",a),u.textContent=i,l.prepend(u)}else l.querySelector(`style[data-mui-layer-order="${a}"]`)?.remove()},[i,a]),i?s.jsx(BA,{styles:i}):null}const gC={};function fC(t,e,a,n=!1){return w.useMemo(()=>{const i=t&&e[t]||e;if(typeof a=="function"){const l=a(i),d=t?{...e,[t]:l}:l;return n?()=>d:d}return t?{...e,[t]:a}:{...e,...a}},[t,e,a,n])}function ek(t){const{children:e,theme:a,themeId:n}=t,i=yf(gC),l=nw()||gC,d=fC(n,i,a),u=fC(n,l,a,!0),h=(n?d[n]:d).direction==="rtl",m=KW(d);return s.jsx(BW,{theme:u,children:s.jsx(Qp.Provider,{value:d,children:s.jsx(NW,{value:h,children:s.jsxs(FW,{value:n?d[n].components:d.components,children:[m,e]})})})})}const yC={theme:void 0};function YW(t){let e,a;return function(i){let l=e;return(l===void 0||i.theme!==a)&&(yC.theme=i.theme,l=qA(t(yC)),e=l,a=i.theme),l}}const rw="mode",iw="color-scheme",XW="data-color-scheme";function QW(t){const{defaultMode:e="system",defaultLightColorScheme:a="light",defaultDarkColorScheme:n="dark",modeStorageKey:i=rw,colorSchemeStorageKey:l=iw,attribute:d=XW,colorSchemeNode:u="document.documentElement",nonce:h}=t||{};let m="",y=d;if(d==="class"&&(y=".%s"),d==="data"&&(y="[data-%s]"),y.startsWith(".")){const x=y.substring(1);m+=`${u}.classList.remove('${x}'.replace('%s', light), '${x}'.replace('%s', dark));
      ${u}.classList.add('${x}'.replace('%s', colorScheme));`}const v=y.match(/\[([^\]]+)\]/);if(v){const[x,T]=v[1].split("=");T||(m+=`${u}.removeAttribute('${x}'.replace('%s', light));
      ${u}.removeAttribute('${x}'.replace('%s', dark));`),m+=`
      ${u}.setAttribute('${x}'.replace('%s', colorScheme), ${T?`${T}.replace('%s', colorScheme)`:'""'});`}else m+=`${u}.setAttribute('${y}', colorScheme);`;return s.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?h:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${i}') || '${e}';
  const dark = localStorage.getItem('${l}-dark') || '${n}';
  const light = localStorage.getItem('${l}-light') || '${a}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${m}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function JW(){}const ZW=({key:t,storageWindow:e})=>(!e&&typeof window<"u"&&(e=window),{get(a){if(typeof window>"u")return;if(!e)return a;let n;try{n=e.localStorage.getItem(t)}catch{}return n||a},set:a=>{if(e)try{e.localStorage.setItem(t,a)}catch{}},subscribe:a=>{if(!e)return JW;const n=i=>{const l=i.newValue;i.key===t&&a(l)};return e.addEventListener("storage",n),()=>{e.removeEventListener("storage",n)}}});function ov(){}function bC(t){if(typeof window<"u"&&typeof window.matchMedia=="function"&&t==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function tk(t,e){if(t.mode==="light"||t.mode==="system"&&t.systemMode==="light")return e("light");if(t.mode==="dark"||t.mode==="system"&&t.systemMode==="dark")return e("dark")}function e4(t){return tk(t,e=>{if(e==="light")return t.lightColorScheme;if(e==="dark")return t.darkColorScheme})}function t4(t){const{defaultMode:e="light",defaultLightColorScheme:a,defaultDarkColorScheme:n,supportedColorSchemes:i=[],modeStorageKey:l=rw,colorSchemeStorageKey:d=iw,storageWindow:u=typeof window>"u"?void 0:window,storageManager:h=ZW,noSsr:m=!1}=t,y=i.join(","),v=i.length>1,x=w.useMemo(()=>h?.({key:l,storageWindow:u}),[h,l,u]),T=w.useMemo(()=>h?.({key:`${d}-light`,storageWindow:u}),[h,d,u]),C=w.useMemo(()=>h?.({key:`${d}-dark`,storageWindow:u}),[h,d,u]),[j,E]=w.useState(()=>{const A=x?.get(e)||e,_=T?.get(a)||a,S=C?.get(n)||n;return{mode:A,systemMode:bC(A),lightColorScheme:_,darkColorScheme:S}}),[M,L]=w.useState(m||!v);w.useEffect(()=>{L(!0)},[]);const W=e4(j),R=w.useCallback(A=>{E(_=>{if(A===_.mode)return _;const S=A??e;return x?.set(S),{..._,mode:S,systemMode:bC(S)}})},[x,e]),I=w.useCallback(A=>{A?typeof A=="string"?A&&!y.includes(A)?console.error(`\`${A}\` does not exist in \`theme.colorSchemes\`.`):E(_=>{const S={..._};return tk(_,D=>{D==="light"&&(T?.set(A),S.lightColorScheme=A),D==="dark"&&(C?.set(A),S.darkColorScheme=A)}),S}):E(_=>{const S={..._},D=A.light===null?a:A.light,U=A.dark===null?n:A.dark;return D&&(y.includes(D)?(S.lightColorScheme=D,T?.set(D)):console.error(`\`${D}\` does not exist in \`theme.colorSchemes\`.`)),U&&(y.includes(U)?(S.darkColorScheme=U,C?.set(U)):console.error(`\`${U}\` does not exist in \`theme.colorSchemes\`.`)),S}):E(_=>(T?.set(a),C?.set(n),{..._,lightColorScheme:a,darkColorScheme:n}))},[y,T,C,a,n]),N=w.useCallback(A=>{j.mode==="system"&&E(_=>{const S=A?.matches?"dark":"light";return _.systemMode===S?_:{..._,systemMode:S}})},[j.mode]),V=w.useRef(N);return V.current=N,w.useEffect(()=>{if(typeof window.matchMedia!="function"||!v)return;const A=(...S)=>V.current(...S),_=window.matchMedia("(prefers-color-scheme: dark)");return _.addListener(A),A(_),()=>{_.removeListener(A)}},[v]),w.useEffect(()=>{if(v){const A=x?.subscribe(D=>{(!D||["light","dark","system"].includes(D))&&R(D||e)})||ov,_=T?.subscribe(D=>{(!D||y.match(D))&&I({light:D})})||ov,S=C?.subscribe(D=>{(!D||y.match(D))&&I({dark:D})})||ov;return()=>{A(),_(),S()}}},[I,R,y,e,u,v,x,T,C]),{...j,mode:M?j.mode:void 0,systemMode:M?j.systemMode:void 0,colorScheme:M?W:void 0,setMode:R,setColorScheme:I}}const a4="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function n4(t){const{themeId:e,theme:a={},modeStorageKey:n=rw,colorSchemeStorageKey:i=iw,disableTransitionOnChange:l=!1,defaultColorScheme:d,resolveTheme:u}=t,h={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},m=w.createContext(void 0),y=()=>w.useContext(m)||h,v={},x={};function T(M){const{children:L,theme:W,modeStorageKey:R=n,colorSchemeStorageKey:I=i,disableTransitionOnChange:N=l,storageManager:V,storageWindow:A=typeof window>"u"?void 0:window,documentNode:_=typeof document>"u"?void 0:document,colorSchemeNode:S=typeof document>"u"?void 0:document.documentElement,disableNestedContext:D=!1,disableStyleSheetGeneration:U=!1,defaultMode:P="system",forceThemeRerender:K=!1,noSsr:J}=M,$=w.useRef(!1),X=nw(),le=w.useContext(m),ie=!!le&&!D,H=w.useMemo(()=>W||(typeof a=="function"?a():a),[W]),te=H[e],Q=te||H,{colorSchemes:ne=v,components:ye=x,cssVarPrefix:be}=Q,oe=Object.keys(ne).filter(mt=>!!ne[mt]).join(","),_e=w.useMemo(()=>oe.split(","),[oe]),Me=typeof d=="string"?d:d.light,Oe=typeof d=="string"?d:d.dark,qe=ne[Me]&&ne[Oe]?P:ne[Q.defaultColorScheme]?.palette?.mode||Q.palette?.mode,{mode:Qe,setMode:ae,systemMode:ve,lightColorScheme:De,darkColorScheme:He,colorScheme:se,setColorScheme:ee}=t4({supportedColorSchemes:_e,defaultLightColorScheme:Me,defaultDarkColorScheme:Oe,modeStorageKey:R,colorSchemeStorageKey:I,defaultMode:qe,storageManager:V,storageWindow:A,noSsr:J});let Se=Qe,pe=se;ie&&(Se=le.mode,pe=le.colorScheme);let je=pe||Q.defaultColorScheme;Q.vars&&!K&&(je=Q.defaultColorScheme);const we=w.useMemo(()=>{const mt=Q.generateThemeVars?.()||Q.vars,$e={...Q,components:ye,colorSchemes:ne,cssVarPrefix:be,vars:mt};if(typeof $e.generateSpacing=="function"&&($e.spacing=$e.generateSpacing()),je){const Ge=ne[je];Ge&&typeof Ge=="object"&&Object.keys(Ge).forEach(Ue=>{Ge[Ue]&&typeof Ge[Ue]=="object"?$e[Ue]={...$e[Ue],...Ge[Ue]}:$e[Ue]=Ge[Ue]})}return u?u($e):$e},[Q,je,ye,ne,be]),Ee=Q.colorSchemeSelector;Qn(()=>{if(pe&&S&&Ee&&Ee!=="media"){const mt=Ee;let $e=Ee;if(mt==="class"&&($e=".%s"),mt==="data"&&($e="[data-%s]"),mt?.startsWith("data-")&&!mt.includes("%s")&&($e=`[${mt}="%s"]`),$e.startsWith("."))S.classList.remove(..._e.map(Ge=>$e.substring(1).replace("%s",Ge))),S.classList.add($e.substring(1).replace("%s",pe));else{const Ge=$e.replace("%s",pe).match(/\[([^\]]+)\]/);if(Ge){const[Ue,ct]=Ge[1].split("=");ct||_e.forEach(Fe=>{S.removeAttribute(Ue.replace(pe,Fe))}),S.setAttribute(Ue,ct?ct.replace(/"|'/g,""):"")}else S.setAttribute($e,pe)}}},[pe,Ee,S,_e]),w.useEffect(()=>{let mt;if(N&&$.current&&_){const $e=_.createElement("style");$e.appendChild(_.createTextNode(a4)),_.head.appendChild($e),window.getComputedStyle(_.body),mt=setTimeout(()=>{_.head.removeChild($e)},1)}return()=>{clearTimeout(mt)}},[pe,N,_]),w.useEffect(()=>($.current=!0,()=>{$.current=!1}),[]);const rt=w.useMemo(()=>({allColorSchemes:_e,colorScheme:pe,darkColorScheme:He,lightColorScheme:De,mode:Se,setColorScheme:ee,setMode:ae,systemMode:ve}),[_e,pe,He,De,Se,ee,ae,ve,we.colorSchemeSelector]);let Mt=!0;(U||Q.cssVariables===!1||ie&&X?.cssVarPrefix===be)&&(Mt=!1);const Gt=s.jsxs(w.Fragment,{children:[s.jsx(ek,{themeId:te?e:void 0,theme:we,children:L}),Mt&&s.jsx(WA,{styles:we.generateStyleSheets?.()||[]})]});return ie?Gt:s.jsx(m.Provider,{value:rt,children:Gt})}const C=typeof d=="string"?d:d.light,j=typeof d=="string"?d:d.dark;return{CssVarsProvider:T,useColorScheme:y,getInitColorSchemeScript:M=>QW({colorSchemeStorageKey:i,defaultLightColorScheme:C,defaultDarkColorScheme:j,modeStorageKey:n,...M})}}function r4(t=""){function e(...n){if(!n.length)return"";const i=n[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...n.slice(1))})`:`, ${i}`}return(n,...i)=>`var(--${t?`${t}-`:""}${n}${e(...i)})`}const vC=(t,e,a,n=[])=>{let i=t;e.forEach((l,d)=>{d===e.length-1?Array.isArray(i)?i[Number(l)]=a:i&&typeof i=="object"&&(i[l]=a):i&&typeof i=="object"&&(i[l]||(i[l]=n.includes(l)?[]:{}),i=i[l])})},i4=(t,e,a)=>{function n(i,l=[],d=[]){Object.entries(i).forEach(([u,h])=>{(!a||a&&!a([...l,u]))&&h!=null&&(typeof h=="object"&&Object.keys(h).length>0?n(h,[...l,u],Array.isArray(h)?[...d,u]:d):e([...l,u],h,d))})}n(t)},o4=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(n=>t.includes(n))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function sv(t,e){const{prefix:a,shouldSkipGeneratingVar:n}=e||{},i={},l={},d={};return i4(t,(u,h,m)=>{if((typeof h=="string"||typeof h=="number")&&(!n||!n(u,h))){const y=`--${a?`${a}-`:""}${u.join("-")}`,v=o4(u,h);Object.assign(i,{[y]:v}),vC(l,u,`var(${y})`,m),vC(d,u,`var(${y}, ${v})`,m)}},u=>u[0]==="vars"),{css:i,vars:l,varsWithDefaults:d}}function s4(t,e={}){const{getSelector:a=E,disableCssColorScheme:n,colorSchemeSelector:i}=e,{colorSchemes:l={},components:d,defaultColorScheme:u="light",...h}=t,{vars:m,css:y,varsWithDefaults:v}=sv(h,e);let x=v;const T={},{[u]:C,...j}=l;if(Object.entries(j||{}).forEach(([W,R])=>{const{vars:I,css:N,varsWithDefaults:V}=sv(R,e);x=vn(x,V),T[W]={css:N,vars:I}}),C){const{css:W,vars:R,varsWithDefaults:I}=sv(C,e);x=vn(x,I),T[u]={css:W,vars:R}}function E(W,R){let I=i;if(i==="class"&&(I=".%s"),i==="data"&&(I="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(I=`[${i}="%s"]`),W){if(I==="media")return t.defaultColorScheme===W?":root":{[`@media (prefers-color-scheme: ${l[W]?.palette?.mode||W})`]:{":root":R}};if(I)return t.defaultColorScheme===W?`:root, ${I.replace("%s",String(W))}`:I.replace("%s",String(W))}return":root"}return{vars:x,generateThemeVars:()=>{let W={...m};return Object.entries(T).forEach(([,{vars:R}])=>{W=vn(W,R)}),W},generateStyleSheets:()=>{const W=[],R=t.defaultColorScheme||"light";function I(A,_){Object.keys(_).length&&W.push(typeof A=="string"?{[A]:{..._}}:A)}I(a(void 0,{...y}),y);const{[R]:N,...V}=T;if(N){const{css:A}=N,_=l[R]?.palette?.mode,S=!n&&_?{colorScheme:_,...A}:{...A};I(a(R,{...S}),S)}return Object.entries(V).forEach(([A,{css:_}])=>{const S=l[A]?.palette?.mode,D=!n&&S?{colorScheme:S,..._}:{..._};I(a(A,{...D}),D)}),W}}}function l4(t){return function(a){return t==="media"?`@media (prefers-color-scheme: ${a})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${a}"] &`:t==="class"?`.${a} &`:t==="data"?`[data-${a}] &`:`${t.replace("%s",a)} &`:"&"}}function tt(t,e,a=void 0){const n={};for(const i in t){const l=t[i];let d="",u=!0;for(let h=0;h<l.length;h+=1){const m=l[h];m&&(d+=(u===!0?"":" ")+e(m),u=!1,a&&a[m]&&(d+=" "+a[m]))}n[i]=d}return n}const c4=Ed(),d4=ew("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,e[`maxWidth${Ae(String(a.maxWidth))}`],a.fixed&&e.fixed,a.disableGutters&&e.disableGutters]}}),u4=t=>tw({props:t,name:"MuiContainer",defaultTheme:c4}),p4=(t,e)=>{const a=h=>et(e,h),{classes:n,fixed:i,disableGutters:l,maxWidth:d}=t,u={root:["root",d&&`maxWidth${Ae(String(d))}`,i&&"fixed",l&&"disableGutters"]};return tt(u,a,n)};function h4(t={}){const{createStyledComponent:e=d4,useThemeProps:a=u4,componentName:n="MuiContainer"}=t,i=e(({theme:d,ownerState:u})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!u.disableGutters&&{paddingLeft:d.spacing(2),paddingRight:d.spacing(2),[d.breakpoints.up("sm")]:{paddingLeft:d.spacing(3),paddingRight:d.spacing(3)}}}),({theme:d,ownerState:u})=>u.fixed&&Object.keys(d.breakpoints.values).reduce((h,m)=>{const y=m,v=d.breakpoints.values[y];return v!==0&&(h[d.breakpoints.up(y)]={maxWidth:`${v}${d.breakpoints.unit}`}),h},{}),({theme:d,ownerState:u})=>({...u.maxWidth==="xs"&&{[d.breakpoints.up("xs")]:{maxWidth:Math.max(d.breakpoints.values.xs,444)}},...u.maxWidth&&u.maxWidth!=="xs"&&{[d.breakpoints.up(u.maxWidth)]:{maxWidth:`${d.breakpoints.values[u.maxWidth]}${d.breakpoints.unit}`}}}));return w.forwardRef(function(u,h){const m=a(u),{className:y,component:v="div",disableGutters:x=!1,fixed:T=!1,maxWidth:C="lg",classes:j,...E}=m,M={...m,component:v,disableGutters:x,fixed:T,maxWidth:C},L=p4(M,n);return s.jsx(i,{as:v,ownerState:M,className:Le(L.root,y),ref:h,...E})})}function mp(t,e){return w.isValidElement(t)&&e.indexOf(t.type.muiName??t.type?._payload?.value?.muiName)!==-1}const m4=(t,e)=>t.filter(a=>e.includes(a)),_d=(t,e,a)=>{const n=t.keys[0];Array.isArray(e)?e.forEach((i,l)=>{a((d,u)=>{l<=t.keys.length-1&&(l===0?Object.assign(d,u):d[t.up(t.keys[l])]=u)},i)}):e&&typeof e=="object"?(Object.keys(e).length>t.keys.length?t.keys:m4(t.keys,Object.keys(e))).forEach(l=>{if(t.keys.includes(l)){const d=e[l];d!==void 0&&a((u,h)=>{n===l?Object.assign(u,h):u[t.up(l)]=h},d)}}):(typeof e=="number"||typeof e=="string")&&a((i,l)=>{Object.assign(i,l)},e)};function kg(t){return`--Grid-${t}Spacing`}function xf(t){return`--Grid-parent-${t}Spacing`}const xC="--Grid-columns",ad="--Grid-parent-columns",g4=({theme:t,ownerState:e})=>{const a={};return _d(t.breakpoints,e.size,(n,i)=>{let l={};i==="grow"&&(l={flexBasis:0,flexGrow:1,maxWidth:"100%"}),i==="auto"&&(l={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof i=="number"&&(l={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${i} / var(${ad}) - (var(${ad}) - ${i}) * (var(${xf("column")}) / var(${ad})))`}),n(a,l)}),a},f4=({theme:t,ownerState:e})=>{const a={};return _d(t.breakpoints,e.offset,(n,i)=>{let l={};i==="auto"&&(l={marginLeft:"auto"}),typeof i=="number"&&(l={marginLeft:i===0?"0px":`calc(100% * ${i} / var(${ad}) + var(${xf("column")}) * ${i} / var(${ad}))`}),n(a,l)}),a},y4=({theme:t,ownerState:e})=>{if(!e.container)return{};const a={[xC]:12};return _d(t.breakpoints,e.columns,(n,i)=>{const l=i??12;n(a,{[xC]:l,"> *":{[ad]:l}})}),a},b4=({theme:t,ownerState:e})=>{if(!e.container)return{};const a={};return _d(t.breakpoints,e.rowSpacing,(n,i)=>{const l=typeof i=="string"?i:t.spacing?.(i);n(a,{[kg("row")]:l,"> *":{[xf("row")]:l}})}),a},v4=({theme:t,ownerState:e})=>{if(!e.container)return{};const a={};return _d(t.breakpoints,e.columnSpacing,(n,i)=>{const l=typeof i=="string"?i:t.spacing?.(i);n(a,{[kg("column")]:l,"> *":{[xf("column")]:l}})}),a},x4=({theme:t,ownerState:e})=>{if(!e.container)return{};const a={};return _d(t.breakpoints,e.direction,(n,i)=>{n(a,{flexDirection:i})}),a},w4=({ownerState:t})=>({minWidth:0,boxSizing:"border-box",...t.container&&{display:"flex",flexWrap:"wrap",...t.wrap&&t.wrap!=="wrap"&&{flexWrap:t.wrap},gap:`var(${kg("row")}) var(${kg("column")})`}}),S4=t=>{const e=[];return Object.entries(t).forEach(([a,n])=>{n!==!1&&n!==void 0&&e.push(`grid-${a}-${String(n)}`)}),e},T4=(t,e="xs")=>{function a(n){return n===void 0?!1:typeof n=="string"&&!Number.isNaN(Number(n))||typeof n=="number"&&n>0}if(a(t))return[`spacing-${e}-${String(t)}`];if(typeof t=="object"&&!Array.isArray(t)){const n=[];return Object.entries(t).forEach(([i,l])=>{a(l)&&n.push(`spacing-${i}-${String(l)}`)}),n}return[]},C4=t=>t===void 0?[]:typeof t=="object"?Object.entries(t).map(([e,a])=>`direction-${e}-${a}`):[`direction-xs-${String(t)}`];function M4(t,e){t.item!==void 0&&delete t.item,t.zeroMinWidth!==void 0&&delete t.zeroMinWidth,e.keys.forEach(a=>{t[a]!==void 0&&delete t[a]})}const R4=Ed(),A4=ew("div",{name:"MuiGrid",slot:"Root"});function k4(t){return tw({props:t,name:"MuiGrid",defaultTheme:R4})}function E4(t={}){const{createStyledComponent:e=A4,useThemeProps:a=k4,useTheme:n=th,componentName:i="MuiGrid"}=t,l=(m,y)=>{const{container:v,direction:x,spacing:T,wrap:C,size:j}=m,E={root:["root",v&&"container",C!=="wrap"&&`wrap-xs-${String(C)}`,...C4(x),...S4(j),...v?T4(T,y.breakpoints.keys[0]):[]]};return tt(E,M=>et(i,M),{})};function d(m,y,v=()=>!0){const x={};return m===null||(Array.isArray(m)?m.forEach((T,C)=>{T!==null&&v(T)&&y.keys[C]&&(x[y.keys[C]]=T)}):typeof m=="object"?Object.keys(m).forEach(T=>{const C=m[T];C!=null&&v(C)&&(x[T]=C)}):x[y.keys[0]]=m),x}const u=e(y4,v4,b4,g4,x4,w4,f4),h=w.forwardRef(function(y,v){const x=n(),T=a(y),C=bf(T);M4(C,x.breakpoints);const{className:j,children:E,columns:M=12,container:L=!1,component:W="div",direction:R="row",wrap:I="wrap",size:N={},offset:V={},spacing:A=0,rowSpacing:_=A,columnSpacing:S=A,unstable_level:D=0,...U}=C,P=d(N,x.breakpoints,te=>te!==!1),K=d(V,x.breakpoints),J=y.columns??(D?void 0:M),$=y.spacing??(D?void 0:A),X=y.rowSpacing??y.spacing??(D?void 0:_),le=y.columnSpacing??y.spacing??(D?void 0:S),ie={...C,level:D,columns:J,container:L,direction:R,wrap:I,spacing:$,rowSpacing:X,columnSpacing:le,size:P,offset:K},H=l(ie,x);return s.jsx(u,{ref:v,as:W,ownerState:ie,className:Le(H.root,j),...U,children:w.Children.map(E,te=>w.isValidElement(te)&&mp(te,["Grid"])&&L&&te.props.container?w.cloneElement(te,{unstable_level:te.props?.unstable_level??D+1}):te)})});return h.muiName="Grid",h}const _4=Ed(),j4=ew("div",{name:"MuiStack",slot:"Root"});function I4(t){return tw({props:t,name:"MuiStack",defaultTheme:_4})}function P4(t,e){const a=w.Children.toArray(t).filter(Boolean);return a.reduce((n,i,l)=>(n.push(i),l<a.length-1&&n.push(w.cloneElement(e,{key:`separator-${l}`})),n),[])}const W4=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],D4=({ownerState:t,theme:e})=>{let a={display:"flex",flexDirection:"column",...pi({theme:e},nv({values:t.direction,breakpoints:e.breakpoints.values}),n=>({flexDirection:n}))};if(t.spacing){const n=uf(e),i=Object.keys(e.breakpoints.values).reduce((h,m)=>((typeof t.spacing=="object"&&t.spacing[m]!=null||typeof t.direction=="object"&&t.direction[m]!=null)&&(h[m]=!0),h),{}),l=nv({values:t.direction,base:i}),d=nv({values:t.spacing,base:i});typeof l=="object"&&Object.keys(l).forEach((h,m,y)=>{if(!l[h]){const x=m>0?l[y[m-1]]:"column";l[h]=x}}),a=vn(a,pi({theme:e},d,(h,m)=>t.useFlexGap?{gap:Dl(n,h)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${W4(m?l[m]:t.direction)}`]:Dl(n,h)}}))}return a=EP(e.breakpoints,a),a};function L4(t={}){const{createStyledComponent:e=j4,useThemeProps:a=I4,componentName:n="MuiStack"}=t,i=()=>tt({root:["root"]},h=>et(n,h),{}),l=e(D4);return w.forwardRef(function(h,m){const y=a(h),v=bf(y),{component:x="div",direction:T="column",spacing:C=0,divider:j,children:E,className:M,useFlexGap:L=!1,...W}=v,R={direction:T,spacing:C,useFlexGap:L},I=i();return s.jsx(l,{as:x,ownerState:R,ref:m,className:Le(I.root,M),...W,children:j?P4(E,j):E})})}function ak(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:_p.white,default:_p.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const V4=ak();function nk(){return{text:{primary:_p.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:_p.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const wC=nk();function SC(t,e,a,n){const i=n.light||n,l=n.dark||n*1.5;t[e]||(t.hasOwnProperty(a)?t[e]=t[a]:e==="light"?t.light=Vl(t.main,i):e==="dark"&&(t.dark=Ll(t.main,l)))}function U4(t="light"){return t==="dark"?{main:Oc[200],light:Oc[50],dark:Oc[400]}:{main:Oc[700],light:Oc[400],dark:Oc[800]}}function O4(t="light"){return t==="dark"?{main:Uc[200],light:Uc[50],dark:Uc[400]}:{main:Uc[500],light:Uc[300],dark:Uc[700]}}function z4(t="light"){return t==="dark"?{main:Vc[500],light:Vc[300],dark:Vc[700]}:{main:Vc[700],light:Vc[400],dark:Vc[800]}}function B4(t="light"){return t==="dark"?{main:zc[400],light:zc[300],dark:zc[700]}:{main:zc[700],light:zc[500],dark:zc[900]}}function N4(t="light"){return t==="dark"?{main:Bc[400],light:Bc[300],dark:Bc[700]}:{main:Bc[800],light:Bc[500],dark:Bc[900]}}function F4(t="light"){return t==="dark"?{main:Hu[400],light:Hu[300],dark:Hu[700]}:{main:"#ed6c02",light:Hu[500],dark:Hu[900]}}function ow(t){const{mode:e="light",contrastThreshold:a=3,tonalOffset:n=.2,...i}=t,l=t.primary||U4(e),d=t.secondary||O4(e),u=t.error||z4(e),h=t.info||B4(e),m=t.success||N4(e),y=t.warning||F4(e);function v(j){return LW(j,wC.text.primary)>=a?wC.text.primary:V4.text.primary}const x=({color:j,name:E,mainShade:M=500,lightShade:L=300,darkShade:W=700})=>{if(j={...j},!j.main&&j[M]&&(j.main=j[M]),!j.hasOwnProperty("main"))throw new Error(Do(11,E?` (${E})`:"",M));if(typeof j.main!="string")throw new Error(Do(12,E?` (${E})`:"",JSON.stringify(j.main)));return SC(j,"light",L,n),SC(j,"dark",W,n),j.contrastText||(j.contrastText=v(j.main)),j};let T;return e==="light"?T=ak():e==="dark"&&(T=nk()),vn({common:{..._p},mode:e,primary:x({color:l,name:"primary"}),secondary:x({color:d,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:x({color:u,name:"error"}),warning:x({color:y,name:"warning"}),info:x({color:h,name:"info"}),success:x({color:m,name:"success"}),grey:x5,contrastThreshold:a,getContrastText:v,augmentColor:x,tonalOffset:n,...T},i)}function q4(t){const e={};return Object.entries(t).forEach(n=>{const[i,l]=n;typeof l=="object"&&(e[i]=`${l.fontStyle?`${l.fontStyle} `:""}${l.fontVariant?`${l.fontVariant} `:""}${l.fontWeight?`${l.fontWeight} `:""}${l.fontStretch?`${l.fontStretch} `:""}${l.fontSize||""}${l.lineHeight?`/${l.lineHeight} `:""}${l.fontFamily||""}`)}),e}function H4(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function $4(t){return Math.round(t*1e5)/1e5}const TC={textTransform:"uppercase"},CC='"Roboto", "Helvetica", "Arial", sans-serif';function rk(t,e){const{fontFamily:a=CC,fontSize:n=14,fontWeightLight:i=300,fontWeightRegular:l=400,fontWeightMedium:d=500,fontWeightBold:u=700,htmlFontSize:h=16,allVariants:m,pxToRem:y,...v}=typeof e=="function"?e(t):e,x=n/14,T=y||(E=>`${E/h*x}rem`),C=(E,M,L,W,R)=>({fontFamily:a,fontWeight:E,fontSize:T(M),lineHeight:L,...a===CC?{letterSpacing:`${$4(W/M)}em`}:{},...R,...m}),j={h1:C(i,96,1.167,-1.5),h2:C(i,60,1.2,-.5),h3:C(l,48,1.167,0),h4:C(l,34,1.235,.25),h5:C(l,24,1.334,0),h6:C(d,20,1.6,.15),subtitle1:C(l,16,1.75,.15),subtitle2:C(d,14,1.57,.1),body1:C(l,16,1.5,.15),body2:C(l,14,1.43,.15),button:C(d,14,1.75,.4,TC),caption:C(l,12,1.66,.4),overline:C(l,12,2.66,1,TC),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return vn({htmlFontSize:h,pxToRem:T,fontFamily:a,fontSize:n,fontWeightLight:i,fontWeightRegular:l,fontWeightMedium:d,fontWeightBold:u,...j},v,{clone:!1})}const G4=.2,K4=.14,Y4=.12;function _a(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${G4})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${K4})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${Y4})`].join(",")}const X4=["none",_a(0,2,1,-1,0,1,1,0,0,1,3,0),_a(0,3,1,-2,0,2,2,0,0,1,5,0),_a(0,3,3,-2,0,3,4,0,0,1,8,0),_a(0,2,4,-1,0,4,5,0,0,1,10,0),_a(0,3,5,-1,0,5,8,0,0,1,14,0),_a(0,3,5,-1,0,6,10,0,0,1,18,0),_a(0,4,5,-2,0,7,10,1,0,2,16,1),_a(0,5,5,-3,0,8,10,1,0,3,14,2),_a(0,5,6,-3,0,9,12,1,0,3,16,2),_a(0,6,6,-3,0,10,14,1,0,4,18,3),_a(0,6,7,-4,0,11,15,1,0,4,20,3),_a(0,7,8,-4,0,12,17,2,0,5,22,4),_a(0,7,8,-4,0,13,19,2,0,5,24,4),_a(0,7,9,-4,0,14,21,2,0,5,26,4),_a(0,8,9,-5,0,15,22,2,0,6,28,5),_a(0,8,10,-5,0,16,24,2,0,6,30,5),_a(0,8,11,-5,0,17,26,2,0,6,32,5),_a(0,9,11,-5,0,18,28,2,0,7,34,6),_a(0,9,12,-6,0,19,29,2,0,7,36,6),_a(0,10,13,-6,0,20,31,3,0,8,38,7),_a(0,10,13,-6,0,21,33,3,0,8,40,7),_a(0,10,14,-6,0,22,35,3,0,8,42,7),_a(0,11,14,-7,0,23,36,3,0,9,44,8),_a(0,11,15,-7,0,24,38,3,0,9,46,8)],Q4={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},ik={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function MC(t){return`${Math.round(t)}ms`}function J4(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function Z4(t){const e={...Q4,...t.easing},a={...ik,...t.duration};return{getAutoHeightDuration:J4,create:(i=["all"],l={})=>{const{duration:d=a.standard,easing:u=e.easeInOut,delay:h=0,...m}=l;return(Array.isArray(i)?i:[i]).map(y=>`${y} ${typeof d=="string"?d:MC(d)} ${u} ${typeof h=="string"?h:MC(h)}`).join(",")},...t,easing:e,duration:a}}const eD={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function tD(t){return Ui(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function ok(t={}){const e={...t};function a(n){const i=Object.entries(n);for(let l=0;l<i.length;l++){const[d,u]=i[l];!tD(u)||d.startsWith("unstable_")?delete n[d]:Ui(u)&&(n[d]={...u},a(n[d]))}}return a(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Hv(t={},...e){const{breakpoints:a,mixins:n={},spacing:i,palette:l={},transitions:d={},typography:u={},shape:h,...m}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(Do(20));const y=ow(l),v=Ed(t);let x=vn(v,{mixins:H4(v.breakpoints,n),palette:y,shadows:X4.slice(),typography:rk(y,u),transitions:Z4(d),zIndex:{...eD}});return x=vn(x,m),x=e.reduce((T,C)=>vn(T,C),x),x.unstable_sxConfig={...eh,...m?.unstable_sxConfig},x.unstable_sx=function(C){return _s({sx:C,theme:this})},x.toRuntimeSource=ok,x}function $v(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const aD=[...Array(25)].map((t,e)=>{if(e===0)return"none";const a=$v(e);return`linear-gradient(rgba(255 255 255 / ${a}), rgba(255 255 255 / ${a}))`});function sk(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function lk(t){return t==="dark"?aD:[]}function nD(t){const{palette:e={mode:"light"},opacity:a,overlays:n,...i}=t,l=ow(e);return{palette:l,opacity:{...sk(l.mode),...a},overlays:n||lk(l.mode),...i}}function rD(t){return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!t[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const iD=t=>[...[...Array(25)].map((e,a)=>`--${t?`${t}-`:""}overlays-${a}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],oD=t=>(e,a)=>{const n=t.rootSelector||":root",i=t.colorSchemeSelector;let l=i;if(i==="class"&&(l=".%s"),i==="data"&&(l="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(l=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const d={};return iD(t.cssVarPrefix).forEach(u=>{d[u]=a[u],delete a[u]}),l==="media"?{[n]:a,"@media (prefers-color-scheme: dark)":{[n]:d}}:l?{[l.replace("%s",e)]:d,[`${n}, ${l.replace("%s",e)}`]:a}:{[n]:{...a,...d}}}if(l&&l!=="media")return`${n}, ${l.replace("%s",String(e))}`}else if(e){if(l==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[n]:a}};if(l)return l.replace("%s",String(e))}return n};function sD(t,e){e.forEach(a=>{t[a]||(t[a]={})})}function Te(t,e,a){!t[e]&&a&&(t[e]=a)}function op(t){return typeof t!="string"||!t.startsWith("hsl")?t:XA(t)}function Co(t,e){`${e}Channel`in t||(t[`${e}Channel`]=ip(op(t[e])))}function lD(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const ji=t=>{try{return t()}catch{}},cD=(t="mui")=>r4(t);function lv(t,e,a,n){if(!e)return;e=e===!0?{}:e;const i=n==="dark"?"dark":"light";if(!a){t[n]=nD({...e,palette:{mode:i,...e?.palette}});return}const{palette:l,...d}=Hv({...a,palette:{mode:i,...e?.palette}});return t[n]={...e,palette:l,opacity:{...sk(i),...e?.opacity},overlays:e?.overlays||lk(i)},d}function dD(t={},...e){const{colorSchemes:a={light:!0},defaultColorScheme:n,disableCssColorScheme:i=!1,cssVarPrefix:l="mui",shouldSkipGeneratingVar:d=rD,colorSchemeSelector:u=a.light&&a.dark?"media":void 0,rootSelector:h=":root",...m}=t,y=Object.keys(a)[0],v=n||(a.light&&y!=="light"?"light":y),x=cD(l),{[v]:T,light:C,dark:j,...E}=a,M={...E};let L=T;if((v==="dark"&&!("dark"in a)||v==="light"&&!("light"in a))&&(L=!0),!L)throw new Error(Do(21,v));const W=lv(M,L,m,v);C&&!M.light&&lv(M,C,void 0,"light"),j&&!M.dark&&lv(M,j,void 0,"dark");let R={defaultColorScheme:v,...W,cssVarPrefix:l,colorSchemeSelector:u,rootSelector:h,getCssVar:x,colorSchemes:M,font:{...q4(W.typography),...W.font},spacing:lD(m.spacing)};Object.keys(R.colorSchemes).forEach(_=>{const S=R.colorSchemes[_].palette,D=U=>{const P=U.split("-"),K=P[1],J=P[2];return x(U,S[K][J])};if(S.mode==="light"&&(Te(S.common,"background","#fff"),Te(S.common,"onBackground","#000")),S.mode==="dark"&&(Te(S.common,"background","#000"),Te(S.common,"onBackground","#fff")),sD(S,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),S.mode==="light"){Te(S.Alert,"errorColor",va(S.error.light,.6)),Te(S.Alert,"infoColor",va(S.info.light,.6)),Te(S.Alert,"successColor",va(S.success.light,.6)),Te(S.Alert,"warningColor",va(S.warning.light,.6)),Te(S.Alert,"errorFilledBg",D("palette-error-main")),Te(S.Alert,"infoFilledBg",D("palette-info-main")),Te(S.Alert,"successFilledBg",D("palette-success-main")),Te(S.Alert,"warningFilledBg",D("palette-warning-main")),Te(S.Alert,"errorFilledColor",ji(()=>S.getContrastText(S.error.main))),Te(S.Alert,"infoFilledColor",ji(()=>S.getContrastText(S.info.main))),Te(S.Alert,"successFilledColor",ji(()=>S.getContrastText(S.success.main))),Te(S.Alert,"warningFilledColor",ji(()=>S.getContrastText(S.warning.main))),Te(S.Alert,"errorStandardBg",xa(S.error.light,.9)),Te(S.Alert,"infoStandardBg",xa(S.info.light,.9)),Te(S.Alert,"successStandardBg",xa(S.success.light,.9)),Te(S.Alert,"warningStandardBg",xa(S.warning.light,.9)),Te(S.Alert,"errorIconColor",D("palette-error-main")),Te(S.Alert,"infoIconColor",D("palette-info-main")),Te(S.Alert,"successIconColor",D("palette-success-main")),Te(S.Alert,"warningIconColor",D("palette-warning-main")),Te(S.AppBar,"defaultBg",D("palette-grey-100")),Te(S.Avatar,"defaultBg",D("palette-grey-400")),Te(S.Button,"inheritContainedBg",D("palette-grey-300")),Te(S.Button,"inheritContainedHoverBg",D("palette-grey-A100")),Te(S.Chip,"defaultBorder",D("palette-grey-400")),Te(S.Chip,"defaultAvatarColor",D("palette-grey-700")),Te(S.Chip,"defaultIconColor",D("palette-grey-700")),Te(S.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Te(S.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Te(S.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Te(S.LinearProgress,"primaryBg",xa(S.primary.main,.62)),Te(S.LinearProgress,"secondaryBg",xa(S.secondary.main,.62)),Te(S.LinearProgress,"errorBg",xa(S.error.main,.62)),Te(S.LinearProgress,"infoBg",xa(S.info.main,.62)),Te(S.LinearProgress,"successBg",xa(S.success.main,.62)),Te(S.LinearProgress,"warningBg",xa(S.warning.main,.62)),Te(S.Skeleton,"bg",`rgba(${D("palette-text-primaryChannel")} / 0.11)`),Te(S.Slider,"primaryTrack",xa(S.primary.main,.62)),Te(S.Slider,"secondaryTrack",xa(S.secondary.main,.62)),Te(S.Slider,"errorTrack",xa(S.error.main,.62)),Te(S.Slider,"infoTrack",xa(S.info.main,.62)),Te(S.Slider,"successTrack",xa(S.success.main,.62)),Te(S.Slider,"warningTrack",xa(S.warning.main,.62));const U=Bm(S.background.default,.8);Te(S.SnackbarContent,"bg",U),Te(S.SnackbarContent,"color",ji(()=>S.getContrastText(U))),Te(S.SpeedDialAction,"fabHoverBg",Bm(S.background.paper,.15)),Te(S.StepConnector,"border",D("palette-grey-400")),Te(S.StepContent,"border",D("palette-grey-400")),Te(S.Switch,"defaultColor",D("palette-common-white")),Te(S.Switch,"defaultDisabledColor",D("palette-grey-100")),Te(S.Switch,"primaryDisabledColor",xa(S.primary.main,.62)),Te(S.Switch,"secondaryDisabledColor",xa(S.secondary.main,.62)),Te(S.Switch,"errorDisabledColor",xa(S.error.main,.62)),Te(S.Switch,"infoDisabledColor",xa(S.info.main,.62)),Te(S.Switch,"successDisabledColor",xa(S.success.main,.62)),Te(S.Switch,"warningDisabledColor",xa(S.warning.main,.62)),Te(S.TableCell,"border",xa(zm(S.divider,1),.88)),Te(S.Tooltip,"bg",zm(S.grey[700],.92))}if(S.mode==="dark"){Te(S.Alert,"errorColor",xa(S.error.light,.6)),Te(S.Alert,"infoColor",xa(S.info.light,.6)),Te(S.Alert,"successColor",xa(S.success.light,.6)),Te(S.Alert,"warningColor",xa(S.warning.light,.6)),Te(S.Alert,"errorFilledBg",D("palette-error-dark")),Te(S.Alert,"infoFilledBg",D("palette-info-dark")),Te(S.Alert,"successFilledBg",D("palette-success-dark")),Te(S.Alert,"warningFilledBg",D("palette-warning-dark")),Te(S.Alert,"errorFilledColor",ji(()=>S.getContrastText(S.error.dark))),Te(S.Alert,"infoFilledColor",ji(()=>S.getContrastText(S.info.dark))),Te(S.Alert,"successFilledColor",ji(()=>S.getContrastText(S.success.dark))),Te(S.Alert,"warningFilledColor",ji(()=>S.getContrastText(S.warning.dark))),Te(S.Alert,"errorStandardBg",va(S.error.light,.9)),Te(S.Alert,"infoStandardBg",va(S.info.light,.9)),Te(S.Alert,"successStandardBg",va(S.success.light,.9)),Te(S.Alert,"warningStandardBg",va(S.warning.light,.9)),Te(S.Alert,"errorIconColor",D("palette-error-main")),Te(S.Alert,"infoIconColor",D("palette-info-main")),Te(S.Alert,"successIconColor",D("palette-success-main")),Te(S.Alert,"warningIconColor",D("palette-warning-main")),Te(S.AppBar,"defaultBg",D("palette-grey-900")),Te(S.AppBar,"darkBg",D("palette-background-paper")),Te(S.AppBar,"darkColor",D("palette-text-primary")),Te(S.Avatar,"defaultBg",D("palette-grey-600")),Te(S.Button,"inheritContainedBg",D("palette-grey-800")),Te(S.Button,"inheritContainedHoverBg",D("palette-grey-700")),Te(S.Chip,"defaultBorder",D("palette-grey-700")),Te(S.Chip,"defaultAvatarColor",D("palette-grey-300")),Te(S.Chip,"defaultIconColor",D("palette-grey-300")),Te(S.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Te(S.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Te(S.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Te(S.LinearProgress,"primaryBg",va(S.primary.main,.5)),Te(S.LinearProgress,"secondaryBg",va(S.secondary.main,.5)),Te(S.LinearProgress,"errorBg",va(S.error.main,.5)),Te(S.LinearProgress,"infoBg",va(S.info.main,.5)),Te(S.LinearProgress,"successBg",va(S.success.main,.5)),Te(S.LinearProgress,"warningBg",va(S.warning.main,.5)),Te(S.Skeleton,"bg",`rgba(${D("palette-text-primaryChannel")} / 0.13)`),Te(S.Slider,"primaryTrack",va(S.primary.main,.5)),Te(S.Slider,"secondaryTrack",va(S.secondary.main,.5)),Te(S.Slider,"errorTrack",va(S.error.main,.5)),Te(S.Slider,"infoTrack",va(S.info.main,.5)),Te(S.Slider,"successTrack",va(S.success.main,.5)),Te(S.Slider,"warningTrack",va(S.warning.main,.5));const U=Bm(S.background.default,.98);Te(S.SnackbarContent,"bg",U),Te(S.SnackbarContent,"color",ji(()=>S.getContrastText(U))),Te(S.SpeedDialAction,"fabHoverBg",Bm(S.background.paper,.15)),Te(S.StepConnector,"border",D("palette-grey-600")),Te(S.StepContent,"border",D("palette-grey-600")),Te(S.Switch,"defaultColor",D("palette-grey-300")),Te(S.Switch,"defaultDisabledColor",D("palette-grey-600")),Te(S.Switch,"primaryDisabledColor",va(S.primary.main,.55)),Te(S.Switch,"secondaryDisabledColor",va(S.secondary.main,.55)),Te(S.Switch,"errorDisabledColor",va(S.error.main,.55)),Te(S.Switch,"infoDisabledColor",va(S.info.main,.55)),Te(S.Switch,"successDisabledColor",va(S.success.main,.55)),Te(S.Switch,"warningDisabledColor",va(S.warning.main,.55)),Te(S.TableCell,"border",va(zm(S.divider,1),.68)),Te(S.Tooltip,"bg",zm(S.grey[700],.92))}Co(S.background,"default"),Co(S.background,"paper"),Co(S.common,"background"),Co(S.common,"onBackground"),Co(S,"divider"),Object.keys(S).forEach(U=>{const P=S[U];U!=="tonalOffset"&&P&&typeof P=="object"&&(P.main&&Te(S[U],"mainChannel",ip(op(P.main))),P.light&&Te(S[U],"lightChannel",ip(op(P.light))),P.dark&&Te(S[U],"darkChannel",ip(op(P.dark))),P.contrastText&&Te(S[U],"contrastTextChannel",ip(op(P.contrastText))),U==="text"&&(Co(S[U],"primary"),Co(S[U],"secondary")),U==="action"&&(P.active&&Co(S[U],"active"),P.selected&&Co(S[U],"selected")))})}),R=e.reduce((_,S)=>vn(_,S),R);const I={prefix:l,disableCssColorScheme:i,shouldSkipGeneratingVar:d,getSelector:oD(R)},{vars:N,generateThemeVars:V,generateStyleSheets:A}=s4(R,I);return R.vars=N,Object.entries(R.colorSchemes[R.defaultColorScheme]).forEach(([_,S])=>{R[_]=S}),R.generateThemeVars=V,R.generateStyleSheets=A,R.generateSpacing=function(){return zA(m.spacing,uf(this))},R.getColorSchemeSelector=l4(u),R.spacing=R.generateSpacing(),R.shouldSkipGeneratingVar=d,R.unstable_sxConfig={...eh,...m?.unstable_sxConfig},R.unstable_sx=function(S){return _s({sx:S,theme:this})},R.toRuntimeSource=ok,R}function RC(t,e,a){t.colorSchemes&&a&&(t.colorSchemes[e]={...a!==!0&&a,palette:ow({...a===!0?{}:a.palette,mode:e})})}function jd(t={},...e){const{palette:a,cssVariables:n=!1,colorSchemes:i=a?void 0:{light:!0},defaultColorScheme:l=a?.mode,...d}=t,u=l||"light",h=i?.[u],m={...i,...a?{[u]:{...typeof h!="boolean"&&h,palette:a}}:void 0};if(n===!1){if(!("colorSchemes"in t))return Hv(t,...e);let y=a;"palette"in t||m[u]&&(m[u]!==!0?y=m[u].palette:u==="dark"&&(y={mode:"dark"}));const v=Hv({...t,palette:y},...e);return v.defaultColorScheme=u,v.colorSchemes=m,v.palette.mode==="light"&&(v.colorSchemes.light={...m.light!==!0&&m.light,palette:v.palette},RC(v,"dark",m.dark)),v.palette.mode==="dark"&&(v.colorSchemes.dark={...m.dark!==!0&&m.dark,palette:v.palette},RC(v,"light",m.light)),v}return!a&&!("light"in m)&&u==="light"&&(m.light=!0),dD({...d,colorSchemes:m,defaultColorScheme:u,...typeof n!="boolean"&&n},...e)}const sw=jd();function Xa(){const t=th(sw);return t[si]||t}function ck(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Zn=t=>ck(t)&&t!=="classes",Ce=$A({themeId:si,defaultTheme:sw,rootShouldForwardProp:Zn});function uD({theme:t,...e}){const a=si in t?t[si]:void 0;return s.jsx(ek,{...e,themeId:a?si:void 0,theme:a||t})}const Nm={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:pD}=n4({themeId:si,theme:()=>jd({cssVariables:!0}),colorSchemeStorageKey:Nm.colorSchemeStorageKey,modeStorageKey:Nm.modeStorageKey,defaultColorScheme:{light:Nm.defaultLightColorScheme,dark:Nm.defaultDarkColorScheme},resolveTheme:t=>{const e={...t,typography:rk(t.palette,t.typography)};return e.unstable_sx=function(n){return _s({sx:n,theme:this})},e}}),hD=pD;function mD({theme:t,...e}){const a=w.useMemo(()=>{if(typeof t=="function")return t;const n=si in t?t[si]:t;return"colorSchemes"in n?null:"vars"in n?t:{...t,vars:null}},[t]);return a?s.jsx(uD,{theme:a,...e}):s.jsx(hD,{theme:t,...e})}function AC(...t){return t.reduce((e,a)=>a==null?e:function(...i){e.apply(this,i),a.apply(this,i)},()=>{})}function gD(t){return s.jsx(BA,{...t,defaultTheme:sw,themeId:si})}function lw(t){return function(a){return s.jsx(gD,{styles:typeof t=="function"?n=>t({theme:n,...a}):t})}}function fD(){return bf}const lt=YW;function at(t){return HW(t)}function yD(t){return et("MuiSvgIcon",t)}nt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const bD=t=>{const{color:e,fontSize:a,classes:n}=t,i={root:["root",e!=="inherit"&&`color${Ae(e)}`,`fontSize${Ae(a)}`]};return tt(i,yD,n)},vD=Ce("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,a.color!=="inherit"&&e[`color${Ae(a.color)}`],e[`fontSize${Ae(a.fontSize)}`]]}})(lt(({theme:t})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:t.transitions?.create?.("fill",{duration:(t.vars??t).transitions?.duration?.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:t.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:t.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:t.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,e])=>e&&e.main).map(([e])=>({props:{color:e},style:{color:(t.vars??t).palette?.[e]?.main}})),{props:{color:"action"},style:{color:(t.vars??t).palette?.action?.active}},{props:{color:"disabled"},style:{color:(t.vars??t).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),Gv=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiSvgIcon"}),{children:i,className:l,color:d="inherit",component:u="svg",fontSize:h="medium",htmlColor:m,inheritViewBox:y=!1,titleAccess:v,viewBox:x="0 0 24 24",...T}=n,C=w.isValidElement(i)&&i.type==="svg",j={...n,color:d,component:u,fontSize:h,instanceFontSize:e.fontSize,inheritViewBox:y,viewBox:x,hasSvgAsChild:C},E={};y||(E.viewBox=x);const M=bD(j);return s.jsxs(vD,{as:u,className:Le(M.root,l),focusable:"false",color:m,"aria-hidden":v?void 0:!0,role:v?"img":void 0,ref:a,...E,...T,...C&&i.props,ownerState:j,children:[C?i.props.children:i,v?s.jsx("title",{children:v}):null]})});Gv.muiName="SvgIcon";function St(t,e){function a(n,i){return s.jsx(Gv,{"data-testid":void 0,ref:i,...n,children:t})}return a.muiName=Gv.muiName,w.memo(w.forwardRef(a))}function wf(t,e=166){let a;function n(...i){const l=()=>{t.apply(this,i)};clearTimeout(a),a=setTimeout(l,e)}return n.clear=()=>{clearTimeout(a)},n}function dr(t){return t&&t.ownerDocument||document}function hi(t){return dr(t).defaultView||window}function kC(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function Wp(t){const{controlled:e,default:a,name:n,state:i="value"}=t,{current:l}=w.useRef(e!==void 0),[d,u]=w.useState(a),h=l?e:d,m=w.useCallback(y=>{l||u(y)},[]);return[h,m]}function Nr(t){const e=w.useRef(t);return Qn(()=>{e.current=t}),w.useRef((...a)=>(0,e.current)(...a)).current}function Ba(...t){const e=w.useRef(void 0),a=w.useCallback(n=>{const i=t.map(l=>{if(l==null)return null;if(typeof l=="function"){const d=l,u=d(n);return typeof u=="function"?u:()=>{d(null)}}return l.current=n,()=>{l.current=null}});return()=>{i.forEach(l=>l?.())}},t);return w.useMemo(()=>t.every(n=>n==null)?null:n=>{e.current&&(e.current(),e.current=void 0),n!=null&&(e.current=a(n))},t)}function xD(t,e){const a=t.charCodeAt(2);return t[0]==="o"&&t[1]==="n"&&a>=65&&a<=90&&typeof e=="function"}function dk(t,e){if(!t)return e;function a(d,u){const h={};return Object.keys(u).forEach(m=>{xD(m,u[m])&&typeof d[m]=="function"&&(h[m]=(...y)=>{d[m](...y),u[m](...y)})}),h}if(typeof t=="function"||typeof e=="function")return d=>{const u=typeof e=="function"?e(d):e,h=typeof t=="function"?t({...d,...u}):t,m=Le(d?.className,u?.className,h?.className),y=a(h,u);return{...u,...h,...y,...!!m&&{className:m},...u?.style&&h?.style&&{style:{...u.style,...h.style}},...u?.sx&&h?.sx&&{sx:[...Array.isArray(u.sx)?u.sx:[u.sx],...Array.isArray(h.sx)?h.sx:[h.sx]]}}};const n=e,i=a(t,n),l=Le(n?.className,t?.className);return{...e,...t,...i,...!!l&&{className:l},...n?.style&&t?.style&&{style:{...n.style,...t.style}},...n?.sx&&t?.sx&&{sx:[...Array.isArray(n.sx)?n.sx:[n.sx],...Array.isArray(t.sx)?t.sx:[t.sx]]}}}function uk(t,e){if(t==null)return{};var a={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;a[n]=t[n]}return a}function Kv(t,e){return Kv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},Kv(t,e)}function pk(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Kv(t,e)}const EC={disabled:!1},Eg=Oi.createContext(null);var wD=function(e){return e.scrollTop},sp="unmounted",vl="exited",xl="entering",$c="entered",Yv="exiting",gi=function(t){pk(e,t);function e(n,i){var l;l=t.call(this,n,i)||this;var d=i,u=d&&!d.isMounting?n.enter:n.appear,h;return l.appearStatus=null,n.in?u?(h=vl,l.appearStatus=xl):h=$c:n.unmountOnExit||n.mountOnEnter?h=sp:h=vl,l.state={status:h},l.nextCallback=null,l}e.getDerivedStateFromProps=function(i,l){var d=i.in;return d&&l.status===sp?{status:vl}:null};var a=e.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(i){var l=null;if(i!==this.props){var d=this.state.status;this.props.in?d!==xl&&d!==$c&&(l=xl):(d===xl||d===$c)&&(l=Yv)}this.updateStatus(!1,l)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var i=this.props.timeout,l,d,u;return l=d=u=i,i!=null&&typeof i!="number"&&(l=i.exit,d=i.enter,u=i.appear!==void 0?i.appear:d),{exit:l,enter:d,appear:u}},a.updateStatus=function(i,l){if(i===void 0&&(i=!1),l!==null)if(this.cancelNextCallback(),l===xl){if(this.props.unmountOnExit||this.props.mountOnEnter){var d=this.props.nodeRef?this.props.nodeRef.current:Um.findDOMNode(this);d&&wD(d)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===vl&&this.setState({status:sp})},a.performEnter=function(i){var l=this,d=this.props.enter,u=this.context?this.context.isMounting:i,h=this.props.nodeRef?[u]:[Um.findDOMNode(this),u],m=h[0],y=h[1],v=this.getTimeouts(),x=u?v.appear:v.enter;if(!i&&!d||EC.disabled){this.safeSetState({status:$c},function(){l.props.onEntered(m)});return}this.props.onEnter(m,y),this.safeSetState({status:xl},function(){l.props.onEntering(m,y),l.onTransitionEnd(x,function(){l.safeSetState({status:$c},function(){l.props.onEntered(m,y)})})})},a.performExit=function(){var i=this,l=this.props.exit,d=this.getTimeouts(),u=this.props.nodeRef?void 0:Um.findDOMNode(this);if(!l||EC.disabled){this.safeSetState({status:vl},function(){i.props.onExited(u)});return}this.props.onExit(u),this.safeSetState({status:Yv},function(){i.props.onExiting(u),i.onTransitionEnd(d.exit,function(){i.safeSetState({status:vl},function(){i.props.onExited(u)})})})},a.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(i,l){l=this.setNextCallback(l),this.setState(i,l)},a.setNextCallback=function(i){var l=this,d=!0;return this.nextCallback=function(u){d&&(d=!1,l.nextCallback=null,i(u))},this.nextCallback.cancel=function(){d=!1},this.nextCallback},a.onTransitionEnd=function(i,l){this.setNextCallback(l);var d=this.props.nodeRef?this.props.nodeRef.current:Um.findDOMNode(this),u=i==null&&!this.props.addEndListener;if(!d||u){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var h=this.props.nodeRef?[this.nextCallback]:[d,this.nextCallback],m=h[0],y=h[1];this.props.addEndListener(m,y)}i!=null&&setTimeout(this.nextCallback,i)},a.render=function(){var i=this.state.status;if(i===sp)return null;var l=this.props,d=l.children;l.in,l.mountOnEnter,l.unmountOnExit,l.appear,l.enter,l.exit,l.timeout,l.addEndListener,l.onEnter,l.onEntering,l.onEntered,l.onExit,l.onExiting,l.onExited,l.nodeRef;var u=uk(l,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Oi.createElement(Eg.Provider,{value:null},typeof d=="function"?d(i,u):Oi.cloneElement(Oi.Children.only(d),u))},e}(Oi.Component);gi.contextType=Eg;gi.propTypes={};function Nc(){}gi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Nc,onEntering:Nc,onEntered:Nc,onExit:Nc,onExiting:Nc,onExited:Nc};gi.UNMOUNTED=sp;gi.EXITED=vl;gi.ENTERING=xl;gi.ENTERED=$c;gi.EXITING=Yv;function SD(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cw(t,e){var a=function(l){return e&&w.isValidElement(l)?e(l):l},n=Object.create(null);return t&&w.Children.map(t,function(i){return i}).forEach(function(i){n[i.key]=a(i)}),n}function TD(t,e){t=t||{},e=e||{};function a(y){return y in e?e[y]:t[y]}var n=Object.create(null),i=[];for(var l in t)l in e?i.length&&(n[l]=i,i=[]):i.push(l);var d,u={};for(var h in e){if(n[h])for(d=0;d<n[h].length;d++){var m=n[h][d];u[n[h][d]]=a(m)}u[h]=a(h)}for(d=0;d<i.length;d++)u[i[d]]=a(i[d]);return u}function Rl(t,e,a){return a[e]!=null?a[e]:t.props[e]}function CD(t,e){return cw(t.children,function(a){return w.cloneElement(a,{onExited:e.bind(null,a),in:!0,appear:Rl(a,"appear",t),enter:Rl(a,"enter",t),exit:Rl(a,"exit",t)})})}function MD(t,e,a){var n=cw(t.children),i=TD(e,n);return Object.keys(i).forEach(function(l){var d=i[l];if(w.isValidElement(d)){var u=l in e,h=l in n,m=e[l],y=w.isValidElement(m)&&!m.props.in;h&&(!u||y)?i[l]=w.cloneElement(d,{onExited:a.bind(null,d),in:!0,exit:Rl(d,"exit",t),enter:Rl(d,"enter",t)}):!h&&u&&!y?i[l]=w.cloneElement(d,{in:!1}):h&&u&&w.isValidElement(m)&&(i[l]=w.cloneElement(d,{onExited:a.bind(null,d),in:m.props.in,exit:Rl(d,"exit",t),enter:Rl(d,"enter",t)}))}}),i}var RD=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},AD={component:"div",childFactory:function(e){return e}},dw=function(t){pk(e,t);function e(n,i){var l;l=t.call(this,n,i)||this;var d=l.handleExited.bind(SD(l));return l.state={contextValue:{isMounting:!0},handleExited:d,firstRender:!0},l}var a=e.prototype;return a.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},a.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,l){var d=l.children,u=l.handleExited,h=l.firstRender;return{children:h?CD(i,u):MD(i,d,u),firstRender:!1}},a.handleExited=function(i,l){var d=cw(this.props.children);i.key in d||(i.props.onExited&&i.props.onExited(l),this.mounted&&this.setState(function(u){var h=Mg({},u.children);return delete h[i.key],{children:h}}))},a.render=function(){var i=this.props,l=i.component,d=i.childFactory,u=uk(i,["component","childFactory"]),h=this.state.contextValue,m=RD(this.state.children).map(d);return delete u.appear,delete u.enter,delete u.exit,l===null?Oi.createElement(Eg.Provider,{value:h},m):Oi.createElement(Eg.Provider,{value:h},Oi.createElement(l,u,m))},e}(Oi.Component);dw.propTypes={};dw.defaultProps=AD;const _C={};function hk(t,e){const a=w.useRef(_C);return a.current===_C&&(a.current=t(e)),a}const kD=[];function ED(t){w.useEffect(t,kD)}class Sf{static create(){return new Sf}currentId=null;start(e,a){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,a()},e)}clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function Al(){const t=hk(Sf.create).current;return ED(t.disposeEffect),t}const mk=t=>t.scrollTop;function cd(t,e){const{timeout:a,easing:n,style:i={}}=t;return{duration:i.transitionDuration??(typeof a=="number"?a:a[e.mode]||0),easing:i.transitionTimingFunction??(typeof n=="object"?n[e.mode]:n),delay:i.transitionDelay}}function _D(t){return et("MuiCollapse",t)}nt("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const jD=t=>{const{orientation:e,classes:a}=t,n={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return tt(n,_D,a)},ID=Ce("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,e[a.orientation],a.state==="entered"&&e.entered,a.state==="exited"&&!a.in&&a.collapsedSize==="0px"&&e.hidden]}})(lt(({theme:t})=>({height:0,overflow:"hidden",transition:t.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:t.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:e})=>e.state==="exited"&&!e.in&&e.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),PD=Ce("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),WD=Ce("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),Xv=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiCollapse"}),{addEndListener:i,children:l,className:d,collapsedSize:u="0px",component:h,easing:m,in:y,onEnter:v,onEntered:x,onEntering:T,onExit:C,onExited:j,onExiting:E,orientation:M="vertical",style:L,timeout:W=ik.standard,TransitionComponent:R=gi,...I}=n,N={...n,orientation:M,collapsedSize:u},V=jD(N),A=Xa(),_=Al(),S=w.useRef(null),D=w.useRef(),U=typeof u=="number"?`${u}px`:u,P=M==="horizontal",K=P?"width":"height",J=w.useRef(null),$=Ba(a,J),X=oe=>_e=>{if(oe){const Me=J.current;_e===void 0?oe(Me):oe(Me,_e)}},le=()=>S.current?S.current[P?"clientWidth":"clientHeight"]:0,ie=X((oe,_e)=>{S.current&&P&&(S.current.style.position="absolute"),oe.style[K]=U,v&&v(oe,_e)}),H=X((oe,_e)=>{const Me=le();S.current&&P&&(S.current.style.position="");const{duration:Oe,easing:qe}=cd({style:L,timeout:W,easing:m},{mode:"enter"});if(W==="auto"){const Qe=A.transitions.getAutoHeightDuration(Me);oe.style.transitionDuration=`${Qe}ms`,D.current=Qe}else oe.style.transitionDuration=typeof Oe=="string"?Oe:`${Oe}ms`;oe.style[K]=`${Me}px`,oe.style.transitionTimingFunction=qe,T&&T(oe,_e)}),te=X((oe,_e)=>{oe.style[K]="auto",x&&x(oe,_e)}),Q=X(oe=>{oe.style[K]=`${le()}px`,C&&C(oe)}),ne=X(j),ye=X(oe=>{const _e=le(),{duration:Me,easing:Oe}=cd({style:L,timeout:W,easing:m},{mode:"exit"});if(W==="auto"){const qe=A.transitions.getAutoHeightDuration(_e);oe.style.transitionDuration=`${qe}ms`,D.current=qe}else oe.style.transitionDuration=typeof Me=="string"?Me:`${Me}ms`;oe.style[K]=U,oe.style.transitionTimingFunction=Oe,E&&E(oe)}),be=oe=>{W==="auto"&&_.start(D.current||0,oe),i&&i(J.current,oe)};return s.jsx(R,{in:y,onEnter:ie,onEntered:te,onEntering:H,onExit:Q,onExited:ne,onExiting:ye,addEndListener:be,nodeRef:J,timeout:W==="auto"?null:W,...I,children:(oe,{ownerState:_e,...Me})=>s.jsx(ID,{as:h,className:Le(V.root,d,{entered:V.entered,exited:!y&&U==="0px"&&V.hidden}[oe]),style:{[P?"minWidth":"minHeight"]:U,...L},ref:$,ownerState:{...N,state:oe},...Me,children:s.jsx(PD,{ownerState:{...N,state:oe},className:V.wrapper,ref:S,children:s.jsx(WD,{ownerState:{...N,state:oe},className:V.wrapperInner,children:l})})})})});Xv&&(Xv.muiSupportAuto=!0);function DD(t){return et("MuiPaper",t)}nt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const LD=t=>{const{square:e,elevation:a,variant:n,classes:i}=t,l={root:["root",n,!e&&"rounded",n==="elevation"&&`elevation${a}`]};return tt(l,DD,i)},VD=Ce("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,e[a.variant],!a.square&&e.rounded,a.variant==="elevation"&&e[`elevation${a.elevation}`]]}})(lt(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),ta=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiPaper"}),i=Xa(),{className:l,component:d="div",elevation:u=1,square:h=!1,variant:m="elevation",...y}=n,v={...n,component:d,elevation:u,square:h,variant:m},x=LD(v);return s.jsx(VD,{as:d,ownerState:v,className:Le(x.root,l),ref:a,...y,style:{...m==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[u],...i.vars&&{"--Paper-overlay":i.vars.overlays?.[u]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${_t("#fff",$v(u))}, ${_t("#fff",$v(u))})`}},...y.style}})}),gk=w.createContext({});function UD(t){return typeof t=="string"}function fk(t,e,a){return t===void 0||UD(t)?e:{...e,ownerState:{...e.ownerState,...a}}}function yk(t,e,a){return typeof t=="function"?t(e,a):t}function bk(t,e=[]){if(t===void 0)return{};const a={};return Object.keys(t).filter(n=>n.match(/^on[A-Z]/)&&typeof t[n]=="function"&&!e.includes(n)).forEach(n=>{a[n]=t[n]}),a}function jC(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(a=>!(a.match(/^on[A-Z]/)&&typeof t[a]=="function")).forEach(a=>{e[a]=t[a]}),e}function vk(t){const{getSlotProps:e,additionalProps:a,externalSlotProps:n,externalForwardedProps:i,className:l}=t;if(!e){const T=Le(a?.className,l,i?.className,n?.className),C={...a?.style,...i?.style,...n?.style},j={...a,...i,...n};return T.length>0&&(j.className=T),Object.keys(C).length>0&&(j.style=C),{props:j,internalRef:void 0}}const d=bk({...i,...n}),u=jC(n),h=jC(i),m=e(d),y=Le(m?.className,a?.className,l,i?.className,n?.className),v={...m?.style,...a?.style,...i?.style,...n?.style},x={...m,...a,...h,...u};return y.length>0&&(x.className=y),Object.keys(v).length>0&&(x.style=v),{props:x,internalRef:m.ref}}function dt(t,e){const{className:a,elementType:n,ownerState:i,externalForwardedProps:l,internalForwardedProps:d,shouldForwardComponentProp:u=!1,...h}=e,{component:m,slots:y={[t]:void 0},slotProps:v={[t]:void 0},...x}=l,T=y[t]||n,C=yk(v[t],i),{props:{component:j,...E},internalRef:M}=vk({className:a,...h,externalForwardedProps:t==="root"?x:void 0,externalSlotProps:C}),L=Ba(M,C?.ref,e.ref),W=t==="root"?j||m:j,R=fk(T,{...t==="root"&&!m&&!y[t]&&d,...t!=="root"&&!y[t]&&d,...E,...W&&!u&&{as:W},...W&&u&&{component:W},ref:L},i);return[T,R]}function OD(t){return et("MuiAccordion",t)}const Fm=nt("MuiAccordion",["root","heading","rounded","expanded","disabled","gutters","region"]),zD=t=>{const{classes:e,square:a,expanded:n,disabled:i,disableGutters:l}=t;return tt({root:["root",!a&&"rounded",n&&"expanded",i&&"disabled",!l&&"gutters"],heading:["heading"],region:["region"]},OD,e)},BD=Ce(ta,{name:"MuiAccordion",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[{[`& .${Fm.region}`]:e.region},e.root,!a.square&&e.rounded,!a.disableGutters&&e.gutters]}})(lt(({theme:t})=>{const e={duration:t.transitions.duration.shortest};return{position:"relative",transition:t.transitions.create(["margin"],e),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(t.vars||t).palette.divider,transition:t.transitions.create(["opacity","background-color"],e)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${Fm.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${Fm.disabled}`]:{backgroundColor:(t.vars||t).palette.action.disabledBackground}}}),lt(({theme:t})=>({variants:[{props:e=>!e.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(t.vars||t).shape.borderRadius,borderBottomRightRadius:(t.vars||t).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:e=>!e.disableGutters,style:{[`&.${Fm.expanded}`]:{margin:"16px 0"}}}]}))),ND=Ce("h3",{name:"MuiAccordion",slot:"Heading"})({all:"unset"}),ai=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiAccordion"}),{children:i,className:l,defaultExpanded:d=!1,disabled:u=!1,disableGutters:h=!1,expanded:m,onChange:y,square:v=!1,slots:x={},slotProps:T={},TransitionComponent:C,TransitionProps:j,...E}=n,[M,L]=Wp({controlled:m,default:d,name:"Accordion",state:"expanded"}),W=w.useCallback(le=>{L(!M),y&&y(le,!M)},[M,y,L]),[R,...I]=w.Children.toArray(i),N=w.useMemo(()=>({expanded:M,disabled:u,disableGutters:h,toggle:W}),[M,u,h,W]),V={...n,square:v,disabled:u,disableGutters:h,expanded:M},A=zD(V),_={transition:C,...x},S={transition:j,...T},D={slots:_,slotProps:S},[U,P]=dt("root",{elementType:BD,externalForwardedProps:{...D,...E},className:Le(A.root,l),shouldForwardComponentProp:!0,ownerState:V,ref:a,additionalProps:{square:v}}),[K,J]=dt("heading",{elementType:ND,externalForwardedProps:D,className:A.heading,ownerState:V}),[$,X]=dt("transition",{elementType:Xv,externalForwardedProps:D,ownerState:V});return s.jsxs(U,{...P,children:[s.jsx(K,{...J,children:s.jsx(gk.Provider,{value:N,children:R})}),s.jsx($,{in:M,timeout:"auto",...X,children:s.jsx("div",{"aria-labelledby":R.props.id,id:R.props["aria-controls"],role:"region",className:A.region,children:I})})]})});function FD(t){return et("MuiAccordionDetails",t)}nt("MuiAccordionDetails",["root"]);const qD=t=>{const{classes:e}=t;return tt({root:["root"]},FD,e)},HD=Ce("div",{name:"MuiAccordionDetails",slot:"Root"})(lt(({theme:t})=>({padding:t.spacing(1,2,2)}))),ni=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiAccordionDetails"}),{className:i,...l}=n,d=n,u=qD(d);return s.jsx(HD,{className:Le(u.root,i),ref:a,ownerState:d,...l})});function _g(t){try{return t.matches(":focus-visible")}catch{}return!1}class jg{static create(){return new jg}static use(){const e=hk(jg.create).current,[a,n]=w.useState(!1);return e.shouldMount=a,e.setShouldMount=n,w.useEffect(e.mountEffect,[a]),e}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=GD(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())};start(...e){this.mount().then(()=>this.ref.current?.start(...e))}stop(...e){this.mount().then(()=>this.ref.current?.stop(...e))}pulsate(...e){this.mount().then(()=>this.ref.current?.pulsate(...e))}}function $D(){return jg.use()}function GD(){let t,e;const a=new Promise((n,i)=>{t=n,e=i});return a.resolve=t,a.reject=e,a}function KD(t){const{className:e,classes:a,pulsate:n=!1,rippleX:i,rippleY:l,rippleSize:d,in:u,onExited:h,timeout:m}=t,[y,v]=w.useState(!1),x=Le(e,a.ripple,a.rippleVisible,n&&a.ripplePulsate),T={width:d,height:d,top:-(d/2)+l,left:-(d/2)+i},C=Le(a.child,y&&a.childLeaving,n&&a.childPulsate);return!u&&!y&&v(!0),w.useEffect(()=>{if(!u&&h!=null){const j=setTimeout(h,m);return()=>{clearTimeout(j)}}},[h,u,m]),s.jsx("span",{className:x,style:T,children:s.jsx("span",{className:C})})}const Or=nt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Qv=550,YD=80,XD=Jp`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,QD=Jp`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,JD=Jp`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,ZD=Ce("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),eL=Ce(KD,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Or.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${XD};
    animation-duration: ${Qv}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${Or.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${Or.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Or.childLeaving} {
    opacity: 0;
    animation-name: ${QD};
    animation-duration: ${Qv}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${Or.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${JD};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,tL=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:l={},className:d,...u}=n,[h,m]=w.useState([]),y=w.useRef(0),v=w.useRef(null);w.useEffect(()=>{v.current&&(v.current(),v.current=null)},[h]);const x=w.useRef(!1),T=Al(),C=w.useRef(null),j=w.useRef(null),E=w.useCallback(R=>{const{pulsate:I,rippleX:N,rippleY:V,rippleSize:A,cb:_}=R;m(S=>[...S,s.jsx(eL,{classes:{ripple:Le(l.ripple,Or.ripple),rippleVisible:Le(l.rippleVisible,Or.rippleVisible),ripplePulsate:Le(l.ripplePulsate,Or.ripplePulsate),child:Le(l.child,Or.child),childLeaving:Le(l.childLeaving,Or.childLeaving),childPulsate:Le(l.childPulsate,Or.childPulsate)},timeout:Qv,pulsate:I,rippleX:N,rippleY:V,rippleSize:A},y.current)]),y.current+=1,v.current=_},[l]),M=w.useCallback((R={},I={},N=()=>{})=>{const{pulsate:V=!1,center:A=i||I.pulsate,fakeElement:_=!1}=I;if(R?.type==="mousedown"&&x.current){x.current=!1;return}R?.type==="touchstart"&&(x.current=!0);const S=_?null:j.current,D=S?S.getBoundingClientRect():{width:0,height:0,left:0,top:0};let U,P,K;if(A||R===void 0||R.clientX===0&&R.clientY===0||!R.clientX&&!R.touches)U=Math.round(D.width/2),P=Math.round(D.height/2);else{const{clientX:J,clientY:$}=R.touches&&R.touches.length>0?R.touches[0]:R;U=Math.round(J-D.left),P=Math.round($-D.top)}if(A)K=Math.sqrt((2*D.width**2+D.height**2)/3),K%2===0&&(K+=1);else{const J=Math.max(Math.abs((S?S.clientWidth:0)-U),U)*2+2,$=Math.max(Math.abs((S?S.clientHeight:0)-P),P)*2+2;K=Math.sqrt(J**2+$**2)}R?.touches?C.current===null&&(C.current=()=>{E({pulsate:V,rippleX:U,rippleY:P,rippleSize:K,cb:N})},T.start(YD,()=>{C.current&&(C.current(),C.current=null)})):E({pulsate:V,rippleX:U,rippleY:P,rippleSize:K,cb:N})},[i,E,T]),L=w.useCallback(()=>{M({},{pulsate:!0})},[M]),W=w.useCallback((R,I)=>{if(T.clear(),R?.type==="touchend"&&C.current){C.current(),C.current=null,T.start(0,()=>{W(R,I)});return}C.current=null,m(N=>N.length>0?N.slice(1):N),v.current=I},[T]);return w.useImperativeHandle(a,()=>({pulsate:L,start:M,stop:W}),[L,M,W]),s.jsx(ZD,{className:Le(Or.root,l.root,d),ref:j,...u,children:s.jsx(dw,{component:null,exit:!0,children:h})})});function aL(t){return et("MuiButtonBase",t)}const nL=nt("MuiButtonBase",["root","disabled","focusVisible"]),rL=t=>{const{disabled:e,focusVisible:a,focusVisibleClassName:n,classes:i}=t,d=tt({root:["root",e&&"disabled",a&&"focusVisible"]},aL,i);return a&&n&&(d.root+=` ${n}`),d},iL=Ce("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${nL.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),qr=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:l=!1,children:d,className:u,component:h="button",disabled:m=!1,disableRipple:y=!1,disableTouchRipple:v=!1,focusRipple:x=!1,focusVisibleClassName:T,LinkComponent:C="a",onBlur:j,onClick:E,onContextMenu:M,onDragLeave:L,onFocus:W,onFocusVisible:R,onKeyDown:I,onKeyUp:N,onMouseDown:V,onMouseLeave:A,onMouseUp:_,onTouchEnd:S,onTouchMove:D,onTouchStart:U,tabIndex:P=0,TouchRippleProps:K,touchRippleRef:J,type:$,...X}=n,le=w.useRef(null),ie=$D(),H=Ba(ie.ref,J),[te,Q]=w.useState(!1);m&&te&&Q(!1),w.useImperativeHandle(i,()=>({focusVisible:()=>{Q(!0),le.current.focus()}}),[]);const ne=ie.shouldMount&&!y&&!m;w.useEffect(()=>{te&&x&&!y&&ie.pulsate()},[y,x,te,ie]);const ye=Mo(ie,"start",V,v),be=Mo(ie,"stop",M,v),oe=Mo(ie,"stop",L,v),_e=Mo(ie,"stop",_,v),Me=Mo(ie,"stop",Ee=>{te&&Ee.preventDefault(),A&&A(Ee)},v),Oe=Mo(ie,"start",U,v),qe=Mo(ie,"stop",S,v),Qe=Mo(ie,"stop",D,v),ae=Mo(ie,"stop",Ee=>{_g(Ee.target)||Q(!1),j&&j(Ee)},!1),ve=Nr(Ee=>{le.current||(le.current=Ee.currentTarget),_g(Ee.target)&&(Q(!0),R&&R(Ee)),W&&W(Ee)}),De=()=>{const Ee=le.current;return h&&h!=="button"&&!(Ee.tagName==="A"&&Ee.href)},He=Nr(Ee=>{x&&!Ee.repeat&&te&&Ee.key===" "&&ie.stop(Ee,()=>{ie.start(Ee)}),Ee.target===Ee.currentTarget&&De()&&Ee.key===" "&&Ee.preventDefault(),I&&I(Ee),Ee.target===Ee.currentTarget&&De()&&Ee.key==="Enter"&&!m&&(Ee.preventDefault(),E&&E(Ee))}),se=Nr(Ee=>{x&&Ee.key===" "&&te&&!Ee.defaultPrevented&&ie.stop(Ee,()=>{ie.pulsate(Ee)}),N&&N(Ee),E&&Ee.target===Ee.currentTarget&&De()&&Ee.key===" "&&!Ee.defaultPrevented&&E(Ee)});let ee=h;ee==="button"&&(X.href||X.to)&&(ee=C);const Se={};ee==="button"?(Se.type=$===void 0?"button":$,Se.disabled=m):(!X.href&&!X.to&&(Se.role="button"),m&&(Se["aria-disabled"]=m));const pe=Ba(a,le),je={...n,centerRipple:l,component:h,disabled:m,disableRipple:y,disableTouchRipple:v,focusRipple:x,tabIndex:P,focusVisible:te},we=rL(je);return s.jsxs(iL,{as:ee,className:Le(we.root,u),ownerState:je,onBlur:ae,onClick:E,onContextMenu:be,onFocus:ve,onKeyDown:He,onKeyUp:se,onMouseDown:ye,onMouseLeave:Me,onMouseUp:_e,onDragLeave:oe,onTouchEnd:qe,onTouchMove:Qe,onTouchStart:Oe,ref:pe,tabIndex:m?-1:P,type:$,...Se,...X,children:[d,ne?s.jsx(tL,{ref:H,center:l,...K}):null]})});function Mo(t,e,a,n=!1){return Nr(i=>(a&&a(i),n||t[e](i),!0))}function oL(t){return et("MuiAccordionSummary",t)}const Jc=nt("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),sL=t=>{const{classes:e,expanded:a,disabled:n,disableGutters:i}=t;return tt({root:["root",a&&"expanded",n&&"disabled",!i&&"gutters"],focusVisible:["focusVisible"],content:["content",a&&"expanded",!i&&"contentGutters"],expandIconWrapper:["expandIconWrapper",a&&"expanded"]},oL,e)},lL=Ce(qr,{name:"MuiAccordionSummary",slot:"Root"})(lt(({theme:t})=>{const e={duration:t.transitions.duration.shortest};return{display:"flex",width:"100%",minHeight:48,padding:t.spacing(0,2),transition:t.transitions.create(["min-height","background-color"],e),[`&.${Jc.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Jc.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`&:hover:not(.${Jc.disabled})`]:{cursor:"pointer"},variants:[{props:a=>!a.disableGutters,style:{[`&.${Jc.expanded}`]:{minHeight:64}}}]}})),cL=Ce("span",{name:"MuiAccordionSummary",slot:"Content"})(lt(({theme:t})=>({display:"flex",textAlign:"start",flexGrow:1,margin:"12px 0",variants:[{props:e=>!e.disableGutters,style:{transition:t.transitions.create(["margin"],{duration:t.transitions.duration.shortest}),[`&.${Jc.expanded}`]:{margin:"20px 0"}}}]}))),dL=Ce("span",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper"})(lt(({theme:t})=>({display:"flex",color:(t.vars||t).palette.action.active,transform:"rotate(0deg)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),[`&.${Jc.expanded}`]:{transform:"rotate(180deg)"}}))),ri=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiAccordionSummary"}),{children:i,className:l,expandIcon:d,focusVisibleClassName:u,onClick:h,slots:m,slotProps:y,...v}=n,{disabled:x=!1,disableGutters:T,expanded:C,toggle:j}=w.useContext(gk),E=S=>{j&&j(S),h&&h(S)},M={...n,expanded:C,disabled:x,disableGutters:T},L=sL(M),W={slots:m,slotProps:y},[R,I]=dt("root",{ref:a,shouldForwardComponentProp:!0,className:Le(L.root,l),elementType:lL,externalForwardedProps:{...W,...v},ownerState:M,additionalProps:{focusRipple:!1,disableRipple:!0,disabled:x,"aria-expanded":C,focusVisibleClassName:Le(L.focusVisible,u)},getSlotProps:S=>({...S,onClick:D=>{S.onClick?.(D),E(D)}})}),[N,V]=dt("content",{className:L.content,elementType:cL,externalForwardedProps:W,ownerState:M}),[A,_]=dt("expandIconWrapper",{className:L.expandIconWrapper,elementType:dL,externalForwardedProps:W,ownerState:M});return s.jsxs(R,{...I,children:[s.jsx(N,{...V,children:i}),d&&s.jsx(A,{..._,children:d})]})});function uL(t){return typeof t.main=="string"}function pL(t,e=[]){if(!uL(t))return!1;for(const a of e)if(!t.hasOwnProperty(a)||typeof t[a]!="string")return!1;return!0}function Ga(t=[]){return([,e])=>e&&pL(e,t)}function hL(t){return et("MuiAlert",t)}const IC=nt("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function mL(t){return et("MuiCircularProgress",t)}nt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const gs=44,Jv=Jp`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,Zv=Jp`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,gL=typeof Jv!="string"?Xx`
        animation: ${Jv} 1.4s linear infinite;
      `:null,fL=typeof Zv!="string"?Xx`
        animation: ${Zv} 1.4s ease-in-out infinite;
      `:null,yL=t=>{const{classes:e,variant:a,color:n,disableShrink:i}=t,l={root:["root",a,`color${Ae(n)}`],svg:["svg"],circle:["circle",`circle${Ae(a)}`,i&&"circleDisableShrink"]};return tt(l,mL,e)},bL=Ce("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,e[a.variant],e[`color${Ae(a.color)}`]]}})(lt(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:gL||{animation:`${Jv} 1.4s linear infinite`}},...Object.entries(t.palette).filter(Ga()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),vL=Ce("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),xL=Ce("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.circle,e[`circle${Ae(a.variant)}`],a.disableShrink&&e.circleDisableShrink]}})(lt(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:fL||{animation:`${Zv} 1.4s ease-in-out infinite`}}]}))),Cs=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiCircularProgress"}),{className:i,color:l="primary",disableShrink:d=!1,size:u=40,style:h,thickness:m=3.6,value:y=0,variant:v="indeterminate",...x}=n,T={...n,color:l,disableShrink:d,size:u,thickness:m,value:y,variant:v},C=yL(T),j={},E={},M={};if(v==="determinate"){const L=2*Math.PI*((gs-m)/2);j.strokeDasharray=L.toFixed(3),M["aria-valuenow"]=Math.round(y),j.strokeDashoffset=`${((100-y)/100*L).toFixed(3)}px`,E.transform="rotate(-90deg)"}return s.jsx(bL,{className:Le(C.root,i),style:{width:u,height:u,...E,...h},ownerState:T,ref:a,role:"progressbar",...M,...x,children:s.jsx(vL,{className:C.svg,ownerState:T,viewBox:`${gs/2} ${gs/2} ${gs} ${gs}`,children:s.jsx(xL,{className:C.circle,style:j,ownerState:T,cx:gs,cy:gs,r:(gs-m)/2,fill:"none",strokeWidth:m})})})});function wL(t){return et("MuiIconButton",t)}const PC=nt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),SL=t=>{const{classes:e,disabled:a,color:n,edge:i,size:l,loading:d}=t,u={root:["root",d&&"loading",a&&"disabled",n!=="default"&&`color${Ae(n)}`,i&&`edge${Ae(i)}`,`size${Ae(l)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return tt(u,wL,e)},TL=Ce(qr,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,a.loading&&e.loading,a.color!=="default"&&e[`color${Ae(a.color)}`],a.edge&&e[`edge${Ae(a.edge)}`],e[`size${Ae(a.size)}`]]}})(lt(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:_t(t.palette.action.active,t.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),lt(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(Ga()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(Ga()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.vars?`rgba(${(t.vars||t).palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:_t((t.vars||t).palette[e].main,t.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${PC.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${PC.loading}`]:{color:"transparent"}}))),CL=Ce("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),xt=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiIconButton"}),{edge:i=!1,children:l,className:d,color:u="default",disabled:h=!1,disableFocusRipple:m=!1,size:y="medium",id:v,loading:x=null,loadingIndicator:T,...C}=n,j=Hl(v),E=T??s.jsx(Cs,{"aria-labelledby":j,color:"inherit",size:16}),M={...n,edge:i,color:u,disabled:h,disableFocusRipple:m,loading:x,loadingIndicator:E,size:y},L=SL(M);return s.jsxs(TL,{id:x?j:v,className:Le(L.root,d),centerRipple:!0,focusRipple:!m,disabled:h||x,ref:a,...C,ownerState:M,children:[typeof x=="boolean"&&s.jsx("span",{className:L.loadingWrapper,style:{display:"contents"},children:s.jsx(CL,{className:L.loadingIndicator,ownerState:M,children:x&&E})}),l]})}),ML=St(s.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),RL=St(s.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),AL=St(s.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),kL=St(s.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),EL=St(s.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),_L=t=>{const{variant:e,color:a,severity:n,classes:i}=t,l={root:["root",`color${Ae(a||n)}`,`${e}${Ae(a||n)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return tt(l,hL,i)},jL=Ce(ta,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,e[a.variant],e[`${a.variant}${Ae(a.color||a.severity)}`]]}})(lt(({theme:t})=>{const e=t.palette.mode==="light"?Ll:Vl,a=t.palette.mode==="light"?Vl:Ll;return{...t.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(Ga(["light"])).map(([n])=>({props:{colorSeverity:n,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${n}Color`]:e(t.palette[n].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${n}StandardBg`]:a(t.palette[n].light,.9),[`& .${IC.icon}`]:t.vars?{color:t.vars.palette.Alert[`${n}IconColor`]}:{color:t.palette[n].main}}})),...Object.entries(t.palette).filter(Ga(["light"])).map(([n])=>({props:{colorSeverity:n,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${n}Color`]:e(t.palette[n].light,.6),border:`1px solid ${(t.vars||t).palette[n].light}`,[`& .${IC.icon}`]:t.vars?{color:t.vars.palette.Alert[`${n}IconColor`]}:{color:t.palette[n].main}}})),...Object.entries(t.palette).filter(Ga(["dark"])).map(([n])=>({props:{colorSeverity:n,variant:"filled"},style:{fontWeight:t.typography.fontWeightMedium,...t.vars?{color:t.vars.palette.Alert[`${n}FilledColor`],backgroundColor:t.vars.palette.Alert[`${n}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[n].dark:t.palette[n].main,color:t.palette.getContrastText(t.palette[n].main)}}}))]}})),IL=Ce("div",{name:"MuiAlert",slot:"Icon"})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),PL=Ce("div",{name:"MuiAlert",slot:"Message"})({padding:"8px 0",minWidth:0,overflow:"auto"}),WL=Ce("div",{name:"MuiAlert",slot:"Action"})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),WC={success:s.jsx(ML,{fontSize:"inherit"}),warning:s.jsx(RL,{fontSize:"inherit"}),error:s.jsx(AL,{fontSize:"inherit"}),info:s.jsx(kL,{fontSize:"inherit"})},Ca=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiAlert"}),{action:i,children:l,className:d,closeText:u="Close",color:h,components:m={},componentsProps:y={},icon:v,iconMapping:x=WC,onClose:T,role:C="alert",severity:j="success",slotProps:E={},slots:M={},variant:L="standard",...W}=n,R={...n,color:h,severity:j,variant:L,colorSeverity:h||j},I=_L(R),N={slots:{closeButton:m.CloseButton,closeIcon:m.CloseIcon,...M},slotProps:{...y,...E}},[V,A]=dt("root",{ref:a,shouldForwardComponentProp:!0,className:Le(I.root,d),elementType:jL,externalForwardedProps:{...N,...W},ownerState:R,additionalProps:{role:C,elevation:0}}),[_,S]=dt("icon",{className:I.icon,elementType:IL,externalForwardedProps:N,ownerState:R}),[D,U]=dt("message",{className:I.message,elementType:PL,externalForwardedProps:N,ownerState:R}),[P,K]=dt("action",{className:I.action,elementType:WL,externalForwardedProps:N,ownerState:R}),[J,$]=dt("closeButton",{elementType:xt,externalForwardedProps:N,ownerState:R}),[X,le]=dt("closeIcon",{elementType:EL,externalForwardedProps:N,ownerState:R});return s.jsxs(V,{...A,children:[v!==!1?s.jsx(_,{...S,children:v||x[j]||WC[j]}):null,s.jsx(D,{...U,children:l}),i!=null?s.jsx(P,{...K,children:i}):null,i==null&&T?s.jsx(P,{...K,children:s.jsx(J,{size:"small","aria-label":u,title:u,color:"inherit",onClick:T,...$,children:s.jsx(X,{fontSize:"small",...le})})}):null]})});function DL(t){return et("MuiTypography",t)}const DC=nt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),LL={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},VL=fD(),UL=t=>{const{align:e,gutterBottom:a,noWrap:n,paragraph:i,variant:l,classes:d}=t,u={root:["root",l,t.align!=="inherit"&&`align${Ae(e)}`,a&&"gutterBottom",n&&"noWrap",i&&"paragraph"]};return tt(u,DL,d)},OL=Ce("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,a.variant&&e[a.variant],a.align!=="inherit"&&e[`align${Ae(a.align)}`],a.noWrap&&e.noWrap,a.gutterBottom&&e.gutterBottom,a.paragraph&&e.paragraph]}})(lt(({theme:t})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([e,a])=>e!=="inherit"&&a&&typeof a=="object").map(([e,a])=>({props:{variant:e},style:a})),...Object.entries(t.palette).filter(Ga()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette?.text||{}).filter(([,e])=>typeof e=="string").map(([e])=>({props:{color:`text${Ae(e)}`},style:{color:(t.vars||t).palette.text[e]}})),{props:({ownerState:e})=>e.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:e})=>e.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:e})=>e.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:e})=>e.paragraph,style:{marginBottom:16}}]}))),LC={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},O=w.forwardRef(function(e,a){const{color:n,...i}=at({props:e,name:"MuiTypography"}),l=!LL[n],d=VL({...i,...l&&{color:n}}),{align:u="inherit",className:h,component:m,gutterBottom:y=!1,noWrap:v=!1,paragraph:x=!1,variant:T="body1",variantMapping:C=LC,...j}=d,E={...d,align:u,color:n,className:h,component:m,gutterBottom:y,noWrap:v,paragraph:x,variant:T,variantMapping:C},M=m||(x?"p":C[T]||LC[T])||"span",L=UL(E);return s.jsx(OL,{as:M,ref:a,className:Le(L.root,h),...j,ownerState:E,style:{...u!=="inherit"&&{"--Typography-textAlign":u},...j.style}})});function zL(t){return et("MuiAppBar",t)}nt("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const BL=t=>{const{color:e,position:a,classes:n}=t,i={root:["root",`color${Ae(e)}`,`position${Ae(a)}`]};return tt(i,zL,n)},VC=(t,e)=>t?`${t?.replace(")","")}, ${e})`:e,NL=Ce(ta,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,e[`position${Ae(a.position)}`],e[`color${Ae(a.color)}`]]}})(lt(({theme:t})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[100],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[100]),...t.applyStyles("dark",{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[900],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[900])})}},...Object.entries(t.palette).filter(Ga(["contrastText"])).map(([e])=>({props:{color:e},style:{"--AppBar-background":(t.vars??t).palette[e].main,"--AppBar-color":(t.vars??t).palette[e].contrastText}})),{props:e=>e.enableColorOnDark===!0&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:e=>e.enableColorOnDark===!1&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundColor:t.vars?VC(t.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:t.vars?VC(t.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundImage:"none"})}}]}))),Id=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiAppBar"}),{className:i,color:l="primary",enableColorOnDark:d=!1,position:u="fixed",...h}=n,m={...n,color:l,position:u,enableColorOnDark:d},y=BL(m);return s.jsx(NL,{square:!0,component:"header",ownerState:m,elevation:4,className:Le(y.root,i,u==="fixed"&&"mui-fixed"),ref:a,...h})});var sr="top",Hr="bottom",$r="right",lr="left",uw="auto",nh=[sr,Hr,$r,lr],dd="start",Dp="end",FL="clippingParents",xk="viewport",Gu="popper",qL="reference",UC=nh.reduce(function(t,e){return t.concat([e+"-"+dd,e+"-"+Dp])},[]),wk=[].concat(nh,[uw]).reduce(function(t,e){return t.concat([e,e+"-"+dd,e+"-"+Dp])},[]),HL="beforeRead",$L="read",GL="afterRead",KL="beforeMain",YL="main",XL="afterMain",QL="beforeWrite",JL="write",ZL="afterWrite",eV=[HL,$L,GL,KL,YL,XL,QL,JL,ZL];function Ki(t){return t?(t.nodeName||"").toLowerCase():null}function Tr(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Ul(t){var e=Tr(t).Element;return t instanceof e||t instanceof Element}function Fr(t){var e=Tr(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function pw(t){if(typeof ShadowRoot>"u")return!1;var e=Tr(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function tV(t){var e=t.state;Object.keys(e.elements).forEach(function(a){var n=e.styles[a]||{},i=e.attributes[a]||{},l=e.elements[a];!Fr(l)||!Ki(l)||(Object.assign(l.style,n),Object.keys(i).forEach(function(d){var u=i[d];u===!1?l.removeAttribute(d):l.setAttribute(d,u===!0?"":u)}))})}function aV(t){var e=t.state,a={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,a.popper),e.styles=a,e.elements.arrow&&Object.assign(e.elements.arrow.style,a.arrow),function(){Object.keys(e.elements).forEach(function(n){var i=e.elements[n],l=e.attributes[n]||{},d=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:a[n]),u=d.reduce(function(h,m){return h[m]="",h},{});!Fr(i)||!Ki(i)||(Object.assign(i.style,u),Object.keys(l).forEach(function(h){i.removeAttribute(h)}))})}}const nV={name:"applyStyles",enabled:!0,phase:"write",fn:tV,effect:aV,requires:["computeStyles"]};function Bi(t){return t.split("-")[0]}var Il=Math.max,Ig=Math.min,ud=Math.round;function ex(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Sk(){return!/^((?!chrome|android).)*safari/i.test(ex())}function pd(t,e,a){e===void 0&&(e=!1),a===void 0&&(a=!1);var n=t.getBoundingClientRect(),i=1,l=1;e&&Fr(t)&&(i=t.offsetWidth>0&&ud(n.width)/t.offsetWidth||1,l=t.offsetHeight>0&&ud(n.height)/t.offsetHeight||1);var d=Ul(t)?Tr(t):window,u=d.visualViewport,h=!Sk()&&a,m=(n.left+(h&&u?u.offsetLeft:0))/i,y=(n.top+(h&&u?u.offsetTop:0))/l,v=n.width/i,x=n.height/l;return{width:v,height:x,top:y,right:m+v,bottom:y+x,left:m,x:m,y}}function hw(t){var e=pd(t),a=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-a)<=1&&(a=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:a,height:n}}function Tk(t,e){var a=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(a&&pw(a)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Lo(t){return Tr(t).getComputedStyle(t)}function rV(t){return["table","td","th"].indexOf(Ki(t))>=0}function Os(t){return((Ul(t)?t.ownerDocument:t.document)||window.document).documentElement}function Tf(t){return Ki(t)==="html"?t:t.assignedSlot||t.parentNode||(pw(t)?t.host:null)||Os(t)}function OC(t){return!Fr(t)||Lo(t).position==="fixed"?null:t.offsetParent}function iV(t){var e=/firefox/i.test(ex()),a=/Trident/i.test(ex());if(a&&Fr(t)){var n=Lo(t);if(n.position==="fixed")return null}var i=Tf(t);for(pw(i)&&(i=i.host);Fr(i)&&["html","body"].indexOf(Ki(i))<0;){var l=Lo(i);if(l.transform!=="none"||l.perspective!=="none"||l.contain==="paint"||["transform","perspective"].indexOf(l.willChange)!==-1||e&&l.willChange==="filter"||e&&l.filter&&l.filter!=="none")return i;i=i.parentNode}return null}function rh(t){for(var e=Tr(t),a=OC(t);a&&rV(a)&&Lo(a).position==="static";)a=OC(a);return a&&(Ki(a)==="html"||Ki(a)==="body"&&Lo(a).position==="static")?e:a||iV(t)||e}function mw(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function gp(t,e,a){return Il(t,Ig(e,a))}function oV(t,e,a){var n=gp(t,e,a);return n>a?a:n}function Ck(){return{top:0,right:0,bottom:0,left:0}}function Mk(t){return Object.assign({},Ck(),t)}function Rk(t,e){return e.reduce(function(a,n){return a[n]=t,a},{})}var sV=function(e,a){return e=typeof e=="function"?e(Object.assign({},a.rects,{placement:a.placement})):e,Mk(typeof e!="number"?e:Rk(e,nh))};function lV(t){var e,a=t.state,n=t.name,i=t.options,l=a.elements.arrow,d=a.modifiersData.popperOffsets,u=Bi(a.placement),h=mw(u),m=[lr,$r].indexOf(u)>=0,y=m?"height":"width";if(!(!l||!d)){var v=sV(i.padding,a),x=hw(l),T=h==="y"?sr:lr,C=h==="y"?Hr:$r,j=a.rects.reference[y]+a.rects.reference[h]-d[h]-a.rects.popper[y],E=d[h]-a.rects.reference[h],M=rh(l),L=M?h==="y"?M.clientHeight||0:M.clientWidth||0:0,W=j/2-E/2,R=v[T],I=L-x[y]-v[C],N=L/2-x[y]/2+W,V=gp(R,N,I),A=h;a.modifiersData[n]=(e={},e[A]=V,e.centerOffset=V-N,e)}}function cV(t){var e=t.state,a=t.options,n=a.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Tk(e.elements.popper,i)&&(e.elements.arrow=i))}const dV={name:"arrow",enabled:!0,phase:"main",fn:lV,effect:cV,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function hd(t){return t.split("-")[1]}var uV={top:"auto",right:"auto",bottom:"auto",left:"auto"};function pV(t,e){var a=t.x,n=t.y,i=e.devicePixelRatio||1;return{x:ud(a*i)/i||0,y:ud(n*i)/i||0}}function zC(t){var e,a=t.popper,n=t.popperRect,i=t.placement,l=t.variation,d=t.offsets,u=t.position,h=t.gpuAcceleration,m=t.adaptive,y=t.roundOffsets,v=t.isFixed,x=d.x,T=x===void 0?0:x,C=d.y,j=C===void 0?0:C,E=typeof y=="function"?y({x:T,y:j}):{x:T,y:j};T=E.x,j=E.y;var M=d.hasOwnProperty("x"),L=d.hasOwnProperty("y"),W=lr,R=sr,I=window;if(m){var N=rh(a),V="clientHeight",A="clientWidth";if(N===Tr(a)&&(N=Os(a),Lo(N).position!=="static"&&u==="absolute"&&(V="scrollHeight",A="scrollWidth")),N=N,i===sr||(i===lr||i===$r)&&l===Dp){R=Hr;var _=v&&N===I&&I.visualViewport?I.visualViewport.height:N[V];j-=_-n.height,j*=h?1:-1}if(i===lr||(i===sr||i===Hr)&&l===Dp){W=$r;var S=v&&N===I&&I.visualViewport?I.visualViewport.width:N[A];T-=S-n.width,T*=h?1:-1}}var D=Object.assign({position:u},m&&uV),U=y===!0?pV({x:T,y:j},Tr(a)):{x:T,y:j};if(T=U.x,j=U.y,h){var P;return Object.assign({},D,(P={},P[R]=L?"0":"",P[W]=M?"0":"",P.transform=(I.devicePixelRatio||1)<=1?"translate("+T+"px, "+j+"px)":"translate3d("+T+"px, "+j+"px, 0)",P))}return Object.assign({},D,(e={},e[R]=L?j+"px":"",e[W]=M?T+"px":"",e.transform="",e))}function hV(t){var e=t.state,a=t.options,n=a.gpuAcceleration,i=n===void 0?!0:n,l=a.adaptive,d=l===void 0?!0:l,u=a.roundOffsets,h=u===void 0?!0:u,m={placement:Bi(e.placement),variation:hd(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,zC(Object.assign({},m,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:d,roundOffsets:h})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,zC(Object.assign({},m,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:h})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const mV={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:hV,data:{}};var qm={passive:!0};function gV(t){var e=t.state,a=t.instance,n=t.options,i=n.scroll,l=i===void 0?!0:i,d=n.resize,u=d===void 0?!0:d,h=Tr(e.elements.popper),m=[].concat(e.scrollParents.reference,e.scrollParents.popper);return l&&m.forEach(function(y){y.addEventListener("scroll",a.update,qm)}),u&&h.addEventListener("resize",a.update,qm),function(){l&&m.forEach(function(y){y.removeEventListener("scroll",a.update,qm)}),u&&h.removeEventListener("resize",a.update,qm)}}const fV={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:gV,data:{}};var yV={left:"right",right:"left",bottom:"top",top:"bottom"};function ug(t){return t.replace(/left|right|bottom|top/g,function(e){return yV[e]})}var bV={start:"end",end:"start"};function BC(t){return t.replace(/start|end/g,function(e){return bV[e]})}function gw(t){var e=Tr(t),a=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:a,scrollTop:n}}function fw(t){return pd(Os(t)).left+gw(t).scrollLeft}function vV(t,e){var a=Tr(t),n=Os(t),i=a.visualViewport,l=n.clientWidth,d=n.clientHeight,u=0,h=0;if(i){l=i.width,d=i.height;var m=Sk();(m||!m&&e==="fixed")&&(u=i.offsetLeft,h=i.offsetTop)}return{width:l,height:d,x:u+fw(t),y:h}}function xV(t){var e,a=Os(t),n=gw(t),i=(e=t.ownerDocument)==null?void 0:e.body,l=Il(a.scrollWidth,a.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),d=Il(a.scrollHeight,a.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),u=-n.scrollLeft+fw(t),h=-n.scrollTop;return Lo(i||a).direction==="rtl"&&(u+=Il(a.clientWidth,i?i.clientWidth:0)-l),{width:l,height:d,x:u,y:h}}function yw(t){var e=Lo(t),a=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(a+i+n)}function Ak(t){return["html","body","#document"].indexOf(Ki(t))>=0?t.ownerDocument.body:Fr(t)&&yw(t)?t:Ak(Tf(t))}function fp(t,e){var a;e===void 0&&(e=[]);var n=Ak(t),i=n===((a=t.ownerDocument)==null?void 0:a.body),l=Tr(n),d=i?[l].concat(l.visualViewport||[],yw(n)?n:[]):n,u=e.concat(d);return i?u:u.concat(fp(Tf(d)))}function tx(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function wV(t,e){var a=pd(t,!1,e==="fixed");return a.top=a.top+t.clientTop,a.left=a.left+t.clientLeft,a.bottom=a.top+t.clientHeight,a.right=a.left+t.clientWidth,a.width=t.clientWidth,a.height=t.clientHeight,a.x=a.left,a.y=a.top,a}function NC(t,e,a){return e===xk?tx(vV(t,a)):Ul(e)?wV(e,a):tx(xV(Os(t)))}function SV(t){var e=fp(Tf(t)),a=["absolute","fixed"].indexOf(Lo(t).position)>=0,n=a&&Fr(t)?rh(t):t;return Ul(n)?e.filter(function(i){return Ul(i)&&Tk(i,n)&&Ki(i)!=="body"}):[]}function TV(t,e,a,n){var i=e==="clippingParents"?SV(t):[].concat(e),l=[].concat(i,[a]),d=l[0],u=l.reduce(function(h,m){var y=NC(t,m,n);return h.top=Il(y.top,h.top),h.right=Ig(y.right,h.right),h.bottom=Ig(y.bottom,h.bottom),h.left=Il(y.left,h.left),h},NC(t,d,n));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function kk(t){var e=t.reference,a=t.element,n=t.placement,i=n?Bi(n):null,l=n?hd(n):null,d=e.x+e.width/2-a.width/2,u=e.y+e.height/2-a.height/2,h;switch(i){case sr:h={x:d,y:e.y-a.height};break;case Hr:h={x:d,y:e.y+e.height};break;case $r:h={x:e.x+e.width,y:u};break;case lr:h={x:e.x-a.width,y:u};break;default:h={x:e.x,y:e.y}}var m=i?mw(i):null;if(m!=null){var y=m==="y"?"height":"width";switch(l){case dd:h[m]=h[m]-(e[y]/2-a[y]/2);break;case Dp:h[m]=h[m]+(e[y]/2-a[y]/2);break}}return h}function Lp(t,e){e===void 0&&(e={});var a=e,n=a.placement,i=n===void 0?t.placement:n,l=a.strategy,d=l===void 0?t.strategy:l,u=a.boundary,h=u===void 0?FL:u,m=a.rootBoundary,y=m===void 0?xk:m,v=a.elementContext,x=v===void 0?Gu:v,T=a.altBoundary,C=T===void 0?!1:T,j=a.padding,E=j===void 0?0:j,M=Mk(typeof E!="number"?E:Rk(E,nh)),L=x===Gu?qL:Gu,W=t.rects.popper,R=t.elements[C?L:x],I=TV(Ul(R)?R:R.contextElement||Os(t.elements.popper),h,y,d),N=pd(t.elements.reference),V=kk({reference:N,element:W,placement:i}),A=tx(Object.assign({},W,V)),_=x===Gu?A:N,S={top:I.top-_.top+M.top,bottom:_.bottom-I.bottom+M.bottom,left:I.left-_.left+M.left,right:_.right-I.right+M.right},D=t.modifiersData.offset;if(x===Gu&&D){var U=D[i];Object.keys(S).forEach(function(P){var K=[$r,Hr].indexOf(P)>=0?1:-1,J=[sr,Hr].indexOf(P)>=0?"y":"x";S[P]+=U[J]*K})}return S}function CV(t,e){e===void 0&&(e={});var a=e,n=a.placement,i=a.boundary,l=a.rootBoundary,d=a.padding,u=a.flipVariations,h=a.allowedAutoPlacements,m=h===void 0?wk:h,y=hd(n),v=y?u?UC:UC.filter(function(C){return hd(C)===y}):nh,x=v.filter(function(C){return m.indexOf(C)>=0});x.length===0&&(x=v);var T=x.reduce(function(C,j){return C[j]=Lp(t,{placement:j,boundary:i,rootBoundary:l,padding:d})[Bi(j)],C},{});return Object.keys(T).sort(function(C,j){return T[C]-T[j]})}function MV(t){if(Bi(t)===uw)return[];var e=ug(t);return[BC(t),e,BC(e)]}function RV(t){var e=t.state,a=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var i=a.mainAxis,l=i===void 0?!0:i,d=a.altAxis,u=d===void 0?!0:d,h=a.fallbackPlacements,m=a.padding,y=a.boundary,v=a.rootBoundary,x=a.altBoundary,T=a.flipVariations,C=T===void 0?!0:T,j=a.allowedAutoPlacements,E=e.options.placement,M=Bi(E),L=M===E,W=h||(L||!C?[ug(E)]:MV(E)),R=[E].concat(W).reduce(function(ye,be){return ye.concat(Bi(be)===uw?CV(e,{placement:be,boundary:y,rootBoundary:v,padding:m,flipVariations:C,allowedAutoPlacements:j}):be)},[]),I=e.rects.reference,N=e.rects.popper,V=new Map,A=!0,_=R[0],S=0;S<R.length;S++){var D=R[S],U=Bi(D),P=hd(D)===dd,K=[sr,Hr].indexOf(U)>=0,J=K?"width":"height",$=Lp(e,{placement:D,boundary:y,rootBoundary:v,altBoundary:x,padding:m}),X=K?P?$r:lr:P?Hr:sr;I[J]>N[J]&&(X=ug(X));var le=ug(X),ie=[];if(l&&ie.push($[U]<=0),u&&ie.push($[X]<=0,$[le]<=0),ie.every(function(ye){return ye})){_=D,A=!1;break}V.set(D,ie)}if(A)for(var H=C?3:1,te=function(be){var oe=R.find(function(_e){var Me=V.get(_e);if(Me)return Me.slice(0,be).every(function(Oe){return Oe})});if(oe)return _=oe,"break"},Q=H;Q>0;Q--){var ne=te(Q);if(ne==="break")break}e.placement!==_&&(e.modifiersData[n]._skip=!0,e.placement=_,e.reset=!0)}}const AV={name:"flip",enabled:!0,phase:"main",fn:RV,requiresIfExists:["offset"],data:{_skip:!1}};function FC(t,e,a){return a===void 0&&(a={x:0,y:0}),{top:t.top-e.height-a.y,right:t.right-e.width+a.x,bottom:t.bottom-e.height+a.y,left:t.left-e.width-a.x}}function qC(t){return[sr,$r,Hr,lr].some(function(e){return t[e]>=0})}function kV(t){var e=t.state,a=t.name,n=e.rects.reference,i=e.rects.popper,l=e.modifiersData.preventOverflow,d=Lp(e,{elementContext:"reference"}),u=Lp(e,{altBoundary:!0}),h=FC(d,n),m=FC(u,i,l),y=qC(h),v=qC(m);e.modifiersData[a]={referenceClippingOffsets:h,popperEscapeOffsets:m,isReferenceHidden:y,hasPopperEscaped:v},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":y,"data-popper-escaped":v})}const EV={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:kV};function _V(t,e,a){var n=Bi(t),i=[lr,sr].indexOf(n)>=0?-1:1,l=typeof a=="function"?a(Object.assign({},e,{placement:t})):a,d=l[0],u=l[1];return d=d||0,u=(u||0)*i,[lr,$r].indexOf(n)>=0?{x:u,y:d}:{x:d,y:u}}function jV(t){var e=t.state,a=t.options,n=t.name,i=a.offset,l=i===void 0?[0,0]:i,d=wk.reduce(function(y,v){return y[v]=_V(v,e.rects,l),y},{}),u=d[e.placement],h=u.x,m=u.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=h,e.modifiersData.popperOffsets.y+=m),e.modifiersData[n]=d}const IV={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:jV};function PV(t){var e=t.state,a=t.name;e.modifiersData[a]=kk({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const WV={name:"popperOffsets",enabled:!0,phase:"read",fn:PV,data:{}};function DV(t){return t==="x"?"y":"x"}function LV(t){var e=t.state,a=t.options,n=t.name,i=a.mainAxis,l=i===void 0?!0:i,d=a.altAxis,u=d===void 0?!1:d,h=a.boundary,m=a.rootBoundary,y=a.altBoundary,v=a.padding,x=a.tether,T=x===void 0?!0:x,C=a.tetherOffset,j=C===void 0?0:C,E=Lp(e,{boundary:h,rootBoundary:m,padding:v,altBoundary:y}),M=Bi(e.placement),L=hd(e.placement),W=!L,R=mw(M),I=DV(R),N=e.modifiersData.popperOffsets,V=e.rects.reference,A=e.rects.popper,_=typeof j=="function"?j(Object.assign({},e.rects,{placement:e.placement})):j,S=typeof _=="number"?{mainAxis:_,altAxis:_}:Object.assign({mainAxis:0,altAxis:0},_),D=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,U={x:0,y:0};if(N){if(l){var P,K=R==="y"?sr:lr,J=R==="y"?Hr:$r,$=R==="y"?"height":"width",X=N[R],le=X+E[K],ie=X-E[J],H=T?-A[$]/2:0,te=L===dd?V[$]:A[$],Q=L===dd?-A[$]:-V[$],ne=e.elements.arrow,ye=T&&ne?hw(ne):{width:0,height:0},be=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Ck(),oe=be[K],_e=be[J],Me=gp(0,V[$],ye[$]),Oe=W?V[$]/2-H-Me-oe-S.mainAxis:te-Me-oe-S.mainAxis,qe=W?-V[$]/2+H+Me+_e+S.mainAxis:Q+Me+_e+S.mainAxis,Qe=e.elements.arrow&&rh(e.elements.arrow),ae=Qe?R==="y"?Qe.clientTop||0:Qe.clientLeft||0:0,ve=(P=D?.[R])!=null?P:0,De=X+Oe-ve-ae,He=X+qe-ve,se=gp(T?Ig(le,De):le,X,T?Il(ie,He):ie);N[R]=se,U[R]=se-X}if(u){var ee,Se=R==="x"?sr:lr,pe=R==="x"?Hr:$r,je=N[I],we=I==="y"?"height":"width",Ee=je+E[Se],rt=je-E[pe],Mt=[sr,lr].indexOf(M)!==-1,Gt=(ee=D?.[I])!=null?ee:0,mt=Mt?Ee:je-V[we]-A[we]-Gt+S.altAxis,$e=Mt?je+V[we]+A[we]-Gt-S.altAxis:rt,Ge=T&&Mt?oV(mt,je,$e):gp(T?mt:Ee,je,T?$e:rt);N[I]=Ge,U[I]=Ge-je}e.modifiersData[n]=U}}const VV={name:"preventOverflow",enabled:!0,phase:"main",fn:LV,requiresIfExists:["offset"]};function UV(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function OV(t){return t===Tr(t)||!Fr(t)?gw(t):UV(t)}function zV(t){var e=t.getBoundingClientRect(),a=ud(e.width)/t.offsetWidth||1,n=ud(e.height)/t.offsetHeight||1;return a!==1||n!==1}function BV(t,e,a){a===void 0&&(a=!1);var n=Fr(e),i=Fr(e)&&zV(e),l=Os(e),d=pd(t,i,a),u={scrollLeft:0,scrollTop:0},h={x:0,y:0};return(n||!n&&!a)&&((Ki(e)!=="body"||yw(l))&&(u=OV(e)),Fr(e)?(h=pd(e,!0),h.x+=e.clientLeft,h.y+=e.clientTop):l&&(h.x=fw(l))),{x:d.left+u.scrollLeft-h.x,y:d.top+u.scrollTop-h.y,width:d.width,height:d.height}}function NV(t){var e=new Map,a=new Set,n=[];t.forEach(function(l){e.set(l.name,l)});function i(l){a.add(l.name);var d=[].concat(l.requires||[],l.requiresIfExists||[]);d.forEach(function(u){if(!a.has(u)){var h=e.get(u);h&&i(h)}}),n.push(l)}return t.forEach(function(l){a.has(l.name)||i(l)}),n}function FV(t){var e=NV(t);return eV.reduce(function(a,n){return a.concat(e.filter(function(i){return i.phase===n}))},[])}function qV(t){var e;return function(){return e||(e=new Promise(function(a){Promise.resolve().then(function(){e=void 0,a(t())})})),e}}function HV(t){var e=t.reduce(function(a,n){var i=a[n.name];return a[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,a},{});return Object.keys(e).map(function(a){return e[a]})}var HC={placement:"bottom",modifiers:[],strategy:"absolute"};function $C(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function $V(t){t===void 0&&(t={});var e=t,a=e.defaultModifiers,n=a===void 0?[]:a,i=e.defaultOptions,l=i===void 0?HC:i;return function(u,h,m){m===void 0&&(m=l);var y={placement:"bottom",orderedModifiers:[],options:Object.assign({},HC,l),modifiersData:{},elements:{reference:u,popper:h},attributes:{},styles:{}},v=[],x=!1,T={state:y,setOptions:function(M){var L=typeof M=="function"?M(y.options):M;j(),y.options=Object.assign({},l,y.options,L),y.scrollParents={reference:Ul(u)?fp(u):u.contextElement?fp(u.contextElement):[],popper:fp(h)};var W=FV(HV([].concat(n,y.options.modifiers)));return y.orderedModifiers=W.filter(function(R){return R.enabled}),C(),T.update()},forceUpdate:function(){if(!x){var M=y.elements,L=M.reference,W=M.popper;if($C(L,W)){y.rects={reference:BV(L,rh(W),y.options.strategy==="fixed"),popper:hw(W)},y.reset=!1,y.placement=y.options.placement,y.orderedModifiers.forEach(function(S){return y.modifiersData[S.name]=Object.assign({},S.data)});for(var R=0;R<y.orderedModifiers.length;R++){if(y.reset===!0){y.reset=!1,R=-1;continue}var I=y.orderedModifiers[R],N=I.fn,V=I.options,A=V===void 0?{}:V,_=I.name;typeof N=="function"&&(y=N({state:y,options:A,name:_,instance:T})||y)}}}},update:qV(function(){return new Promise(function(E){T.forceUpdate(),E(y)})}),destroy:function(){j(),x=!0}};if(!$C(u,h))return T;T.setOptions(m).then(function(E){!x&&m.onFirstUpdate&&m.onFirstUpdate(E)});function C(){y.orderedModifiers.forEach(function(E){var M=E.name,L=E.options,W=L===void 0?{}:L,R=E.effect;if(typeof R=="function"){var I=R({state:y,name:M,instance:T,options:W}),N=function(){};v.push(I||N)}})}function j(){v.forEach(function(E){return E()}),v=[]}return T}}var GV=[fV,WV,mV,nV,IV,AV,VV,dV,EV],KV=$V({defaultModifiers:GV});function md(t){const{elementType:e,externalSlotProps:a,ownerState:n,skipResolvingSlotProps:i=!1,...l}=t,d=i?{}:yk(a,n),{props:u,internalRef:h}=vk({...l,externalSlotProps:d}),m=Ba(h,d?.ref,t.additionalProps?.ref);return fk(e,{...u,ref:m},n)}function Pd(t){return parseInt(w.version,10)>=19?t?.props?.ref||null:t?.ref||null}function YV(t){return typeof t=="function"?t():t}const Ek=w.forwardRef(function(e,a){const{children:n,container:i,disablePortal:l=!1}=e,[d,u]=w.useState(null),h=Ba(w.isValidElement(n)?Pd(n):null,a);if(Qn(()=>{l||u(YV(i)||document.body)},[i,l]),Qn(()=>{if(d&&!l)return kC(a,d),()=>{kC(a,null)}},[a,d,l]),l){if(w.isValidElement(n)){const m={ref:h};return w.cloneElement(n,m)}return n}return d&&xA.createPortal(n,d)});function XV(t){return et("MuiPopper",t)}nt("MuiPopper",["root"]);function QV(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function ax(t){return typeof t=="function"?t():t}function JV(t){return t.nodeType!==void 0}const ZV=t=>{const{classes:e}=t;return tt({root:["root"]},XV,e)},eU={},tU=w.forwardRef(function(e,a){const{anchorEl:n,children:i,direction:l,disablePortal:d,modifiers:u,open:h,placement:m,popperOptions:y,popperRef:v,slotProps:x={},slots:T={},TransitionProps:C,ownerState:j,...E}=e,M=w.useRef(null),L=Ba(M,a),W=w.useRef(null),R=Ba(W,v),I=w.useRef(R);Qn(()=>{I.current=R},[R]),w.useImperativeHandle(v,()=>W.current,[]);const N=QV(m,l),[V,A]=w.useState(N),[_,S]=w.useState(ax(n));w.useEffect(()=>{W.current&&W.current.forceUpdate()}),w.useEffect(()=>{n&&S(ax(n))},[n]),Qn(()=>{if(!_||!h)return;const J=le=>{A(le.placement)};let $=[{name:"preventOverflow",options:{altBoundary:d}},{name:"flip",options:{altBoundary:d}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:le})=>{J(le)}}];u!=null&&($=$.concat(u)),y&&y.modifiers!=null&&($=$.concat(y.modifiers));const X=KV(_,M.current,{placement:N,...y,modifiers:$});return I.current(X),()=>{X.destroy(),I.current(null)}},[_,d,u,h,y,N]);const D={placement:V};C!==null&&(D.TransitionProps=C);const U=ZV(e),P=T.root??"div",K=md({elementType:P,externalSlotProps:x.root,externalForwardedProps:E,additionalProps:{role:"tooltip",ref:L},ownerState:e,className:U.root});return s.jsx(P,{...K,children:typeof i=="function"?i(D):i})}),aU=w.forwardRef(function(e,a){const{anchorEl:n,children:i,container:l,direction:d="ltr",disablePortal:u=!1,keepMounted:h=!1,modifiers:m,open:y,placement:v="bottom",popperOptions:x=eU,popperRef:T,style:C,transition:j=!1,slotProps:E={},slots:M={},...L}=e,[W,R]=w.useState(!0),I=()=>{R(!1)},N=()=>{R(!0)};if(!h&&!y&&(!j||W))return null;let V;if(l)V=l;else if(n){const S=ax(n);V=S&&JV(S)?dr(S).body:dr(null).body}const A=!y&&h&&(!j||W)?"none":void 0,_=j?{in:y,onEnter:I,onExited:N}:void 0;return s.jsx(Ek,{disablePortal:u,container:V,children:s.jsx(tU,{anchorEl:n,direction:d,disablePortal:u,modifiers:m,ref:a,open:j?!W:y,placement:v,popperOptions:x,popperRef:T,slotProps:E,slots:M,...L,style:{position:"fixed",top:0,left:0,display:A,...C},TransitionProps:_,children:i})})}),nU=Ce(aU,{name:"MuiPopper",slot:"Root"})({}),_k=w.forwardRef(function(e,a){const n=ah(),i=at({props:e,name:"MuiPopper"}),{anchorEl:l,component:d,components:u,componentsProps:h,container:m,disablePortal:y,keepMounted:v,modifiers:x,open:T,placement:C,popperOptions:j,popperRef:E,transition:M,slots:L,slotProps:W,...R}=i,I=L?.root??u?.Root,N={anchorEl:l,container:m,disablePortal:y,keepMounted:v,modifiers:x,open:T,placement:C,popperOptions:j,popperRef:E,transition:M,...R};return s.jsx(nU,{as:d,direction:n?"rtl":"ltr",slots:{root:I},slotProps:W??h,...N,ref:a})}),rU=St(s.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function iU(t){return et("MuiChip",t)}const Ft=nt("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),oU=t=>{const{classes:e,disabled:a,size:n,color:i,iconColor:l,onDelete:d,clickable:u,variant:h}=t,m={root:["root",h,a&&"disabled",`size${Ae(n)}`,`color${Ae(i)}`,u&&"clickable",u&&`clickableColor${Ae(i)}`,d&&"deletable",d&&`deletableColor${Ae(i)}`,`${h}${Ae(i)}`],label:["label",`label${Ae(n)}`],avatar:["avatar",`avatar${Ae(n)}`,`avatarColor${Ae(i)}`],icon:["icon",`icon${Ae(n)}`,`iconColor${Ae(l)}`],deleteIcon:["deleteIcon",`deleteIcon${Ae(n)}`,`deleteIconColor${Ae(i)}`,`deleteIcon${Ae(h)}Color${Ae(i)}`]};return tt(m,iU,e)},sU=Ce("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t,{color:n,iconColor:i,clickable:l,onDelete:d,size:u,variant:h}=a;return[{[`& .${Ft.avatar}`]:e.avatar},{[`& .${Ft.avatar}`]:e[`avatar${Ae(u)}`]},{[`& .${Ft.avatar}`]:e[`avatarColor${Ae(n)}`]},{[`& .${Ft.icon}`]:e.icon},{[`& .${Ft.icon}`]:e[`icon${Ae(u)}`]},{[`& .${Ft.icon}`]:e[`iconColor${Ae(i)}`]},{[`& .${Ft.deleteIcon}`]:e.deleteIcon},{[`& .${Ft.deleteIcon}`]:e[`deleteIcon${Ae(u)}`]},{[`& .${Ft.deleteIcon}`]:e[`deleteIconColor${Ae(n)}`]},{[`& .${Ft.deleteIcon}`]:e[`deleteIcon${Ae(h)}Color${Ae(n)}`]},e.root,e[`size${Ae(u)}`],e[`color${Ae(n)}`],l&&e.clickable,l&&n!=="default"&&e[`clickableColor${Ae(n)})`],d&&e.deletable,d&&n!=="default"&&e[`deletableColor${Ae(n)}`],e[h],e[`${h}${Ae(n)}`]]}})(lt(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return{maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,lineHeight:1.5,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Ft.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Ft.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:e,fontSize:t.typography.pxToRem(12)},[`& .${Ft.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${Ft.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${Ft.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${Ft.icon}`]:{marginLeft:5,marginRight:-6},[`& .${Ft.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:_t(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:_t(t.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${Ft.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${Ft.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(t.palette).filter(Ga(["contrastText"])).map(([a])=>({props:{color:a},style:{backgroundColor:(t.vars||t).palette[a].main,color:(t.vars||t).palette[a].contrastText,[`& .${Ft.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[a].contrastTextChannel} / 0.7)`:_t(t.palette[a].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[a].contrastText}}}})),{props:a=>a.iconColor===a.color,style:{[`& .${Ft.icon}`]:{color:t.vars?t.vars.palette.Chip.defaultIconColor:e}}},{props:a=>a.iconColor===a.color&&a.color!=="default",style:{[`& .${Ft.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${Ft.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:_t(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}},...Object.entries(t.palette).filter(Ga(["dark"])).map(([a])=>({props:{color:a,onDelete:!0},style:{[`&.${Ft.focusVisible}`]:{background:(t.vars||t).palette[a].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:_t(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${Ft.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:_t(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}}},...Object.entries(t.palette).filter(Ga(["dark"])).map(([a])=>({props:{color:a,clickable:!0},style:{[`&:hover, &.${Ft.focusVisible}`]:{backgroundColor:(t.vars||t).palette[a].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${Ft.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${Ft.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${Ft.avatar}`]:{marginLeft:4},[`& .${Ft.avatarSmall}`]:{marginLeft:2},[`& .${Ft.icon}`]:{marginLeft:4},[`& .${Ft.iconSmall}`]:{marginLeft:2},[`& .${Ft.deleteIcon}`]:{marginRight:5},[`& .${Ft.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(t.palette).filter(Ga()).map(([a])=>({props:{variant:"outlined",color:a},style:{color:(t.vars||t).palette[a].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[a].mainChannel} / 0.7)`:_t(t.palette[a].main,.7)}`,[`&.${Ft.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[a].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:_t(t.palette[a].main,t.palette.action.hoverOpacity)},[`&.${Ft.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[a].mainChannel} / ${t.vars.palette.action.focusOpacity})`:_t(t.palette[a].main,t.palette.action.focusOpacity)},[`& .${Ft.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[a].mainChannel} / 0.7)`:_t(t.palette[a].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[a].main}}}}))]}})),lU=Ce("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:a}=t,{size:n}=a;return[e.label,e[`label${Ae(n)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function GC(t){return t.key==="Backspace"||t.key==="Delete"}const Ye=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiChip"}),{avatar:i,className:l,clickable:d,color:u="default",component:h,deleteIcon:m,disabled:y=!1,icon:v,label:x,onClick:T,onDelete:C,onKeyDown:j,onKeyUp:E,size:M="medium",variant:L="filled",tabIndex:W,skipFocusWhenDisabled:R=!1,slots:I={},slotProps:N={},...V}=n,A=w.useRef(null),_=Ba(A,a),S=oe=>{oe.stopPropagation(),C&&C(oe)},D=oe=>{oe.currentTarget===oe.target&&GC(oe)&&oe.preventDefault(),j&&j(oe)},U=oe=>{oe.currentTarget===oe.target&&C&&GC(oe)&&C(oe),E&&E(oe)},P=d!==!1&&T?!0:d,K=P||C?qr:h||"div",J={...n,component:K,disabled:y,size:M,color:u,iconColor:w.isValidElement(v)&&v.props.color||u,onDelete:!!C,clickable:P,variant:L},$=oU(J),X=K===qr?{component:h||"div",focusVisibleClassName:$.focusVisible,...C&&{disableRipple:!0}}:{};let le=null;C&&(le=m&&w.isValidElement(m)?w.cloneElement(m,{className:Le(m.props.className,$.deleteIcon),onClick:S}):s.jsx(rU,{className:$.deleteIcon,onClick:S}));let ie=null;i&&w.isValidElement(i)&&(ie=w.cloneElement(i,{className:Le($.avatar,i.props.className)}));let H=null;v&&w.isValidElement(v)&&(H=w.cloneElement(v,{className:Le($.icon,v.props.className)}));const te={slots:I,slotProps:N},[Q,ne]=dt("root",{elementType:sU,externalForwardedProps:{...te,...V},ownerState:J,shouldForwardComponentProp:!0,ref:_,className:Le($.root,l),additionalProps:{disabled:P&&y?!0:void 0,tabIndex:R&&y?-1:W,...X},getSlotProps:oe=>({...oe,onClick:_e=>{oe.onClick?.(_e),T?.(_e)},onKeyDown:_e=>{oe.onKeyDown?.(_e),D?.(_e)},onKeyUp:_e=>{oe.onKeyUp?.(_e),U?.(_e)}})}),[ye,be]=dt("label",{elementType:lU,externalForwardedProps:te,ownerState:J,className:$.label});return s.jsxs(Q,{as:K,...ne,children:[ie||H,s.jsx(ye,{...be,children:x}),le]})});function Hm(t){return parseInt(t,10)||0}const cU={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function dU(t){for(const e in t)return!1;return!0}function KC(t){return dU(t)||t.outerHeightStyle===0&&!t.overflowing}const uU=w.forwardRef(function(e,a){const{onChange:n,maxRows:i,minRows:l=1,style:d,value:u,...h}=e,{current:m}=w.useRef(u!=null),y=w.useRef(null),v=Ba(a,y),x=w.useRef(null),T=w.useRef(null),C=w.useCallback(()=>{const W=y.current,R=T.current;if(!W||!R)return;const N=hi(W).getComputedStyle(W);if(N.width==="0px")return{outerHeightStyle:0,overflowing:!1};R.style.width=N.width,R.value=W.value||e.placeholder||"x",R.value.slice(-1)===`
`&&(R.value+=" ");const V=N.boxSizing,A=Hm(N.paddingBottom)+Hm(N.paddingTop),_=Hm(N.borderBottomWidth)+Hm(N.borderTopWidth),S=R.scrollHeight;R.value="x";const D=R.scrollHeight;let U=S;l&&(U=Math.max(Number(l)*D,U)),i&&(U=Math.min(Number(i)*D,U)),U=Math.max(U,D);const P=U+(V==="border-box"?A+_:0),K=Math.abs(U-S)<=1;return{outerHeightStyle:P,overflowing:K}},[i,l,e.placeholder]),j=Nr(()=>{const W=y.current,R=C();if(!W||!R||KC(R))return!1;const I=R.outerHeightStyle;return x.current!=null&&x.current!==I}),E=w.useCallback(()=>{const W=y.current,R=C();if(!W||!R||KC(R))return;const I=R.outerHeightStyle;x.current!==I&&(x.current=I,W.style.height=`${I}px`),W.style.overflow=R.overflowing?"hidden":""},[C]),M=w.useRef(-1);Qn(()=>{const W=wf(E),R=y?.current;if(!R)return;const I=hi(R);I.addEventListener("resize",W);let N;return typeof ResizeObserver<"u"&&(N=new ResizeObserver(()=>{j()&&(N.unobserve(R),cancelAnimationFrame(M.current),E(),M.current=requestAnimationFrame(()=>{N.observe(R)}))}),N.observe(R)),()=>{W.clear(),cancelAnimationFrame(M.current),I.removeEventListener("resize",W),N&&N.disconnect()}},[C,E,j]),Qn(()=>{E()});const L=W=>{m||E();const R=W.target,I=R.value.length,N=R.value.endsWith(`
`),V=R.selectionStart===I;N&&V&&R.setSelectionRange(I,I),n&&n(W)};return s.jsxs(w.Fragment,{children:[s.jsx("textarea",{value:u,onChange:L,ref:v,rows:l,style:d,...h}),s.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:T,tabIndex:-1,style:{...cU.shadow,...d,paddingTop:0,paddingBottom:0}})]})});function Vp(t){return typeof t=="string"}function $l({props:t,states:e,muiFormControl:a}){return e.reduce((n,i)=>(n[i]=t[i],a&&typeof t[i]>"u"&&(n[i]=a[i]),n),{})}const Cf=w.createContext(void 0);function No(){return w.useContext(Cf)}function YC(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function Pg(t,e=!1){return t&&(YC(t.value)&&t.value!==""||e&&YC(t.defaultValue)&&t.defaultValue!=="")}function pU(t){return t.startAdornment}function hU(t){return et("MuiInputBase",t)}const gd=nt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var XC;const Mf=(t,e)=>{const{ownerState:a}=t;return[e.root,a.formControl&&e.formControl,a.startAdornment&&e.adornedStart,a.endAdornment&&e.adornedEnd,a.error&&e.error,a.size==="small"&&e.sizeSmall,a.multiline&&e.multiline,a.color&&e[`color${Ae(a.color)}`],a.fullWidth&&e.fullWidth,a.hiddenLabel&&e.hiddenLabel]},Rf=(t,e)=>{const{ownerState:a}=t;return[e.input,a.size==="small"&&e.inputSizeSmall,a.multiline&&e.inputMultiline,a.type==="search"&&e.inputTypeSearch,a.startAdornment&&e.inputAdornedStart,a.endAdornment&&e.inputAdornedEnd,a.hiddenLabel&&e.inputHiddenLabel]},mU=t=>{const{classes:e,color:a,disabled:n,error:i,endAdornment:l,focused:d,formControl:u,fullWidth:h,hiddenLabel:m,multiline:y,readOnly:v,size:x,startAdornment:T,type:C}=t,j={root:["root",`color${Ae(a)}`,n&&"disabled",i&&"error",h&&"fullWidth",d&&"focused",u&&"formControl",x&&x!=="medium"&&`size${Ae(x)}`,y&&"multiline",T&&"adornedStart",l&&"adornedEnd",m&&"hiddenLabel",v&&"readOnly"],input:["input",n&&"disabled",C==="search"&&"inputTypeSearch",y&&"inputMultiline",x==="small"&&"inputSizeSmall",m&&"inputHiddenLabel",T&&"inputAdornedStart",l&&"inputAdornedEnd",v&&"readOnly"]};return tt(j,hU,e)},Af=Ce("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Mf})(lt(({theme:t})=>({...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${gd.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:a})=>e.multiline&&a==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),kf=Ce("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Rf})(lt(({theme:t})=>{const e=t.palette.mode==="light",a={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},n={opacity:"0 !important"},i=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&::-ms-input-placeholder":a,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${gd.formControl} &`]:{"&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${gd.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:({ownerState:l})=>!l.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:l})=>l.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),QC=lw({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),bw=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:l,autoFocus:d,className:u,color:h,components:m={},componentsProps:y={},defaultValue:v,disabled:x,disableInjectingGlobalStyles:T,endAdornment:C,error:j,fullWidth:E=!1,id:M,inputComponent:L="input",inputProps:W={},inputRef:R,margin:I,maxRows:N,minRows:V,multiline:A=!1,name:_,onBlur:S,onChange:D,onClick:U,onFocus:P,onKeyDown:K,onKeyUp:J,placeholder:$,readOnly:X,renderSuffix:le,rows:ie,size:H,slotProps:te={},slots:Q={},startAdornment:ne,type:ye="text",value:be,...oe}=n,_e=W.value!=null?W.value:be,{current:Me}=w.useRef(_e!=null),Oe=w.useRef(),qe=w.useCallback(Fe=>{},[]),Qe=Ba(Oe,R,W.ref,qe),[ae,ve]=w.useState(!1),De=No(),He=$l({props:n,muiFormControl:De,states:["color","disabled","error","hiddenLabel","size","required","filled"]});He.focused=De?De.focused:ae,w.useEffect(()=>{!De&&x&&ae&&(ve(!1),S&&S())},[De,x,ae,S]);const se=De&&De.onFilled,ee=De&&De.onEmpty,Se=w.useCallback(Fe=>{Pg(Fe)?se&&se():ee&&ee()},[se,ee]);Qn(()=>{Me&&Se({value:_e})},[_e,Se,Me]);const pe=Fe=>{P&&P(Fe),W.onFocus&&W.onFocus(Fe),De&&De.onFocus?De.onFocus(Fe):ve(!0)},je=Fe=>{S&&S(Fe),W.onBlur&&W.onBlur(Fe),De&&De.onBlur?De.onBlur(Fe):ve(!1)},we=(Fe,...Wt)=>{if(!Me){const oa=Fe.target||Oe.current;if(oa==null)throw new Error(Do(1));Se({value:oa.value})}W.onChange&&W.onChange(Fe,...Wt),D&&D(Fe,...Wt)};w.useEffect(()=>{Se(Oe.current)},[]);const Ee=Fe=>{Oe.current&&Fe.currentTarget===Fe.target&&Oe.current.focus(),U&&U(Fe)};let rt=L,Mt=W;A&&rt==="input"&&(ie?Mt={type:void 0,minRows:ie,maxRows:ie,...Mt}:Mt={type:void 0,maxRows:N,minRows:V,...Mt},rt=uU);const Gt=Fe=>{Se(Fe.animationName==="mui-auto-fill-cancel"?Oe.current:{value:"x"})};w.useEffect(()=>{De&&De.setAdornedStart(!!ne)},[De,ne]);const mt={...n,color:He.color||"primary",disabled:He.disabled,endAdornment:C,error:He.error,focused:He.focused,formControl:De,fullWidth:E,hiddenLabel:He.hiddenLabel,multiline:A,size:He.size,startAdornment:ne,type:ye},$e=mU(mt),Ge=Q.root||m.Root||Af,Ue=te.root||y.root||{},ct=Q.input||m.Input||kf;return Mt={...Mt,...te.input??y.input},s.jsxs(w.Fragment,{children:[!T&&typeof QC=="function"&&(XC||(XC=s.jsx(QC,{}))),s.jsxs(Ge,{...Ue,ref:a,onClick:Ee,...oe,...!Vp(Ge)&&{ownerState:{...mt,...Ue.ownerState}},className:Le($e.root,Ue.className,u,X&&"MuiInputBase-readOnly"),children:[ne,s.jsx(Cf.Provider,{value:null,children:s.jsx(ct,{"aria-invalid":He.error,"aria-describedby":i,autoComplete:l,autoFocus:d,defaultValue:v,disabled:He.disabled,id:M,onAnimationStart:Gt,name:_,placeholder:$,readOnly:X,required:He.required,rows:ie,value:_e,onKeyDown:K,onKeyUp:J,type:ye,...Mt,...!Vp(ct)&&{as:rt,ownerState:{...mt,...Mt.ownerState}},ref:Qe,className:Le($e.input,Mt.className,X&&"MuiInputBase-readOnly"),onBlur:je,onChange:we,onFocus:pe})}),C,le?le({...He,startAdornment:ne}):null]})]})});function gU(t){return et("MuiInput",t)}const Ku={...gd,...nt("MuiInput",["root","underline","input"])};function fU(t){return et("MuiOutlinedInput",t)}const Ii={...gd,...nt("MuiOutlinedInput",["root","notchedOutline","input"])};function yU(t){return et("MuiFilledInput",t)}const yl={...gd,...nt("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},bU=St(s.jsx("path",{d:"M7 10l5 5 5-5z"})),vU=St(s.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));function xU(t){return et("MuiAvatar",t)}nt("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const wU=t=>{const{classes:e,variant:a,colorDefault:n}=t;return tt({root:["root",a,n&&"colorDefault"],img:["img"],fallback:["fallback"]},xU,e)},SU=Ce("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,e[a.variant],a.colorDefault&&e.colorDefault]}})(lt(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(t.vars||t).palette.background.default,...t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.grey[400],...t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})}}}]}))),TU=Ce("img",{name:"MuiAvatar",slot:"Img"})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),CU=Ce(vU,{name:"MuiAvatar",slot:"Fallback"})({width:"75%",height:"75%"});function MU({crossOrigin:t,referrerPolicy:e,src:a,srcSet:n}){const[i,l]=w.useState(!1);return w.useEffect(()=>{if(!a&&!n)return;l(!1);let d=!0;const u=new Image;return u.onload=()=>{d&&l("loaded")},u.onerror=()=>{d&&l("error")},u.crossOrigin=t,u.referrerPolicy=e,u.src=a,n&&(u.srcset=n),()=>{d=!1}},[t,e,a,n]),i}const RU=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiAvatar"}),{alt:i,children:l,className:d,component:u="div",slots:h={},slotProps:m={},imgProps:y,sizes:v,src:x,srcSet:T,variant:C="circular",...j}=n;let E=null;const M={...n,component:u,variant:C},L=MU({...y,...typeof m.img=="function"?m.img(M):m.img,src:x,srcSet:T}),W=x||T,R=W&&L!=="error";M.colorDefault=!R,delete M.ownerState;const I=wU(M),[N,V]=dt("root",{ref:a,className:Le(I.root,d),elementType:SU,externalForwardedProps:{slots:h,slotProps:m,component:u,...j},ownerState:M}),[A,_]=dt("img",{className:I.img,elementType:TU,externalForwardedProps:{slots:h,slotProps:{img:{...y,...m.img}}},additionalProps:{alt:i,src:x,srcSet:T,sizes:v},ownerState:M}),[S,D]=dt("fallback",{className:I.fallback,elementType:CU,externalForwardedProps:{slots:h,slotProps:m},shouldForwardComponentProp:!0,ownerState:M});return R?E=s.jsx(A,{..._}):l||l===0?E=l:W&&i?E=i[0]:E=s.jsx(S,{...D}),s.jsx(N,{...V,children:E})}),AU={entering:{opacity:1},entered:{opacity:1}},nx=w.forwardRef(function(e,a){const n=Xa(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:l,appear:d=!0,children:u,easing:h,in:m,onEnter:y,onEntered:v,onEntering:x,onExit:T,onExited:C,onExiting:j,style:E,timeout:M=i,TransitionComponent:L=gi,...W}=e,R=w.useRef(null),I=Ba(R,Pd(u),a),N=K=>J=>{if(K){const $=R.current;J===void 0?K($):K($,J)}},V=N(x),A=N((K,J)=>{mk(K);const $=cd({style:E,timeout:M,easing:h},{mode:"enter"});K.style.webkitTransition=n.transitions.create("opacity",$),K.style.transition=n.transitions.create("opacity",$),y&&y(K,J)}),_=N(v),S=N(j),D=N(K=>{const J=cd({style:E,timeout:M,easing:h},{mode:"exit"});K.style.webkitTransition=n.transitions.create("opacity",J),K.style.transition=n.transitions.create("opacity",J),T&&T(K)}),U=N(C),P=K=>{l&&l(R.current,K)};return s.jsx(L,{appear:d,in:m,nodeRef:R,onEnter:A,onEntered:_,onEntering:V,onExit:D,onExited:U,onExiting:S,addEndListener:P,timeout:M,...W,children:(K,{ownerState:J,...$})=>w.cloneElement(u,{style:{opacity:0,visibility:K==="exited"&&!m?"hidden":void 0,...AU[K],...E,...u.props.style},ref:I,...$})})});function kU(t){return et("MuiBackdrop",t)}nt("MuiBackdrop",["root","invisible"]);const EU=t=>{const{classes:e,invisible:a}=t;return tt({root:["root",a&&"invisible"]},kU,e)},_U=Ce("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,a.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),jk=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiBackdrop"}),{children:i,className:l,component:d="div",invisible:u=!1,open:h,components:m={},componentsProps:y={},slotProps:v={},slots:x={},TransitionComponent:T,transitionDuration:C,...j}=n,E={...n,component:d,invisible:u},M=EU(E),L={transition:T,root:m.Root,...x},W={...y,...v},R={component:d,slots:L,slotProps:W},[I,N]=dt("root",{elementType:_U,externalForwardedProps:R,className:Le(M.root,l),ownerState:E}),[V,A]=dt("transition",{elementType:nx,externalForwardedProps:R,ownerState:E});return s.jsx(V,{in:h,timeout:C,...j,...A,children:s.jsx(I,{"aria-hidden":!0,...N,classes:M,ref:a,children:i})})}),jU=nt("MuiBox",["root"]),IU=jd(),F=wW({themeId:si,defaultTheme:IU,defaultClassName:jU.root,generateClassName:NA.generate});function PU(t){return et("MuiButton",t)}const bl=nt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),WU=w.createContext({}),DU=w.createContext(void 0),LU=t=>{const{color:e,disableElevation:a,fullWidth:n,size:i,variant:l,loading:d,loadingPosition:u,classes:h}=t,m={root:["root",d&&"loading",l,`${l}${Ae(e)}`,`size${Ae(i)}`,`${l}Size${Ae(i)}`,`color${Ae(e)}`,a&&"disableElevation",n&&"fullWidth",d&&`loadingPosition${Ae(u)}`],startIcon:["icon","startIcon",`iconSize${Ae(i)}`],endIcon:["icon","endIcon",`iconSize${Ae(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},y=tt(m,PU,h);return{...h,...y}},Ik=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],VU=Ce(qr,{shouldForwardProp:t=>Zn(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,e[a.variant],e[`${a.variant}${Ae(a.color)}`],e[`size${Ae(a.size)}`],e[`${a.variant}Size${Ae(a.size)}`],a.color==="inherit"&&e.colorInherit,a.disableElevation&&e.disableElevation,a.fullWidth&&e.fullWidth,a.loading&&e.loading]}})(lt(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],a=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${bl.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${bl.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${bl.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${bl.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(Ga()).map(([n])=>({props:{color:n},style:{"--variant-textColor":(t.vars||t).palette[n].main,"--variant-outlinedColor":(t.vars||t).palette[n].main,"--variant-outlinedBorder":t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.5)`:_t(t.palette[n].main,.5),"--variant-containedColor":(t.vars||t).palette[n].contrastText,"--variant-containedBg":(t.vars||t).palette[n].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[n].dark,"--variant-textBg":t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:_t(t.palette[n].main,t.palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[n].main,"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:_t(t.palette[n].main,t.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:a,"--variant-textBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:_t(t.palette.text.primary,t.palette.action.hoverOpacity),"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:_t(t.palette.text.primary,t.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${bl.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${bl.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${bl.loading}`]:{color:"transparent"}}}]}})),UU=Ce("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.startIcon,a.loading&&e.startIconLoadingStart,e[`iconSize${Ae(a.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...Ik]})),OU=Ce("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.endIcon,a.loading&&e.endIconLoadingEnd,e[`iconSize${Ae(a.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...Ik]})),zU=Ce("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),JC=Ce("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),Ve=w.forwardRef(function(e,a){const n=w.useContext(WU),i=w.useContext(DU),l=ld(n,e),d=at({props:l,name:"MuiButton"}),{children:u,color:h="primary",component:m="button",className:y,disabled:v=!1,disableElevation:x=!1,disableFocusRipple:T=!1,endIcon:C,focusVisibleClassName:j,fullWidth:E=!1,id:M,loading:L=null,loadingIndicator:W,loadingPosition:R="center",size:I="medium",startIcon:N,type:V,variant:A="text",..._}=d,S=Hl(M),D=W??s.jsx(Cs,{"aria-labelledby":S,color:"inherit",size:16}),U={...d,color:h,component:m,disabled:v,disableElevation:x,disableFocusRipple:T,fullWidth:E,loading:L,loadingIndicator:D,loadingPosition:R,size:I,type:V,variant:A},P=LU(U),K=(N||L&&R==="start")&&s.jsx(UU,{className:P.startIcon,ownerState:U,children:N||s.jsx(JC,{className:P.loadingIconPlaceholder,ownerState:U})}),J=(C||L&&R==="end")&&s.jsx(OU,{className:P.endIcon,ownerState:U,children:C||s.jsx(JC,{className:P.loadingIconPlaceholder,ownerState:U})}),$=i||"",X=typeof L=="boolean"?s.jsx("span",{className:P.loadingWrapper,style:{display:"contents"},children:L&&s.jsx(zU,{className:P.loadingIndicator,ownerState:U,children:D})}):null;return s.jsxs(VU,{ownerState:U,className:Le(n.className,P.root,y,$),component:m,disabled:v||L,focusRipple:!T,focusVisibleClassName:Le(P.focusVisible,j),ref:a,type:V,id:L?S:M,..._,classes:P,children:[K,R!=="end"&&X,u,R==="end"&&X,J]})});function BU(t){return w.Children.toArray(t).filter(e=>w.isValidElement(e))}function NU(t){return et("MuiCard",t)}nt("MuiCard",["root"]);const FU=t=>{const{classes:e}=t;return tt({root:["root"]},NU,e)},qU=Ce(ta,{name:"MuiCard",slot:"Root"})({overflow:"hidden"}),yt=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiCard"}),{className:i,raised:l=!1,...d}=n,u={...n,raised:l},h=FU(u);return s.jsx(qU,{className:Le(h.root,i),elevation:l?8:void 0,ref:a,ownerState:u,...d})});function HU(t){return et("MuiCardActionArea",t)}const cv=nt("MuiCardActionArea",["root","focusVisible","focusHighlight"]),$U=t=>{const{classes:e}=t;return tt({root:["root"],focusHighlight:["focusHighlight"]},HU,e)},GU=Ce(qr,{name:"MuiCardActionArea",slot:"Root"})(lt(({theme:t})=>({display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",[`&:hover .${cv.focusHighlight}`]:{opacity:(t.vars||t).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${cv.focusVisible} .${cv.focusHighlight}`]:{opacity:(t.vars||t).palette.action.focusOpacity}}))),KU=Ce("span",{name:"MuiCardActionArea",slot:"FocusHighlight"})(lt(({theme:t})=>({overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:t.transitions.create("opacity",{duration:t.transitions.duration.short})}))),vw=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiCardActionArea"}),{children:i,className:l,focusVisibleClassName:d,slots:u={},slotProps:h={},...m}=n,y=n,v=$U(y),x={slots:u,slotProps:h},[T,C]=dt("root",{elementType:GU,externalForwardedProps:{...x,...m},shouldForwardComponentProp:!0,ownerState:y,ref:a,className:Le(v.root,l),additionalProps:{focusVisibleClassName:Le(d,v.focusVisible)}}),[j,E]=dt("focusHighlight",{elementType:KU,externalForwardedProps:x,ownerState:y,ref:a,className:v.focusHighlight});return s.jsxs(T,{...C,children:[i,s.jsx(j,{...E})]})});function YU(t){return et("MuiCardContent",t)}nt("MuiCardContent",["root"]);const XU=t=>{const{classes:e}=t;return tt({root:["root"]},YU,e)},QU=Ce("div",{name:"MuiCardContent",slot:"Root"})({padding:16,"&:last-child":{paddingBottom:24}}),bt=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiCardContent"}),{className:i,component:l="div",...d}=n,u={...n,component:l},h=XU(u);return s.jsx(QU,{as:l,className:Le(h.root,i),ownerState:u,ref:a,...d})});function JU(t){return et("PrivateSwitchBase",t)}nt("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const ZU=t=>{const{classes:e,checked:a,disabled:n,edge:i}=t,l={root:["root",a&&"checked",n&&"disabled",i&&`edge${Ae(i)}`],input:["input"]};return tt(l,JU,e)},e3=Ce(qr,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:t,ownerState:e})=>t==="start"&&e.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:t,ownerState:e})=>t==="end"&&e.size!=="small",style:{marginRight:-12}}]}),t3=Ce("input",{name:"MuiSwitchBase",shouldForwardProp:Zn})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Pk=w.forwardRef(function(e,a){const{autoFocus:n,checked:i,checkedIcon:l,defaultChecked:d,disabled:u,disableFocusRipple:h=!1,edge:m=!1,icon:y,id:v,inputProps:x,inputRef:T,name:C,onBlur:j,onChange:E,onFocus:M,readOnly:L,required:W=!1,tabIndex:R,type:I,value:N,slots:V={},slotProps:A={},..._}=e,[S,D]=Wp({controlled:i,default:!!d,name:"SwitchBase",state:"checked"}),U=No(),P=be=>{M&&M(be),U&&U.onFocus&&U.onFocus(be)},K=be=>{j&&j(be),U&&U.onBlur&&U.onBlur(be)},J=be=>{if(be.nativeEvent.defaultPrevented)return;const oe=be.target.checked;D(oe),E&&E(be,oe)};let $=u;U&&typeof $>"u"&&($=U.disabled);const X=I==="checkbox"||I==="radio",le={...e,checked:S,disabled:$,disableFocusRipple:h,edge:m},ie=ZU(le),H={slots:V,slotProps:{input:x,...A}},[te,Q]=dt("root",{ref:a,elementType:e3,className:ie.root,shouldForwardComponentProp:!0,externalForwardedProps:{...H,component:"span",..._},getSlotProps:be=>({...be,onFocus:oe=>{be.onFocus?.(oe),P(oe)},onBlur:oe=>{be.onBlur?.(oe),K(oe)}}),ownerState:le,additionalProps:{centerRipple:!0,focusRipple:!h,disabled:$,role:void 0,tabIndex:null}}),[ne,ye]=dt("input",{ref:T,elementType:t3,className:ie.input,externalForwardedProps:H,getSlotProps:be=>({...be,onChange:oe=>{be.onChange?.(oe),J(oe)}}),ownerState:le,additionalProps:{autoFocus:n,checked:i,defaultChecked:d,disabled:$,id:X?v:void 0,name:C,readOnly:L,required:W,tabIndex:R,type:I,...I==="checkbox"&&N===void 0?{}:{value:N}}});return s.jsxs(te,{...Q,children:[s.jsx(ne,{...ye}),S?l:y]})}),a3=St(s.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),n3=St(s.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),r3=St(s.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));function i3(t){return et("MuiCheckbox",t)}const dv=nt("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),o3=t=>{const{classes:e,indeterminate:a,color:n,size:i}=t,l={root:["root",a&&"indeterminate",`color${Ae(n)}`,`size${Ae(i)}`]},d=tt(l,i3,e);return{...e,...d}},s3=Ce(Pk,{shouldForwardProp:t=>Zn(t)||t==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,a.indeterminate&&e.indeterminate,e[`size${Ae(a.size)}`],a.color!=="default"&&e[`color${Ae(a.color)}`]]}})(lt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:_t(t.palette.action.active,t.palette.action.hoverOpacity)}}},...Object.entries(t.palette).filter(Ga()).map(([e])=>({props:{color:e,disableRipple:!1},style:{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:_t(t.palette[e].main,t.palette.action.hoverOpacity)}}})),...Object.entries(t.palette).filter(Ga()).map(([e])=>({props:{color:e},style:{[`&.${dv.checked}, &.${dv.indeterminate}`]:{color:(t.vars||t).palette[e].main},[`&.${dv.disabled}`]:{color:(t.vars||t).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),l3=s.jsx(n3,{}),c3=s.jsx(a3,{}),d3=s.jsx(r3,{}),u3=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiCheckbox"}),{checkedIcon:i=l3,color:l="primary",icon:d=c3,indeterminate:u=!1,indeterminateIcon:h=d3,inputProps:m,size:y="medium",disableRipple:v=!1,className:x,slots:T={},slotProps:C={},...j}=n,E=u?h:d,M=u?h:i,L={...n,disableRipple:v,color:l,indeterminate:u,size:y},W=o3(L),R=C.input??m,[I,N]=dt("root",{ref:a,elementType:s3,className:Le(W.root,x),shouldForwardComponentProp:!0,externalForwardedProps:{slots:T,slotProps:C,...j},ownerState:L,additionalProps:{type:"checkbox",icon:w.cloneElement(E,{fontSize:E.props.fontSize??y}),checkedIcon:w.cloneElement(M,{fontSize:M.props.fontSize??y}),disableRipple:v,slots:T,slotProps:{input:dk(typeof R=="function"?R(L):R,{"data-indeterminate":u})}}});return s.jsx(I,{...N,classes:W})}),Cr=h4({createStyledComponent:Ce("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,e[`maxWidth${Ae(String(a.maxWidth))}`],a.fixed&&e.fixed,a.disableGutters&&e.disableGutters]}}),useThemeProps:t=>at({props:t,name:"MuiContainer"})}),rx=typeof lw({})=="function",p3=(t,e)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...e&&!t.vars&&{colorScheme:t.palette.mode}}),h3=t=>({color:(t.vars||t).palette.text.primary,...t.typography.body1,backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),Wk=(t,e=!1)=>{const a={};e&&t.colorSchemes&&typeof t.getColorSchemeSelector=="function"&&Object.entries(t.colorSchemes).forEach(([l,d])=>{const u=t.getColorSchemeSelector(l);u.startsWith("@")?a[u]={":root":{colorScheme:d.palette?.mode}}:a[u.replace(/\s*&/,"")]={colorScheme:d.palette?.mode}});let n={html:p3(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:{margin:0,...h3(t),"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}},...a};const i=t.components?.MuiCssBaseline?.styleOverrides;return i&&(n=[n,i]),n},pg="mui-ecs",m3=t=>{const e=Wk(t,!1),a=Array.isArray(e)?e[0]:e;return!t.vars&&a&&(a.html[`:root:has(${pg})`]={colorScheme:t.palette.mode}),t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([n,i])=>{const l=t.getColorSchemeSelector(n);l.startsWith("@")?a[l]={[`:root:not(:has(.${pg}))`]:{colorScheme:i.palette?.mode}}:a[l.replace(/\s*&/,"")]={[`&:not(:has(.${pg}))`]:{colorScheme:i.palette?.mode}}}),e},g3=lw(rx?({theme:t,enableColorScheme:e})=>Wk(t,e):({theme:t})=>m3(t));function f3(t){const e=at({props:t,name:"MuiCssBaseline"}),{children:a,enableColorScheme:n=!1}=e;return s.jsxs(w.Fragment,{children:[rx&&s.jsx(g3,{enableColorScheme:n}),!rx&&!n&&s.jsx("span",{className:pg,style:{display:"none"}}),a]})}function Dk(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}function y3(t){const e=dr(t);return e.body===t?hi(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function yp(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function ZC(t){return parseInt(hi(t).getComputedStyle(t).paddingRight,10)||0}function b3(t){const a=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),n=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return a||n}function eM(t,e,a,n,i){const l=[e,a,...n];[].forEach.call(t.children,d=>{const u=!l.includes(d),h=!b3(d);u&&h&&yp(d,i)})}function uv(t,e){let a=-1;return t.some((n,i)=>e(n)?(a=i,!0):!1),a}function v3(t,e){const a=[],n=t.container;if(!e.disableScrollLock){if(y3(n)){const d=Dk(hi(n));a.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${ZC(n)+d}px`;const u=dr(n).querySelectorAll(".mui-fixed");[].forEach.call(u,h=>{a.push({value:h.style.paddingRight,property:"padding-right",el:h}),h.style.paddingRight=`${ZC(h)+d}px`})}let l;if(n.parentNode instanceof DocumentFragment)l=dr(n).body;else{const d=n.parentElement,u=hi(n);l=d?.nodeName==="HTML"&&u.getComputedStyle(d).overflowY==="scroll"?d:n}a.push({value:l.style.overflow,property:"overflow",el:l},{value:l.style.overflowX,property:"overflow-x",el:l},{value:l.style.overflowY,property:"overflow-y",el:l}),l.style.overflow="hidden"}return()=>{a.forEach(({value:l,el:d,property:u})=>{l?d.style.setProperty(u,l):d.style.removeProperty(u)})}}function x3(t){const e=[];return[].forEach.call(t.children,a=>{a.getAttribute("aria-hidden")==="true"&&e.push(a)}),e}class w3{constructor(){this.modals=[],this.containers=[]}add(e,a){let n=this.modals.indexOf(e);if(n!==-1)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&yp(e.modalRef,!1);const i=x3(a);eM(a,e.mount,e.modalRef,i,!0);const l=uv(this.containers,d=>d.container===a);return l!==-1?(this.containers[l].modals.push(e),n):(this.containers.push({modals:[e],container:a,restore:null,hiddenSiblings:i}),n)}mount(e,a){const n=uv(this.containers,l=>l.modals.includes(e)),i=this.containers[n];i.restore||(i.restore=v3(i,a))}remove(e,a=!0){const n=this.modals.indexOf(e);if(n===-1)return n;const i=uv(this.containers,d=>d.modals.includes(e)),l=this.containers[i];if(l.modals.splice(l.modals.indexOf(e),1),this.modals.splice(n,1),l.modals.length===0)l.restore&&l.restore(),e.modalRef&&yp(e.modalRef,a),eM(l.container,e.mount,e.modalRef,l.hiddenSiblings,!1),this.containers.splice(i,1);else{const d=l.modals[l.modals.length-1];d.modalRef&&yp(d.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const S3=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function T3(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function C3(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=n=>t.ownerDocument.querySelector(`input[type="radio"]${n}`);let a=e(`[name="${t.name}"]:checked`);return a||(a=e(`[name="${t.name}"]`)),a!==t}function M3(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||C3(t))}function R3(t){const e=[],a=[];return Array.from(t.querySelectorAll(S3)).forEach((n,i)=>{const l=T3(n);l===-1||!M3(n)||(l===0?e.push(n):a.push({documentOrder:i,tabIndex:l,node:n}))}),a.sort((n,i)=>n.tabIndex===i.tabIndex?n.documentOrder-i.documentOrder:n.tabIndex-i.tabIndex).map(n=>n.node).concat(e)}function A3(){return!0}function k3(t){const{children:e,disableAutoFocus:a=!1,disableEnforceFocus:n=!1,disableRestoreFocus:i=!1,getTabbable:l=R3,isEnabled:d=A3,open:u}=t,h=w.useRef(!1),m=w.useRef(null),y=w.useRef(null),v=w.useRef(null),x=w.useRef(null),T=w.useRef(!1),C=w.useRef(null),j=Ba(Pd(e),C),E=w.useRef(null);w.useEffect(()=>{!u||!C.current||(T.current=!a)},[a,u]),w.useEffect(()=>{if(!u||!C.current)return;const W=dr(C.current);return C.current.contains(W.activeElement)||(C.current.hasAttribute("tabIndex")||C.current.setAttribute("tabIndex","-1"),T.current&&C.current.focus()),()=>{i||(v.current&&v.current.focus&&(h.current=!0,v.current.focus()),v.current=null)}},[u]),w.useEffect(()=>{if(!u||!C.current)return;const W=dr(C.current),R=V=>{E.current=V,!(n||!d()||V.key!=="Tab")&&W.activeElement===C.current&&V.shiftKey&&(h.current=!0,y.current&&y.current.focus())},I=()=>{const V=C.current;if(V===null)return;if(!W.hasFocus()||!d()||h.current){h.current=!1;return}if(V.contains(W.activeElement)||n&&W.activeElement!==m.current&&W.activeElement!==y.current)return;if(W.activeElement!==x.current)x.current=null;else if(x.current!==null)return;if(!T.current)return;let A=[];if((W.activeElement===m.current||W.activeElement===y.current)&&(A=l(C.current)),A.length>0){const _=!!(E.current?.shiftKey&&E.current?.key==="Tab"),S=A[0],D=A[A.length-1];typeof S!="string"&&typeof D!="string"&&(_?D.focus():S.focus())}else V.focus()};W.addEventListener("focusin",I),W.addEventListener("keydown",R,!0);const N=setInterval(()=>{W.activeElement&&W.activeElement.tagName==="BODY"&&I()},50);return()=>{clearInterval(N),W.removeEventListener("focusin",I),W.removeEventListener("keydown",R,!0)}},[a,n,i,d,u,l]);const M=W=>{v.current===null&&(v.current=W.relatedTarget),T.current=!0,x.current=W.target;const R=e.props.onFocus;R&&R(W)},L=W=>{v.current===null&&(v.current=W.relatedTarget),T.current=!0};return s.jsxs(w.Fragment,{children:[s.jsx("div",{tabIndex:u?0:-1,onFocus:L,ref:m,"data-testid":"sentinelStart"}),w.cloneElement(e,{ref:j,onFocus:M}),s.jsx("div",{tabIndex:u?0:-1,onFocus:L,ref:y,"data-testid":"sentinelEnd"})]})}function E3(t){return typeof t=="function"?t():t}function _3(t){return t?t.props.hasOwnProperty("in"):!1}const tM=()=>{},$m=new w3;function j3(t){const{container:e,disableEscapeKeyDown:a=!1,disableScrollLock:n=!1,closeAfterTransition:i=!1,onTransitionEnter:l,onTransitionExited:d,children:u,onClose:h,open:m,rootRef:y}=t,v=w.useRef({}),x=w.useRef(null),T=w.useRef(null),C=Ba(T,y),[j,E]=w.useState(!m),M=_3(u);let L=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(L=!1);const W=()=>dr(x.current),R=()=>(v.current.modalRef=T.current,v.current.mount=x.current,v.current),I=()=>{$m.mount(R(),{disableScrollLock:n}),T.current&&(T.current.scrollTop=0)},N=Nr(()=>{const J=E3(e)||W().body;$m.add(R(),J),T.current&&I()}),V=()=>$m.isTopModal(R()),A=Nr(J=>{x.current=J,J&&(m&&V()?I():T.current&&yp(T.current,L))}),_=w.useCallback(()=>{$m.remove(R(),L)},[L]);w.useEffect(()=>()=>{_()},[_]),w.useEffect(()=>{m?N():(!M||!i)&&_()},[m,_,M,i,N]);const S=J=>$=>{J.onKeyDown?.($),!($.key!=="Escape"||$.which===229||!V())&&(a||($.stopPropagation(),h&&h($,"escapeKeyDown")))},D=J=>$=>{J.onClick?.($),$.target===$.currentTarget&&h&&h($,"backdropClick")};return{getRootProps:(J={})=>{const $=bk(t);delete $.onTransitionEnter,delete $.onTransitionExited;const X={...$,...J};return{role:"presentation",...X,onKeyDown:S(X),ref:C}},getBackdropProps:(J={})=>{const $=J;return{"aria-hidden":!0,...$,onClick:D($),open:m}},getTransitionProps:()=>{const J=()=>{E(!1),l&&l()},$=()=>{E(!0),d&&d(),i&&_()};return{onEnter:AC(J,u?.props.onEnter??tM),onExited:AC($,u?.props.onExited??tM)}},rootRef:C,portalRef:A,isTopModal:V,exited:j,hasTransition:M}}function I3(t){return et("MuiModal",t)}nt("MuiModal",["root","hidden","backdrop"]);const P3=t=>{const{open:e,exited:a,classes:n}=t;return tt({root:["root",!e&&a&&"hidden"],backdrop:["backdrop"]},I3,n)},W3=Ce("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,!a.open&&a.exited&&e.hidden]}})(lt(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),D3=Ce(jk,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),Lk=w.forwardRef(function(e,a){const n=at({name:"MuiModal",props:e}),{BackdropComponent:i=D3,BackdropProps:l,classes:d,className:u,closeAfterTransition:h=!1,children:m,container:y,component:v,components:x={},componentsProps:T={},disableAutoFocus:C=!1,disableEnforceFocus:j=!1,disableEscapeKeyDown:E=!1,disablePortal:M=!1,disableRestoreFocus:L=!1,disableScrollLock:W=!1,hideBackdrop:R=!1,keepMounted:I=!1,onClose:N,onTransitionEnter:V,onTransitionExited:A,open:_,slotProps:S={},slots:D={},theme:U,...P}=n,K={...n,closeAfterTransition:h,disableAutoFocus:C,disableEnforceFocus:j,disableEscapeKeyDown:E,disablePortal:M,disableRestoreFocus:L,disableScrollLock:W,hideBackdrop:R,keepMounted:I},{getRootProps:J,getBackdropProps:$,getTransitionProps:X,portalRef:le,isTopModal:ie,exited:H,hasTransition:te}=j3({...K,rootRef:a}),Q={...K,exited:H},ne=P3(Q),ye={};if(m.props.tabIndex===void 0&&(ye.tabIndex="-1"),te){const{onEnter:qe,onExited:Qe}=X();ye.onEnter=qe,ye.onExited=Qe}const be={slots:{root:x.Root,backdrop:x.Backdrop,...D},slotProps:{...T,...S}},[oe,_e]=dt("root",{ref:a,elementType:W3,externalForwardedProps:{...be,...P,component:v},getSlotProps:J,ownerState:Q,className:Le(u,ne?.root,!Q.open&&Q.exited&&ne?.hidden)}),[Me,Oe]=dt("backdrop",{ref:l?.ref,elementType:i,externalForwardedProps:be,shouldForwardComponentProp:!0,additionalProps:l,getSlotProps:qe=>$({...qe,onClick:Qe=>{qe?.onClick&&qe.onClick(Qe)}}),className:Le(l?.className,ne?.backdrop),ownerState:Q});return!I&&!_&&(!te||H)?null:s.jsx(Ek,{ref:le,container:y,disablePortal:M,children:s.jsxs(oe,{..._e,children:[!R&&i?s.jsx(Me,{...Oe}):null,s.jsx(k3,{disableEnforceFocus:j,disableAutoFocus:C,disableRestoreFocus:L,isEnabled:ie,open:_,children:w.cloneElement(m,ye)})]})})});function L3(t){return et("MuiDialog",t)}const pv=nt("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Vk=w.createContext({}),V3=Ce(jk,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),U3=t=>{const{classes:e,scroll:a,maxWidth:n,fullWidth:i,fullScreen:l}=t,d={root:["root"],container:["container",`scroll${Ae(a)}`],paper:["paper",`paperScroll${Ae(a)}`,`paperWidth${Ae(String(n))}`,i&&"paperFullWidth",l&&"paperFullScreen"]};return tt(d,L3,e)},O3=Ce(Lk,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),z3=Ce("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.container,e[`scroll${Ae(a.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),B3=Ce(ta,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.paper,e[`scrollPaper${Ae(a.scroll)}`],e[`paperWidth${Ae(String(a.maxWidth))}`],a.fullWidth&&e.paperFullWidth,a.fullScreen&&e.paperFullScreen]}})(lt(({theme:t})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${pv.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${t.breakpoints.values[e]}${t.breakpoints.unit}`,[`&.${pv.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e]+64)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${pv.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),Ra=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiDialog"}),i=Xa(),l={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":d,"aria-labelledby":u,"aria-modal":h=!0,BackdropComponent:m,BackdropProps:y,children:v,className:x,disableEscapeKeyDown:T=!1,fullScreen:C=!1,fullWidth:j=!1,maxWidth:E="sm",onClick:M,onClose:L,open:W,PaperComponent:R=ta,PaperProps:I={},scroll:N="paper",slots:V={},slotProps:A={},TransitionComponent:_=nx,transitionDuration:S=l,TransitionProps:D,...U}=n,P={...n,disableEscapeKeyDown:T,fullScreen:C,fullWidth:j,maxWidth:E,scroll:N},K=U3(P),J=w.useRef(),$=ve=>{J.current=ve.target===ve.currentTarget},X=ve=>{M&&M(ve),J.current&&(J.current=null,L&&L(ve,"backdropClick"))},le=Hl(u),ie=w.useMemo(()=>({titleId:le}),[le]),H={transition:_,...V},te={transition:D,paper:I,backdrop:y,...A},Q={slots:H,slotProps:te},[ne,ye]=dt("root",{elementType:O3,shouldForwardComponentProp:!0,externalForwardedProps:Q,ownerState:P,className:Le(K.root,x),ref:a}),[be,oe]=dt("backdrop",{elementType:V3,shouldForwardComponentProp:!0,externalForwardedProps:Q,ownerState:P}),[_e,Me]=dt("paper",{elementType:B3,shouldForwardComponentProp:!0,externalForwardedProps:Q,ownerState:P,className:Le(K.paper,I.className)}),[Oe,qe]=dt("container",{elementType:z3,externalForwardedProps:Q,ownerState:P,className:K.container}),[Qe,ae]=dt("transition",{elementType:nx,externalForwardedProps:Q,ownerState:P,additionalProps:{appear:!0,in:W,timeout:S,role:"presentation"}});return s.jsx(ne,{closeAfterTransition:!0,slots:{backdrop:be},slotProps:{backdrop:{transitionDuration:S,as:m,...oe}},disableEscapeKeyDown:T,onClose:L,open:W,onClick:X,...ye,...U,children:s.jsx(Qe,{...ae,children:s.jsx(Oe,{onMouseDown:$,...qe,children:s.jsx(_e,{as:R,elevation:24,role:"dialog","aria-describedby":d,"aria-labelledby":le,"aria-modal":h,...Me,children:s.jsx(Vk.Provider,{value:ie,children:v})})})})})});function N3(t){return et("MuiDialogActions",t)}nt("MuiDialogActions",["root","spacing"]);const F3=t=>{const{classes:e,disableSpacing:a}=t;return tt({root:["root",!a&&"spacing"]},N3,e)},q3=Ce("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,!a.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:t})=>!t.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),Ka=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:l=!1,...d}=n,u={...n,disableSpacing:l},h=F3(u);return s.jsx(q3,{className:Le(h.root,i),ownerState:u,ref:a,...d})});function H3(t){return et("MuiDialogContent",t)}nt("MuiDialogContent",["root","dividers"]);function $3(t){return et("MuiDialogTitle",t)}const G3=nt("MuiDialogTitle",["root"]),K3=t=>{const{classes:e,dividers:a}=t;return tt({root:["root",a&&"dividers"]},H3,e)},Y3=Ce("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,a.dividers&&e.dividers]}})(lt(({theme:t})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${G3.root} + &`]:{paddingTop:0}}}]}))),Aa=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiDialogContent"}),{className:i,dividers:l=!1,...d}=n,u={...n,dividers:l},h=K3(u);return s.jsx(Y3,{className:Le(h.root,i),ownerState:u,ref:a,...d})}),X3=t=>{const{classes:e}=t;return tt({root:["root"]},$3,e)},Q3=Ce(O,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),ka=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiDialogTitle"}),{className:i,id:l,...d}=n,u=n,h=X3(u),{titleId:m=l}=w.useContext(Vk);return s.jsx(Q3,{component:"h2",className:Le(h.root,i),ownerState:u,ref:a,variant:"h6",id:l??m,...d})});function J3(t){return et("MuiDivider",t)}const aM=nt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),Z3=t=>{const{absolute:e,children:a,classes:n,flexItem:i,light:l,orientation:d,textAlign:u,variant:h}=t;return tt({root:["root",e&&"absolute",h,l&&"light",d==="vertical"&&"vertical",i&&"flexItem",a&&"withChildren",a&&d==="vertical"&&"withChildrenVertical",u==="right"&&d!=="vertical"&&"textAlignRight",u==="left"&&d!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",d==="vertical"&&"wrapperVertical"]},J3,n)},eO=Ce("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,a.absolute&&e.absolute,e[a.variant],a.light&&e.light,a.orientation==="vertical"&&e.vertical,a.flexItem&&e.flexItem,a.children&&e.withChildren,a.children&&a.orientation==="vertical"&&e.withChildrenVertical,a.textAlign==="right"&&a.orientation!=="vertical"&&e.textAlignRight,a.textAlign==="left"&&a.orientation!=="vertical"&&e.textAlignLeft]}})(lt(({theme:t})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:_t(t.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&e.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>e.orientation==="vertical"&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>e.textAlign==="right"&&e.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>e.textAlign==="left"&&e.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),tO=Ce("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.wrapper,a.orientation==="vertical"&&e.wrapperVertical]}})(lt(({theme:t})=>({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`}}]}))),vr=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiDivider"}),{absolute:i=!1,children:l,className:d,orientation:u="horizontal",component:h=l||u==="vertical"?"div":"hr",flexItem:m=!1,light:y=!1,role:v=h!=="hr"?"separator":void 0,textAlign:x="center",variant:T="fullWidth",...C}=n,j={...n,absolute:i,component:h,flexItem:m,light:y,orientation:u,role:v,textAlign:x,variant:T},E=Z3(j);return s.jsx(eO,{as:h,className:Le(E.root,d),role:v,ref:a,ownerState:j,"aria-orientation":v==="separator"&&(h!=="hr"||u==="vertical")?u:void 0,...C,children:l?s.jsx(tO,{className:E.wrapper,ownerState:j,children:l}):null})});vr&&(vr.muiSkipListHighlight=!0);const aO=t=>{const{classes:e,disableUnderline:a,startAdornment:n,endAdornment:i,size:l,hiddenLabel:d,multiline:u}=t,h={root:["root",!a&&"underline",n&&"adornedStart",i&&"adornedEnd",l==="small"&&`size${Ae(l)}`,d&&"hiddenLabel",u&&"multiline"],input:["input"]},m=tt(h,yU,e);return{...e,...m}},nO=Ce(Af,{shouldForwardProp:t=>Zn(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[...Mf(t,e),!a.disableUnderline&&e.underline]}})(lt(({theme:t})=>{const e=t.palette.mode==="light",a=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",n=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",l=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:n,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:n}},[`&.${yl.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:n},[`&.${yl.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:l},variants:[{props:({ownerState:d})=>!d.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${yl.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${yl.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:a}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${yl.disabled}, .${yl.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${yl.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(Ga()).map(([d])=>({props:{disableUnderline:!1,color:d},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[d]?.main}`}}})),{props:({ownerState:d})=>d.startAdornment,style:{paddingLeft:12}},{props:({ownerState:d})=>d.endAdornment,style:{paddingRight:12}},{props:({ownerState:d})=>d.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:d,size:u})=>d.multiline&&u==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:d})=>d.multiline&&d.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:d})=>d.multiline&&d.hiddenLabel&&d.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),rO=Ce(kf,{name:"MuiFilledInput",slot:"Input",overridesResolver:Rf})(lt(({theme:t})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),xw=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:l={},componentsProps:d,fullWidth:u=!1,hiddenLabel:h,inputComponent:m="input",multiline:y=!1,slotProps:v,slots:x={},type:T="text",...C}=n,j={...n,disableUnderline:i,fullWidth:u,inputComponent:m,multiline:y,type:T},E=aO(n),M={root:{ownerState:j},input:{ownerState:j}},L=v??d?vn(M,v??d):M,W=x.root??l.Root??nO,R=x.input??l.Input??rO;return s.jsx(bw,{slots:{root:W,input:R},slotProps:L,fullWidth:u,inputComponent:m,multiline:y,ref:a,type:T,...C,classes:E})});xw.muiName="Input";function iO(t){return et("MuiFormControl",t)}nt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const oO=t=>{const{classes:e,margin:a,fullWidth:n}=t,i={root:["root",a!=="none"&&`margin${Ae(a)}`,n&&"fullWidth"]};return tt(i,iO,e)},sO=Ce("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,e[`margin${Ae(a.margin)}`],a.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),bn=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiFormControl"}),{children:i,className:l,color:d="primary",component:u="div",disabled:h=!1,error:m=!1,focused:y,fullWidth:v=!1,hiddenLabel:x=!1,margin:T="none",required:C=!1,size:j="medium",variant:E="outlined",...M}=n,L={...n,color:d,component:u,disabled:h,error:m,fullWidth:v,hiddenLabel:x,margin:T,required:C,size:j,variant:E},W=oO(L),[R,I]=w.useState(()=>{let J=!1;return i&&w.Children.forEach(i,$=>{if(!mp($,["Input","Select"]))return;const X=mp($,["Select"])?$.props.input:$;X&&pU(X.props)&&(J=!0)}),J}),[N,V]=w.useState(()=>{let J=!1;return i&&w.Children.forEach(i,$=>{mp($,["Input","Select"])&&(Pg($.props,!0)||Pg($.props.inputProps,!0))&&(J=!0)}),J}),[A,_]=w.useState(!1);h&&A&&_(!1);const S=y!==void 0&&!h?y:A;let D;w.useRef(!1);const U=w.useCallback(()=>{V(!0)},[]),P=w.useCallback(()=>{V(!1)},[]),K=w.useMemo(()=>({adornedStart:R,setAdornedStart:I,color:d,disabled:h,error:m,filled:N,focused:S,fullWidth:v,hiddenLabel:x,size:j,onBlur:()=>{_(!1)},onFocus:()=>{_(!0)},onEmpty:P,onFilled:U,registerEffect:D,required:C,variant:E}),[R,d,h,m,N,S,v,x,D,P,U,C,j,E]);return s.jsx(Cf.Provider,{value:K,children:s.jsx(sO,{as:u,ownerState:L,className:Le(W.root,l),ref:a,...M,children:i})})});function lO(t){return et("MuiFormControlLabel",t)}const lp=nt("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),cO=t=>{const{classes:e,disabled:a,labelPlacement:n,error:i,required:l}=t,d={root:["root",a&&"disabled",`labelPlacement${Ae(n)}`,i&&"error",l&&"required"],label:["label",a&&"disabled"],asterisk:["asterisk",i&&"error"]};return tt(d,lO,e)},dO=Ce("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[{[`& .${lp.label}`]:e.label},e.root,e[`labelPlacement${Ae(a.labelPlacement)}`]]}})(lt(({theme:t})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${lp.disabled}`]:{cursor:"default"},[`& .${lp.label}`]:{[`&.${lp.disabled}`]:{color:(t.vars||t).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:e})=>e==="start"||e==="top"||e==="bottom",style:{marginLeft:16}}]}))),uO=Ce("span",{name:"MuiFormControlLabel",slot:"Asterisk"})(lt(({theme:t})=>({[`&.${lp.error}`]:{color:(t.vars||t).palette.error.main}}))),pO=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiFormControlLabel"}),{checked:i,className:l,componentsProps:d={},control:u,disabled:h,disableTypography:m,inputRef:y,label:v,labelPlacement:x="end",name:T,onChange:C,required:j,slots:E={},slotProps:M={},value:L,...W}=n,R=No(),I=h??u.props.disabled??R?.disabled,N=j??u.props.required,V={disabled:I,required:N};["checked","name","onChange","value","inputRef"].forEach(J=>{typeof u.props[J]>"u"&&typeof n[J]<"u"&&(V[J]=n[J])});const A=$l({props:n,muiFormControl:R,states:["error"]}),_={...n,disabled:I,labelPlacement:x,required:N,error:A.error},S=cO(_),D={slots:E,slotProps:{...d,...M}},[U,P]=dt("typography",{elementType:O,externalForwardedProps:D,ownerState:_});let K=v;return K!=null&&K.type!==O&&!m&&(K=s.jsx(U,{component:"span",...P,className:Le(S.label,P?.className),children:K})),s.jsxs(dO,{className:Le(S.root,l),ownerState:_,ref:a,...W,children:[w.cloneElement(u,V),N?s.jsxs("div",{children:[K,s.jsxs(uO,{ownerState:_,"aria-hidden":!0,className:S.asterisk,children:["","*"]})]}):K]})});function hO(t){return et("MuiFormHelperText",t)}const nM=nt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var rM;const mO=t=>{const{classes:e,contained:a,size:n,disabled:i,error:l,filled:d,focused:u,required:h}=t,m={root:["root",i&&"disabled",l&&"error",n&&`size${Ae(n)}`,a&&"contained",u&&"focused",d&&"filled",h&&"required"]};return tt(m,hO,e)},gO=Ce("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,a.size&&e[`size${Ae(a.size)}`],a.contained&&e.contained,a.filled&&e.filled]}})(lt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${nM.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${nM.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),fO=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiFormHelperText"}),{children:i,className:l,component:d="p",disabled:u,error:h,filled:m,focused:y,margin:v,required:x,variant:T,...C}=n,j=No(),E=$l({props:n,muiFormControl:j,states:["variant","size","disabled","error","filled","focused","required"]}),M={...n,component:d,contained:E.variant==="filled"||E.variant==="outlined",variant:E.variant,size:E.size,disabled:E.disabled,error:E.error,filled:E.filled,focused:E.focused,required:E.required};delete M.ownerState;const L=mO(M);return s.jsx(gO,{as:d,className:Le(L.root,l),ref:a,...C,ownerState:M,children:i===" "?rM||(rM=s.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):i})});function yO(t){return et("MuiFormLabel",t)}const bp=nt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),bO=t=>{const{classes:e,color:a,focused:n,disabled:i,error:l,filled:d,required:u}=t,h={root:["root",`color${Ae(a)}`,i&&"disabled",l&&"error",d&&"filled",n&&"focused",u&&"required"],asterisk:["asterisk",l&&"error"]};return tt(h,yO,e)},vO=Ce("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,a.color==="secondary"&&e.colorSecondary,a.filled&&e.filled]}})(lt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(Ga()).map(([e])=>({props:{color:e},style:{[`&.${bp.focused}`]:{color:(t.vars||t).palette[e].main}}})),{props:{},style:{[`&.${bp.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${bp.error}`]:{color:(t.vars||t).palette.error.main}}}]}))),xO=Ce("span",{name:"MuiFormLabel",slot:"Asterisk"})(lt(({theme:t})=>({[`&.${bp.error}`]:{color:(t.vars||t).palette.error.main}}))),wO=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiFormLabel"}),{children:i,className:l,color:d,component:u="label",disabled:h,error:m,filled:y,focused:v,required:x,...T}=n,C=No(),j=$l({props:n,muiFormControl:C,states:["color","required","focused","disabled","error","filled"]}),E={...n,color:j.color||"primary",component:u,disabled:j.disabled,error:j.error,filled:j.filled,focused:j.focused,required:j.required},M=bO(E);return s.jsxs(vO,{as:u,ownerState:E,className:Le(M.root,l),ref:a,...T,children:[i,j.required&&s.jsxs(xO,{ownerState:E,"aria-hidden":!0,className:M.asterisk,children:["","*"]})]})}),Uk=E4({createStyledComponent:Ce("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,a.container&&e.container]}}),componentName:"MuiGrid",useThemeProps:t=>at({props:t,name:"MuiGrid"}),useTheme:Xa});function ix(t){return`scale(${t}, ${t**2})`}const SO={entering:{opacity:1,transform:ix(1)},entered:{opacity:1,transform:"none"}},hv=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Wg=w.forwardRef(function(e,a){const{addEndListener:n,appear:i=!0,children:l,easing:d,in:u,onEnter:h,onEntered:m,onEntering:y,onExit:v,onExited:x,onExiting:T,style:C,timeout:j="auto",TransitionComponent:E=gi,...M}=e,L=Al(),W=w.useRef(),R=Xa(),I=w.useRef(null),N=Ba(I,Pd(l),a),V=J=>$=>{if(J){const X=I.current;$===void 0?J(X):J(X,$)}},A=V(y),_=V((J,$)=>{mk(J);const{duration:X,delay:le,easing:ie}=cd({style:C,timeout:j,easing:d},{mode:"enter"});let H;j==="auto"?(H=R.transitions.getAutoHeightDuration(J.clientHeight),W.current=H):H=X,J.style.transition=[R.transitions.create("opacity",{duration:H,delay:le}),R.transitions.create("transform",{duration:hv?H:H*.666,delay:le,easing:ie})].join(","),h&&h(J,$)}),S=V(m),D=V(T),U=V(J=>{const{duration:$,delay:X,easing:le}=cd({style:C,timeout:j,easing:d},{mode:"exit"});let ie;j==="auto"?(ie=R.transitions.getAutoHeightDuration(J.clientHeight),W.current=ie):ie=$,J.style.transition=[R.transitions.create("opacity",{duration:ie,delay:X}),R.transitions.create("transform",{duration:hv?ie:ie*.666,delay:hv?X:X||ie*.333,easing:le})].join(","),J.style.opacity=0,J.style.transform=ix(.75),v&&v(J)}),P=V(x),K=J=>{j==="auto"&&L.start(W.current||0,J),n&&n(I.current,J)};return s.jsx(E,{appear:i,in:u,nodeRef:I,onEnter:_,onEntered:S,onEntering:A,onExit:U,onExited:P,onExiting:D,addEndListener:K,timeout:j==="auto"?null:j,...M,children:(J,{ownerState:$,...X})=>w.cloneElement(l,{style:{opacity:0,transform:ix(.75),visibility:J==="exited"&&!u?"hidden":void 0,...SO[J],...C,...l.props.style},ref:N,...X})})});Wg&&(Wg.muiSupportAuto=!0);const TO=t=>{const{classes:e,disableUnderline:a}=t,i=tt({root:["root",!a&&"underline"],input:["input"]},gU,e);return{...e,...i}},CO=Ce(Af,{shouldForwardProp:t=>Zn(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[...Mf(t,e),!a.disableUnderline&&e.underline]}})(lt(({theme:t})=>{let a=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(a=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:n})=>n.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:n})=>!n.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Ku.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Ku.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${a}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Ku.disabled}, .${Ku.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${a}`}},[`&.${Ku.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(Ga()).map(([n])=>({props:{color:n,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[n].main}`}}}))]}})),MO=Ce(kf,{name:"MuiInput",slot:"Input",overridesResolver:Rf})({}),ww=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiInput"}),{disableUnderline:i=!1,components:l={},componentsProps:d,fullWidth:u=!1,inputComponent:h="input",multiline:m=!1,slotProps:y,slots:v={},type:x="text",...T}=n,C=TO(n),E={root:{ownerState:{disableUnderline:i}}},M=y??d?vn(y??d,E):E,L=v.root??l.Root??CO,W=v.input??l.Input??MO;return s.jsx(bw,{slots:{root:L,input:W},slotProps:M,fullWidth:u,inputComponent:h,multiline:m,ref:a,type:x,...T,classes:C})});ww.muiName="Input";function RO(t){return et("MuiInputAdornment",t)}const iM=nt("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var oM;const AO=(t,e)=>{const{ownerState:a}=t;return[e.root,e[`position${Ae(a.position)}`],a.disablePointerEvents===!0&&e.disablePointerEvents,e[a.variant]]},kO=t=>{const{classes:e,disablePointerEvents:a,hiddenLabel:n,position:i,size:l,variant:d}=t,u={root:["root",a&&"disablePointerEvents",i&&`position${Ae(i)}`,d,n&&"hiddenLabel",l&&`size${Ae(l)}`]};return tt(u,RO,e)},EO=Ce("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:AO})(lt(({theme:t})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${iM.positionStart}&:not(.${iM.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),Yi=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiInputAdornment"}),{children:i,className:l,component:d="div",disablePointerEvents:u=!1,disableTypography:h=!1,position:m,variant:y,...v}=n,x=No()||{};let T=y;y&&x.variant,x&&!T&&(T=x.variant);const C={...n,hiddenLabel:x.hiddenLabel,size:x.size,disablePointerEvents:u,position:m,variant:T},j=kO(C);return s.jsx(Cf.Provider,{value:null,children:s.jsx(EO,{as:d,ownerState:C,className:Le(j.root,l),ref:a,...v,children:typeof i=="string"&&!h?s.jsx(O,{color:"textSecondary",children:i}):s.jsxs(w.Fragment,{children:[m==="start"?oM||(oM=s.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):null,i]})})})});function _O(t){return et("MuiInputLabel",t)}nt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const jO=t=>{const{classes:e,formControl:a,size:n,shrink:i,disableAnimation:l,variant:d,required:u}=t,h={root:["root",a&&"formControl",!l&&"animated",i&&"shrink",n&&n!=="medium"&&`size${Ae(n)}`,d],asterisk:[u&&"asterisk"]},m=tt(h,_O,e);return{...e,...m}},IO=Ce(wO,{shouldForwardProp:t=>Zn(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[{[`& .${bp.asterisk}`]:e.asterisk},e.root,a.formControl&&e.formControl,a.size==="small"&&e.sizeSmall,a.shrink&&e.shrink,!a.disableAnimation&&e.animated,a.focused&&e.focused,e[a.variant]]}})(lt(({theme:t})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:a})=>e==="filled"&&a.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:a,size:n})=>e==="filled"&&a.shrink&&n==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:a})=>e==="outlined"&&a.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),_n=w.forwardRef(function(e,a){const n=at({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,margin:l,shrink:d,variant:u,className:h,...m}=n,y=No();let v=d;typeof v>"u"&&y&&(v=y.filled||y.focused||y.adornedStart);const x=$l({props:n,muiFormControl:y,states:["size","variant","required","focused"]}),T={...n,disableAnimation:i,formControl:y,shrink:v,size:x.size,variant:x.variant,required:x.required,focused:x.focused},C=jO(T);return s.jsx(IO,{"data-shrink":v,ref:a,className:Le(C.root,h),...m,ownerState:T,classes:C})}),li=w.createContext({});function PO(t){return et("MuiList",t)}nt("MuiList",["root","padding","dense","subheader"]);const WO=t=>{const{classes:e,disablePadding:a,dense:n,subheader:i}=t;return tt({root:["root",!a&&"padding",n&&"dense",i&&"subheader"]},PO,e)},DO=Ce("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,!a.disablePadding&&e.padding,a.dense&&e.dense,a.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),Ok=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiList"}),{children:i,className:l,component:d="ul",dense:u=!1,disablePadding:h=!1,subheader:m,...y}=n,v=w.useMemo(()=>({dense:u}),[u]),x={...n,component:d,dense:u,disablePadding:h},T=WO(x);return s.jsx(li.Provider,{value:v,children:s.jsxs(DO,{as:d,className:Le(T.root,l),ref:a,ownerState:x,...y,children:[m,i]})})});function LO(t){return et("MuiListItem",t)}nt("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function VO(t){return et("MuiListItemButton",t)}const Gc=nt("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),UO=(t,e)=>{const{ownerState:a}=t;return[e.root,a.dense&&e.dense,a.alignItems==="flex-start"&&e.alignItemsFlexStart,a.divider&&e.divider,!a.disableGutters&&e.gutters]},OO=t=>{const{alignItems:e,classes:a,dense:n,disabled:i,disableGutters:l,divider:d,selected:u}=t,m=tt({root:["root",n&&"dense",!l&&"gutters",d&&"divider",i&&"disabled",e==="flex-start"&&"alignItemsFlexStart",u&&"selected"]},VO,a);return{...a,...m}},zO=Ce(qr,{shouldForwardProp:t=>Zn(t)||t==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:UO})(lt(({theme:t})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Gc.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:_t(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Gc.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:_t(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Gc.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:_t(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:_t(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${Gc.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Gc.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},variants:[{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.dense,style:{paddingTop:4,paddingBottom:4}}]}))),BO=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:l=!1,component:d="div",children:u,dense:h=!1,disableGutters:m=!1,divider:y=!1,focusVisibleClassName:v,selected:x=!1,className:T,...C}=n,j=w.useContext(li),E=w.useMemo(()=>({dense:h||j.dense||!1,alignItems:i,disableGutters:m}),[i,j.dense,h,m]),M=w.useRef(null);Qn(()=>{l&&M.current&&M.current.focus()},[l]);const L={...n,alignItems:i,dense:E.dense,disableGutters:m,divider:y,selected:x},W=OO(L),R=Ba(M,a);return s.jsx(li.Provider,{value:E,children:s.jsx(zO,{ref:R,href:C.href||C.to,component:(C.href||C.to)&&d==="div"?"button":d,focusVisibleClassName:Le(W.focusVisible,v),ownerState:L,className:Le(W.root,T),...C,classes:W,children:u})})});function NO(t){return et("MuiListItemSecondaryAction",t)}nt("MuiListItemSecondaryAction",["root","disableGutters"]);const FO=t=>{const{disableGutters:e,classes:a}=t;return tt({root:["root",e&&"disableGutters"]},NO,a)},qO=Ce("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,a.disableGutters&&e.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:t})=>t.disableGutters,style:{right:0}}]}),zk=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiListItemSecondaryAction"}),{className:i,...l}=n,d=w.useContext(li),u={...n,disableGutters:d.disableGutters},h=FO(u);return s.jsx(qO,{className:Le(h.root,i),ownerState:u,ref:a,...l})});zk.muiName="ListItemSecondaryAction";const HO=(t,e)=>{const{ownerState:a}=t;return[e.root,a.dense&&e.dense,a.alignItems==="flex-start"&&e.alignItemsFlexStart,a.divider&&e.divider,!a.disableGutters&&e.gutters,!a.disablePadding&&e.padding,a.hasSecondaryAction&&e.secondaryAction]},$O=t=>{const{alignItems:e,classes:a,dense:n,disableGutters:i,disablePadding:l,divider:d,hasSecondaryAction:u}=t;return tt({root:["root",n&&"dense",!i&&"gutters",!l&&"padding",d&&"divider",e==="flex-start"&&"alignItemsFlexStart",u&&"secondaryAction"],container:["container"]},LO,a)},GO=Ce("div",{name:"MuiListItem",slot:"Root",overridesResolver:HO})(lt(({theme:t})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>!e.disablePadding&&e.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:e})=>!e.disablePadding&&!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>!e.disablePadding&&!!e.secondaryAction,style:{paddingRight:48}},{props:({ownerState:e})=>!!e.secondaryAction,style:{[`& > .${Gc.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>e.button,style:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:e})=>e.hasSecondaryAction,style:{paddingRight:48}}]}))),KO=Ce("li",{name:"MuiListItem",slot:"Container"})({position:"relative"}),YO=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiListItem"}),{alignItems:i="center",children:l,className:d,component:u,components:h={},componentsProps:m={},ContainerComponent:y="li",ContainerProps:{className:v,...x}={},dense:T=!1,disableGutters:C=!1,disablePadding:j=!1,divider:E=!1,secondaryAction:M,slotProps:L={},slots:W={},...R}=n,I=w.useContext(li),N=w.useMemo(()=>({dense:T||I.dense||!1,alignItems:i,disableGutters:C}),[i,I.dense,T,C]),V=w.useRef(null),A=w.Children.toArray(l),_=A.length&&mp(A[A.length-1],["ListItemSecondaryAction"]),S={...n,alignItems:i,dense:N.dense,disableGutters:C,disablePadding:j,divider:E,hasSecondaryAction:_},D=$O(S),U=Ba(V,a),P=W.root||h.Root||GO,K=L.root||m.root||{},J={className:Le(D.root,K.className,d),...R};let $=u||"li";return _?($=!J.component&&!u?"div":$,y==="li"&&($==="li"?$="div":J.component==="li"&&(J.component="div")),s.jsx(li.Provider,{value:N,children:s.jsxs(KO,{as:y,className:Le(D.container,v),ref:U,ownerState:S,...x,children:[s.jsx(P,{...K,...!Vp(P)&&{as:$,ownerState:{...S,...K.ownerState}},...J,children:A}),A.pop()]})})):s.jsx(li.Provider,{value:N,children:s.jsxs(P,{...K,as:$,ref:U,...!Vp(P)&&{ownerState:{...S,...K.ownerState}},...J,children:[A,M&&s.jsx(zk,{children:M})]})})});function XO(t){return et("MuiListItemIcon",t)}const sM=nt("MuiListItemIcon",["root","alignItemsFlexStart"]),QO=t=>{const{alignItems:e,classes:a}=t;return tt({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},XO,a)},JO=Ce("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,a.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(lt(({theme:t})=>({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),ox=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiListItemIcon"}),{className:i,...l}=n,d=w.useContext(li),u={...n,alignItems:d.alignItems},h=QO(u);return s.jsx(JO,{className:Le(h.root,i),ownerState:u,ref:a,...l})});function ZO(t){return et("MuiListItemText",t)}const Zc=nt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),ez=t=>{const{classes:e,inset:a,primary:n,secondary:i,dense:l}=t;return tt({root:["root",a&&"inset",l&&"dense",n&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},ZO,e)},tz=Ce("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[{[`& .${Zc.primary}`]:e.primary},{[`& .${Zc.secondary}`]:e.secondary},e.root,a.inset&&e.inset,a.primary&&a.secondary&&e.multiline,a.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${DC.root}:where(& .${Zc.primary})`]:{display:"block"},[`.${DC.root}:where(& .${Zc.secondary})`]:{display:"block"},variants:[{props:({ownerState:t})=>t.primary&&t.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:56}}]}),Dg=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiListItemText"}),{children:i,className:l,disableTypography:d=!1,inset:u=!1,primary:h,primaryTypographyProps:m,secondary:y,secondaryTypographyProps:v,slots:x={},slotProps:T={},...C}=n,{dense:j}=w.useContext(li);let E=h??i,M=y;const L={...n,disableTypography:d,inset:u,primary:!!E,secondary:!!M,dense:j},W=ez(L),R={slots:x,slotProps:{primary:m,secondary:v,...T}},[I,N]=dt("root",{className:Le(W.root,l),elementType:tz,externalForwardedProps:{...R,...C},ownerState:L,ref:a}),[V,A]=dt("primary",{className:W.primary,elementType:O,externalForwardedProps:R,ownerState:L}),[_,S]=dt("secondary",{className:W.secondary,elementType:O,externalForwardedProps:R,ownerState:L});return E!=null&&E.type!==O&&!d&&(E=s.jsx(V,{variant:j?"body2":"body1",component:A?.variant?void 0:"span",...A,children:E})),M!=null&&M.type!==O&&!d&&(M=s.jsx(_,{variant:"body2",color:"textSecondary",...S,children:M})),s.jsxs(I,{...N,children:[E,M]})});function mv(t,e,a){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:a?null:t.firstChild}function lM(t,e,a){return t===e?a?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:a?null:t.lastChild}function Bk(t,e){if(e===void 0)return!0;let a=t.innerText;return a===void 0&&(a=t.textContent),a=a.trim().toLowerCase(),a.length===0?!1:e.repeating?a[0]===e.keys[0]:a.startsWith(e.keys.join(""))}function Yu(t,e,a,n,i,l){let d=!1,u=i(t,e,e?a:!1);for(;u;){if(u===t.firstChild){if(d)return!1;d=!0}const h=n?!1:u.disabled||u.getAttribute("aria-disabled")==="true";if(!u.hasAttribute("tabindex")||!Bk(u,l)||h)u=i(t,u,a);else return u.focus(),!0}return!1}const az=w.forwardRef(function(e,a){const{actions:n,autoFocus:i=!1,autoFocusItem:l=!1,children:d,className:u,disabledItemsFocusable:h=!1,disableListWrap:m=!1,onKeyDown:y,variant:v="selectedMenu",...x}=e,T=w.useRef(null),C=w.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Qn(()=>{i&&T.current.focus()},[i]),w.useImperativeHandle(n,()=>({adjustStyleForScrollbar:(W,{direction:R})=>{const I=!T.current.style.width;if(W.clientHeight<T.current.clientHeight&&I){const N=`${Dk(hi(W))}px`;T.current.style[R==="rtl"?"paddingLeft":"paddingRight"]=N,T.current.style.width=`calc(100% + ${N})`}return T.current}}),[]);const j=W=>{const R=T.current,I=W.key;if(W.ctrlKey||W.metaKey||W.altKey){y&&y(W);return}const V=dr(R).activeElement;if(I==="ArrowDown")W.preventDefault(),Yu(R,V,m,h,mv);else if(I==="ArrowUp")W.preventDefault(),Yu(R,V,m,h,lM);else if(I==="Home")W.preventDefault(),Yu(R,null,m,h,mv);else if(I==="End")W.preventDefault(),Yu(R,null,m,h,lM);else if(I.length===1){const A=C.current,_=I.toLowerCase(),S=performance.now();A.keys.length>0&&(S-A.lastTime>500?(A.keys=[],A.repeating=!0,A.previousKeyMatched=!0):A.repeating&&_!==A.keys[0]&&(A.repeating=!1)),A.lastTime=S,A.keys.push(_);const D=V&&!A.repeating&&Bk(V,A);A.previousKeyMatched&&(D||Yu(R,V,!1,h,mv,A))?W.preventDefault():A.previousKeyMatched=!1}y&&y(W)},E=Ba(T,a);let M=-1;w.Children.forEach(d,(W,R)=>{if(!w.isValidElement(W)){M===R&&(M+=1,M>=d.length&&(M=-1));return}W.props.disabled||(v==="selectedMenu"&&W.props.selected||M===-1)&&(M=R),M===R&&(W.props.disabled||W.props.muiSkipListHighlight||W.type.muiSkipListHighlight)&&(M+=1,M>=d.length&&(M=-1))});const L=w.Children.map(d,(W,R)=>{if(R===M){const I={};return l&&(I.autoFocus=!0),W.props.tabIndex===void 0&&v==="selectedMenu"&&(I.tabIndex=0),w.cloneElement(W,I)}return W});return s.jsx(Ok,{role:"menu",ref:E,className:u,onKeyDown:j,tabIndex:i?0:-1,...x,children:L})});function nz(t){return et("MuiPopover",t)}nt("MuiPopover",["root","paper"]);function cM(t,e){let a=0;return typeof e=="number"?a=e:e==="center"?a=t.height/2:e==="bottom"&&(a=t.height),a}function dM(t,e){let a=0;return typeof e=="number"?a=e:e==="center"?a=t.width/2:e==="right"&&(a=t.width),a}function uM(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function Gm(t){return typeof t=="function"?t():t}const rz=t=>{const{classes:e}=t;return tt({root:["root"],paper:["paper"]},nz,e)},iz=Ce(Lk,{name:"MuiPopover",slot:"Root"})({}),Nk=Ce(ta,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),oz=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiPopover"}),{action:i,anchorEl:l,anchorOrigin:d={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:h="anchorEl",children:m,className:y,container:v,elevation:x=8,marginThreshold:T=16,open:C,PaperProps:j={},slots:E={},slotProps:M={},transformOrigin:L={vertical:"top",horizontal:"left"},TransitionComponent:W,transitionDuration:R="auto",TransitionProps:I={},disableScrollLock:N=!1,...V}=n,A=w.useRef(),_={...n,anchorOrigin:d,anchorReference:h,elevation:x,marginThreshold:T,transformOrigin:L,TransitionComponent:W,transitionDuration:R,TransitionProps:I},S=rz(_),D=w.useCallback(()=>{if(h==="anchorPosition")return u;const qe=Gm(l),ae=(qe&&qe.nodeType===1?qe:dr(A.current).body).getBoundingClientRect();return{top:ae.top+cM(ae,d.vertical),left:ae.left+dM(ae,d.horizontal)}},[l,d.horizontal,d.vertical,u,h]),U=w.useCallback(qe=>({vertical:cM(qe,L.vertical),horizontal:dM(qe,L.horizontal)}),[L.horizontal,L.vertical]),P=w.useCallback(qe=>{const Qe={width:qe.offsetWidth,height:qe.offsetHeight},ae=U(Qe);if(h==="none")return{top:null,left:null,transformOrigin:uM(ae)};const ve=D();let De=ve.top-ae.vertical,He=ve.left-ae.horizontal;const se=De+Qe.height,ee=He+Qe.width,Se=hi(Gm(l)),pe=Se.innerHeight-T,je=Se.innerWidth-T;if(T!==null&&De<T){const we=De-T;De-=we,ae.vertical+=we}else if(T!==null&&se>pe){const we=se-pe;De-=we,ae.vertical+=we}if(T!==null&&He<T){const we=He-T;He-=we,ae.horizontal+=we}else if(ee>je){const we=ee-je;He-=we,ae.horizontal+=we}return{top:`${Math.round(De)}px`,left:`${Math.round(He)}px`,transformOrigin:uM(ae)}},[l,h,D,U,T]),[K,J]=w.useState(C),$=w.useCallback(()=>{const qe=A.current;if(!qe)return;const Qe=P(qe);Qe.top!==null&&qe.style.setProperty("top",Qe.top),Qe.left!==null&&(qe.style.left=Qe.left),qe.style.transformOrigin=Qe.transformOrigin,J(!0)},[P]);w.useEffect(()=>(N&&window.addEventListener("scroll",$),()=>window.removeEventListener("scroll",$)),[l,N,$]);const X=()=>{$()},le=()=>{J(!1)};w.useEffect(()=>{C&&$()}),w.useImperativeHandle(i,()=>C?{updatePosition:()=>{$()}}:null,[C,$]),w.useEffect(()=>{if(!C)return;const qe=wf(()=>{$()}),Qe=hi(Gm(l));return Qe.addEventListener("resize",qe),()=>{qe.clear(),Qe.removeEventListener("resize",qe)}},[l,C,$]);let ie=R;const H={slots:{transition:W,...E},slotProps:{transition:I,paper:j,...M}},[te,Q]=dt("transition",{elementType:Wg,externalForwardedProps:H,ownerState:_,getSlotProps:qe=>({...qe,onEntering:(Qe,ae)=>{qe.onEntering?.(Qe,ae),X()},onExited:Qe=>{qe.onExited?.(Qe),le()}}),additionalProps:{appear:!0,in:C}});R==="auto"&&!te.muiSupportAuto&&(ie=void 0);const ne=v||(l?dr(Gm(l)).body:void 0),[ye,{slots:be,slotProps:oe,..._e}]=dt("root",{ref:a,elementType:iz,externalForwardedProps:{...H,...V},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:E.backdrop},slotProps:{backdrop:dk(typeof M.backdrop=="function"?M.backdrop(_):M.backdrop,{invisible:!0})},container:ne,open:C},ownerState:_,className:Le(S.root,y)}),[Me,Oe]=dt("paper",{ref:A,className:S.paper,elementType:Nk,externalForwardedProps:H,shouldForwardComponentProp:!0,additionalProps:{elevation:x,style:K?void 0:{opacity:0}},ownerState:_});return s.jsx(ye,{..._e,...!Vp(ye)&&{slots:be,slotProps:oe,disableScrollLock:N},children:s.jsx(te,{...Q,timeout:ie,children:s.jsx(Me,{...Oe,children:m})})})});function sz(t){return et("MuiMenu",t)}nt("MuiMenu",["root","paper","list"]);const lz={vertical:"top",horizontal:"right"},cz={vertical:"top",horizontal:"left"},dz=t=>{const{classes:e}=t;return tt({root:["root"],paper:["paper"],list:["list"]},sz,e)},uz=Ce(oz,{shouldForwardProp:t=>Zn(t)||t==="classes",name:"MuiMenu",slot:"Root"})({}),pz=Ce(Nk,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),hz=Ce(az,{name:"MuiMenu",slot:"List"})({outline:0}),sx=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:l,className:d,disableAutoFocusItem:u=!1,MenuListProps:h={},onClose:m,open:y,PaperProps:v={},PopoverClasses:x,transitionDuration:T="auto",TransitionProps:{onEntering:C,...j}={},variant:E="selectedMenu",slots:M={},slotProps:L={},...W}=n,R=ah(),I={...n,autoFocus:i,disableAutoFocusItem:u,MenuListProps:h,onEntering:C,PaperProps:v,transitionDuration:T,TransitionProps:j,variant:E},N=dz(I),V=i&&!u&&y,A=w.useRef(null),_=(ie,H)=>{A.current&&A.current.adjustStyleForScrollbar(ie,{direction:R?"rtl":"ltr"}),C&&C(ie,H)},S=ie=>{ie.key==="Tab"&&(ie.preventDefault(),m&&m(ie,"tabKeyDown"))};let D=-1;w.Children.map(l,(ie,H)=>{w.isValidElement(ie)&&(ie.props.disabled||(E==="selectedMenu"&&ie.props.selected||D===-1)&&(D=H))});const U={slots:M,slotProps:{list:h,transition:j,paper:v,...L}},P=md({elementType:M.root,externalSlotProps:L.root,ownerState:I,className:[N.root,d]}),[K,J]=dt("paper",{className:N.paper,elementType:pz,externalForwardedProps:U,shouldForwardComponentProp:!0,ownerState:I}),[$,X]=dt("list",{className:Le(N.list,h.className),elementType:hz,shouldForwardComponentProp:!0,externalForwardedProps:U,getSlotProps:ie=>({...ie,onKeyDown:H=>{S(H),ie.onKeyDown?.(H)}}),ownerState:I}),le=typeof U.slotProps.transition=="function"?U.slotProps.transition(I):U.slotProps.transition;return s.jsx(uz,{onClose:m,anchorOrigin:{vertical:"bottom",horizontal:R?"right":"left"},transformOrigin:R?lz:cz,slots:{root:M.root,paper:K,backdrop:M.backdrop,...M.transition&&{transition:M.transition}},slotProps:{root:P,paper:J,backdrop:typeof L.backdrop=="function"?L.backdrop(I):L.backdrop,transition:{...le,onEntering:(...ie)=>{_(...ie),le?.onEntering?.(...ie)}}},open:y,ref:a,transitionDuration:T,ownerState:I,...W,classes:x,children:s.jsx($,{actions:A,autoFocus:i&&(D===-1||u),autoFocusItem:V,variant:E,...X,children:l})})});function mz(t){return et("MuiMenuItem",t)}const Xu=nt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),gz=(t,e)=>{const{ownerState:a}=t;return[e.root,a.dense&&e.dense,a.divider&&e.divider,!a.disableGutters&&e.gutters]},fz=t=>{const{disabled:e,dense:a,divider:n,disableGutters:i,selected:l,classes:d}=t,h=tt({root:["root",a&&"dense",e&&"disabled",!i&&"gutters",n&&"divider",l&&"selected"]},mz,d);return{...d,...h}},yz=Ce(qr,{shouldForwardProp:t=>Zn(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:gz})(lt(({theme:t})=>({...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Xu.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:_t(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Xu.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:_t(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Xu.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:_t(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:_t(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${Xu.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Xu.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${aM.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${aM.inset}`]:{marginLeft:52},[`& .${Zc.root}`]:{marginTop:0,marginBottom:0},[`& .${Zc.inset}`]:{paddingLeft:36},[`& .${sM.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,[`& .${sM.root} svg`]:{fontSize:"1.25rem"}}}]}))),Sa=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:l="li",dense:d=!1,divider:u=!1,disableGutters:h=!1,focusVisibleClassName:m,role:y="menuitem",tabIndex:v,className:x,...T}=n,C=w.useContext(li),j=w.useMemo(()=>({dense:d||C.dense||!1,disableGutters:h}),[C.dense,d,h]),E=w.useRef(null);Qn(()=>{i&&E.current&&E.current.focus()},[i]);const M={...n,dense:j.dense,divider:u,disableGutters:h},L=fz(n),W=Ba(E,a);let R;return n.disabled||(R=v!==void 0?v:-1),s.jsx(li.Provider,{value:j,children:s.jsx(yz,{ref:W,role:y,tabIndex:R,component:l,focusVisibleClassName:Le(L.focusVisible,m),className:Le(L.root,x),...T,ownerState:M,classes:L})})});function bz(t){return et("MuiNativeSelect",t)}const Sw=nt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),vz=t=>{const{classes:e,variant:a,disabled:n,multiple:i,open:l,error:d}=t,u={select:["select",a,n&&"disabled",i&&"multiple",d&&"error"],icon:["icon",`icon${Ae(a)}`,l&&"iconOpen",n&&"disabled"]};return tt(u,bz,e)},Fk=Ce("select",{name:"MuiNativeSelect"})(({theme:t})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${Sw.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]})),xz=Ce(Fk,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Zn,overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.select,e[a.variant],a.error&&e.error,{[`&.${Sw.multiple}`]:e.multiple}]}})({}),qk=Ce("svg",{name:"MuiNativeSelect"})(({theme:t})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${Sw.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),wz=Ce(qk,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.icon,a.variant&&e[`icon${Ae(a.variant)}`],a.open&&e.iconOpen]}})({}),Sz=w.forwardRef(function(e,a){const{className:n,disabled:i,error:l,IconComponent:d,inputRef:u,variant:h="standard",...m}=e,y={...e,disabled:i,variant:h,error:l},v=vz(y);return s.jsxs(w.Fragment,{children:[s.jsx(xz,{ownerState:y,className:Le(v.select,n),disabled:i,ref:u||a,...m}),e.multiple?null:s.jsx(wz,{as:d,ownerState:y,className:v.icon})]})});var pM;const Tz=Ce("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:Zn})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Cz=Ce("legend",{name:"MuiNotchedOutlined",shouldForwardProp:Zn})(lt(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]})));function Mz(t){const{children:e,classes:a,className:n,label:i,notched:l,...d}=t,u=i!=null&&i!=="",h={...t,notched:l,withLabel:u};return s.jsx(Tz,{"aria-hidden":!0,className:n,ownerState:h,...d,children:s.jsx(Cz,{ownerState:h,children:u?s.jsx("span",{children:i}):pM||(pM=s.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const Rz=t=>{const{classes:e}=t,n=tt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},fU,e);return{...e,...n}},Az=Ce(Af,{shouldForwardProp:t=>Zn(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Mf})(lt(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Ii.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Ii.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${Ii.focused} .${Ii.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(Ga()).map(([a])=>({props:{color:a},style:{[`&.${Ii.focused} .${Ii.notchedOutline}`]:{borderColor:(t.vars||t).palette[a].main}}})),{props:{},style:{[`&.${Ii.error} .${Ii.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Ii.disabled} .${Ii.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:({ownerState:a})=>a.startAdornment,style:{paddingLeft:14}},{props:({ownerState:a})=>a.endAdornment,style:{paddingRight:14}},{props:({ownerState:a})=>a.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:a,size:n})=>a.multiline&&n==="small",style:{padding:"8.5px 14px"}}]}})),kz=Ce(Mz,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(lt(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}})),Ez=Ce(kf,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Rf})(lt(({theme:t})=>({padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),ih=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiOutlinedInput"}),{components:i={},fullWidth:l=!1,inputComponent:d="input",label:u,multiline:h=!1,notched:m,slots:y={},slotProps:v={},type:x="text",...T}=n,C=Rz(n),j=No(),E=$l({props:n,muiFormControl:j,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),M={...n,color:E.color||"primary",disabled:E.disabled,error:E.error,focused:E.focused,formControl:j,fullWidth:l,hiddenLabel:E.hiddenLabel,multiline:h,size:E.size,type:x},L=y.root??i.Root??Az,W=y.input??i.Input??Ez,[R,I]=dt("notchedOutline",{elementType:kz,className:C.notchedOutline,shouldForwardComponentProp:!0,ownerState:M,externalForwardedProps:{slots:y,slotProps:v},additionalProps:{label:u!=null&&u!==""&&E.required?s.jsxs(w.Fragment,{children:[u,"","*"]}):u}});return s.jsx(bw,{slots:{root:L,input:W},slotProps:v,renderSuffix:N=>s.jsx(R,{...I,notched:typeof m<"u"?m:!!(N.startAdornment||N.filled||N.focused)}),fullWidth:l,inputComponent:d,multiline:h,ref:a,type:x,...T,classes:{...C,notchedOutline:null}})});ih.muiName="Input";function Hk(t){return et("MuiSelect",t)}const Qu=nt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var hM;const _z=Ce(Fk,{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[{[`&.${Qu.select}`]:e.select},{[`&.${Qu.select}`]:e[a.variant]},{[`&.${Qu.error}`]:e.error},{[`&.${Qu.multiple}`]:e.multiple}]}})({[`&.${Qu.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),jz=Ce(qk,{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.icon,a.variant&&e[`icon${Ae(a.variant)}`],a.open&&e.iconOpen]}})({}),Iz=Ce("input",{shouldForwardProp:t=>ck(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function mM(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function Pz(t){return t==null||typeof t=="string"&&!t.trim()}const Wz=t=>{const{classes:e,variant:a,disabled:n,multiple:i,open:l,error:d}=t,u={select:["select",a,n&&"disabled",i&&"multiple",d&&"error"],icon:["icon",`icon${Ae(a)}`,l&&"iconOpen",n&&"disabled"],nativeInput:["nativeInput"]};return tt(u,Hk,e)},Dz=w.forwardRef(function(e,a){const{"aria-describedby":n,"aria-label":i,autoFocus:l,autoWidth:d,children:u,className:h,defaultOpen:m,defaultValue:y,disabled:v,displayEmpty:x,error:T=!1,IconComponent:C,inputRef:j,labelId:E,MenuProps:M={},multiple:L,name:W,onBlur:R,onChange:I,onClose:N,onFocus:V,onOpen:A,open:_,readOnly:S,renderValue:D,required:U,SelectDisplayProps:P={},tabIndex:K,type:J,value:$,variant:X="standard",...le}=e,[ie,H]=Wp({controlled:$,default:y,name:"Select"}),[te,Q]=Wp({controlled:_,default:m,name:"Select"}),ne=w.useRef(null),ye=w.useRef(null),[be,oe]=w.useState(null),{current:_e}=w.useRef(_!=null),[Me,Oe]=w.useState(),qe=Ba(a,j),Qe=w.useCallback(Xe=>{ye.current=Xe,Xe&&oe(Xe)},[]),ae=be?.parentNode;w.useImperativeHandle(qe,()=>({focus:()=>{ye.current.focus()},node:ne.current,value:ie}),[ie]),w.useEffect(()=>{m&&te&&be&&!_e&&(Oe(d?null:ae.clientWidth),ye.current.focus())},[be,d]),w.useEffect(()=>{l&&ye.current.focus()},[l]),w.useEffect(()=>{if(!E)return;const Xe=dr(ye.current).getElementById(E);if(Xe){const Vt=()=>{getSelection().isCollapsed&&ye.current.focus()};return Xe.addEventListener("click",Vt),()=>{Xe.removeEventListener("click",Vt)}}},[E]);const ve=(Xe,Vt)=>{Xe?A&&A(Vt):N&&N(Vt),_e||(Oe(d?null:ae.clientWidth),Q(Xe))},De=Xe=>{Xe.button===0&&(Xe.preventDefault(),ye.current.focus(),ve(!0,Xe))},He=Xe=>{ve(!1,Xe)},se=w.Children.toArray(u),ee=Xe=>{const Vt=se.find(aa=>aa.props.value===Xe.target.value);Vt!==void 0&&(H(Vt.props.value),I&&I(Xe,Vt))},Se=Xe=>Vt=>{let aa;if(Vt.currentTarget.hasAttribute("tabindex")){if(L){aa=Array.isArray(ie)?ie.slice():[];const Da=ie.indexOf(Xe.props.value);Da===-1?aa.push(Xe.props.value):aa.splice(Da,1)}else aa=Xe.props.value;if(Xe.props.onClick&&Xe.props.onClick(Vt),ie!==aa&&(H(aa),I)){const Da=Vt.nativeEvent||Vt,xn=new Da.constructor(Da.type,Da);Object.defineProperty(xn,"target",{writable:!0,value:{value:aa,name:W}}),I(xn,Xe)}L||ve(!1,Vt)}},pe=Xe=>{S||[" ","ArrowUp","ArrowDown","Enter"].includes(Xe.key)&&(Xe.preventDefault(),ve(!0,Xe))},je=be!==null&&te,we=Xe=>{!je&&R&&(Object.defineProperty(Xe,"target",{writable:!0,value:{value:ie,name:W}}),R(Xe))};delete le["aria-invalid"];let Ee,rt;const Mt=[];let Gt=!1;(Pg({value:ie})||x)&&(D?Ee=D(ie):Gt=!0);const mt=se.map(Xe=>{if(!w.isValidElement(Xe))return null;let Vt;if(L){if(!Array.isArray(ie))throw new Error(Do(2));Vt=ie.some(aa=>mM(aa,Xe.props.value)),Vt&&Gt&&Mt.push(Xe.props.children)}else Vt=mM(ie,Xe.props.value),Vt&&Gt&&(rt=Xe.props.children);return w.cloneElement(Xe,{"aria-selected":Vt?"true":"false",onClick:Se(Xe),onKeyUp:aa=>{aa.key===" "&&aa.preventDefault(),Xe.props.onKeyUp&&Xe.props.onKeyUp(aa)},role:"option",selected:Vt,value:void 0,"data-value":Xe.props.value})});Gt&&(L?Mt.length===0?Ee=null:Ee=Mt.reduce((Xe,Vt,aa)=>(Xe.push(Vt),aa<Mt.length-1&&Xe.push(", "),Xe),[]):Ee=rt);let $e=Me;!d&&_e&&be&&($e=ae.clientWidth);let Ge;typeof K<"u"?Ge=K:Ge=v?null:0;const Ue=P.id||(W?`mui-component-select-${W}`:void 0),ct={...e,variant:X,value:ie,open:je,error:T},Fe=Wz(ct),Wt={...M.PaperProps,...M.slotProps?.paper},oa={...M.MenuListProps,...M.slotProps?.list},Na=Hl();return s.jsxs(w.Fragment,{children:[s.jsx(_z,{as:"div",ref:Qe,tabIndex:Ge,role:"combobox","aria-controls":je?Na:void 0,"aria-disabled":v?"true":void 0,"aria-expanded":je?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[E,Ue].filter(Boolean).join(" ")||void 0,"aria-describedby":n,"aria-required":U?"true":void 0,"aria-invalid":T?"true":void 0,onKeyDown:pe,onMouseDown:v||S?null:De,onBlur:we,onFocus:V,...P,ownerState:ct,className:Le(P.className,Fe.select,h),id:Ue,children:Pz(Ee)?hM||(hM=s.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):Ee}),s.jsx(Iz,{"aria-invalid":T,value:Array.isArray(ie)?ie.join(","):ie,name:W,ref:ne,"aria-hidden":!0,onChange:ee,tabIndex:-1,disabled:v,className:Fe.nativeInput,autoFocus:l,required:U,...le,ownerState:ct}),s.jsx(jz,{as:C,className:Fe.icon,ownerState:ct}),s.jsx(sx,{id:`menu-${W||""}`,anchorEl:ae,open:je,onClose:He,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...M,slotProps:{...M.slotProps,list:{"aria-labelledby":E,role:"listbox","aria-multiselectable":L?"true":void 0,disableListWrap:!0,id:Na,...oa},paper:{...Wt,style:{minWidth:$e,...Wt!=null?Wt.style:null}}},children:mt})]})}),Lz=t=>{const{classes:e}=t,n=tt({root:["root"]},Hk,e);return{...e,...n}},Tw={name:"MuiSelect",slot:"Root",shouldForwardProp:t=>Zn(t)&&t!=="variant"},Vz=Ce(ww,Tw)(""),Uz=Ce(ih,Tw)(""),Oz=Ce(xw,Tw)(""),cn=w.forwardRef(function(e,a){const n=at({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:l,classes:d={},className:u,defaultOpen:h=!1,displayEmpty:m=!1,IconComponent:y=bU,id:v,input:x,inputProps:T,label:C,labelId:j,MenuProps:E,multiple:M=!1,native:L=!1,onClose:W,onOpen:R,open:I,renderValue:N,SelectDisplayProps:V,variant:A="outlined",..._}=n,S=L?Sz:Dz,D=No(),U=$l({props:n,muiFormControl:D,states:["variant","error"]}),P=U.variant||A,K={...n,variant:P,classes:d},J=Lz(K),{root:$,...X}=J,le=x||{standard:s.jsx(Vz,{ownerState:K}),outlined:s.jsx(Uz,{label:C,ownerState:K}),filled:s.jsx(Oz,{ownerState:K})}[P],ie=Ba(a,Pd(le));return s.jsx(w.Fragment,{children:w.cloneElement(le,{inputComponent:S,inputProps:{children:l,error:U.error,IconComponent:y,variant:P,type:void 0,multiple:M,...L?{id:v}:{autoWidth:i,defaultOpen:h,displayEmpty:m,labelId:j,MenuProps:E,onClose:W,onOpen:R,open:I,renderValue:N,SelectDisplayProps:{id:v,...V}},...T,classes:T?vn(X,T.classes):X,...x?x.props.inputProps:{}},...(M&&L||m)&&P==="outlined"?{notched:!0}:{},ref:ie,className:Le(le.props.className,u,J.root),...!x&&{variant:P},..._})})});cn.muiName="Select";function zz(t){return et("MuiTooltip",t)}const za=nt("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function Bz(t){return Math.round(t*1e5)/1e5}const Nz=t=>{const{classes:e,disableInteractive:a,arrow:n,touch:i,placement:l}=t,d={popper:["popper",!a&&"popperInteractive",n&&"popperArrow"],tooltip:["tooltip",n&&"tooltipArrow",i&&"touch",`tooltipPlacement${Ae(l.split("-")[0])}`],arrow:["arrow"]};return tt(d,zz,e)},Fz=Ce(_k,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.popper,!a.disableInteractive&&e.popperInteractive,a.arrow&&e.popperArrow,!a.open&&e.popperClose]}})(lt(({theme:t})=>({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:e})=>!e.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:e})=>!e,style:{pointerEvents:"none"}},{props:({ownerState:e})=>e.arrow,style:{[`&[data-popper-placement*="bottom"] .${za.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${za.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${za.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${za.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="right"] .${za.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="right"] .${za.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="left"] .${za.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="left"] .${za.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),qz=Ce("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.tooltip,a.touch&&e.touch,a.arrow&&e.tooltipArrow,e[`tooltipPlacement${Ae(a.placement.split("-")[0])}`]]}})(lt(({theme:t})=>({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:_t(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium,[`.${za.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${za.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${za.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${za.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:e})=>e.arrow,style:{position:"relative",margin:0}},{props:({ownerState:e})=>e.touch,style:{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${Bz(16/14)}em`,fontWeight:t.typography.fontWeightRegular}},{props:({ownerState:e})=>!e.isRtl,style:{[`.${za.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${za.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:e})=>!e.isRtl&&e.touch,style:{[`.${za.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${za.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:e})=>!!e.isRtl,style:{[`.${za.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${za.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:e})=>!!e.isRtl&&e.touch,style:{[`.${za.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${za.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${za.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${za.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),Hz=Ce("span",{name:"MuiTooltip",slot:"Arrow"})(lt(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:_t(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let Km=!1;const gM=new Sf;let Ju={x:0,y:0};function Ym(t,e){return(a,...n)=>{e&&e(a,...n),t(a,...n)}}const $z=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiTooltip"}),{arrow:i=!1,children:l,classes:d,components:u={},componentsProps:h={},describeChild:m=!1,disableFocusListener:y=!1,disableHoverListener:v=!1,disableInteractive:x=!1,disableTouchListener:T=!1,enterDelay:C=100,enterNextDelay:j=0,enterTouchDelay:E=700,followCursor:M=!1,id:L,leaveDelay:W=0,leaveTouchDelay:R=1500,onClose:I,onOpen:N,open:V,placement:A="bottom",PopperComponent:_,PopperProps:S={},slotProps:D={},slots:U={},title:P,TransitionComponent:K,TransitionProps:J,...$}=n,X=w.isValidElement(l)?l:s.jsx("span",{children:l}),le=Xa(),ie=ah(),[H,te]=w.useState(),[Q,ne]=w.useState(null),ye=w.useRef(!1),be=x||M,oe=Al(),_e=Al(),Me=Al(),Oe=Al(),[qe,Qe]=Wp({controlled:V,default:!1,name:"Tooltip",state:"open"});let ae=qe;const ve=Hl(L),De=w.useRef(),He=Nr(()=>{De.current!==void 0&&(document.body.style.WebkitUserSelect=De.current,De.current=void 0),Oe.clear()});w.useEffect(()=>He,[He]);const se=ft=>{gM.clear(),Km=!0,Qe(!0),N&&!ae&&N(ft)},ee=Nr(ft=>{gM.start(800+W,()=>{Km=!1}),Qe(!1),I&&ae&&I(ft),oe.start(le.transitions.duration.shortest,()=>{ye.current=!1})}),Se=ft=>{ye.current&&ft.type!=="touchstart"||(H&&H.removeAttribute("title"),_e.clear(),Me.clear(),C||Km&&j?_e.start(Km?j:C,()=>{se(ft)}):se(ft))},pe=ft=>{_e.clear(),Me.start(W,()=>{ee(ft)})},[,je]=w.useState(!1),we=ft=>{_g(ft.target)||(je(!1),pe(ft))},Ee=ft=>{H||te(ft.currentTarget),_g(ft.target)&&(je(!0),Se(ft))},rt=ft=>{ye.current=!0;const Zt=X.props;Zt.onTouchStart&&Zt.onTouchStart(ft)},Mt=ft=>{rt(ft),Me.clear(),oe.clear(),He(),De.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Oe.start(E,()=>{document.body.style.WebkitUserSelect=De.current,Se(ft)})},Gt=ft=>{X.props.onTouchEnd&&X.props.onTouchEnd(ft),He(),Me.start(R,()=>{ee(ft)})};w.useEffect(()=>{if(!ae)return;function ft(Zt){Zt.key==="Escape"&&ee(Zt)}return document.addEventListener("keydown",ft),()=>{document.removeEventListener("keydown",ft)}},[ee,ae]);const mt=Ba(Pd(X),te,a);!P&&P!==0&&(ae=!1);const $e=w.useRef(),Ge=ft=>{const Zt=X.props;Zt.onMouseMove&&Zt.onMouseMove(ft),Ju={x:ft.clientX,y:ft.clientY},$e.current&&$e.current.update()},Ue={},ct=typeof P=="string";m?(Ue.title=!ae&&ct&&!v?P:null,Ue["aria-describedby"]=ae?ve:null):(Ue["aria-label"]=ct?P:null,Ue["aria-labelledby"]=ae&&!ct?ve:null);const Fe={...Ue,...$,...X.props,className:Le($.className,X.props.className),onTouchStart:rt,ref:mt,...M?{onMouseMove:Ge}:{}},Wt={};T||(Fe.onTouchStart=Mt,Fe.onTouchEnd=Gt),v||(Fe.onMouseOver=Ym(Se,Fe.onMouseOver),Fe.onMouseLeave=Ym(pe,Fe.onMouseLeave),be||(Wt.onMouseOver=Se,Wt.onMouseLeave=pe)),y||(Fe.onFocus=Ym(Ee,Fe.onFocus),Fe.onBlur=Ym(we,Fe.onBlur),be||(Wt.onFocus=Ee,Wt.onBlur=we));const oa={...n,isRtl:ie,arrow:i,disableInteractive:be,placement:A,PopperComponentProp:_,touch:ye.current},Na=typeof D.popper=="function"?D.popper(oa):D.popper,Xe=w.useMemo(()=>{let ft=[{name:"arrow",enabled:!!Q,options:{element:Q,padding:4}}];return S.popperOptions?.modifiers&&(ft=ft.concat(S.popperOptions.modifiers)),Na?.popperOptions?.modifiers&&(ft=ft.concat(Na.popperOptions.modifiers)),{...S.popperOptions,...Na?.popperOptions,modifiers:ft}},[Q,S.popperOptions,Na?.popperOptions]),Vt=Nz(oa),aa=typeof D.transition=="function"?D.transition(oa):D.transition,Da={slots:{popper:u.Popper,transition:u.Transition??K,tooltip:u.Tooltip,arrow:u.Arrow,...U},slotProps:{arrow:D.arrow??h.arrow,popper:{...S,...Na??h.popper},tooltip:D.tooltip??h.tooltip,transition:{...J,...aa??h.transition}}},[xn,Ne]=dt("popper",{elementType:Fz,externalForwardedProps:Da,ownerState:oa,className:Le(Vt.popper,S?.className)}),[it,ot]=dt("transition",{elementType:Wg,externalForwardedProps:Da,ownerState:oa}),[Ut,vt]=dt("tooltip",{elementType:qz,className:Vt.tooltip,externalForwardedProps:Da,ownerState:oa}),[Dt,Jt]=dt("arrow",{elementType:Hz,className:Vt.arrow,externalForwardedProps:Da,ownerState:oa,ref:ne});return s.jsxs(w.Fragment,{children:[w.cloneElement(X,Fe),s.jsx(xn,{as:_??_k,placement:A,anchorEl:M?{getBoundingClientRect:()=>({top:Ju.y,left:Ju.x,right:Ju.x,bottom:Ju.y,width:0,height:0})}:H,popperRef:$e,open:H?ae:!1,id:ve,transition:!0,...Wt,...Ne,popperOptions:Xe,children:({TransitionProps:ft})=>s.jsx(it,{timeout:le.transitions.duration.shorter,...ft,...ot,children:s.jsxs(Ut,{...vt,children:[P,i?s.jsx(Dt,{...Jt}):null]})})})]})}),pa=L4({createStyledComponent:Ce("div",{name:"MuiStack",slot:"Root"}),useThemeProps:t=>at({props:t,name:"MuiStack"})});function Gz(t){return et("MuiSwitch",t)}const $n=nt("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),Kz=t=>{const{classes:e,edge:a,size:n,color:i,checked:l,disabled:d}=t,u={root:["root",a&&`edge${Ae(a)}`,`size${Ae(n)}`],switchBase:["switchBase",`color${Ae(i)}`,l&&"checked",d&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},h=tt(u,Gz,e);return{...e,...h}},Yz=Ce("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,a.edge&&e[`edge${Ae(a.edge)}`],e[`size${Ae(a.size)}`]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${$n.thumb}`]:{width:16,height:16},[`& .${$n.switchBase}`]:{padding:4,[`&.${$n.checked}`]:{transform:"translateX(16px)"}}}}]}),Xz=Ce(Pk,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.switchBase,{[`& .${$n.input}`]:e.input},a.color!=="default"&&e[`color${Ae(a.color)}`]]}})(lt(({theme:t})=>({position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${t.palette.mode==="light"?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${$n.checked}`]:{transform:"translateX(20px)"},[`&.${$n.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${$n.checked} + .${$n.track}`]:{opacity:.5},[`&.${$n.disabled} + .${$n.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:`${t.palette.mode==="light"?.12:.2}`},[`& .${$n.input}`]:{left:"-100%",width:"300%"}})),lt(({theme:t})=>({"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:_t(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter(Ga(["light"])).map(([e])=>({props:{color:e},style:{[`&.${$n.checked}`]:{color:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:_t(t.palette[e].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${$n.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${e}DisabledColor`]:`${t.palette.mode==="light"?Vl(t.palette[e].main,.62):Ll(t.palette[e].main,.55)}`}},[`&.${$n.checked} + .${$n.track}`]:{backgroundColor:(t.vars||t).palette[e].main}}}))]}))),Qz=Ce("span",{name:"MuiSwitch",slot:"Track"})(lt(({theme:t})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${t.palette.mode==="light"?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:`${t.palette.mode==="light"?.38:.3}`}))),Jz=Ce("span",{name:"MuiSwitch",slot:"Thumb"})(lt(({theme:t})=>({boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),Zz=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiSwitch"}),{className:i,color:l="primary",edge:d=!1,size:u="medium",sx:h,slots:m={},slotProps:y={},...v}=n,x={...n,color:l,edge:d,size:u},T=Kz(x),C={slots:m,slotProps:y},[j,E]=dt("root",{className:Le(T.root,i),elementType:Yz,externalForwardedProps:C,ownerState:x,additionalProps:{sx:h}}),[M,L]=dt("thumb",{className:T.thumb,elementType:Jz,externalForwardedProps:C,ownerState:x}),W=s.jsx(M,{...L}),[R,I]=dt("track",{className:T.track,elementType:Qz,externalForwardedProps:C,ownerState:x});return s.jsxs(j,{...E,children:[s.jsx(Xz,{type:"checkbox",icon:W,checkedIcon:W,ref:a,ownerState:x,...v,classes:{...T,root:T.switchBase},slots:{...m.switchBase&&{root:m.switchBase},...m.input&&{input:m.input}},slotProps:{...y.switchBase&&{root:typeof y.switchBase=="function"?y.switchBase(x):y.switchBase},...y.input&&{input:typeof y.input=="function"?y.input(x):y.input}}}),s.jsx(R,{...I})]})});function eB(t){return et("MuiTab",t)}const Vr=nt("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),tB=t=>{const{classes:e,textColor:a,fullWidth:n,wrapped:i,icon:l,label:d,selected:u,disabled:h}=t,m={root:["root",l&&d&&"labelIcon",`textColor${Ae(a)}`,n&&"fullWidth",i&&"wrapped",u&&"selected",h&&"disabled"],icon:["iconWrapper","icon"]};return tt(m,eB,e)},aB=Ce(qr,{name:"MuiTab",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,a.label&&a.icon&&e.labelIcon,e[`textColor${Ae(a.textColor)}`],a.fullWidth&&e.fullWidth,a.wrapped&&e.wrapped,{[`& .${Vr.iconWrapper}`]:e.iconWrapper},{[`& .${Vr.icon}`]:e.icon}]}})(lt(({theme:t})=>({...t.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:e})=>e.label&&(e.iconPosition==="top"||e.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:e})=>e.label&&e.iconPosition!=="top"&&e.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:e})=>e.icon&&e.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:e,iconPosition:a})=>e.icon&&e.label&&a==="top",style:{[`& > .${Vr.icon}`]:{marginBottom:6}}},{props:({ownerState:e,iconPosition:a})=>e.icon&&e.label&&a==="bottom",style:{[`& > .${Vr.icon}`]:{marginTop:6}}},{props:({ownerState:e,iconPosition:a})=>e.icon&&e.label&&a==="start",style:{[`& > .${Vr.icon}`]:{marginRight:t.spacing(1)}}},{props:({ownerState:e,iconPosition:a})=>e.icon&&e.label&&a==="end",style:{[`& > .${Vr.icon}`]:{marginLeft:t.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${Vr.selected}`]:{opacity:1},[`&.${Vr.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${Vr.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${Vr.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${Vr.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${Vr.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:({ownerState:e})=>e.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:e})=>e.wrapped,style:{fontSize:t.typography.pxToRem(12)}}]}))),Cl=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiTab"}),{className:i,disabled:l=!1,disableFocusRipple:d=!1,fullWidth:u,icon:h,iconPosition:m="top",indicator:y,label:v,onChange:x,onClick:T,onFocus:C,selected:j,selectionFollowsFocus:E,textColor:M="inherit",value:L,wrapped:W=!1,...R}=n,I={...n,disabled:l,disableFocusRipple:d,selected:j,icon:!!h,iconPosition:m,label:!!v,fullWidth:u,textColor:M,wrapped:W},N=tB(I),V=h&&v&&w.isValidElement(h)?w.cloneElement(h,{className:Le(N.icon,h.props.className)}):h,A=S=>{!j&&x&&x(S,L),T&&T(S)},_=S=>{E&&!j&&x&&x(S,L),C&&C(S)};return s.jsxs(aB,{focusRipple:!d,className:Le(N.root,i),ref:a,role:"tab","aria-selected":j,disabled:l,onClick:A,onFocus:_,ownerState:I,tabIndex:j?0:-1,...R,children:[m==="top"||m==="start"?s.jsxs(w.Fragment,{children:[V,v]}):s.jsxs(w.Fragment,{children:[v,V]}),y]})}),$k=w.createContext();function nB(t){return et("MuiTable",t)}nt("MuiTable",["root","stickyHeader"]);const rB=t=>{const{classes:e,stickyHeader:a}=t;return tt({root:["root",a&&"stickyHeader"]},nB,e)},iB=Ce("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,a.stickyHeader&&e.stickyHeader]}})(lt(({theme:t})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...t.typography.body2,padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:e})=>e.stickyHeader,style:{borderCollapse:"separate"}}]}))),fM="table",Gn=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiTable"}),{className:i,component:l=fM,padding:d="normal",size:u="medium",stickyHeader:h=!1,...m}=n,y={...n,component:l,padding:d,size:u,stickyHeader:h},v=rB(y),x=w.useMemo(()=>({padding:d,size:u,stickyHeader:h}),[d,u,h]);return s.jsx($k.Provider,{value:x,children:s.jsx(iB,{as:l,role:l===fM?null:"table",ref:a,className:Le(v.root,i),ownerState:y,...m})})}),Ef=w.createContext();function oB(t){return et("MuiTableBody",t)}nt("MuiTableBody",["root"]);const sB=t=>{const{classes:e}=t;return tt({root:["root"]},oB,e)},lB=Ce("tbody",{name:"MuiTableBody",slot:"Root"})({display:"table-row-group"}),cB={variant:"body"},yM="tbody",Kn=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiTableBody"}),{className:i,component:l=yM,...d}=n,u={...n,component:l},h=sB(u);return s.jsx(Ef.Provider,{value:cB,children:s.jsx(lB,{className:Le(h.root,i),as:l,ref:a,role:l===yM?null:"rowgroup",ownerState:u,...d})})});function dB(t){return et("MuiTableCell",t)}const uB=nt("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),pB=t=>{const{classes:e,variant:a,align:n,padding:i,size:l,stickyHeader:d}=t,u={root:["root",a,d&&"stickyHeader",n!=="inherit"&&`align${Ae(n)}`,i!=="normal"&&`padding${Ae(i)}`,`size${Ae(l)}`]};return tt(u,dB,e)},hB=Ce("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,e[a.variant],e[`size${Ae(a.size)}`],a.padding!=="normal"&&e[`padding${Ae(a.padding)}`],a.align!=="inherit"&&e[`align${Ae(a.align)}`],a.stickyHeader&&e.stickyHeader]}})(lt(({theme:t})=>({...t.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid
    ${t.palette.mode==="light"?Vl(_t(t.palette.divider,1),.88):Ll(_t(t.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(t.vars||t).palette.text.primary}},{props:{variant:"footer"},style:{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${uB.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:e})=>e.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default}}]}))),Y=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiTableCell"}),{align:i="inherit",className:l,component:d,padding:u,scope:h,size:m,sortDirection:y,variant:v,...x}=n,T=w.useContext($k),C=w.useContext(Ef),j=C&&C.variant==="head";let E;d?E=d:E=j?"th":"td";let M=h;E==="td"?M=void 0:!M&&j&&(M="col");const L=v||C&&C.variant,W={...n,align:i,component:E,padding:u||(T&&T.padding?T.padding:"normal"),size:m||(T&&T.size?T.size:"medium"),sortDirection:y,stickyHeader:L==="head"&&T&&T.stickyHeader,variant:L},R=pB(W);let I=null;return y&&(I=y==="asc"?"ascending":"descending"),s.jsx(hB,{as:E,ref:a,className:Le(R.root,l),"aria-sort":I,scope:M,ownerState:W,...x})});function mB(t){return et("MuiTableContainer",t)}nt("MuiTableContainer",["root"]);const gB=t=>{const{classes:e}=t;return tt({root:["root"]},mB,e)},fB=Ce("div",{name:"MuiTableContainer",slot:"Root"})({width:"100%",overflowX:"auto"}),Yn=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiTableContainer"}),{className:i,component:l="div",...d}=n,u={...n,component:l},h=gB(u);return s.jsx(fB,{ref:a,as:l,className:Le(h.root,i),ownerState:u,...d})});function yB(t){return et("MuiTableHead",t)}nt("MuiTableHead",["root"]);const bB=t=>{const{classes:e}=t;return tt({root:["root"]},yB,e)},vB=Ce("thead",{name:"MuiTableHead",slot:"Root"})({display:"table-header-group"}),xB={variant:"head"},bM="thead",Xn=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiTableHead"}),{className:i,component:l=bM,...d}=n,u={...n,component:l},h=bB(u);return s.jsx(Ef.Provider,{value:xB,children:s.jsx(vB,{as:l,className:Le(h.root,i),ref:a,role:l===bM?null:"rowgroup",ownerState:u,...d})})});function wB(t){return et("MuiToolbar",t)}nt("MuiToolbar",["root","gutters","regular","dense"]);const SB=t=>{const{classes:e,disableGutters:a,variant:n}=t;return tt({root:["root",!a&&"gutters",n]},wB,e)},TB=Ce("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,!a.disableGutters&&e.gutters,e[a.variant]]}})(lt(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:t.mixins.toolbar}]}))),Wd=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiToolbar"}),{className:i,component:l="div",disableGutters:d=!1,variant:u="regular",...h}=n,m={...n,component:l,disableGutters:d,variant:u},y=SB(m);return s.jsx(TB,{as:l,className:Le(y.root,i),ref:a,ownerState:m,...h})}),CB=St(s.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"})),MB=St(s.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}));function RB(t){return et("MuiTableRow",t)}const vM=nt("MuiTableRow",["root","selected","hover","head","footer"]),AB=t=>{const{classes:e,selected:a,hover:n,head:i,footer:l}=t;return tt({root:["root",a&&"selected",n&&"hover",i&&"head",l&&"footer"]},RB,e)},kB=Ce("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,a.head&&e.head,a.footer&&e.footer]}})(lt(({theme:t})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${vM.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${vM.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:_t(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:_t(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}}))),xM="tr",Pt=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiTableRow"}),{className:i,component:l=xM,hover:d=!1,selected:u=!1,...h}=n,m=w.useContext(Ef),y={...n,component:l,hover:d,selected:u,head:m&&m.variant==="head",footer:m&&m.variant==="footer"},v=AB(y);return s.jsx(kB,{as:l,ref:a,className:Le(v.root,i),role:l===xM?null:"row",ownerState:y,...h})});function EB(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}function _B(t,e,a,n={},i=()=>{}){const{ease:l=EB,duration:d=300}=n;let u=null;const h=e[t];let m=!1;const y=()=>{m=!0},v=x=>{if(m){i(new Error("Animation cancelled"));return}u===null&&(u=x);const T=Math.min(1,(x-u)/d);if(e[t]=l(T)*(a-h)+h,T>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(v)};return h===a?(i(new Error("Element already at target position")),y):(requestAnimationFrame(v),y)}const jB={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function IB(t){const{onChange:e,...a}=t,n=w.useRef(),i=w.useRef(null),l=()=>{n.current=i.current.offsetHeight-i.current.clientHeight};return Qn(()=>{const d=wf(()=>{const h=n.current;l(),h!==n.current&&e(n.current)}),u=hi(i.current);return u.addEventListener("resize",d),()=>{d.clear(),u.removeEventListener("resize",d)}},[e]),w.useEffect(()=>{l(),e(n.current)},[e]),s.jsx("div",{style:jB,...a,ref:i})}function PB(t){return et("MuiTabScrollButton",t)}const WB=nt("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),DB=t=>{const{classes:e,orientation:a,disabled:n}=t;return tt({root:["root",a,n&&"disabled"]},PB,e)},LB=Ce(qr,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,a.orientation&&e[a.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${WB.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),VB=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiTabScrollButton"}),{className:i,slots:l={},slotProps:d={},direction:u,orientation:h,disabled:m,...y}=n,v=ah(),x={isRtl:v,...n},T=DB(x),C=l.StartScrollButtonIcon??CB,j=l.EndScrollButtonIcon??MB,E=md({elementType:C,externalSlotProps:d.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:x}),M=md({elementType:j,externalSlotProps:d.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:x});return s.jsx(LB,{component:"div",className:Le(T.root,i),ref:a,role:null,ownerState:x,tabIndex:null,...y,style:{...y.style,...h==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${v?-90:90}deg)`}},children:u==="left"?s.jsx(C,{...E}):s.jsx(j,{...M})})});function UB(t){return et("MuiTabs",t)}const gv=nt("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),wM=(t,e)=>t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t.firstChild,SM=(t,e)=>t===e?t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t.lastChild,Xm=(t,e,a)=>{let n=!1,i=a(t,e);for(;i;){if(i===t.firstChild){if(n)return;n=!0}const l=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||l)i=a(t,i);else{i.focus();return}}},OB=t=>{const{vertical:e,fixed:a,hideScrollbar:n,scrollableX:i,scrollableY:l,centered:d,scrollButtonsHideMobile:u,classes:h}=t;return tt({root:["root",e&&"vertical"],scroller:["scroller",a&&"fixed",n&&"hideScrollbar",i&&"scrollableX",l&&"scrollableY"],list:["list","flexContainer",e&&"flexContainerVertical",e&&"vertical",d&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",u&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[n&&"hideScrollbar"]},UB,h)},zB=Ce("div",{name:"MuiTabs",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[{[`& .${gv.scrollButtons}`]:e.scrollButtons},{[`& .${gv.scrollButtons}`]:a.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,a.vertical&&e.vertical]}})(lt(({theme:t})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.scrollButtonsHideMobile,style:{[`& .${gv.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}}}]}))),BB=Ce("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.scroller,a.fixed&&e.fixed,a.hideScrollbar&&e.hideScrollbar,a.scrollableX&&e.scrollableX,a.scrollableY&&e.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:t})=>t.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:t})=>t.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:t})=>t.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:t})=>t.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),NB=Ce("div",{name:"MuiTabs",slot:"List",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.list,e.flexContainer,a.vertical&&e.flexContainerVertical,a.centered&&e.centered]}})({display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.centered,style:{justifyContent:"center"}}]}),FB=Ce("span",{name:"MuiTabs",slot:"Indicator"})(lt(({theme:t})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(t.vars||t).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(t.vars||t).palette.secondary.main}},{props:({ownerState:e})=>e.vertical,style:{height:"100%",width:2,right:0}}]}))),qB=Ce(IB)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),TM={},Gk=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiTabs"}),i=Xa(),l=ah(),{"aria-label":d,"aria-labelledby":u,action:h,centered:m=!1,children:y,className:v,component:x="div",allowScrollButtonsMobile:T=!1,indicatorColor:C="primary",onChange:j,orientation:E="horizontal",ScrollButtonComponent:M,scrollButtons:L="auto",selectionFollowsFocus:W,slots:R={},slotProps:I={},TabIndicatorProps:N={},TabScrollButtonProps:V={},textColor:A="primary",value:_,variant:S="standard",visibleScrollbar:D=!1,...U}=n,P=S==="scrollable",K=E==="vertical",J=K?"scrollTop":"scrollLeft",$=K?"top":"left",X=K?"bottom":"right",le=K?"clientHeight":"clientWidth",ie=K?"height":"width",H={...n,component:x,allowScrollButtonsMobile:T,indicatorColor:C,orientation:E,vertical:K,scrollButtons:L,textColor:A,variant:S,visibleScrollbar:D,fixed:!P,hideScrollbar:P&&!D,scrollableX:P&&!K,scrollableY:P&&K,centered:m&&!P,scrollButtonsHideMobile:!T},te=OB(H),Q=md({elementType:R.StartScrollButtonIcon,externalSlotProps:I.startScrollButtonIcon,ownerState:H}),ne=md({elementType:R.EndScrollButtonIcon,externalSlotProps:I.endScrollButtonIcon,ownerState:H}),[ye,be]=w.useState(!1),[oe,_e]=w.useState(TM),[Me,Oe]=w.useState(!1),[qe,Qe]=w.useState(!1),[ae,ve]=w.useState(!1),[De,He]=w.useState({overflow:"hidden",scrollbarWidth:0}),se=new Map,ee=w.useRef(null),Se=w.useRef(null),pe={slots:R,slotProps:{indicator:N,scrollButton:V,...I}},je=()=>{const Ke=ee.current;let ze;if(Ke){const ht=Ke.getBoundingClientRect();ze={clientWidth:Ke.clientWidth,scrollLeft:Ke.scrollLeft,scrollTop:Ke.scrollTop,scrollWidth:Ke.scrollWidth,top:ht.top,bottom:ht.bottom,left:ht.left,right:ht.right}}let pt;if(Ke&&_!==!1){const ht=Se.current.children;if(ht.length>0){const Rt=ht[se.get(_)];pt=Rt?Rt.getBoundingClientRect():null}}return{tabsMeta:ze,tabMeta:pt}},we=Nr(()=>{const{tabsMeta:Ke,tabMeta:ze}=je();let pt=0,ht;K?(ht="top",ze&&Ke&&(pt=ze.top-Ke.top+Ke.scrollTop)):(ht=l?"right":"left",ze&&Ke&&(pt=(l?-1:1)*(ze[ht]-Ke[ht]+Ke.scrollLeft)));const Rt={[ht]:pt,[ie]:ze?ze[ie]:0};if(typeof oe[ht]!="number"||typeof oe[ie]!="number")_e(Rt);else{const un=Math.abs(oe[ht]-Rt[ht]),Kr=Math.abs(oe[ie]-Rt[ie]);(un>=1||Kr>=1)&&_e(Rt)}}),Ee=(Ke,{animation:ze=!0}={})=>{ze?_B(J,ee.current,Ke,{duration:i.transitions.duration.standard}):ee.current[J]=Ke},rt=Ke=>{let ze=ee.current[J];K?ze+=Ke:ze+=Ke*(l?-1:1),Ee(ze)},Mt=()=>{const Ke=ee.current[le];let ze=0;const pt=Array.from(Se.current.children);for(let ht=0;ht<pt.length;ht+=1){const Rt=pt[ht];if(ze+Rt[le]>Ke){ht===0&&(ze=Ke);break}ze+=Rt[le]}return ze},Gt=()=>{rt(-1*Mt())},mt=()=>{rt(Mt())},[$e,{onChange:Ge,...Ue}]=dt("scrollbar",{className:Le(te.scrollableX,te.hideScrollbar),elementType:qB,shouldForwardComponentProp:!0,externalForwardedProps:pe,ownerState:H}),ct=w.useCallback(Ke=>{Ge?.(Ke),He({overflow:null,scrollbarWidth:Ke})},[Ge]),[Fe,Wt]=dt("scrollButtons",{className:Le(te.scrollButtons,V.className),elementType:VB,externalForwardedProps:pe,ownerState:H,additionalProps:{orientation:E,slots:{StartScrollButtonIcon:R.startScrollButtonIcon||R.StartScrollButtonIcon,EndScrollButtonIcon:R.endScrollButtonIcon||R.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:Q,endScrollButtonIcon:ne}}}),oa=()=>{const Ke={};Ke.scrollbarSizeListener=P?s.jsx($e,{...Ue,onChange:ct}):null;const pt=P&&(L==="auto"&&(Me||qe)||L===!0);return Ke.scrollButtonStart=pt?s.jsx(Fe,{direction:l?"right":"left",onClick:Gt,disabled:!Me,...Wt}):null,Ke.scrollButtonEnd=pt?s.jsx(Fe,{direction:l?"left":"right",onClick:mt,disabled:!qe,...Wt}):null,Ke},Na=Nr(Ke=>{const{tabsMeta:ze,tabMeta:pt}=je();if(!(!pt||!ze)){if(pt[$]<ze[$]){const ht=ze[J]+(pt[$]-ze[$]);Ee(ht,{animation:Ke})}else if(pt[X]>ze[X]){const ht=ze[J]+(pt[X]-ze[X]);Ee(ht,{animation:Ke})}}}),Xe=Nr(()=>{P&&L!==!1&&ve(!ae)});w.useEffect(()=>{const Ke=wf(()=>{ee.current&&we()});let ze;const pt=un=>{un.forEach(Kr=>{Kr.removedNodes.forEach(er=>{ze?.unobserve(er)}),Kr.addedNodes.forEach(er=>{ze?.observe(er)})}),Ke(),Xe()},ht=hi(ee.current);ht.addEventListener("resize",Ke);let Rt;return typeof ResizeObserver<"u"&&(ze=new ResizeObserver(Ke),Array.from(Se.current.children).forEach(un=>{ze.observe(un)})),typeof MutationObserver<"u"&&(Rt=new MutationObserver(pt),Rt.observe(Se.current,{childList:!0})),()=>{Ke.clear(),ht.removeEventListener("resize",Ke),Rt?.disconnect(),ze?.disconnect()}},[we,Xe]),w.useEffect(()=>{const Ke=Array.from(Se.current.children),ze=Ke.length;if(typeof IntersectionObserver<"u"&&ze>0&&P&&L!==!1){const pt=Ke[0],ht=Ke[ze-1],Rt={root:ee.current,threshold:.99},un=Yr=>{Oe(!Yr[0].isIntersecting)},Kr=new IntersectionObserver(un,Rt);Kr.observe(pt);const er=Yr=>{Qe(!Yr[0].isIntersecting)},Ns=new IntersectionObserver(er,Rt);return Ns.observe(ht),()=>{Kr.disconnect(),Ns.disconnect()}}},[P,L,ae,y?.length]),w.useEffect(()=>{be(!0)},[]),w.useEffect(()=>{we()}),w.useEffect(()=>{Na(TM!==oe)},[Na,oe]),w.useImperativeHandle(h,()=>({updateIndicator:we,updateScrollButtons:Xe}),[we,Xe]);const[Vt,aa]=dt("indicator",{className:Le(te.indicator,N.className),elementType:FB,externalForwardedProps:pe,ownerState:H,additionalProps:{style:oe}}),Da=s.jsx(Vt,{...aa});let xn=0;const Ne=w.Children.map(y,Ke=>{if(!w.isValidElement(Ke))return null;const ze=Ke.props.value===void 0?xn:Ke.props.value;se.set(ze,xn);const pt=ze===_;return xn+=1,w.cloneElement(Ke,{fullWidth:S==="fullWidth",indicator:pt&&!ye&&Da,selected:pt,selectionFollowsFocus:W,onChange:j,textColor:A,value:ze,...xn===1&&_===!1&&!Ke.props.tabIndex?{tabIndex:0}:{}})}),it=Ke=>{if(Ke.altKey||Ke.shiftKey||Ke.ctrlKey||Ke.metaKey)return;const ze=Se.current,pt=dr(ze).activeElement;if(pt.getAttribute("role")!=="tab")return;let Rt=E==="horizontal"?"ArrowLeft":"ArrowUp",un=E==="horizontal"?"ArrowRight":"ArrowDown";switch(E==="horizontal"&&l&&(Rt="ArrowRight",un="ArrowLeft"),Ke.key){case Rt:Ke.preventDefault(),Xm(ze,pt,SM);break;case un:Ke.preventDefault(),Xm(ze,pt,wM);break;case"Home":Ke.preventDefault(),Xm(ze,null,wM);break;case"End":Ke.preventDefault(),Xm(ze,null,SM);break}},ot=oa(),[Ut,vt]=dt("root",{ref:a,className:Le(te.root,v),elementType:zB,externalForwardedProps:{...pe,...U,component:x},ownerState:H}),[Dt,Jt]=dt("scroller",{ref:ee,className:te.scroller,elementType:BB,externalForwardedProps:pe,ownerState:H,additionalProps:{style:{overflow:De.overflow,[K?`margin${l?"Left":"Right"}`:"marginBottom"]:D?void 0:-De.scrollbarWidth}}}),[ft,Zt]=dt("list",{ref:Se,className:Le(te.list,te.flexContainer),elementType:NB,externalForwardedProps:pe,ownerState:H,getSlotProps:Ke=>({...Ke,onKeyDown:ze=>{it(ze),Ke.onKeyDown?.(ze)}})});return s.jsxs(Ut,{...vt,children:[ot.scrollButtonStart,ot.scrollbarSizeListener,s.jsxs(Dt,{...Jt,children:[s.jsx(ft,{"aria-label":d,"aria-labelledby":u,"aria-orientation":E==="vertical"?"vertical":null,role:"tablist",...Zt,children:Ne}),ye&&Da]}),ot.scrollButtonEnd]})});function HB(t){return et("MuiTextField",t)}nt("MuiTextField",["root"]);const $B={standard:ww,filled:xw,outlined:ih},GB=t=>{const{classes:e}=t;return tt({root:["root"]},HB,e)},KB=Ce(bn,{name:"MuiTextField",slot:"Root"})({}),Je=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:l=!1,children:d,className:u,color:h="primary",defaultValue:m,disabled:y=!1,error:v=!1,FormHelperTextProps:x,fullWidth:T=!1,helperText:C,id:j,InputLabelProps:E,inputProps:M,InputProps:L,inputRef:W,label:R,maxRows:I,minRows:N,multiline:V=!1,name:A,onBlur:_,onChange:S,onFocus:D,placeholder:U,required:P=!1,rows:K,select:J=!1,SelectProps:$,slots:X={},slotProps:le={},type:ie,value:H,variant:te="outlined",...Q}=n,ne={...n,autoFocus:l,color:h,disabled:y,error:v,fullWidth:T,multiline:V,required:P,select:J,variant:te},ye=GB(ne),be=Hl(j),oe=C&&be?`${be}-helper-text`:void 0,_e=R&&be?`${be}-label`:void 0,Me=$B[te],Oe={slots:X,slotProps:{input:L,inputLabel:E,htmlInput:M,formHelperText:x,select:$,...le}},qe={},Qe=Oe.slotProps.inputLabel;te==="outlined"&&(Qe&&typeof Qe.shrink<"u"&&(qe.notched=Qe.shrink),qe.label=R),J&&((!$||!$.native)&&(qe.id=void 0),qe["aria-describedby"]=void 0);const[ae,ve]=dt("root",{elementType:KB,shouldForwardComponentProp:!0,externalForwardedProps:{...Oe,...Q},ownerState:ne,className:Le(ye.root,u),ref:a,additionalProps:{disabled:y,error:v,fullWidth:T,required:P,color:h,variant:te}}),[De,He]=dt("input",{elementType:Me,externalForwardedProps:Oe,additionalProps:qe,ownerState:ne}),[se,ee]=dt("inputLabel",{elementType:_n,externalForwardedProps:Oe,ownerState:ne}),[Se,pe]=dt("htmlInput",{elementType:"input",externalForwardedProps:Oe,ownerState:ne}),[je,we]=dt("formHelperText",{elementType:fO,externalForwardedProps:Oe,ownerState:ne}),[Ee,rt]=dt("select",{elementType:cn,externalForwardedProps:Oe,ownerState:ne}),Mt=s.jsx(De,{"aria-describedby":oe,autoComplete:i,autoFocus:l,defaultValue:m,fullWidth:T,multiline:V,name:A,rows:K,maxRows:I,minRows:N,type:ie,value:H,id:be,inputRef:W,onBlur:_,onChange:S,onFocus:D,placeholder:U,inputProps:pe,slots:{input:X.htmlInput?Se:void 0},...He});return s.jsxs(ae,{...ve,children:[R!=null&&R!==""&&s.jsx(se,{htmlFor:be,id:_e,...ee,children:R}),J?s.jsx(Ee,{"aria-describedby":oe,id:be,labelId:_e,value:H,input:Mt,...rt,children:d}):Mt,C&&s.jsx(je,{id:oe,...we,children:C})]})});function YB(t){return et("MuiToggleButton",t)}const kl=nt("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),Kk=w.createContext({}),Yk=w.createContext(void 0);function XB(t,e){return e===void 0||t===void 0?!1:Array.isArray(e)?e.includes(t):t===e}const QB=t=>{const{classes:e,fullWidth:a,selected:n,disabled:i,size:l,color:d}=t,u={root:["root",n&&"selected",i&&"disabled",a&&"fullWidth",`size${Ae(l)}`,d]};return tt(u,YB,e)},JB=Ce(qr,{name:"MuiToggleButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,e[`size${Ae(a.size)}`]]}})(lt(({theme:t})=>({...t.typography.button,borderRadius:(t.vars||t).shape.borderRadius,padding:11,border:`1px solid ${(t.vars||t).palette.divider}`,color:(t.vars||t).palette.action.active,[`&.${kl.disabled}`]:{color:(t.vars||t).palette.action.disabled,border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:_t(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${kl.selected}`]:{color:(t.vars||t).palette.text.primary,backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.selectedOpacity})`:_t(t.palette.text.primary,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:_t(t.palette.text.primary,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.selectedOpacity})`:_t(t.palette.text.primary,t.palette.action.selectedOpacity)}}}}},...Object.entries(t.palette).filter(Ga()).map(([e])=>({props:{color:e},style:{[`&.${kl.selected}`]:{color:(t.vars||t).palette[e].main,backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.selectedOpacity})`:_t(t.palette[e].main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:_t(t.palette[e].main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.selectedOpacity})`:_t(t.palette[e].main,t.palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:t.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:t.typography.pxToRem(15)}}]}))),lx=w.forwardRef(function(e,a){const{value:n,...i}=w.useContext(Kk),l=w.useContext(Yk),d=ld({...i,selected:XB(e.value,n)},e),u=at({props:d,name:"MuiToggleButton"}),{children:h,className:m,color:y="standard",disabled:v=!1,disableFocusRipple:x=!1,fullWidth:T=!1,onChange:C,onClick:j,selected:E,size:M="medium",value:L,...W}=u,R={...u,color:y,disabled:v,disableFocusRipple:x,fullWidth:T,size:M},I=QB(R),N=A=>{j&&(j(A,L),A.defaultPrevented)||C&&C(A,L)},V=l||"";return s.jsx(JB,{className:Le(i.className,I.root,m,V),disabled:v,focusRipple:!x,ref:a,onClick:N,onChange:C,value:L,ownerState:R,"aria-pressed":E,...W,children:h})});function ZB(t){return et("MuiToggleButtonGroup",t)}const Ta=nt("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),e6=t=>{const{classes:e,orientation:a,fullWidth:n,disabled:i}=t,l={root:["root",a,n&&"fullWidth"],grouped:["grouped",`grouped${Ae(a)}`,i&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return tt(l,ZB,e)},t6=Ce("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[{[`& .${Ta.grouped}`]:e.grouped},{[`& .${Ta.grouped}`]:e[`grouped${Ae(a.orientation)}`]},{[`& .${Ta.firstButton}`]:e.firstButton},{[`& .${Ta.lastButton}`]:e.lastButton},{[`& .${Ta.middleButton}`]:e.middleButton},e.root,a.orientation==="vertical"&&e.vertical,a.fullWidth&&e.fullWidth]}})(lt(({theme:t})=>({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${Ta.grouped}`]:{[`&.${Ta.selected} + .${Ta.grouped}.${Ta.selected}`]:{borderTop:0,marginTop:0}},[`& .${Ta.firstButton},& .${Ta.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${Ta.lastButton},& .${Ta.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${Ta.lastButton}.${kl.disabled},& .${Ta.middleButton}.${kl.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${Ta.grouped}`]:{[`&.${Ta.selected} + .${Ta.grouped}.${Ta.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${Ta.firstButton},& .${Ta.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${Ta.lastButton},& .${Ta.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${Ta.lastButton}.${kl.disabled},& .${Ta.middleButton}.${kl.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),Xk=w.forwardRef(function(e,a){const n=at({props:e,name:"MuiToggleButtonGroup"}),{children:i,className:l,color:d="standard",disabled:u=!1,exclusive:h=!1,fullWidth:m=!1,onChange:y,orientation:v="horizontal",size:x="medium",value:T,...C}=n,j={...n,disabled:u,fullWidth:m,orientation:v,size:x},E=e6(j),M=w.useCallback((V,A)=>{if(!y)return;const _=T&&T.indexOf(A);let S;T&&_>=0?(S=T.slice(),S.splice(_,1)):S=T?T.concat(A):[A],y(V,S)},[y,T]),L=w.useCallback((V,A)=>{y&&y(V,T===A?null:A)},[y,T]),W=w.useMemo(()=>({className:E.grouped,onChange:h?L:M,value:T,size:x,fullWidth:m,color:d,disabled:u}),[E.grouped,h,L,M,T,x,m,d,u]),R=BU(i),I=R.length,N=V=>{const A=V===0,_=V===I-1;return A&&_?"":A?E.firstButton:_?E.lastButton:E.middleButton};return s.jsx(t6,{role:"group",className:Le(E.root,l),ref:a,ownerState:j,...C,children:s.jsx(Kk.Provider,{value:W,children:R.map((V,A)=>s.jsx(Yk.Provider,{value:N(A),children:V},A))})})}),Jn=YA({themeId:si}),a6=St(s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"})),ko=St(s.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"})),Ol=St(s.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"})),n6=St(s.jsx("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"})),r6=St(s.jsx("path",{d:"M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M6 4h5v8l-2.5-1.5L6 12z"})),i6=St(s.jsx("path",{d:"m22.7 19-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4"})),o6=St(s.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})),s6=St(s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"})),oh=St(s.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),Mr=St(s.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),l6=St(s.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M17 13l-5 5-5-5h3V9h4v4z"})),c6=St(s.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4c-1.48 0-2.85.43-4.01 1.17l1.46 1.46C10.21 6.23 11.08 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3 0 1.13-.64 2.11-1.56 2.62l1.45 1.45C23.16 18.16 24 16.68 24 15c0-2.64-2.05-4.78-4.65-4.96M3 5.27l2.75 2.74C2.56 8.15 0 10.77 0 14c0 3.31 2.69 6 6 6h11.73l2 2L21 20.73 4.27 4zM7.73 10l8 8H6c-2.21 0-4-1.79-4-4s1.79-4 4-4z"})),cx=St(s.jsx("path",{d:"M21.5 14.98c-.02 0-.03 0-.05.01C21.2 13.3 19.76 12 18 12c-1.4 0-2.6.83-3.16 2.02C13.26 14.1 12 15.4 12 17c0 1.66 1.34 3 3 3l6.5-.02c1.38 0 2.5-1.12 2.5-2.5s-1.12-2.5-2.5-2.5M10 4.26v2.09C7.67 7.18 6 9.39 6 12c0 1.77.78 3.34 2 4.44V14h2v6H4v-2h2.73C5.06 16.54 4 14.4 4 12c0-3.73 2.55-6.85 6-7.74M20 6h-2.73c1.43 1.26 2.41 3.01 2.66 5h-2.02c-.23-1.36-.93-2.55-1.91-3.44V10h-2V4h6z"})),d6=St(s.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"})),u6=St(s.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"})),p6=St(s.jsx("path",{d:"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98 0-5.4-2.42-5.4-5.4 0-1.81.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1"})),fd=St(s.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"})),h6=St(s.jsx("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"})),Cw=St(s.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"})),m6=St(s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"})),vp=St(s.jsx("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"})),ii=St(s.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"})),g6=St(s.jsx("path",{d:"M14.4 6 14 4H5v17h2v-7h5.6l.4 2h7V6z"})),f6=St(s.jsx("path",{d:"M7 2v11h3v9l7-12h-4l4-8z"})),y6=St(s.jsx("path",{d:"M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2m0 12H4V8h16z"})),CM=St(s.jsx("path",{d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"})),Qk=St(s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"})),b6=St(s.jsx("path",{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5M2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1m18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1M11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1m0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1M5.99 4.58c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41zm12.37 12.37c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0 .39-.39.39-1.03 0-1.41zm1.06-10.96c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0zM7.05 18.36c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0z"})),v6=St(s.jsx("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"})),x6=St(s.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"})),w6=St(s.jsx("path",{d:"M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10c1.38 0 2.5-1.12 2.5-2.5 0-.61-.23-1.2-.64-1.67-.08-.1-.13-.21-.13-.33 0-.28.22-.5.5-.5H16c3.31 0 6-2.69 6-6 0-4.96-4.49-9-10-9m5.5 11c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m-3-4c-.83 0-1.5-.67-1.5-1.5S13.67 6 14.5 6s1.5.67 1.5 1.5S15.33 9 14.5 9M5 11.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5S7.33 13 6.5 13 5 12.33 5 11.5m6-4c0 .83-.67 1.5-1.5 1.5S8 8.33 8 7.5 8.67 6 9.5 6s1.5.67 1.5 1.5"})),fs=St(s.jsx("path",{d:"M19 13H5v-2h14z"})),Ni=St(s.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"})),sh=St(s.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"})),S6=St(s.jsx("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11z"})),Jk=St(s.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"})),Zk=St(s.jsx("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})),T6=St(s.jsx("path",{d:"M5 20h14v-2H5zm0-10h4v6h6v-6h4l-7-7z"})),C6=St(s.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"})),Qm=(t,e,a,n=!1)=>jd({palette:{mode:n?"light":"dark",primary:{main:t,contrastText:n?"#1a1a1a":"#ffffff"},secondary:{main:e},background:{default:n?"#f8fafc":"#0a0a0a",paper:n?"#ffffff":"#1a1a1a"},text:{primary:n?"#1a1a1a":"#ffffff",secondary:n?"#666666":"#b0b0b0"}},components:{MuiCssBaseline:{styleOverrides:{":root":{"--neon-primary":t,"--neon-secondary":e,"--neon-accent":a,"--neon-glow-primary":`${t}40`,"--neon-glow-secondary":`${e}40`,"--neon-glow-accent":`${a}40`,"--neon-shadow-primary":`0 0 10px ${t}40, 0 0 20px ${t}20, 0 0 30px ${t}10`,"--neon-shadow-secondary":`0 0 10px ${e}40, 0 0 20px ${e}20, 0 0 30px ${e}10`,"--neon-shadow-accent":`0 0 10px ${a}40, 0 0 20px ${a}20, 0 0 30px ${a}10`,"--neon-border-primary":`2px solid ${t}`,"--neon-border-secondary":`2px solid ${e}`,"--neon-border-accent":`2px solid ${a}`,"--neon-text-shadow":`0 0 2px ${t}, 0 0 0px ${t}40`,"--neon-box-shadow":`0 0 15px ${e}40, inset 0 0 15px ${e}20`,"--neon-gradient":`linear-gradient(90deg, ${t}70, ${e}70, ${a}70, ${t}70)`,"--neon-card-bg":n?"linear-gradient(155deg, rgba(255, 255, 255, 0.95), rgba(248, 250, 252, 0.95))":"linear-gradient(155deg, rgba(39, 39, 39, 0.9), rgba(0, 0, 0, 0.9))","--neon-appbar-bg":n?"linear-gradient(90deg, rgba(255, 255, 255, 0.95), rgba(248, 250, 252, 0.95))":"linear-gradient(90deg, rgba(26, 26, 26, 0.95), rgba(10, 10, 10, 0.95))"},"h1, h2, h3, h4, h5, h6":{textShadow:n?"0 0 3px var(--neon-primary)":"var(--neon-text-shadow)",paddingBottom:"8px",marginBottom:"16px",position:"relative"},".MuiPaper-root.MuiCard-root":{border:"var(--neon-border-secondary)",boxShadow:"var(--neon-box-shadow)",background:"var(--neon-card-bg)",backdropFilter:"blur(10px)",position:"relative","&::before":{content:'""',position:"absolute",top:"0",left:"0",right:"0",bottom:"0",border:"1px solid var(--neon-accent)",opacity:n?"0.2":"0.3",pointerEvents:"none"}},".MuiPaper-root.MuiAppBar-root":{borderBottom:"var(--neon-border-primary)",boxShadow:"var(--neon-shadow-primary)",background:"var(--neon-appbar-bg)",backdropFilter:"blur(10px)","& .MuiToolbar-root":{borderBottom:"1px solid var(--neon-primary)"}},".MuiCardContent-root":{border:"none","& .MuiTypography-h5, & .MuiTypography-h6":{borderBottom:"var(--neon-border-primary)",textShadow:n?"0 0 2px var(--neon-primary)":"var(--neon-text-shadow)",paddingBottom:"8px",marginBottom:"16px",position:"relative","&::after":{content:'""',position:"absolute",bottom:"-1px",left:"0",width:"30%",height:"1px",background:"var(--neon-accent)",boxShadow:"var(--neon-shadow-accent)"}}},".MuiMenu-paper":{border:"var(--neon-border-secondary)",boxShadow:"var(--neon-box-shadow)",background:n?"linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(248, 250, 252, 0.95))":"linear-gradient(135deg, rgba(26, 26, 26, 0.95), rgba(10, 10, 10, 0.95))",backdropFilter:"blur(10px)","& .MuiMenuItem-root":{borderBottom:"1px solid var(--neon-glow-secondary)","&:hover":{background:"var(--neon-gradient)",boxShadow:"var(--neon-shadow-accent)"}}},".MuiListItemButton-root":{"&.Mui-selected":{background:"var(--neon-gradient)",border:"var(--neon-border-accent)",boxShadow:"var(--neon-shadow-accent)","& .MuiListItemIcon-root":{color:"var(--neon-accent)"}},"&:hover":{background:"var(--neon-gradient)",boxShadow:"var(--neon-shadow-secondary)"}},".MuiContainer-root":{"& .MuiTypography-h2":{textShadow:n?"0 0 4px var(--neon-primary)":"var(--neon-text-shadow)",paddingBottom:"12px",marginBottom:"24px",position:"relative"},"& .MuiTypography-h4":{textShadow:n?"0 0 3px var(--neon-primary)":"var(--neon-text-shadow)",paddingBottom:"8px",marginBottom:"16px",position:"relative"}},".MuiDivider-root":{background:`linear-gradient(90deg, ${t}80, ${e}80, ${a}80, ${t}80)`,height:"3px",boxShadow:"var(--neon-shadow-secondary)",borderRadius:"1px"},".MuiIconButton-root":{border:"1px solid var(--neon-secondary)",boxShadow:"var(--neon-shadow-secondary)","&:hover":{border:"var(--neon-border-accent)",boxShadow:"var(--neon-shadow-accent)"}},".MuiTypography-body2":{textShadow:n?"0 0 1px var(--neon-primary)":"0 0 3px var(--neon-primary)"},'.MuiPaper-root[class*="MuiPaper-elevation"]':{background:"var(--neon-card-bg)",boxShadow:"var(--neon-box-shadow)"},".MuiPaper-root.MuiPaper-elevation1":{background:"var(--neon-card-bg)",boxShadow:"var(--neon-box-shadow)"},".MuiPaper-root.MuiPaper-elevation2":{background:"var(--neon-card-bg)",boxShadow:"var(--neon-box-shadow)"},".MuiPaper-root.MuiPaper-elevation3":{background:"var(--neon-card-bg)",boxShadow:"var(--neon-box-shadow)"},".MuiPaper-root.MuiPaper-elevation4":{background:"var(--neon-card-bg)",boxShadow:"var(--neon-box-shadow)"},".MuiPaper-root.MuiPaper-elevation5":{background:"var(--neon-card-bg)",boxShadow:"var(--neon-box-shadow)"}}},MuiButton:{styleOverrides:{root:{border:"var(--neon-border-secondary)",boxShadow:"var(--neon-shadow-secondary)",textShadow:n?"0 0 2px var(--neon-primary)":"var(--neon-text-shadow)",background:n?"linear-gradient(45deg, rgba(255, 255, 255, 0.9), rgba(248, 250, 252, 0.9))":"linear-gradient(45deg, rgba(26, 26, 26, 0.8), rgba(10, 10, 10, 0.8))",backdropFilter:"blur(5px)",position:"relative",overflow:"hidden",boxSizing:"border-box","&::before":{content:'""',position:"absolute",top:"0",left:"-100%",width:"100%",height:"100%",background:"linear-gradient(90deg, transparent, var(--neon-glow-accent), transparent)",transition:"left 0.5s ease",boxSizing:"border-box"},"&:hover":{boxShadow:"var(--neon-shadow-accent)",border:"var(--neon-border-accent)","&::before":{left:"100%"}}},text:{color:"white"}}},MuiPaper:{styleOverrides:{root:{"&.MuiCard-root":{border:"var(--neon-border-secondary)",boxShadow:"var(--neon-box-shadow)",background:"var(--neon-card-bg)",backdropFilter:"blur(10px)",position:"relative","&::before":{content:'""',position:"absolute",top:"0",left:"0",right:"0",bottom:"0",border:"1px solid var(--neon-accent)",opacity:n?"0.2":"0.3",pointerEvents:"none"},"&:hover":{boxShadow:"var(--neon-shadow-accent)",border:"var(--neon-border-accent)"}},"&.MuiAppBar-root":{borderBottom:"var(--neon-border-primary)",boxShadow:"var(--neon-shadow-primary)",background:"var(--neon-appbar-bg)",backdropFilter:"blur(10px)"}},elevation1:{boxShadow:"var(--neon-box-shadow)",background:"var(--neon-card-bg)"},elevation2:{boxShadow:"var(--neon-box-shadow)",background:"var(--neon-card-bg)"},elevation3:{boxShadow:"var(--neon-box-shadow)",background:"var(--neon-card-bg)"},elevation4:{boxShadow:"var(--neon-box-shadow)",background:"var(--neon-card-bg)"},elevation5:{boxShadow:"var(--neon-box-shadow)",background:"var(--neon-card-bg)"},elevation6:{boxShadow:"var(--neon-box-shadow)",background:"var(--neon-card-bg)"},elevation7:{boxShadow:"var(--neon-box-shadow)",background:"var(--neon-card-bg)"},elevation8:{boxShadow:"var(--neon-box-shadow)",background:"var(--neon-card-bg)"},elevation9:{boxShadow:"var(--neon-box-shadow)",background:"var(--neon-card-bg)"},elevation10:{boxShadow:"var(--neon-box-shadow)",background:"var(--neon-card-bg)"},elevation11:{boxShadow:"var(--neon-box-shadow)",background:"var(--neon-card-bg)"},elevation12:{boxShadow:"var(--neon-box-shadow)",background:"var(--neon-card-bg)"},elevation13:{boxShadow:"var(--neon-box-shadow)",background:"var(--neon-card-bg)"},elevation14:{boxShadow:"var(--neon-box-shadow)",background:"var(--neon-card-bg)"},elevation15:{boxShadow:"var(--neon-box-shadow)",background:"var(--neon-card-bg)"},elevation16:{boxShadow:"var(--neon-box-shadow)",background:"var(--neon-card-bg)"},elevation17:{boxShadow:"var(--neon-box-shadow)",background:"var(--neon-card-bg)"},elevation18:{boxShadow:"var(--neon-box-shadow)",background:"var(--neon-card-bg)"},elevation19:{boxShadow:"var(--neon-box-shadow)",background:"var(--neon-card-bg)"},elevation20:{boxShadow:"var(--neon-box-shadow)",background:"var(--neon-card-bg)"},elevation21:{boxShadow:"var(--neon-box-shadow)",background:"var(--neon-card-bg)"},elevation22:{boxShadow:"var(--neon-box-shadow)",background:"var(--neon-card-bg)"},elevation23:{boxShadow:"var(--neon-box-shadow)",background:"var(--neon-card-bg)"},elevation24:{boxShadow:"var(--neon-box-shadow)",background:"var(--neon-card-bg)"}}},MuiCard:{styleOverrides:{root:{border:"var(--neon-border-secondary)",boxShadow:"var(--neon-box-shadow)",background:"var(--neon-card-bg)",backdropFilter:"blur(10px)",position:"relative","&::before":{content:'""',position:"absolute",top:"0",left:"0",right:"0",bottom:"0",border:"1px solid var(--neon-accent)",opacity:n?"0.2":"0.3",pointerEvents:"none"},"&:hover":{boxShadow:"var(--neon-shadow-accent)",border:"var(--neon-border-accent)"}}}},MuiAppBar:{styleOverrides:{root:{borderBottom:"var(--neon-border-primary)",boxShadow:"var(--neon-shadow-primary)",background:"var(--neon-appbar-bg)",backdropFilter:"blur(10px)"}}}}}),M6=()=>jd({palette:{mode:"light",primary:{main:"#2F2F2F",light:"#4A4A4A",dark:"#1A1A1A",contrastText:"#F5F5DC"},secondary:{main:"#8B4513",light:"#CD853F",dark:"#654321",contrastText:"#F5F5DC"},background:{default:"#F5F5DC",paper:"#FAEBD7"},text:{primary:"#2F2F2F",secondary:"#4A4A4A"},error:{main:"#8B0000",light:"#CD5C5C",dark:"#660000"},warning:{main:"#B8860B",light:"#DAA520",dark:"#8B6914"},info:{main:"#2F4F4F",light:"#708090",dark:"#1C1C1C"},success:{main:"#556B2F",light:"#9ACD32",dark:"#2F4F2F"}},typography:{fontFamily:'"Courier New", "Lucida Console", "Monaco", monospace',h1:{fontFamily:'"Courier New", "Lucida Console", "Monaco", monospace',fontWeight:"bold",fontSize:"2.5rem",color:"#2F2F2F",textTransform:"uppercase",letterSpacing:"0.1em",textShadow:"1px 1px 0px rgba(47, 47, 47, 0.3)"},h2:{fontFamily:'"Courier New", "Lucida Console", "Monaco", monospace',fontWeight:"bold",fontSize:"2rem",color:"#2F2F2F",textTransform:"uppercase",letterSpacing:"0.05em",textShadow:"1px 1px 0px rgba(47, 47, 47, 0.3)"},h3:{fontFamily:'"Courier New", "Lucida Console", "Monaco", monospace',fontWeight:"bold",fontSize:"1.5rem",color:"#2F2F2F",letterSpacing:"0.05em"},h4:{fontFamily:'"Courier New", "Lucida Console", "Monaco", monospace',fontWeight:"bold",fontSize:"1.25rem",color:"#2F2F2F"},h5:{fontFamily:'"Courier New", "Lucida Console", "Monaco", monospace',fontWeight:"bold",fontSize:"1.125rem",color:"#2F2F2F"},h6:{fontFamily:'"Courier New", "Lucida Console", "Monaco", monospace',fontWeight:"bold",fontSize:"1rem",color:"#2F2F2F"},body1:{fontFamily:'"Courier New", "Lucida Console", "Monaco", monospace',fontSize:"0.95rem",lineHeight:1.6,color:"#2F2F2F"},body2:{fontFamily:'"Courier New", "Lucida Console", "Monaco", monospace',fontSize:"0.875rem",lineHeight:1.5,color:"#4A4A4A"},button:{fontFamily:'"Courier New", "Lucida Console", "Monaco", monospace',fontWeight:"bold",textTransform:"uppercase",letterSpacing:"0.05em"}},components:{MuiCssBaseline:{styleOverrides:{body:{background:`
              linear-gradient(135deg, #F5F5DC 0%, #FAEBD7 50%, #F5F5DC 100%),
              radial-gradient(circle at 20% 20%, rgba(139, 69, 19, 0.02) 0%, transparent 50%),
              radial-gradient(circle at 80% 80%, rgba(47, 47, 47, 0.02) 0%, transparent 50%)
            `,backgroundAttachment:"fixed",fontFamily:'"Courier New", "Lucida Console", "Monaco", monospace',position:"relative"},"body::before":{content:'""',position:"fixed",top:"0",left:"0",width:"100%",height:"100%",background:`
              repeating-linear-gradient(
                0deg,
                transparent,
                transparent 25px,
                rgba(47, 47, 47, 0.02) 26px,
                rgba(47, 47, 47, 0.02) 27px
              ),
              repeating-linear-gradient(
                90deg,
                transparent,
                transparent 20px,
                rgba(139, 69, 19, 0.01) 21px,
                rgba(139, 69, 19, 0.01) 22px
              )
            `,pointerEvents:"none",zIndex:"-1"},"::selection":{backgroundColor:"rgba(47, 47, 47, 0.2)",color:"#2F2F2F"},"h1, h2, h3, h4, h5, h6":{borderBottom:"2px solid #2F2F2F",paddingBottom:"8px",marginBottom:"16px",position:"relative","&::after":{content:'""',position:"absolute",bottom:"-4px",left:"0",width:"50px",height:"2px",backgroundColor:"#8B4513"}}}},MuiPaper:{styleOverrides:{root:{background:`
              linear-gradient(135deg, #FAEBD7 0%, #F5F5DC 100%),
              radial-gradient(circle at 30% 70%, rgba(139, 69, 19, 0.03) 0%, transparent 50%)
            `,border:"2px solid #8B4513",boxShadow:`
              0 2px 8px rgba(47, 47, 47, 0.15),
              inset 0 1px 0 rgba(245, 245, 220, 0.8)
            `,position:"relative","&::before":{content:'""',position:"absolute",top:"10px",left:"20px",right:"20px",bottom:"10px",border:"1px solid rgba(47, 47, 47, 0.1)",pointerEvents:"none",borderRadius:"2px"}},elevation1:{boxShadow:`
              0 2px 8px rgba(47, 47, 47, 0.15),
              inset 0 1px 0 rgba(245, 245, 220, 0.8)
            `},elevation2:{boxShadow:`
              0 4px 12px rgba(47, 47, 47, 0.2),
              inset 0 1px 0 rgba(245, 245, 220, 0.8)
            `},elevation3:{boxShadow:`
              0 6px 16px rgba(47, 47, 47, 0.25),
              inset 0 1px 0 rgba(245, 245, 220, 0.8)
            `}}},MuiCard:{styleOverrides:{root:{background:`
              linear-gradient(135deg, #FAEBD7 0%, #F5F5DC 100%),
              radial-gradient(circle at 25% 75%, rgba(139, 69, 19, 0.04) 0%, transparent 50%)
            `,border:"3px solid #8B4513",boxShadow:`
              0 4px 12px rgba(47, 47, 47, 0.2),
              inset 0 2px 0 rgba(245, 245, 220, 0.9)
            `,position:"relative",borderRadius:"2px","&::before":{content:'""',position:"absolute",top:"15px",left:"25px",right:"25px",bottom:"15px",border:"1px solid rgba(47, 47, 47, 0.15)",pointerEvents:"none",borderRadius:"1px"},"&::after":{content:'""',position:"absolute",top:"5px",right:"5px",width:"30px",height:"30px",background:`
                radial-gradient(circle at center,
                  rgba(139, 69, 19, 0.1) 0%,
                  rgba(139, 69, 19, 0.05) 50%,
                  transparent 100%
                )
              `,borderRadius:"50%",pointerEvents:"none"},"&:hover":{boxShadow:`
                0 6px 20px rgba(47, 47, 47, 0.3),
                inset 0 2px 0 rgba(245, 245, 220, 0.9)
              `,transform:"translateY(-2px)",transition:"all 0.3s ease"}}}},MuiAppBar:{styleOverrides:{root:{background:`
              linear-gradient(90deg, #2F2F2F 0%, #4A4A4A 50%, #2F2F2F 100%),
              linear-gradient(180deg, rgba(245, 245, 220, 0.1) 0%, transparent 100%)
            `,borderBottom:"3px solid #8B4513",boxShadow:`
              0 2px 8px rgba(47, 47, 47, 0.3),
              inset 0 1px 0 rgba(245, 245, 220, 0.2)
            `,color:"#F5F5DC",position:"relative","&::after":{content:'""',position:"absolute",bottom:"-1px",left:"0",right:"0",height:"1px",background:"linear-gradient(90deg, transparent, #8B4513, transparent)"}}}},MuiButton:{styleOverrides:{root:{background:`
              linear-gradient(135deg, #8B4513 0%, #CD853F 50%, #8B4513 100%),
              linear-gradient(45deg, rgba(245, 245, 220, 0.1) 0%, transparent 100%)
            `,border:"2px solid #654321",fontFamily:'"Courier New", "Lucida Console", "Monaco", monospace',fontWeight:"bold",textTransform:"uppercase",letterSpacing:"0.05em",boxShadow:`
              0 2px 6px rgba(47, 47, 47, 0.25),
              inset 0 1px 0 rgba(245, 245, 220, 0.3)
            `,color:"#F5F5DC",borderRadius:"2px",position:"relative","&::before":{content:'""',position:"absolute",top:"2px",left:"2px",right:"2px",bottom:"2px",border:"1px solid rgba(245, 245, 220, 0.2)",borderRadius:"1px",pointerEvents:"none"},"&:hover":{background:`
                linear-gradient(135deg, #654321 0%, #8B4513 50%, #654321 100%),
                linear-gradient(45deg, rgba(245, 245, 220, 0.2) 0%, transparent 100%)
              `,boxShadow:`
                0 4px 12px rgba(47, 47, 47, 0.35),
                inset 0 1px 0 rgba(245, 245, 220, 0.3)
              `,transform:"translateY(-1px)",borderColor:"#4A4A4A"},"&:active":{transform:"translateY(0px)",boxShadow:`
                0 2px 6px rgba(47, 47, 47, 0.4),
                inset 0 2px 4px rgba(0, 0, 0, 0.2)
              `}},text:{color:"#2F2F2F",background:"transparent",border:"2px solid transparent","&:hover":{background:"rgba(139, 69, 19, 0.1)",border:"2px solid rgba(139, 69, 19, 0.3)"}},outlined:{border:"2px solid #8B4513",color:"#8B4513",background:"transparent","&:hover":{background:"rgba(139, 69, 19, 0.1)",borderColor:"#654321"}}}},MuiDivider:{styleOverrides:{root:{background:`
              linear-gradient(90deg,
                transparent 0%,
                #8B4513 20%,
                #2F2F2F 50%,
                #8B4513 80%,
                transparent 100%
              )
            `,height:"2px",boxShadow:"0 1px 3px rgba(47, 47, 47, 0.2)",position:"relative","&::after":{content:'""',position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"4px",height:"4px",backgroundColor:"#2F2F2F",borderRadius:"50%"}}}},MuiMenu:{styleOverrides:{paper:{background:`
              linear-gradient(135deg, #FAEBD7 0%, #F5F5DC 100%),
              radial-gradient(circle at 30% 70%, rgba(139, 69, 19, 0.03) 0%, transparent 50%)
            `,border:"2px solid #8B4513",boxShadow:`
              0 4px 16px rgba(47, 47, 47, 0.25),
              inset 0 1px 0 rgba(245, 245, 220, 0.8)
            `,borderRadius:"2px"}}},MuiTextField:{styleOverrides:{root:{"& .MuiOutlinedInput-root":{backgroundColor:"#FAEBD7",fontFamily:'"Courier New", "Lucida Console", "Monaco", monospace',"& fieldset":{borderColor:"#8B4513",borderWidth:"2px"},"&:hover fieldset":{borderColor:"#654321"},"&.Mui-focused fieldset":{borderColor:"#2F2F2F",borderWidth:"2px"}},"& .MuiInputLabel-root":{fontFamily:'"Courier New", "Lucida Console", "Monaco", monospace',color:"#4A4A4A","&.Mui-focused":{color:"#2F2F2F"}}}}},MuiTableContainer:{styleOverrides:{root:{background:`
              linear-gradient(135deg, #FAEBD7 0%, #F5F5DC 100%)
            `,border:"2px solid #8B4513"}}},MuiTableHead:{styleOverrides:{root:{background:`
              linear-gradient(90deg, #2F2F2F 0%, #4A4A4A 50%, #2F2F2F 100%)
            `,"& .MuiTableCell-head":{color:"#F5F5DC",fontFamily:'"Courier New", "Lucida Console", "Monaco", monospace',fontWeight:"bold",textTransform:"uppercase",letterSpacing:"0.05em",borderBottom:"2px solid #8B4513"}}}},MuiTableCell:{styleOverrides:{root:{fontFamily:'"Courier New", "Lucida Console", "Monaco", monospace',borderBottom:"1px solid rgba(139, 69, 19, 0.3)"}}}}}),R6=()=>jd({palette:{mode:"light",primary:{main:"#5D4037",light:"#8D6E63",dark:"#3E2723",contrastText:"#FAF0E6"},secondary:{main:"#8D6E63",light:"#A1887F",dark:"#5D4037",contrastText:"#FAF0E6"},background:{default:"#FDFBF7",paper:"#FAF8F3"},text:{primary:"#2E1B0E",secondary:"#5D4037"}},typography:{fontFamily:'"Times New Roman", "Georgia", serif',h1:{fontFamily:'"Times New Roman", "Georgia", serif',fontWeight:"bold",color:"#2E1B0E"},h2:{fontFamily:'"Times New Roman", "Georgia", serif',fontWeight:"bold",color:"#2E1B0E"},h3:{fontFamily:'"Times New Roman", "Georgia", serif',fontWeight:"bold",color:"#2E1B0E"},h4:{fontFamily:'"Times New Roman", "Georgia", serif',fontWeight:"bold",color:"#2E1B0E"},h5:{fontFamily:'"Times New Roman", "Georgia", serif',fontWeight:"bold",color:"#2E1B0E"},h6:{fontFamily:'"Times New Roman", "Georgia", serif',fontWeight:"bold",color:"#2E1B0E"}},components:{MuiCssBaseline:{styleOverrides:{body:{background:"linear-gradient(135deg, #FDFBF7 0%, #FAF8F3 50%, #FDFBF7 100%)",backgroundAttachment:"fixed",fontFamily:'"Times New Roman", "Georgia", serif'},"body::before":{content:'""',position:"fixed",top:"0",left:"0",width:"100%",height:"100%",background:`
              radial-gradient(circle at 20% 80%, rgba(93, 64, 55, 0.015) 0%, transparent 50%),
              radial-gradient(circle at 80% 20%, rgba(141, 110, 99, 0.015) 0%, transparent 50%),
              radial-gradient(circle at 40% 40%, rgba(93, 64, 55, 0.01) 0%, transparent 50%)
            `,pointerEvents:"none",zIndex:"-1"}}},MuiPaper:{styleOverrides:{root:{background:"linear-gradient(135deg, #FAF8F3 0%, #FDFBF7 100%)",border:"1px solid #8D6E63",boxShadow:"0 2px 8px rgba(93, 64, 55, 0.15)",position:"relative","&::before":{content:'""',position:"absolute",top:"0",left:"0",right:"0",bottom:"0",background:`
                radial-gradient(circle at 30% 70%, rgba(93, 64, 55, 0.03) 0%, transparent 50%),
                radial-gradient(circle at 70% 30%, rgba(141, 110, 99, 0.03) 0%, transparent 50%)
              `,pointerEvents:"none",borderRadius:"inherit"}},elevation1:{background:"linear-gradient(135deg, #FAF8F3 0%, #FDFBF7 100%)",border:"1px solid #8D6E63",boxShadow:"0 2px 8px rgba(93, 64, 55, 0.15)"},elevation2:{background:"linear-gradient(135deg, #FAF8F3 0%, #FDFBF7 100%)",border:"1px solid #8D6E63",boxShadow:"0 4px 12px rgba(93, 64, 55, 0.2)"},elevation3:{background:"linear-gradient(135deg, #FAF8F3 0%, #FDFBF7 100%)",border:"1px solid #8D6E63",boxShadow:"0 6px 16px rgba(93, 64, 55, 0.25)"}}},MuiCard:{styleOverrides:{root:{background:"linear-gradient(135deg, #FAF8F3 0%, #FDFBF7 100%)",border:"2px solid #5D4037",boxShadow:"0 4px 12px rgba(93, 64, 55, 0.2)",position:"relative","&::before":{content:'""',position:"absolute",top:"0",left:"0",right:"0",bottom:"0",background:`
                radial-gradient(circle at 25% 75%, rgba(93, 64, 55, 0.04) 0%, transparent 50%),
                radial-gradient(circle at 75% 25%, rgba(141, 110, 99, 0.04) 0%, transparent 50%)
              `,pointerEvents:"none",borderRadius:"inherit"},"&:hover":{boxShadow:"0 6px 20px rgba(93, 64, 55, 0.3)",transform:"translateY(-2px)",transition:"all 0.3s ease"}}}},MuiAppBar:{styleOverrides:{root:{background:"linear-gradient(90deg, #5D4037 0%, #8D6E63 100%)",borderBottom:"2px solid #3E2723",boxShadow:"0 2px 8px rgba(93, 64, 55, 0.3)",color:"#FAF0E6"}}},MuiButton:{styleOverrides:{root:{background:"linear-gradient(135deg, #8D6E63 0%, #A1887F 100%)",border:"2px solid #5D4037",fontFamily:'"Times New Roman", "Georgia", serif',fontWeight:"bold",boxShadow:"0 2px 6px rgba(93, 64, 55, 0.25)","&:hover":{background:"linear-gradient(135deg, #5D4037 0%, #8D6E63 100%)",boxShadow:"0 4px 12px rgba(93, 64, 55, 0.35)",transform:"translateY(-1px)"}},text:{color:"#FAF0E6"}}},MuiDivider:{styleOverrides:{root:{background:"linear-gradient(90deg, #5D4037 0%, #8D6E63 50%, #5D4037 100%)",height:"2px",boxShadow:"0 1px 3px rgba(93, 64, 55, 0.2)"}}},MuiMenu:{styleOverrides:{paper:{background:"linear-gradient(135deg, #FAF8F3 0%, #FDFBF7 100%)",border:"2px solid #5D4037",boxShadow:"0 4px 16px rgba(93, 64, 55, 0.25)"}}}}}),MM={light:M6(),dark:Qm("#00bfff","#ff69b4","#32cd32"),legion:Qm("#ff0000","#ffd700","#ff4500"),mechanicum:Qm("#ff6b35","#00d4aa","#ff8c00"),imperial:Qm("#1e3a8a","#dc2626","#3b82f6"),parchment:R6()},e2=w.createContext(void 0),A6=({children:t})=>{const[e,a]=w.useState("light");w.useEffect(()=>{const l=window.matchMedia("(prefers-color-scheme: dark)"),d=u=>{a(u.matches?"dark":"light")};return a(l.matches?"dark":"light"),l.addEventListener("change",d),()=>l.removeEventListener("change",d)},[]);const n=l=>{a(l),localStorage.setItem("preferred-theme",l)};w.useEffect(()=>{const l=localStorage.getItem("preferred-theme");l&&MM[l]&&a(l)},[]);const i=e==="dark"||e==="mechanicum";return s.jsx(e2.Provider,{value:{currentTheme:e,setTheme:n,isDarkMode:i},children:s.jsx(mD,{theme:MM[e],children:t})})},k6=()=>{const t=w.useContext(e2);if(t===void 0)throw new Error("useTheme must be used within a ThemeProviderWrapper");return t},E6=[{name:"light",displayName:"Typed Orders",description:"Cyan, Magenta, Yellow (Light Mode)",icon:s.jsx(b6,{})},{name:"dark",displayName:"Neon Dark",description:"Deep Sky Blue, Hot Pink, Lime Green",icon:s.jsx(p6,{})},{name:"legion",displayName:"Legion Wireframe",description:"Red, Gold, Orange Red neon",icon:s.jsx(S6,{})},{name:"mechanicum",displayName:"Mechanicum Tech",description:"Orange, Teal, Dark Orange glow",icon:s.jsx(i6,{})},{name:"imperial",displayName:"Imperial Neon",description:"Blue, Red, Blue wireframe",icon:s.jsx(g6,{})},{name:"parchment",displayName:"Parchment",description:"Old paper and ink aesthetic",icon:s.jsx(r6,{})}],_6=()=>{const{currentTheme:t,setTheme:e}=k6();return s.jsxs(F,{sx:{minWidth:250},children:[s.jsx(O,{variant:"h6",sx:{px:2,py:1},children:"Choose Theme"}),s.jsx(vr,{}),s.jsx(Ok,{children:E6.map(a=>s.jsx(YO,{disablePadding:!0,children:s.jsxs(BO,{selected:t===a.name,onClick:()=>e(a.name),sx:{"&.Mui-selected":{backgroundColor:"action.selected"}},children:[s.jsx(ox,{sx:{color:"primary.main"},children:a.icon}),s.jsx(Dg,{primary:a.displayName,secondary:a.description})]})},a.name))})]})},j6=()=>{};var RM={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=function(t){const e=[];let a=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[a++]=i:i<2048?(e[a++]=i>>6|192,e[a++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[a++]=i>>18|240,e[a++]=i>>12&63|128,e[a++]=i>>6&63|128,e[a++]=i&63|128):(e[a++]=i>>12|224,e[a++]=i>>6&63|128,e[a++]=i&63|128)}return e},I6=function(t){const e=[];let a=0,n=0;for(;a<t.length;){const i=t[a++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const l=t[a++];e[n++]=String.fromCharCode((i&31)<<6|l&63)}else if(i>239&&i<365){const l=t[a++],d=t[a++],u=t[a++],h=((i&7)<<18|(l&63)<<12|(d&63)<<6|u&63)-65536;e[n++]=String.fromCharCode(55296+(h>>10)),e[n++]=String.fromCharCode(56320+(h&1023))}else{const l=t[a++],d=t[a++];e[n++]=String.fromCharCode((i&15)<<12|(l&63)<<6|d&63)}}return e.join("")},a2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const l=t[i],d=i+1<t.length,u=d?t[i+1]:0,h=i+2<t.length,m=h?t[i+2]:0,y=l>>2,v=(l&3)<<4|u>>4;let x=(u&15)<<2|m>>6,T=m&63;h||(T=64,d||(x=64)),n.push(a[y],a[v],a[x],a[T])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(t2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):I6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const a=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const l=a[t.charAt(i++)],u=i<t.length?a[t.charAt(i)]:0;++i;const m=i<t.length?a[t.charAt(i)]:64;++i;const v=i<t.length?a[t.charAt(i)]:64;if(++i,l==null||u==null||m==null||v==null)throw new P6;const x=l<<2|u>>4;if(n.push(x),m!==64){const T=u<<4&240|m>>2;if(n.push(T),v!==64){const C=m<<6&192|v;n.push(C)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class P6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const W6=function(t){const e=t2(t);return a2.encodeByteArray(e,!0)},Lg=function(t){return W6(t).replace(/\./g,"")},n2=function(t){try{return a2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6=()=>D6().__FIREBASE_DEFAULTS__,V6=()=>{if(typeof process>"u"||typeof RM>"u")return;const t=RM.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},U6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&n2(t[1]);return e&&JSON.parse(e)},_f=()=>{try{return j6()||L6()||V6()||U6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},r2=t=>_f()?.emulatorHosts?.[t],O6=t=>{const e=r2(t);if(!e)return;const a=e.lastIndexOf(":");if(a<=0||a+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(a+1),10);return e[0]==="["?[e.substring(1,a-1),n]:[e.substring(0,a),n]},i2=()=>_f()?.config,o2=t=>_f()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,a)=>{this.resolve=e,this.reject=a})}wrapCallback(e){return(a,n)=>{a?this.reject(a):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(a):e(a,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function s2(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const a={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Lg(JSON.stringify(a)),Lg(JSON.stringify(d)),""].join(".")}const xp={};function N6(){const t={prod:[],emulator:[]};for(const e of Object.keys(xp))xp[e]?t.emulator.push(e):t.prod.push(e);return t}function F6(t){let e=document.getElementById(t),a=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),a=!0),{created:a,element:e}}let AM=!1;function l2(t,e){if(typeof window>"u"||typeof document>"u"||!Dd(window.location.host)||xp[t]===e||xp[t]||AM)return;xp[t]=e;function a(x){return`__firebase__banner__${x}`}const n="__firebase__banner",l=N6().prod.length>0;function d(){const x=document.getElementById(n);x&&x.remove()}function u(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function h(x,T){x.setAttribute("width","24"),x.setAttribute("id",T),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function m(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{AM=!0,d()},x}function y(x,T){x.setAttribute("id",T),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function v(){const x=F6(n),T=a("text"),C=document.getElementById(T)||document.createElement("span"),j=a("learnmore"),E=document.getElementById(j)||document.createElement("a"),M=a("preprendIcon"),L=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const W=x.element;u(W),y(E,j);const R=m();h(L,M),W.append(L,C,E,R),document.body.appendChild(W)}l?(C.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function q6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(On())}function H6(){const t=_f()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function G6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function K6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Y6(){const t=On();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function X6(){return!H6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Q6(){try{return typeof indexedDB=="object"}catch{return!1}}function J6(){return new Promise((t,e)=>{try{let a=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),a||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{a=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(a){e(a)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6="FirebaseError";class Fo extends Error{constructor(e,a,n){super(a),this.code=e,this.customData=n,this.name=Z6,Object.setPrototypeOf(this,Fo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lh.prototype.create)}}class lh{constructor(e,a,n){this.service=e,this.serviceName=a,this.errors=n}create(e,...a){const n=a[0]||{},i=`${this.service}/${e}`,l=this.errors[e],d=l?eN(l,n):"Error",u=`${this.serviceName}: ${d} (${i}).`;return new Fo(i,u,n)}}function eN(t,e){return t.replace(tN,(a,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const tN=/\{\$([^}]+)}/g;function aN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function zl(t,e){if(t===e)return!0;const a=Object.keys(t),n=Object.keys(e);for(const i of a){if(!n.includes(i))return!1;const l=t[i],d=e[i];if(kM(l)&&kM(d)){if(!zl(l,d))return!1}else if(l!==d)return!1}for(const i of n)if(!a.includes(i))return!1;return!0}function kM(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(t){const e=[];for(const[a,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(a)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(a)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function nN(t,e){const a=new rN(t,e);return a.subscribe.bind(a)}class rN{constructor(e,a){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=a,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(a=>{a.next(e)})}error(e){this.forEachObserver(a=>{a.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,a,n){let i;if(e===void 0&&a===void 0&&n===void 0)throw new Error("Missing Observer.");iN(e,["next","error","complete"])?i=e:i={next:e,error:a,complete:n},i.next===void 0&&(i.next=fv),i.error===void 0&&(i.error=fv),i.complete===void 0&&(i.complete=fv);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let a=0;a<this.observers.length;a++)this.sendOne(a,e)}sendOne(e,a){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{a(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iN(t,e){if(typeof t!="object"||t===null)return!1;for(const a of e)if(a in t&&typeof t[a]=="function")return!0;return!1}function fv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(t){return t&&t._delegate?t._delegate:t}class Bl{constructor(e,a,n){this.name=e,this.instanceFactory=a,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e,a){this.name=e,this.container=a,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const a=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(a)){const n=new z6;if(this.instancesDeferred.set(a,n),this.isInitialized(a)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:a});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(a).promise}getImmediate(e){const a=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lN(e))try{this.getOrInitializeService({instanceIdentifier:wl})}catch{}for(const[a,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(a);try{const l=this.getOrInitializeService({instanceIdentifier:i});n.resolve(l)}catch{}}}}clearInstance(e=wl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(a=>"INTERNAL"in a).map(a=>a.INTERNAL.delete()),...e.filter(a=>"_delete"in a).map(a=>a._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wl){return this.instances.has(e)}getOptions(e=wl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:a={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:a});for(const[l,d]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(l);n===u&&d.resolve(i)}return i}onInit(e,a){const n=this.normalizeInstanceIdentifier(a),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const l=this.instances.get(n);return l&&e(l,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,a){const n=this.onInitCallbacks.get(a);if(n)for(const i of n)try{i(e,a)}catch{}}getOrInitializeService({instanceIdentifier:e,options:a={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:sN(e),options:a}),this.instances.set(e,n),this.instancesOptions.set(e,a),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=wl){return this.component?this.component.multipleInstances?e:wl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sN(t){return t===wl?void 0:t}function lN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const a=this.getProvider(e.name);if(a.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);a.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const a=new oN(e,this);return this.providers.set(e,a),a}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(qt||(qt={}));const dN={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},uN=qt.INFO,pN={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},hN=(t,e,...a)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=pN[e];if(i)console[i](`[${n}]  ${t.name}:`,...a);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mw{constructor(e){this.name=e,this._logLevel=uN,this._logHandler=hN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...e),this._logHandler(this,qt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...e),this._logHandler(this,qt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...e),this._logHandler(this,qt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...e),this._logHandler(this,qt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...e),this._logHandler(this,qt.ERROR,...e)}}const mN=(t,e)=>e.some(a=>t instanceof a);let EM,_M;function gN(){return EM||(EM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fN(){return _M||(_M=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const c2=new WeakMap,dx=new WeakMap,d2=new WeakMap,yv=new WeakMap,Rw=new WeakMap;function yN(t){const e=new Promise((a,n)=>{const i=()=>{t.removeEventListener("success",l),t.removeEventListener("error",d)},l=()=>{a(Ms(t.result)),i()},d=()=>{n(t.error),i()};t.addEventListener("success",l),t.addEventListener("error",d)});return e.then(a=>{a instanceof IDBCursor&&c2.set(a,t)}).catch(()=>{}),Rw.set(e,t),e}function bN(t){if(dx.has(t))return;const e=new Promise((a,n)=>{const i=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",d),t.removeEventListener("abort",d)},l=()=>{a(),i()},d=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",l),t.addEventListener("error",d),t.addEventListener("abort",d)});dx.set(t,e)}let ux={get(t,e,a){if(t instanceof IDBTransaction){if(e==="done")return dx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||d2.get(t);if(e==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return Ms(t[e])},set(t,e,a){return t[e]=a,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function vN(t){ux=t(ux)}function xN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...a){const n=t.call(bv(this),e,...a);return d2.set(n,e.sort?e.sort():[e]),Ms(n)}:fN().includes(t)?function(...e){return t.apply(bv(this),e),Ms(c2.get(this))}:function(...e){return Ms(t.apply(bv(this),e))}}function wN(t){return typeof t=="function"?xN(t):(t instanceof IDBTransaction&&bN(t),mN(t,gN())?new Proxy(t,ux):t)}function Ms(t){if(t instanceof IDBRequest)return yN(t);if(yv.has(t))return yv.get(t);const e=wN(t);return e!==t&&(yv.set(t,e),Rw.set(e,t)),e}const bv=t=>Rw.get(t);function SN(t,e,{blocked:a,upgrade:n,blocking:i,terminated:l}={}){const d=indexedDB.open(t,e),u=Ms(d);return n&&d.addEventListener("upgradeneeded",h=>{n(Ms(d.result),h.oldVersion,h.newVersion,Ms(d.transaction),h)}),a&&d.addEventListener("blocked",h=>a(h.oldVersion,h.newVersion,h)),u.then(h=>{l&&h.addEventListener("close",()=>l()),i&&h.addEventListener("versionchange",m=>i(m.oldVersion,m.newVersion,m))}).catch(()=>{}),u}const TN=["get","getKey","getAll","getAllKeys","count"],CN=["put","add","delete","clear"],vv=new Map;function jM(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(vv.get(e))return vv.get(e);const a=e.replace(/FromIndex$/,""),n=e!==a,i=CN.includes(a);if(!(a in(n?IDBIndex:IDBObjectStore).prototype)||!(i||TN.includes(a)))return;const l=async function(d,...u){const h=this.transaction(d,i?"readwrite":"readonly");let m=h.store;return n&&(m=m.index(u.shift())),(await Promise.all([m[a](...u),i&&h.done]))[0]};return vv.set(e,l),l}vN(t=>({...t,get:(e,a,n)=>jM(e,a)||t.get(e,a,n),has:(e,a)=>!!jM(e,a)||t.has(e,a)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(a=>{if(RN(a)){const n=a.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(a=>a).join(" ")}}function RN(t){return t.getComponent()?.type==="VERSION"}const px="@firebase/app",IM="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo=new Mw("@firebase/app"),AN="@firebase/app-compat",kN="@firebase/analytics-compat",EN="@firebase/analytics",_N="@firebase/app-check-compat",jN="@firebase/app-check",IN="@firebase/auth",PN="@firebase/auth-compat",WN="@firebase/database",DN="@firebase/data-connect",LN="@firebase/database-compat",VN="@firebase/functions",UN="@firebase/functions-compat",ON="@firebase/installations",zN="@firebase/installations-compat",BN="@firebase/messaging",NN="@firebase/messaging-compat",FN="@firebase/performance",qN="@firebase/performance-compat",HN="@firebase/remote-config",$N="@firebase/remote-config-compat",GN="@firebase/storage",KN="@firebase/storage-compat",YN="@firebase/firestore",XN="@firebase/ai",QN="@firebase/firestore-compat",JN="firebase",ZN="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx="[DEFAULT]",e7={[px]:"fire-core",[AN]:"fire-core-compat",[EN]:"fire-analytics",[kN]:"fire-analytics-compat",[jN]:"fire-app-check",[_N]:"fire-app-check-compat",[IN]:"fire-auth",[PN]:"fire-auth-compat",[WN]:"fire-rtdb",[DN]:"fire-data-connect",[LN]:"fire-rtdb-compat",[VN]:"fire-fn",[UN]:"fire-fn-compat",[ON]:"fire-iid",[zN]:"fire-iid-compat",[BN]:"fire-fcm",[NN]:"fire-fcm-compat",[FN]:"fire-perf",[qN]:"fire-perf-compat",[HN]:"fire-rc",[$N]:"fire-rc-compat",[GN]:"fire-gcs",[KN]:"fire-gcs-compat",[YN]:"fire-fst",[QN]:"fire-fst-compat",[XN]:"fire-vertex","fire-js":"fire-js",[JN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg=new Map,t7=new Map,mx=new Map;function PM(t,e){try{t.container.addComponent(e)}catch(a){Vo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,a)}}function yd(t){const e=t.name;if(mx.has(e))return Vo.debug(`There were multiple attempts to register component ${e}.`),!1;mx.set(e,t);for(const a of Vg.values())PM(a,t);for(const a of t7.values())PM(a,t);return!0}function Aw(t,e){const a=t.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),t.container.getProvider(e)}function ti(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a7={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rs=new lh("app","Firebase",a7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(e,a,n){this._isDeleted=!1,this._options={...e},this._config={...a},this._name=a.name,this._automaticDataCollectionEnabled=a.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Bl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld=ZN;function u2(t,e={}){let a=t;typeof e!="object"&&(e={name:e});const n={name:hx,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw Rs.create("bad-app-name",{appName:String(i)});if(a||(a=i2()),!a)throw Rs.create("no-options");const l=Vg.get(i);if(l){if(zl(a,l.options)&&zl(n,l.config))return l;throw Rs.create("duplicate-app",{appName:i})}const d=new cN(i);for(const h of mx.values())d.addComponent(h);const u=new n7(a,n,d);return Vg.set(i,u),u}function p2(t=hx){const e=Vg.get(t);if(!e&&t===hx&&i2())return u2();if(!e)throw Rs.create("no-app",{appName:t});return e}function As(t,e,a){let n=e7[t]??t;a&&(n+=`-${a}`);const i=n.match(/\s|\//),l=e.match(/\s|\//);if(i||l){const d=[`Unable to register library "${n}" with version "${e}":`];i&&d.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&l&&d.push("and"),l&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vo.warn(d.join(" "));return}yd(new Bl(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r7="firebase-heartbeat-database",i7=1,Up="firebase-heartbeat-store";let xv=null;function h2(){return xv||(xv=SN(r7,i7,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Up)}catch(a){console.warn(a)}}}}).catch(t=>{throw Rs.create("idb-open",{originalErrorMessage:t.message})})),xv}async function o7(t){try{const a=(await h2()).transaction(Up),n=await a.objectStore(Up).get(m2(t));return await a.done,n}catch(e){if(e instanceof Fo)Vo.warn(e.message);else{const a=Rs.create("idb-get",{originalErrorMessage:e?.message});Vo.warn(a.message)}}}async function WM(t,e){try{const n=(await h2()).transaction(Up,"readwrite");await n.objectStore(Up).put(e,m2(t)),await n.done}catch(a){if(a instanceof Fo)Vo.warn(a.message);else{const n=Rs.create("idb-set",{originalErrorMessage:a?.message});Vo.warn(n.message)}}}function m2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s7=1024,l7=30;class c7{constructor(e){this.container=e,this._heartbeatsCache=null;const a=this.container.getProvider("app").getImmediate();this._storage=new u7(a),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=DM();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(i=>i.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:a}),this._heartbeatsCache.heartbeats.length>l7){const i=p7(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Vo.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=DM(),{heartbeatsToSend:a,unsentEntries:n}=d7(this._heartbeatsCache.heartbeats),i=Lg(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Vo.warn(e),""}}}function DM(){return new Date().toISOString().substring(0,10)}function d7(t,e=s7){const a=[];let n=t.slice();for(const i of t){const l=a.find(d=>d.agent===i.agent);if(l){if(l.dates.push(i.date),LM(a)>e){l.dates.pop();break}}else if(a.push({agent:i.agent,dates:[i.date]}),LM(a)>e){a.pop();break}n=n.slice(1)}return{heartbeatsToSend:a,unsentEntries:n}}class u7{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Q6()?J6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const a=await o7(this.app);return a?.heartbeats?a:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return WM(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return WM(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function LM(t){return Lg(JSON.stringify({version:2,heartbeats:t})).length}function p7(t){if(t.length===0)return-1;let e=0,a=t[0].date;for(let n=1;n<t.length;n++)t[n].date<a&&(a=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h7(t){yd(new Bl("platform-logger",e=>new MN(e),"PRIVATE")),yd(new Bl("heartbeat",e=>new c7(e),"PRIVATE")),As(px,IM,t),As(px,IM,"esm2020"),As("fire-js","")}h7("");function g2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const m7=g2,f2=new lh("auth","Firebase",g2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug=new Mw("@firebase/auth");function g7(t,...e){Ug.logLevel<=qt.WARN&&Ug.warn(`Auth (${Ld}): ${t}`,...e)}function hg(t,...e){Ug.logLevel<=qt.ERROR&&Ug.error(`Auth (${Ld}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(t,...e){throw Ew(t,...e)}function ci(t,...e){return Ew(t,...e)}function kw(t,e,a){const n={...m7(),[e]:a};return new lh("auth","Firebase",n).create(e,{appName:t.name})}function Pl(t){return kw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function f7(t,e,a){const n=a;if(!(e instanceof n))throw n.name!==e.constructor.name&&Xi(t,"argument-error"),kw(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ew(t,...e){if(typeof t!="string"){const a=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(a,...n)}return f2.create(t,...e)}function Et(t,e,...a){if(!t)throw Ew(e,...a)}function jo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw hg(e),new Error(e)}function Uo(t,e){t||jo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(){return typeof self<"u"&&self.location?.href||""}function y7(){return VM()==="http:"||VM()==="https:"}function VM(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(y7()||G6()||"connection"in navigator)?navigator.onLine:!0}function v7(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,a){this.shortDelay=e,this.longDelay=a,Uo(a>e,"Short delay should be less than long delay!"),this.isMobile=q6()||K6()}get(){return b7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(t,e){Uo(t.emulator,"Emulator should always be set here");const{url:a}=t.emulator;return e?`${a}${e.startsWith("/")?e.slice(1):e}`:a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{static initialize(e,a,n){this.fetchImpl=e,a&&(this.headersImpl=a),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w7=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],S7=new dh(3e4,6e4);function jw(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Vd(t,e,a,n,i={}){return b2(t,i,async()=>{let l={},d={};n&&(e==="GET"?d=n:l={body:JSON.stringify(n)});const u=ch({key:t.config.apiKey,...d}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const m={method:e,headers:h,...l};return $6()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&Dd(t.emulatorConfig.host)&&(m.credentials="include"),y2.fetch()(await v2(t,t.config.apiHost,a,u),m)})}async function b2(t,e,a){t._canInitEmulator=!1;const n={...x7,...e};try{const i=new C7(t),l=await Promise.race([a(),i.promise]);i.clearNetworkTimeout();const d=await l.json();if("needConfirmation"in d)throw Jm(t,"account-exists-with-different-credential",d);if(l.ok&&!("errorMessage"in d))return d;{const u=l.ok?d.errorMessage:d.error.message,[h,m]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jm(t,"credential-already-in-use",d);if(h==="EMAIL_EXISTS")throw Jm(t,"email-already-in-use",d);if(h==="USER_DISABLED")throw Jm(t,"user-disabled",d);const y=n[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw kw(t,y,m);Xi(t,y)}}catch(i){if(i instanceof Fo)throw i;Xi(t,"network-request-failed",{message:String(i)})}}async function T7(t,e,a,n,i={}){const l=await Vd(t,e,a,n,i);return"mfaPendingCredential"in l&&Xi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function v2(t,e,a,n){const i=`${e}${a}?${n}`,l=t,d=l.config.emulator?_w(t.config,i):`${t.config.apiScheme}://${i}`;return w7.includes(a)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(d).toString():d}class C7{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((a,n)=>{this.timer=setTimeout(()=>n(ci(this.auth,"network-request-failed")),S7.get())})}}function Jm(t,e,a){const n={appName:t.name};a.email&&(n.email=a.email),a.phoneNumber&&(n.phoneNumber=a.phoneNumber);const i=ci(t,e,n);return i.customData._tokenResponse=a,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M7(t,e){return Vd(t,"POST","/v1/accounts:delete",e)}async function Og(t,e){return Vd(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function R7(t,e=!1){const a=zn(t),n=await a.getIdToken(e),i=Iw(n);Et(i&&i.exp&&i.auth_time&&i.iat,a.auth,"internal-error");const l=typeof i.firebase=="object"?i.firebase:void 0,d=l?.sign_in_provider;return{claims:i,token:n,authTime:wp(wv(i.auth_time)),issuedAtTime:wp(wv(i.iat)),expirationTime:wp(wv(i.exp)),signInProvider:d||null,signInSecondFactor:l?.sign_in_second_factor||null}}function wv(t){return Number(t)*1e3}function Iw(t){const[e,a,n]=t.split(".");if(e===void 0||a===void 0||n===void 0)return hg("JWT malformed, contained fewer than 3 sections"),null;try{const i=n2(a);return i?JSON.parse(i):(hg("Failed to decode base64 JWT payload"),null)}catch(i){return hg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function UM(t){const e=Iw(t);return Et(e,"internal-error"),Et(typeof e.exp<"u","internal-error"),Et(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Op(t,e,a=!1){if(a)return e;try{return await e}catch(n){throw n instanceof Fo&&A7(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function A7({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const a=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},a)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,a){this.createdAt=e,this.lastLoginAt=a,this._initializeTime()}_initializeTime(){this.lastSignInTime=wp(this.lastLoginAt),this.creationTime=wp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zg(t){const e=t.auth,a=await t.getIdToken(),n=await Op(t,Og(e,{idToken:a}));Et(n?.users.length,e,"internal-error");const i=n.users[0];t._notifyReloadListener(i);const l=i.providerUserInfo?.length?x2(i.providerUserInfo):[],d=_7(t.providerData,l),u=t.isAnonymous,h=!(t.email&&i.passwordHash)&&!d?.length,m=u?h:!1,y={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:d,metadata:new fx(i.createdAt,i.lastLoginAt),isAnonymous:m};Object.assign(t,y)}async function E7(t){const e=zn(t);await zg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _7(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function x2(t){return t.map(({providerId:e,...a})=>({providerId:e,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j7(t,e){const a=await b2(t,{},async()=>{const n=ch({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:l}=t.config,d=await v2(t,i,"/v1/token",`key=${l}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:n};return t.emulatorConfig&&Dd(t.emulatorConfig.host)&&(h.credentials="include"),y2.fetch()(d,h)});return{accessToken:a.access_token,expiresIn:a.expires_in,refreshToken:a.refresh_token}}async function I7(t,e){return Vd(t,"POST","/v2/accounts:revokeToken",jw(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Et(e.idToken,"internal-error"),Et(typeof e.idToken<"u","internal-error"),Et(typeof e.refreshToken<"u","internal-error");const a="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):UM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,a)}updateFromIdToken(e){Et(e.length!==0,"internal-error");const a=UM(e);this.updateTokensAndExpiration(e,null,a)}async getToken(e,a=!1){return!a&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,a){const{accessToken:n,refreshToken:i,expiresIn:l}=await j7(e,a);this.updateTokensAndExpiration(n,i,Number(l))}updateTokensAndExpiration(e,a,n){this.refreshToken=a||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,a){const{refreshToken:n,accessToken:i,expirationTime:l}=a,d=new nd;return n&&(Et(typeof n=="string","internal-error",{appName:e}),d.refreshToken=n),i&&(Et(typeof i=="string","internal-error",{appName:e}),d.accessToken=i),l&&(Et(typeof l=="number","internal-error",{appName:e}),d.expirationTime=l),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new nd,this.toJSON())}_performRefresh(){return jo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(t,e){Et(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class oi{constructor({uid:e,auth:a,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new k7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=a,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new fx(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const a=await Op(this,this.stsTokenManager.getToken(this.auth,e));return Et(a,this.auth,"internal-error"),this.accessToken!==a&&(this.accessToken=a,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),a}getIdTokenResult(e){return R7(this,e)}reload(){return E7(this)}_assign(e){this!==e&&(Et(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(a=>({...a})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const a=new oi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return a.metadata._copy(this.metadata),a}_onReload(e){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,a=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),a&&await zg(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject(Pl(this.auth));const e=await this.getIdToken();return await Op(this,M7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,a){const n=a.displayName??void 0,i=a.email??void 0,l=a.phoneNumber??void 0,d=a.photoURL??void 0,u=a.tenantId??void 0,h=a._redirectEventId??void 0,m=a.createdAt??void 0,y=a.lastLoginAt??void 0,{uid:v,emailVerified:x,isAnonymous:T,providerData:C,stsTokenManager:j}=a;Et(v&&j,e,"internal-error");const E=nd.fromJSON(this.name,j);Et(typeof v=="string",e,"internal-error"),ys(n,e.name),ys(i,e.name),Et(typeof x=="boolean",e,"internal-error"),Et(typeof T=="boolean",e,"internal-error"),ys(l,e.name),ys(d,e.name),ys(u,e.name),ys(h,e.name),ys(m,e.name),ys(y,e.name);const M=new oi({uid:v,auth:e,email:i,emailVerified:x,displayName:n,isAnonymous:T,photoURL:d,phoneNumber:l,tenantId:u,stsTokenManager:E,createdAt:m,lastLoginAt:y});return C&&Array.isArray(C)&&(M.providerData=C.map(L=>({...L}))),h&&(M._redirectEventId=h),M}static async _fromIdTokenResponse(e,a,n=!1){const i=new nd;i.updateFromServerResponse(a);const l=new oi({uid:a.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await zg(l),l}static async _fromGetAccountInfoResponse(e,a,n){const i=a.users[0];Et(i.localId!==void 0,"internal-error");const l=i.providerUserInfo!==void 0?x2(i.providerUserInfo):[],d=!(i.email&&i.passwordHash)&&!l?.length,u=new nd;u.updateFromIdToken(n);const h=new oi({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:d}),m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new fx(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!l?.length};return Object.assign(h,m),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=new Map;function Io(t){Uo(t instanceof Function,"Expected a class definition");let e=OM.get(t);return e?(Uo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,OM.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,a){this.storage[e]=a}async _get(e){const a=this.storage[e];return a===void 0?null:a}async _remove(e){delete this.storage[e]}_addListener(e,a){}_removeListener(e,a){}}w2.type="NONE";const zM=w2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(t,e,a){return`firebase:${t}:${e}:${a}`}class rd{constructor(e,a,n){this.persistence=e,this.auth=a,this.userKey=n;const{config:i,name:l}=this.auth;this.fullUserKey=mg(this.userKey,i.apiKey,l),this.fullPersistenceKey=mg("persistence",i.apiKey,l),this.boundEventHandler=a._onStorageEvent.bind(a),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const a=await Og(this.auth,{idToken:e}).catch(()=>{});return a?oi._fromGetAccountInfoResponse(this.auth,a,e):null}return oi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const a=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,a)return this.setCurrentUser(a)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,a,n="authUser"){if(!a.length)return new rd(Io(zM),e,n);const i=(await Promise.all(a.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=i[0]||Io(zM);const d=mg(n,e.config.apiKey,e.name);let u=null;for(const m of a)try{const y=await m._get(d);if(y){let v;if(typeof y=="string"){const x=await Og(e,{idToken:y}).catch(()=>{});if(!x)break;v=await oi._fromGetAccountInfoResponse(e,x,y)}else v=oi._fromJSON(e,y);m!==l&&(u=v),l=m;break}}catch{}const h=i.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!h.length?new rd(l,e,n):(l=h[0],u&&await l._set(d,u.toJSON()),await Promise.all(a.map(async m=>{if(m!==l)try{await m._remove(d)}catch{}})),new rd(l,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(M2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(S2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(A2(e))return"Blackberry";if(k2(e))return"Webos";if(T2(e))return"Safari";if((e.includes("chrome/")||C2(e))&&!e.includes("edge/"))return"Chrome";if(R2(e))return"Android";{const a=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(a);if(n?.length===2)return n[1]}return"Other"}function S2(t=On()){return/firefox\//i.test(t)}function T2(t=On()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function C2(t=On()){return/crios\//i.test(t)}function M2(t=On()){return/iemobile/i.test(t)}function R2(t=On()){return/android/i.test(t)}function A2(t=On()){return/blackberry/i.test(t)}function k2(t=On()){return/webos/i.test(t)}function Pw(t=On()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function P7(t=On()){return Pw(t)&&!!window.navigator?.standalone}function W7(){return Y6()&&document.documentMode===10}function E2(t=On()){return Pw(t)||R2(t)||k2(t)||A2(t)||/windows phone/i.test(t)||M2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(t,e=[]){let a;switch(t){case"Browser":a=BM(On());break;case"Worker":a=`${BM(On())}-${t}`;break;default:a=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${a}/JsCore/${Ld}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,a){const n=l=>new Promise((d,u)=>{try{const h=e(l);d(h)}catch(h){u(h)}});n.onAbort=a,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const a=[];try{for(const n of this.queue)await n(e),n.onAbort&&a.push(n.onAbort)}catch(n){a.reverse();for(const i of a)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L7(t,e={}){return Vd(t,"GET","/v2/passwordPolicy",jw(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V7=6;class U7{constructor(e){const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=a.minPasswordLength??V7,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=a.meetsMinPasswordLength??!0),a.isValid&&(a.isValid=a.meetsMaxPasswordLength??!0),a.isValid&&(a.isValid=a.containsLowercaseLetter??!0),a.isValid&&(a.isValid=a.containsUppercaseLetter??!0),a.isValid&&(a.isValid=a.containsNumericCharacter??!0),a.isValid&&(a.isValid=a.containsNonAlphanumericCharacter??!0),a}validatePasswordLengthOptions(e,a){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(a.meetsMinPasswordLength=e.length>=n),i&&(a.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,a){this.updatePasswordCharacterOptionsStatuses(a,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(a,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,a,n,i,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=a)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(e,a,n,i){this.app=e,this.heartbeatServiceProvider=a,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new NM(this),this.idTokenSubscription=new NM(this),this.beforeStateQueue=new D7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,a){return a&&(this._popupRedirectResolver=Io(a)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await rd.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(a),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const a=await Og(this,{idToken:e}),n=await oi._fromGetAccountInfoResponse(this,a,e);await this.directlySetCurrentUser(n)}catch(a){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",a),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ti(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(d,d))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let n=a,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,d=n?._redirectEventId,u=await this.tryRedirectSignIn(e);(!l||l===d)&&u?.user&&(n=u.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(l){n=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let a=null;try{a=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return a}async reloadAndSetCurrentUserOrClear(e){try{await zg(e)}catch(a){if(a?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=v7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ti(this.app))return Promise.reject(Pl(this));const a=e?zn(e):null;return a&&Et(a.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(a&&a._clone(this))}async _updateCurrentUser(e,a=!1){if(!this._deleted)return e&&Et(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),a||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject(Pl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ti(this.app)?Promise.reject(Pl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Io(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const a=this._getPasswordPolicyInternal();return a.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):a.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await L7(this),a=new U7(e);this.tenantId===null?this._projectPasswordPolicy=a:this._tenantPasswordPolicies[this.tenantId]=a}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new lh("auth","Firebase",e())}onAuthStateChanged(e,a,n){return this.registerStateListener(this.authStateSubscription,e,a,n)}beforeAuthStateChanged(e,a){return this.beforeStateQueue.pushCallback(e,a)}onIdTokenChanged(e,a,n){return this.registerStateListener(this.idTokenSubscription,e,a,n)}authStateReady(){return new Promise((e,a)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},a)}})}async revokeAccessToken(e){if(this.currentUser){const a=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:a};this.tenantId!=null&&(n.tenantId=this.tenantId),await I7(this,n)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,a){const n=await this.getOrInitRedirectPersistenceManager(a);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const a=e&&Io(e)||this._popupRedirectResolver;Et(a,this,"argument-error"),this.redirectPersistenceManager=await rd.create(this,[Io(a._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,a,n,i){if(this._deleted)return()=>{};const l=typeof a=="function"?a:a.next.bind(a);let d=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(u,this,"internal-error"),u.then(()=>{d||l(this.currentUser)}),typeof a=="function"){const h=e.addObserver(a,n,i);return()=>{d=!0,h()}}else{const h=e.addObserver(a);return()=>{d=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const a=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();a&&(e["X-Firebase-Client"]=a);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&g7(`Error while retrieving App Check token: ${e.error}`),e?.token}}function jf(t){return zn(t)}class NM{constructor(e){this.auth=e,this.observer=null,this.addObserver=nN(a=>this.observer=a)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ww={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function z7(t){Ww=t}function B7(t){return Ww.loadJS(t)}function N7(){return Ww.gapiScript}function F7(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q7(t,e){const a=Aw(t,"auth");if(a.isInitialized()){const i=a.getImmediate(),l=a.getOptions();if(zl(l,e??{}))return i;Xi(i,"already-initialized")}return a.initialize({options:e})}function H7(t,e){const a=e?.persistence||[],n=(Array.isArray(a)?a:[a]).map(Io);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e?.popupRedirectResolver)}function $7(t,e,a){const n=jf(t);Et(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,l=j2(e),{host:d,port:u}=G7(e),h=u===null?"":`:${u}`,m={url:`${l}//${d}${h}/`},y=Object.freeze({host:d,port:u,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){Et(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Et(zl(m,n.config.emulator)&&zl(y,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=m,n.emulatorConfig=y,n.settings.appVerificationDisabledForTesting=!0,Dd(d)?(s2(`${l}//${d}${h}`),l2("Auth",!0)):K7()}function j2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function G7(t){const e=j2(t),a=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!a)return{host:"",port:null};const n=a[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const l=i[1];return{host:l,port:FM(n.substr(l.length+1))}}else{const[l,d]=n.split(":");return{host:l,port:FM(d)}}}function FM(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function K7(){function t(){const e=document.createElement("p"),a=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",a.position="fixed",a.width="100%",a.backgroundColor="#ffffff",a.border=".1em solid #000000",a.color="#b50000",a.bottom="0px",a.left="0px",a.margin="0px",a.zIndex="10000",a.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e,a){this.providerId=e,this.signInMethod=a}toJSON(){return jo("not implemented")}_getIdTokenResponse(e){return jo("not implemented")}_linkToIdToken(e,a){return jo("not implemented")}_getReauthenticationResolver(e){return jo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function id(t,e){return T7(t,"POST","/v1/accounts:signInWithIdp",jw(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y7="http://localhost";class Nl extends I2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const a=new Nl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(a.idToken=e.idToken),e.accessToken&&(a.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(a.nonce=e.nonce),e.pendingToken&&(a.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(a.accessToken=e.oauthToken,a.secret=e.oauthTokenSecret):Xi("argument-error"),a}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const a=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...l}=a;if(!n||!i)return null;const d=new Nl(n,i);return d.idToken=l.idToken||void 0,d.accessToken=l.accessToken||void 0,d.secret=l.secret,d.nonce=l.nonce,d.pendingToken=l.pendingToken||null,d}_getIdTokenResponse(e){const a=this.buildRequest();return id(e,a)}_linkToIdToken(e,a){const n=this.buildRequest();return n.idToken=a,id(e,n)}_getReauthenticationResolver(e){const a=this.buildRequest();return a.autoCreate=!1,id(e,a)}buildRequest(){const e={requestUri:Y7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const a={};this.idToken&&(a.id_token=this.idToken),this.accessToken&&(a.access_token=this.accessToken),this.secret&&(a.oauth_token_secret=this.secret),a.providerId=this.providerId,this.nonce&&!this.pendingToken&&(a.nonce=this.nonce),e.postBody=ch(a)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh extends Dw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends uh{constructor(){super("facebook.com")}static credential(e){return Nl._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vs.credential(e.oauthAccessToken)}catch{return null}}}vs.FACEBOOK_SIGN_IN_METHOD="facebook.com";vs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o extends uh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,a){return Nl._fromParams({providerId:_o.PROVIDER_ID,signInMethod:_o.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:a})}static credentialFromResult(e){return _o.credentialFromTaggedObject(e)}static credentialFromError(e){return _o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:a,oauthAccessToken:n}=e;if(!a&&!n)return null;try{return _o.credential(a,n)}catch{return null}}}_o.GOOGLE_SIGN_IN_METHOD="google.com";_o.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends uh{constructor(){super("github.com")}static credential(e){return Nl._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xs.credential(e.oauthAccessToken)}catch{return null}}}xs.GITHUB_SIGN_IN_METHOD="github.com";xs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends uh{constructor(){super("twitter.com")}static credential(e,a){return Nl._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:a})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:a,oauthTokenSecret:n}=e;if(!a||!n)return null;try{return ws.credential(a,n)}catch{return null}}}ws.TWITTER_SIGN_IN_METHOD="twitter.com";ws.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,a,n,i=!1){const l=await oi._fromIdTokenResponse(e,n,i),d=qM(n);return new bd({user:l,providerId:d,_tokenResponse:n,operationType:a})}static async _forOperation(e,a,n){await e._updateTokensIfNecessary(n,!0);const i=qM(n);return new bd({user:e,providerId:i,_tokenResponse:n,operationType:a})}}function qM(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg extends Fo{constructor(e,a,n,i){super(a.code,a.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Bg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:a.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,a,n,i){return new Bg(e,a,n,i)}}function P2(t,e,a,n){return(e==="reauthenticate"?a._getReauthenticationResolver(t):a._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Bg._fromErrorAndOperation(t,l,e,n):l})}async function X7(t,e,a=!1){const n=await Op(t,e._linkToIdToken(t.auth,await t.getIdToken()),a);return bd._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q7(t,e,a=!1){const{auth:n}=t;if(ti(n.app))return Promise.reject(Pl(n));const i="reauthenticate";try{const l=await Op(t,P2(n,i,e,t),a);Et(l.idToken,n,"internal-error");const d=Iw(l.idToken);Et(d,n,"internal-error");const{sub:u}=d;return Et(t.uid===u,n,"user-mismatch"),bd._forOperation(t,i,l)}catch(l){throw l?.code==="auth/user-not-found"&&Xi(n,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J7(t,e,a=!1){if(ti(t.app))return Promise.reject(Pl(t));const n="signIn",i=await P2(t,n,e),l=await bd._fromIdTokenResponse(t,n,i);return a||await t._updateCurrentUser(l.user),l}function Z7(t,e,a,n){return zn(t).onIdTokenChanged(e,a,n)}function eF(t,e,a){return zn(t).beforeAuthStateChanged(e,a)}function tF(t,e,a,n){return zn(t).onAuthStateChanged(e,a,n)}function aF(t){return zn(t).signOut()}const Ng="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e,a){this.storageRetriever=e,this.type=a}_isAvailable(){try{return this.storage?(this.storage.setItem(Ng,"1"),this.storage.removeItem(Ng),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,a){return this.storage.setItem(e,JSON.stringify(a)),Promise.resolve()}_get(e){const a=this.storage.getItem(e);return Promise.resolve(a?JSON.parse(a):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF=1e3,rF=10;class D2 extends W2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,a)=>this.onStorageEvent(e,a),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=E2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const a of Object.keys(this.listeners)){const n=this.storage.getItem(a),i=this.localCache[a];n!==i&&e(a,i,n)}}onStorageEvent(e,a=!1){if(!e.key){this.forAllChangedKeys((d,u,h)=>{this.notifyListeners(d,h)});return}const n=e.key;a?this.detachListener():this.stopPolling();const i=()=>{const d=this.storage.getItem(n);!a&&this.localCache[n]===d||this.notifyListeners(n,d)},l=this.storage.getItem(n);W7()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,rF):i()}notifyListeners(e,a){this.localCache[e]=a;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(a&&JSON.parse(a))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,a,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:a,newValue:n}),!0)})},nF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,a){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(a)}_removeListener(e,a){this.listeners[e]&&(this.listeners[e].delete(a),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,a){await super._set(e,a),this.localCache[e]=JSON.stringify(a)}async _get(e){const a=await super._get(e);return this.localCache[e]=JSON.stringify(a),a}async _remove(e){await super._remove(e),delete this.localCache[e]}}D2.type="LOCAL";const iF=D2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2 extends W2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,a){}_removeListener(e,a){}}L2.type="SESSION";const V2=L2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(a){return{fulfilled:!1,reason:a}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const a=this.receivers.find(i=>i.isListeningto(e));if(a)return a;const n=new If(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const a=e,{eventId:n,eventType:i,data:l}=a.data,d=this.handlersMap[i];if(!d?.size)return;a.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const u=Array.from(d).map(async m=>m(a.origin,l)),h=await oF(u);a.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:h})}_subscribe(e,a){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(a)}_unsubscribe(e,a){this.handlersMap[e]&&a&&this.handlersMap[e].delete(a),(!a||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}If.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(t="",e=10){let a="";for(let n=0;n<e;n++)a+=Math.floor(Math.random()*10);return t+a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,a,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let l,d;return new Promise((u,h)=>{const m=Lw("",20);i.port1.start();const y=setTimeout(()=>{h(new Error("unsupported_event"))},n);d={messageChannel:i,onMessage(v){const x=v;if(x.data.eventId===m)switch(x.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),u(x.data.response);break;default:clearTimeout(y),clearTimeout(l),h(new Error("invalid_response"));break}}},this.handlers.add(d),i.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:m,data:a},[i.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(){return window}function lF(t){Fi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(){return typeof Fi().WorkerGlobalScope<"u"&&typeof Fi().importScripts=="function"}async function cF(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dF(){return navigator?.serviceWorker?.controller||null}function uF(){return U2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="firebaseLocalStorageDb",pF=1,Fg="firebaseLocalStorage",z2="fbase_key";class ph{constructor(e){this.request=e}toPromise(){return new Promise((e,a)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{a(this.request.error)})})}}function Pf(t,e){return t.transaction([Fg],e?"readwrite":"readonly").objectStore(Fg)}function hF(){const t=indexedDB.deleteDatabase(O2);return new ph(t).toPromise()}function yx(){const t=indexedDB.open(O2,pF);return new Promise((e,a)=>{t.addEventListener("error",()=>{a(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Fg,{keyPath:z2})}catch(i){a(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Fg)?e(n):(n.close(),await hF(),e(await yx()))})})}async function HM(t,e,a){const n=Pf(t,!0).put({[z2]:e,value:a});return new ph(n).toPromise()}async function mF(t,e){const a=Pf(t,!1).get(e),n=await new ph(a).toPromise();return n===void 0?null:n.value}function $M(t,e){const a=Pf(t,!0).delete(e);return new ph(a).toPromise()}const gF=800,fF=3;class B2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yx(),this.db)}async _withRetries(e){let a=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(a++>fF)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return U2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=If._getInstance(uF()),this.receiver._subscribe("keyChanged",async(e,a)=>({keyProcessed:(await this._poll()).includes(a.key)})),this.receiver._subscribe("ping",async(e,a)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await cF(),!this.activeServiceWorker)return;this.sender=new sF(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yx();return await HM(e,Ng,"1"),await $M(e,Ng),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,a){return this._withPendingWrite(async()=>(await this._withRetries(n=>HM(n,e,a)),this.localCache[e]=a,this.notifyServiceWorker(e)))}async _get(e){const a=await this._withRetries(n=>mF(n,e));return this.localCache[e]=a,a}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(a=>$M(a,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const l=Pf(i,!1).getAll();return new ph(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const a=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:l}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(l)&&(this.notifyListeners(i,l),a.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),a.push(i));return a}notifyListeners(e,a){this.localCache[e]=a;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(a)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,a){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(a)}_removeListener(e,a){this.listeners[e]&&(this.listeners[e].delete(a),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}B2.type="LOCAL";const yF=B2;new dh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(t,e){return e?Io(e):(Et(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw extends I2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return id(e,this._buildIdpRequest())}_linkToIdToken(e,a){return id(e,this._buildIdpRequest(a))}_getReauthenticationResolver(e){return id(e,this._buildIdpRequest())}_buildIdpRequest(e){const a={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(a.idToken=e),a}}function bF(t){return J7(t.auth,new Vw(t),t.bypassAuthState)}function vF(t){const{auth:e,user:a}=t;return Et(a,e,"internal-error"),Q7(a,new Vw(t),t.bypassAuthState)}async function xF(t){const{auth:e,user:a}=t;return Et(a,e,"internal-error"),X7(a,new Vw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,a,n,i,l=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(a)?a:[a]}execute(){return new Promise(async(e,a)=>{this.pendingPromise={resolve:e,reject:a};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:a,sessionId:n,postBody:i,tenantId:l,error:d,type:u}=e;if(d){this.reject(d);return}const h={auth:this.auth,requestUri:a,sessionId:n,tenantId:l||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bF;case"linkViaPopup":case"linkViaRedirect":return xF;case"reauthViaPopup":case"reauthViaRedirect":return vF;default:Xi(this.auth,"internal-error")}}resolve(e){Uo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Uo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wF=new dh(2e3,1e4);async function SF(t,e,a){if(ti(t.app))return Promise.reject(ci(t,"operation-not-supported-in-this-environment"));const n=jf(t);f7(t,e,Dw);const i=N2(n,a);return new El(n,"signInViaPopup",e,i).executeNotNull()}class El extends F2{constructor(e,a,n,i,l){super(e,a,i,l),this.provider=n,this.authWindow=null,this.pollId=null,El.currentPopupAction&&El.currentPopupAction.cancel(),El.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Et(e,this.auth,"internal-error"),e}async onExecution(){Uo(this.filter.length===1,"Popup operations only handle one event");const e=Lw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(a=>{this.reject(a)}),this.resolver._isIframeWebStorageSupported(this.auth,a=>{a||this.reject(ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,El.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wF.get())};e()}}El.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TF="pendingRedirect",gg=new Map;class CF extends F2{constructor(e,a,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],a,void 0,n),this.eventId=null}async execute(){let e=gg.get(this.auth._key());if(!e){try{const n=await MF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(a){e=()=>Promise.reject(a)}gg.set(this.auth._key(),e)}return this.bypassAuthState||gg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const a=await this.auth._redirectUserForId(e.eventId);if(a)return this.user=a,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MF(t,e){const a=kF(e),n=AF(t);if(!await n._isAvailable())return!1;const i=await n._get(a)==="true";return await n._remove(a),i}function RF(t,e){gg.set(t._key(),e)}function AF(t){return Io(t._redirectPersistence)}function kF(t){return mg(TF,t.config.apiKey,t.name)}async function EF(t,e,a=!1){if(ti(t.app))return Promise.reject(Pl(t));const n=jf(t),i=N2(n,e),d=await new CF(n,i,a).execute();return d&&!a&&(delete d.user._redirectEventId,await n._persistUserIfCurrent(d.user),await n._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _F=600*1e3;class jF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let a=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(a=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!IF(e)||(this.hasHandledPotentialRedirect=!0,a||(this.queuedRedirectEvent=e,a=!0)),a}sendToConsumer(e,a){if(e.error&&!q2(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";a.onError(ci(this.auth,n))}else a.onAuthEvent(e)}isEventForConsumer(e,a){const n=a.eventId===null||!!e.eventId&&e.eventId===a.eventId;return a.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_F&&this.cachedEventUids.clear(),this.cachedEventUids.has(GM(e))}saveEventToCache(e){this.cachedEventUids.add(GM(e)),this.lastProcessedEventTime=Date.now()}}function GM(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function q2({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function IF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return q2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PF(t,e={}){return Vd(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DF=/^https?/;async function LF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await PF(t);for(const a of e)try{if(VF(a))return}catch{}Xi(t,"unauthorized-domain")}function VF(t){const e=gx(),{protocol:a,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const d=new URL(t);return d.hostname===""&&n===""?a==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):a==="chrome-extension:"&&d.hostname===n}if(!DF.test(a))return!1;if(WF.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF=new dh(3e4,6e4);function KM(){const t=Fi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let a=0;a<t.CP.length;a++)t.CP[a]=null}}function OF(t){return new Promise((e,a)=>{function n(){KM(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{KM(),a(ci(t,"network-request-failed"))},timeout:UF.get()})}if(Fi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Fi().gapi?.load)n();else{const i=F7("iframefcb");return Fi()[i]=()=>{gapi.load?n():a(ci(t,"network-request-failed"))},B7(`${N7()}?onload=${i}`).catch(l=>a(l))}}).catch(e=>{throw fg=null,e})}let fg=null;function zF(t){return fg=fg||OF(t),fg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BF=new dh(5e3,15e3),NF="__/auth/iframe",FF="emulator/auth/iframe",qF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $F(t){const e=t.config;Et(e.authDomain,t,"auth-domain-config-required");const a=e.emulator?_w(e,FF):`https://${t.config.authDomain}/${NF}`,n={apiKey:e.apiKey,appName:t.name,v:Ld},i=HF.get(t.config.apiHost);i&&(n.eid=i);const l=t._getFrameworks();return l.length&&(n.fw=l.join(",")),`${a}?${ch(n).slice(1)}`}async function GF(t){const e=await zF(t),a=Fi().gapi;return Et(a,t,"internal-error"),e.open({where:document.body,url:$F(t),messageHandlersFilter:a.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qF,dontclear:!0},n=>new Promise(async(i,l)=>{await n.restyle({setHideOnLeave:!1});const d=ci(t,"network-request-failed"),u=Fi().setTimeout(()=>{l(d)},BF.get());function h(){Fi().clearTimeout(u),i(n)}n.ping(h).then(h,()=>{l(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YF=500,XF=600,QF="_blank",JF="http://localhost";class YM{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZF(t,e,a,n=YF,i=XF){const l=Math.max((window.screen.availHeight-i)/2,0).toString(),d=Math.max((window.screen.availWidth-n)/2,0).toString();let u="";const h={...KF,width:n.toString(),height:i.toString(),top:l,left:d},m=On().toLowerCase();a&&(u=C2(m)?QF:a),S2(m)&&(e=e||JF,h.scrollbars="yes");const y=Object.entries(h).reduce((x,[T,C])=>`${x}${T}=${C},`,"");if(P7(m)&&u!=="_self")return eq(e||"",u),new YM(null);const v=window.open(e||"",u,y);Et(v,t,"popup-blocked");try{v.focus()}catch{}return new YM(v)}function eq(t,e){const a=document.createElement("a");a.href=t,a.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),a.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tq="__/auth/handler",aq="emulator/auth/handler",nq=encodeURIComponent("fac");async function XM(t,e,a,n,i,l){Et(t.config.authDomain,t,"auth-domain-config-required"),Et(t.config.apiKey,t,"invalid-api-key");const d={apiKey:t.config.apiKey,appName:t.name,authType:a,redirectUrl:n,v:Ld,eventId:i};if(e instanceof Dw){e.setDefaultLanguage(t.languageCode),d.providerId=e.providerId||"",aN(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))d[y]=v}if(e instanceof uh){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(d.scopes=y.join(","))}t.tenantId&&(d.tid=t.tenantId);const u=d;for(const y of Object.keys(u))u[y]===void 0&&delete u[y];const h=await t._getAppCheckToken(),m=h?`#${nq}=${encodeURIComponent(h)}`:"";return`${rq(t)}?${ch(u).slice(1)}${m}`}function rq({config:t}){return t.emulator?_w(t,aq):`https://${t.authDomain}/${tq}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="webStorageSupport";class iq{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=V2,this._completeRedirectFn=EF,this._overrideRedirectResult=RF}async _openPopup(e,a,n,i){Uo(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await XM(e,a,n,gx(),i);return ZF(e,l,Lw())}async _openRedirect(e,a,n,i){await this._originValidation(e);const l=await XM(e,a,n,gx(),i);return lF(l),new Promise(()=>{})}_initialize(e){const a=e._key();if(this.eventManagers[a]){const{manager:i,promise:l}=this.eventManagers[a];return i?Promise.resolve(i):(Uo(l,"If manager is not set, promise should be"),l)}const n=this.initAndGetManager(e);return this.eventManagers[a]={promise:n},n.catch(()=>{delete this.eventManagers[a]}),n}async initAndGetManager(e){const a=await GF(e),n=new jF(e);return a.register("authEvent",i=>(Et(i?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=a,n}_isIframeWebStorageSupported(e,a){this.iframes[e._key()].send(Sv,{type:Sv},i=>{const l=i?.[0]?.[Sv];l!==void 0&&a(!!l),Xi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const a=e._key();return this.originValidationPromises[a]||(this.originValidationPromises[a]=LF(e)),this.originValidationPromises[a]}get _shouldInitProactively(){return E2()||T2()||Pw()}}const oq=iq;var QM="@firebase/auth",JM="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sq{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const a=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,a),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const a=this.internalListeners.get(e);a&&(this.internalListeners.delete(e),a(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lq(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cq(t){yd(new Bl("auth",(e,{options:a})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:d,authDomain:u}=n.options;Et(d&&!d.includes(":"),"invalid-api-key",{appName:n.name});const h={apiKey:d,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_2(t)},m=new O7(n,i,l,h);return H7(m,a),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,a,n)=>{e.getProvider("auth-internal").initialize()})),yd(new Bl("auth-internal",e=>{const a=jf(e.getProvider("auth").getImmediate());return(n=>new sq(n))(a)},"PRIVATE").setInstantiationMode("EXPLICIT")),As(QM,JM,lq(t)),As(QM,JM,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dq=300,uq=o2("authIdTokenMaxAge")||dq;let ZM=null;const pq=t=>async e=>{const a=e&&await e.getIdTokenResult(),n=a&&(new Date().getTime()-Date.parse(a.issuedAtTime))/1e3;if(n&&n>uq)return;const i=a?.token;ZM!==i&&(ZM=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function hq(t=p2()){const e=Aw(t,"auth");if(e.isInitialized())return e.getImmediate();const a=q7(t,{popupRedirectResolver:oq,persistence:[yF,iF,V2]}),n=o2("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(n,location.origin);if(location.origin===l.origin){const d=pq(l.toString());eF(a,d,()=>d(a.currentUser)),Z7(a,u=>d(u))}}const i=r2("auth");return i&&$7(a,`http://${i}`),a}function mq(){return document.getElementsByTagName("head")?.[0]??document}z7({loadJS(t){return new Promise((e,a)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const l=ci("internal-error");l.customData=i,a(l)},n.type="text/javascript",n.charset="UTF-8",mq().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cq("Browser");var gq="firebase",fq="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */As(gq,fq,"app");var eR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ks,H2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,A){function _(){}_.prototype=A.prototype,V.D=A.prototype,V.prototype=new _,V.prototype.constructor=V,V.C=function(S,D,U){for(var P=Array(arguments.length-2),K=2;K<arguments.length;K++)P[K-2]=arguments[K];return A.prototype[D].apply(S,P)}}function a(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,a),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(V,A,_){_||(_=0);var S=Array(16);if(typeof A=="string")for(var D=0;16>D;++D)S[D]=A.charCodeAt(_++)|A.charCodeAt(_++)<<8|A.charCodeAt(_++)<<16|A.charCodeAt(_++)<<24;else for(D=0;16>D;++D)S[D]=A[_++]|A[_++]<<8|A[_++]<<16|A[_++]<<24;A=V.g[0],_=V.g[1],D=V.g[2];var U=V.g[3],P=A+(U^_&(D^U))+S[0]+3614090360&4294967295;A=_+(P<<7&4294967295|P>>>25),P=U+(D^A&(_^D))+S[1]+3905402710&4294967295,U=A+(P<<12&4294967295|P>>>20),P=D+(_^U&(A^_))+S[2]+606105819&4294967295,D=U+(P<<17&4294967295|P>>>15),P=_+(A^D&(U^A))+S[3]+3250441966&4294967295,_=D+(P<<22&4294967295|P>>>10),P=A+(U^_&(D^U))+S[4]+4118548399&4294967295,A=_+(P<<7&4294967295|P>>>25),P=U+(D^A&(_^D))+S[5]+1200080426&4294967295,U=A+(P<<12&4294967295|P>>>20),P=D+(_^U&(A^_))+S[6]+2821735955&4294967295,D=U+(P<<17&4294967295|P>>>15),P=_+(A^D&(U^A))+S[7]+4249261313&4294967295,_=D+(P<<22&4294967295|P>>>10),P=A+(U^_&(D^U))+S[8]+1770035416&4294967295,A=_+(P<<7&4294967295|P>>>25),P=U+(D^A&(_^D))+S[9]+2336552879&4294967295,U=A+(P<<12&4294967295|P>>>20),P=D+(_^U&(A^_))+S[10]+4294925233&4294967295,D=U+(P<<17&4294967295|P>>>15),P=_+(A^D&(U^A))+S[11]+2304563134&4294967295,_=D+(P<<22&4294967295|P>>>10),P=A+(U^_&(D^U))+S[12]+1804603682&4294967295,A=_+(P<<7&4294967295|P>>>25),P=U+(D^A&(_^D))+S[13]+4254626195&4294967295,U=A+(P<<12&4294967295|P>>>20),P=D+(_^U&(A^_))+S[14]+2792965006&4294967295,D=U+(P<<17&4294967295|P>>>15),P=_+(A^D&(U^A))+S[15]+1236535329&4294967295,_=D+(P<<22&4294967295|P>>>10),P=A+(D^U&(_^D))+S[1]+4129170786&4294967295,A=_+(P<<5&4294967295|P>>>27),P=U+(_^D&(A^_))+S[6]+3225465664&4294967295,U=A+(P<<9&4294967295|P>>>23),P=D+(A^_&(U^A))+S[11]+643717713&4294967295,D=U+(P<<14&4294967295|P>>>18),P=_+(U^A&(D^U))+S[0]+3921069994&4294967295,_=D+(P<<20&4294967295|P>>>12),P=A+(D^U&(_^D))+S[5]+3593408605&4294967295,A=_+(P<<5&4294967295|P>>>27),P=U+(_^D&(A^_))+S[10]+38016083&4294967295,U=A+(P<<9&4294967295|P>>>23),P=D+(A^_&(U^A))+S[15]+3634488961&4294967295,D=U+(P<<14&4294967295|P>>>18),P=_+(U^A&(D^U))+S[4]+3889429448&4294967295,_=D+(P<<20&4294967295|P>>>12),P=A+(D^U&(_^D))+S[9]+568446438&4294967295,A=_+(P<<5&4294967295|P>>>27),P=U+(_^D&(A^_))+S[14]+3275163606&4294967295,U=A+(P<<9&4294967295|P>>>23),P=D+(A^_&(U^A))+S[3]+4107603335&4294967295,D=U+(P<<14&4294967295|P>>>18),P=_+(U^A&(D^U))+S[8]+1163531501&4294967295,_=D+(P<<20&4294967295|P>>>12),P=A+(D^U&(_^D))+S[13]+2850285829&4294967295,A=_+(P<<5&4294967295|P>>>27),P=U+(_^D&(A^_))+S[2]+4243563512&4294967295,U=A+(P<<9&4294967295|P>>>23),P=D+(A^_&(U^A))+S[7]+1735328473&4294967295,D=U+(P<<14&4294967295|P>>>18),P=_+(U^A&(D^U))+S[12]+2368359562&4294967295,_=D+(P<<20&4294967295|P>>>12),P=A+(_^D^U)+S[5]+4294588738&4294967295,A=_+(P<<4&4294967295|P>>>28),P=U+(A^_^D)+S[8]+2272392833&4294967295,U=A+(P<<11&4294967295|P>>>21),P=D+(U^A^_)+S[11]+1839030562&4294967295,D=U+(P<<16&4294967295|P>>>16),P=_+(D^U^A)+S[14]+4259657740&4294967295,_=D+(P<<23&4294967295|P>>>9),P=A+(_^D^U)+S[1]+2763975236&4294967295,A=_+(P<<4&4294967295|P>>>28),P=U+(A^_^D)+S[4]+1272893353&4294967295,U=A+(P<<11&4294967295|P>>>21),P=D+(U^A^_)+S[7]+4139469664&4294967295,D=U+(P<<16&4294967295|P>>>16),P=_+(D^U^A)+S[10]+3200236656&4294967295,_=D+(P<<23&4294967295|P>>>9),P=A+(_^D^U)+S[13]+681279174&4294967295,A=_+(P<<4&4294967295|P>>>28),P=U+(A^_^D)+S[0]+3936430074&4294967295,U=A+(P<<11&4294967295|P>>>21),P=D+(U^A^_)+S[3]+3572445317&4294967295,D=U+(P<<16&4294967295|P>>>16),P=_+(D^U^A)+S[6]+76029189&4294967295,_=D+(P<<23&4294967295|P>>>9),P=A+(_^D^U)+S[9]+3654602809&4294967295,A=_+(P<<4&4294967295|P>>>28),P=U+(A^_^D)+S[12]+3873151461&4294967295,U=A+(P<<11&4294967295|P>>>21),P=D+(U^A^_)+S[15]+530742520&4294967295,D=U+(P<<16&4294967295|P>>>16),P=_+(D^U^A)+S[2]+3299628645&4294967295,_=D+(P<<23&4294967295|P>>>9),P=A+(D^(_|~U))+S[0]+4096336452&4294967295,A=_+(P<<6&4294967295|P>>>26),P=U+(_^(A|~D))+S[7]+1126891415&4294967295,U=A+(P<<10&4294967295|P>>>22),P=D+(A^(U|~_))+S[14]+2878612391&4294967295,D=U+(P<<15&4294967295|P>>>17),P=_+(U^(D|~A))+S[5]+4237533241&4294967295,_=D+(P<<21&4294967295|P>>>11),P=A+(D^(_|~U))+S[12]+1700485571&4294967295,A=_+(P<<6&4294967295|P>>>26),P=U+(_^(A|~D))+S[3]+2399980690&4294967295,U=A+(P<<10&4294967295|P>>>22),P=D+(A^(U|~_))+S[10]+4293915773&4294967295,D=U+(P<<15&4294967295|P>>>17),P=_+(U^(D|~A))+S[1]+2240044497&4294967295,_=D+(P<<21&4294967295|P>>>11),P=A+(D^(_|~U))+S[8]+1873313359&4294967295,A=_+(P<<6&4294967295|P>>>26),P=U+(_^(A|~D))+S[15]+4264355552&4294967295,U=A+(P<<10&4294967295|P>>>22),P=D+(A^(U|~_))+S[6]+2734768916&4294967295,D=U+(P<<15&4294967295|P>>>17),P=_+(U^(D|~A))+S[13]+1309151649&4294967295,_=D+(P<<21&4294967295|P>>>11),P=A+(D^(_|~U))+S[4]+4149444226&4294967295,A=_+(P<<6&4294967295|P>>>26),P=U+(_^(A|~D))+S[11]+3174756917&4294967295,U=A+(P<<10&4294967295|P>>>22),P=D+(A^(U|~_))+S[2]+718787259&4294967295,D=U+(P<<15&4294967295|P>>>17),P=_+(U^(D|~A))+S[9]+3951481745&4294967295,V.g[0]=V.g[0]+A&4294967295,V.g[1]=V.g[1]+(D+(P<<21&4294967295|P>>>11))&4294967295,V.g[2]=V.g[2]+D&4294967295,V.g[3]=V.g[3]+U&4294967295}n.prototype.u=function(V,A){A===void 0&&(A=V.length);for(var _=A-this.blockSize,S=this.B,D=this.h,U=0;U<A;){if(D==0)for(;U<=_;)i(this,V,U),U+=this.blockSize;if(typeof V=="string"){for(;U<A;)if(S[D++]=V.charCodeAt(U++),D==this.blockSize){i(this,S),D=0;break}}else for(;U<A;)if(S[D++]=V[U++],D==this.blockSize){i(this,S),D=0;break}}this.h=D,this.o+=A},n.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var A=1;A<V.length-8;++A)V[A]=0;var _=8*this.o;for(A=V.length-8;A<V.length;++A)V[A]=_&255,_/=256;for(this.u(V),V=Array(16),A=_=0;4>A;++A)for(var S=0;32>S;S+=8)V[_++]=this.g[A]>>>S&255;return V};function l(V,A){var _=u;return Object.prototype.hasOwnProperty.call(_,V)?_[V]:_[V]=A(V)}function d(V,A){this.h=A;for(var _=[],S=!0,D=V.length-1;0<=D;D--){var U=V[D]|0;S&&U==A||(_[D]=U,S=!1)}this.g=_}var u={};function h(V){return-128<=V&&128>V?l(V,function(A){return new d([A|0],0>A?-1:0)}):new d([V|0],0>V?-1:0)}function m(V){if(isNaN(V)||!isFinite(V))return v;if(0>V)return E(m(-V));for(var A=[],_=1,S=0;V>=_;S++)A[S]=V/_|0,_*=4294967296;return new d(A,0)}function y(V,A){if(V.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(V.charAt(0)=="-")return E(y(V.substring(1),A));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=m(Math.pow(A,8)),S=v,D=0;D<V.length;D+=8){var U=Math.min(8,V.length-D),P=parseInt(V.substring(D,D+U),A);8>U?(U=m(Math.pow(A,U)),S=S.j(U).add(m(P))):(S=S.j(_),S=S.add(m(P)))}return S}var v=h(0),x=h(1),T=h(16777216);t=d.prototype,t.m=function(){if(j(this))return-E(this).m();for(var V=0,A=1,_=0;_<this.g.length;_++){var S=this.i(_);V+=(0<=S?S:4294967296+S)*A,A*=4294967296}return V},t.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(C(this))return"0";if(j(this))return"-"+E(this).toString(V);for(var A=m(Math.pow(V,6)),_=this,S="";;){var D=R(_,A).g;_=M(_,D.j(A));var U=((0<_.g.length?_.g[0]:_.h)>>>0).toString(V);if(_=D,C(_))return U+S;for(;6>U.length;)U="0"+U;S=U+S}},t.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function C(V){if(V.h!=0)return!1;for(var A=0;A<V.g.length;A++)if(V.g[A]!=0)return!1;return!0}function j(V){return V.h==-1}t.l=function(V){return V=M(this,V),j(V)?-1:C(V)?0:1};function E(V){for(var A=V.g.length,_=[],S=0;S<A;S++)_[S]=~V.g[S];return new d(_,~V.h).add(x)}t.abs=function(){return j(this)?E(this):this},t.add=function(V){for(var A=Math.max(this.g.length,V.g.length),_=[],S=0,D=0;D<=A;D++){var U=S+(this.i(D)&65535)+(V.i(D)&65535),P=(U>>>16)+(this.i(D)>>>16)+(V.i(D)>>>16);S=P>>>16,U&=65535,P&=65535,_[D]=P<<16|U}return new d(_,_[_.length-1]&-2147483648?-1:0)};function M(V,A){return V.add(E(A))}t.j=function(V){if(C(this)||C(V))return v;if(j(this))return j(V)?E(this).j(E(V)):E(E(this).j(V));if(j(V))return E(this.j(E(V)));if(0>this.l(T)&&0>V.l(T))return m(this.m()*V.m());for(var A=this.g.length+V.g.length,_=[],S=0;S<2*A;S++)_[S]=0;for(S=0;S<this.g.length;S++)for(var D=0;D<V.g.length;D++){var U=this.i(S)>>>16,P=this.i(S)&65535,K=V.i(D)>>>16,J=V.i(D)&65535;_[2*S+2*D]+=P*J,L(_,2*S+2*D),_[2*S+2*D+1]+=U*J,L(_,2*S+2*D+1),_[2*S+2*D+1]+=P*K,L(_,2*S+2*D+1),_[2*S+2*D+2]+=U*K,L(_,2*S+2*D+2)}for(S=0;S<A;S++)_[S]=_[2*S+1]<<16|_[2*S];for(S=A;S<2*A;S++)_[S]=0;return new d(_,0)};function L(V,A){for(;(V[A]&65535)!=V[A];)V[A+1]+=V[A]>>>16,V[A]&=65535,A++}function W(V,A){this.g=V,this.h=A}function R(V,A){if(C(A))throw Error("division by zero");if(C(V))return new W(v,v);if(j(V))return A=R(E(V),A),new W(E(A.g),E(A.h));if(j(A))return A=R(V,E(A)),new W(E(A.g),A.h);if(30<V.g.length){if(j(V)||j(A))throw Error("slowDivide_ only works with positive integers.");for(var _=x,S=A;0>=S.l(V);)_=I(_),S=I(S);var D=N(_,1),U=N(S,1);for(S=N(S,2),_=N(_,2);!C(S);){var P=U.add(S);0>=P.l(V)&&(D=D.add(_),U=P),S=N(S,1),_=N(_,1)}return A=M(V,D.j(A)),new W(D,A)}for(D=v;0<=V.l(A);){for(_=Math.max(1,Math.floor(V.m()/A.m())),S=Math.ceil(Math.log(_)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),U=m(_),P=U.j(A);j(P)||0<P.l(V);)_-=S,U=m(_),P=U.j(A);C(U)&&(U=x),D=D.add(U),V=M(V,P)}return new W(D,V)}t.A=function(V){return R(this,V).h},t.and=function(V){for(var A=Math.max(this.g.length,V.g.length),_=[],S=0;S<A;S++)_[S]=this.i(S)&V.i(S);return new d(_,this.h&V.h)},t.or=function(V){for(var A=Math.max(this.g.length,V.g.length),_=[],S=0;S<A;S++)_[S]=this.i(S)|V.i(S);return new d(_,this.h|V.h)},t.xor=function(V){for(var A=Math.max(this.g.length,V.g.length),_=[],S=0;S<A;S++)_[S]=this.i(S)^V.i(S);return new d(_,this.h^V.h)};function I(V){for(var A=V.g.length+1,_=[],S=0;S<A;S++)_[S]=V.i(S)<<1|V.i(S-1)>>>31;return new d(_,V.h)}function N(V,A){var _=A>>5;A%=32;for(var S=V.g.length-_,D=[],U=0;U<S;U++)D[U]=0<A?V.i(U+_)>>>A|V.i(U+_+1)<<32-A:V.i(U+_);return new d(D,V.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,H2=n,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=m,d.fromString=y,ks=d}).apply(typeof eR<"u"?eR:typeof self<"u"?self:typeof window<"u"?window:{});var Zm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $2,cp,G2,yg,bx,K2,Y2,X2;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,k,z){return g==Array.prototype||g==Object.prototype||(g[k]=z.value),g};function a(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zm=="object"&&Zm];for(var k=0;k<g.length;++k){var z=g[k];if(z&&z.Math==Math)return z}throw Error("Cannot find global object")}var n=a(this);function i(g,k){if(k)e:{var z=n;g=g.split(".");for(var G=0;G<g.length-1;G++){var de=g[G];if(!(de in z))break e;z=z[de]}g=g[g.length-1],G=z[g],k=k(G),k!=G&&k!=null&&e(z,g,{configurable:!0,writable:!0,value:k})}}function l(g,k){g instanceof String&&(g+="");var z=0,G=!1,de={next:function(){if(!G&&z<g.length){var xe=z++;return{value:k(xe,g[xe]),done:!1}}return G=!0,{done:!0,value:void 0}}};return de[Symbol.iterator]=function(){return de},de}i("Array.prototype.values",function(g){return g||function(){return l(this,function(k,z){return z})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},u=this||self;function h(g){var k=typeof g;return k=k!="object"?k:g?Array.isArray(g)?"array":k:"null",k=="array"||k=="object"&&typeof g.length=="number"}function m(g){var k=typeof g;return k=="object"&&g!=null||k=="function"}function y(g,k,z){return g.call.apply(g.bind,arguments)}function v(g,k,z){if(!g)throw Error();if(2<arguments.length){var G=Array.prototype.slice.call(arguments,2);return function(){var de=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(de,G),g.apply(k,de)}}return function(){return g.apply(k,arguments)}}function x(g,k,z){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:v,x.apply(null,arguments)}function T(g,k){var z=Array.prototype.slice.call(arguments,1);return function(){var G=z.slice();return G.push.apply(G,arguments),g.apply(this,G)}}function C(g,k){function z(){}z.prototype=k.prototype,g.aa=k.prototype,g.prototype=new z,g.prototype.constructor=g,g.Qb=function(G,de,xe){for(var Be=Array(arguments.length-2),Kt=2;Kt<arguments.length;Kt++)Be[Kt-2]=arguments[Kt];return k.prototype[de].apply(G,Be)}}function j(g){const k=g.length;if(0<k){const z=Array(k);for(let G=0;G<k;G++)z[G]=g[G];return z}return[]}function E(g,k){for(let z=1;z<arguments.length;z++){const G=arguments[z];if(h(G)){const de=g.length||0,xe=G.length||0;g.length=de+xe;for(let Be=0;Be<xe;Be++)g[de+Be]=G[Be]}else g.push(G)}}class M{constructor(k,z){this.i=k,this.j=z,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}function L(g){return/^[\s\xa0]*$/.test(g)}function W(){var g=u.navigator;return g&&(g=g.userAgent)?g:""}function R(g){return R[" "](g),g}R[" "]=function(){};var I=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function N(g,k,z){for(const G in g)k.call(z,g[G],G,g)}function V(g,k){for(const z in g)k.call(void 0,g[z],z,g)}function A(g){const k={};for(const z in g)k[z]=g[z];return k}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(g,k){let z,G;for(let de=1;de<arguments.length;de++){G=arguments[de];for(z in G)g[z]=G[z];for(let xe=0;xe<_.length;xe++)z=_[xe],Object.prototype.hasOwnProperty.call(G,z)&&(g[z]=G[z])}}function D(g){var k=1;g=g.split(":");const z=[];for(;0<k&&g.length;)z.push(g.shift()),k--;return g.length&&z.push(g.join(":")),z}function U(g){u.setTimeout(()=>{throw g},0)}function P(){var g=ie;let k=null;return g.g&&(k=g.g,g.g=g.g.next,g.g||(g.h=null),k.next=null),k}class K{constructor(){this.h=this.g=null}add(k,z){const G=J.get();G.set(k,z),this.h?this.h.next=G:this.g=G,this.h=G}}var J=new M(()=>new $,g=>g.reset());class ${constructor(){this.next=this.g=this.h=null}set(k,z){this.h=k,this.g=z,this.next=null}reset(){this.next=this.g=this.h=null}}let X,le=!1,ie=new K,H=()=>{const g=u.Promise.resolve(void 0);X=()=>{g.then(te)}};var te=()=>{for(var g;g=P();){try{g.h.call(g.g)}catch(z){U(z)}var k=J;k.j(g),100>k.h&&(k.h++,g.next=k.g,k.g=g)}le=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(g,k){this.type=g,this.g=this.target=k,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var g=!1,k=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const z=()=>{};u.addEventListener("test",z,k),u.removeEventListener("test",z,k)}catch{}return g}();function be(g,k){if(ne.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var z=this.type=g.type,G=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=k,k=g.relatedTarget){if(I){e:{try{R(k.nodeName);var de=!0;break e}catch{}de=!1}de||(k=null)}}else z=="mouseover"?k=g.fromElement:z=="mouseout"&&(k=g.toElement);this.relatedTarget=k,G?(this.clientX=G.clientX!==void 0?G.clientX:G.pageX,this.clientY=G.clientY!==void 0?G.clientY:G.pageY,this.screenX=G.screenX||0,this.screenY=G.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:oe[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&be.aa.h.call(this)}}C(be,ne);var oe={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var _e="closure_listenable_"+(1e6*Math.random()|0),Me=0;function Oe(g,k,z,G,de){this.listener=g,this.proxy=null,this.src=k,this.type=z,this.capture=!!G,this.ha=de,this.key=++Me,this.da=this.fa=!1}function qe(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Qe(g){this.src=g,this.g={},this.h=0}Qe.prototype.add=function(g,k,z,G,de){var xe=g.toString();g=this.g[xe],g||(g=this.g[xe]=[],this.h++);var Be=ve(g,k,G,de);return-1<Be?(k=g[Be],z||(k.fa=!1)):(k=new Oe(k,this.src,xe,!!G,de),k.fa=z,g.push(k)),k};function ae(g,k){var z=k.type;if(z in g.g){var G=g.g[z],de=Array.prototype.indexOf.call(G,k,void 0),xe;(xe=0<=de)&&Array.prototype.splice.call(G,de,1),xe&&(qe(k),g.g[z].length==0&&(delete g.g[z],g.h--))}}function ve(g,k,z,G){for(var de=0;de<g.length;++de){var xe=g[de];if(!xe.da&&xe.listener==k&&xe.capture==!!z&&xe.ha==G)return de}return-1}var De="closure_lm_"+(1e6*Math.random()|0),He={};function se(g,k,z,G,de){if(Array.isArray(k)){for(var xe=0;xe<k.length;xe++)se(g,k[xe],z,G,de);return null}return z=Gt(z),g&&g[_e]?g.K(k,z,m(G)?!!G.capture:!1,de):ee(g,k,z,!1,G,de)}function ee(g,k,z,G,de,xe){if(!k)throw Error("Invalid event type");var Be=m(de)?!!de.capture:!!de,Kt=rt(g);if(Kt||(g[De]=Kt=new Qe(g)),z=Kt.add(k,z,G,Be,xe),z.proxy)return z;if(G=Se(),z.proxy=G,G.src=g,G.listener=z,g.addEventListener)ye||(de=Be),de===void 0&&(de=!1),g.addEventListener(k.toString(),G,de);else if(g.attachEvent)g.attachEvent(we(k.toString()),G);else if(g.addListener&&g.removeListener)g.addListener(G);else throw Error("addEventListener and attachEvent are unavailable.");return z}function Se(){function g(z){return k.call(g.src,g.listener,z)}const k=Ee;return g}function pe(g,k,z,G,de){if(Array.isArray(k))for(var xe=0;xe<k.length;xe++)pe(g,k[xe],z,G,de);else G=m(G)?!!G.capture:!!G,z=Gt(z),g&&g[_e]?(g=g.i,k=String(k).toString(),k in g.g&&(xe=g.g[k],z=ve(xe,z,G,de),-1<z&&(qe(xe[z]),Array.prototype.splice.call(xe,z,1),xe.length==0&&(delete g.g[k],g.h--)))):g&&(g=rt(g))&&(k=g.g[k.toString()],g=-1,k&&(g=ve(k,z,G,de)),(z=-1<g?k[g]:null)&&je(z))}function je(g){if(typeof g!="number"&&g&&!g.da){var k=g.src;if(k&&k[_e])ae(k.i,g);else{var z=g.type,G=g.proxy;k.removeEventListener?k.removeEventListener(z,G,g.capture):k.detachEvent?k.detachEvent(we(z),G):k.addListener&&k.removeListener&&k.removeListener(G),(z=rt(k))?(ae(z,g),z.h==0&&(z.src=null,k[De]=null)):qe(g)}}}function we(g){return g in He?He[g]:He[g]="on"+g}function Ee(g,k){if(g.da)g=!0;else{k=new be(k,this);var z=g.listener,G=g.ha||g.src;g.fa&&je(g),g=z.call(G,k)}return g}function rt(g){return g=g[De],g instanceof Qe?g:null}var Mt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gt(g){return typeof g=="function"?g:(g[Mt]||(g[Mt]=function(k){return g.handleEvent(k)}),g[Mt])}function mt(){Q.call(this),this.i=new Qe(this),this.M=this,this.F=null}C(mt,Q),mt.prototype[_e]=!0,mt.prototype.removeEventListener=function(g,k,z,G){pe(this,g,k,z,G)};function $e(g,k){var z,G=g.F;if(G)for(z=[];G;G=G.F)z.push(G);if(g=g.M,G=k.type||k,typeof k=="string")k=new ne(k,g);else if(k instanceof ne)k.target=k.target||g;else{var de=k;k=new ne(G,g),S(k,de)}if(de=!0,z)for(var xe=z.length-1;0<=xe;xe--){var Be=k.g=z[xe];de=Ge(Be,G,!0,k)&&de}if(Be=k.g=g,de=Ge(Be,G,!0,k)&&de,de=Ge(Be,G,!1,k)&&de,z)for(xe=0;xe<z.length;xe++)Be=k.g=z[xe],de=Ge(Be,G,!1,k)&&de}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var g=this.i,k;for(k in g.g){for(var z=g.g[k],G=0;G<z.length;G++)qe(z[G]);delete g.g[k],g.h--}}this.F=null},mt.prototype.K=function(g,k,z,G){return this.i.add(String(g),k,!1,z,G)},mt.prototype.L=function(g,k,z,G){return this.i.add(String(g),k,!0,z,G)};function Ge(g,k,z,G){if(k=g.i.g[String(k)],!k)return!0;k=k.concat();for(var de=!0,xe=0;xe<k.length;++xe){var Be=k[xe];if(Be&&!Be.da&&Be.capture==z){var Kt=Be.listener,nn=Be.ha||Be.src;Be.fa&&ae(g.i,Be),de=Kt.call(nn,G)!==!1&&de}}return de&&!G.defaultPrevented}function Ue(g,k,z){if(typeof g=="function")z&&(g=x(g,z));else if(g&&typeof g.handleEvent=="function")g=x(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(k)?-1:u.setTimeout(g,k||0)}function ct(g){g.g=Ue(()=>{g.g=null,g.i&&(g.i=!1,ct(g))},g.l);const k=g.h;g.h=null,g.m.apply(null,k)}class Fe extends Q{constructor(k,z){super(),this.m=k,this.l=z,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:ct(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wt(g){Q.call(this),this.h=g,this.g={}}C(Wt,Q);var oa=[];function Na(g){N(g.g,function(k,z){this.g.hasOwnProperty(z)&&je(k)},g),g.g={}}Wt.prototype.N=function(){Wt.aa.N.call(this),Na(this)},Wt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xe=u.JSON.stringify,Vt=u.JSON.parse,aa=class{stringify(g){return u.JSON.stringify(g,void 0)}parse(g){return u.JSON.parse(g,void 0)}};function Da(){}Da.prototype.h=null;function xn(g){return g.h||(g.h=g.i())}function Ne(){}var it={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ot(){ne.call(this,"d")}C(ot,ne);function Ut(){ne.call(this,"c")}C(Ut,ne);var vt={},Dt=null;function Jt(){return Dt=Dt||new mt}vt.La="serverreachability";function ft(g){ne.call(this,vt.La,g)}C(ft,ne);function Zt(g){const k=Jt();$e(k,new ft(k))}vt.STAT_EVENT="statevent";function Ke(g,k){ne.call(this,vt.STAT_EVENT,g),this.stat=k}C(Ke,ne);function ze(g){const k=Jt();$e(k,new Ke(k,g))}vt.Ma="timingevent";function pt(g,k){ne.call(this,vt.Ma,g),this.size=k}C(pt,ne);function ht(g,k){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){g()},k)}function Rt(){this.g=!0}Rt.prototype.xa=function(){this.g=!1};function un(g,k,z,G,de,xe){g.info(function(){if(g.g)if(xe)for(var Be="",Kt=xe.split("&"),nn=0;nn<Kt.length;nn++){var Yt=Kt[nn].split("=");if(1<Yt.length){var hn=Yt[0];Yt=Yt[1];var rn=hn.split("_");Be=2<=rn.length&&rn[1]=="type"?Be+(hn+"="+Yt+"&"):Be+(hn+"=redacted&")}}else Be=null;else Be=xe;return"XMLHTTP REQ ("+G+") [attempt "+de+"]: "+k+`
`+z+`
`+Be})}function Kr(g,k,z,G,de,xe,Be){g.info(function(){return"XMLHTTP RESP ("+G+") [ attempt "+de+"]: "+k+`
`+z+`
`+xe+" "+Be})}function er(g,k,z,G){g.info(function(){return"XMLHTTP TEXT ("+k+"): "+Yr(g,z)+(G?" "+G:"")})}function Ns(g,k){g.info(function(){return"TIMEOUT: "+k})}Rt.prototype.info=function(){};function Yr(g,k){if(!g.g)return k;if(!k)return null;try{var z=JSON.parse(k);if(z){for(g=0;g<z.length;g++)if(Array.isArray(z[g])){var G=z[g];if(!(2>G.length)){var de=G[1];if(Array.isArray(de)&&!(1>de.length)){var xe=de[0];if(xe!="noop"&&xe!="stop"&&xe!="close")for(var Be=1;Be<de.length;Be++)de[Be]=""}}}}return Xe(z)}catch{return k}}var qo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},eo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},fi;function yi(){}C(yi,Da),yi.prototype.g=function(){return new XMLHttpRequest},yi.prototype.i=function(){return{}},fi=new yi;function Bn(g,k,z,G){this.j=g,this.i=k,this.l=z,this.R=G||1,this.U=new Wt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fa}function Fa(){this.i=null,this.g="",this.h=!1}var Fd={},Yl={};function Xr(g,k,z){g.L=1,g.v=Gs(ur(k)),g.m=z,g.P=!0,to(g,null)}function to(g,k){g.F=Date.now(),Fs(g),g.A=ur(g.v);var z=g.A,G=g.R;Array.isArray(G)||(G=[String(G)]),Yd(z.i,"t",G),g.C=0,z=g.j.J,g.h=new Fa,g.g=Ph(g.j,z?k:null,!g.m),0<g.O&&(g.M=new Fe(x(g.Y,g,g.g),g.O)),k=g.U,z=g.g,G=g.ca;var de="readystatechange";Array.isArray(de)||(de&&(oa[0]=de.toString()),de=oa);for(var xe=0;xe<de.length;xe++){var Be=se(z,de[xe],G||k.handleEvent,!1,k.h||k);if(!Be)break;k.g[Be.key]=Be}k=g.H?A(g.H):{},g.m?(g.u||(g.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,k)):(g.u="GET",g.g.ea(g.A,g.u,null,k)),Zt(),un(g.i,g.u,g.A,g.l,g.R,g.m)}Bn.prototype.ca=function(g){g=g.target;const k=this.M;k&&Er(g)==3?k.j():this.Y(g)},Bn.prototype.Y=function(g){try{if(g==this.g)e:{const rn=Er(this.g);var k=this.g.Ba();const co=this.g.Z();if(!(3>rn)&&(rn!=3||this.g&&(this.h.h||this.g.oa()||Mh(this.g)))){this.J||rn!=4||k==7||(k==8||0>=co?Zt(3):Zt(2)),Ho(this);var z=this.g.Z();this.X=z;t:if(bh(this)){var G=Mh(this.g);g="";var de=G.length,xe=Er(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wn(this),bi(this);var Be="";break t}this.h.i=new u.TextDecoder}for(k=0;k<de;k++)this.h.h=!0,g+=this.h.i.decode(G[k],{stream:!(xe&&k==de-1)});G.length=0,this.h.g+=g,this.C=0,Be=this.h.g}else Be=this.g.oa();if(this.o=z==200,Kr(this.i,this.u,this.A,this.l,this.R,rn,z),this.o){if(this.T&&!this.K){t:{if(this.g){var Kt,nn=this.g;if((Kt=nn.g?nn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(Kt)){var Yt=Kt;break t}}Yt=null}if(z=Yt)er(this.i,this.l,z,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qs(this,z);else{this.o=!1,this.s=3,ze(12),wn(this),bi(this);break e}}if(this.P){z=!0;let Sn;for(;!this.J&&this.C<Be.length;)if(Sn=vh(this,Be),Sn==Yl){rn==4&&(this.s=4,ze(14),z=!1),er(this.i,this.l,null,"[Incomplete Response]");break}else if(Sn==Fd){this.s=4,ze(15),er(this.i,this.l,Be,"[Invalid Chunk]"),z=!1;break}else er(this.i,this.l,Sn,null),qs(this,Sn);if(bh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rn!=4||Be.length!=0||this.h.h||(this.s=1,ze(16),z=!1),this.o=this.o&&z,!z)er(this.i,this.l,Be,"[Invalid Chunked Response]"),wn(this),bi(this);else if(0<Be.length&&!this.W){this.W=!0;var hn=this.j;hn.g==this&&hn.ba&&!hn.M&&(hn.j.info("Great, no buffering proxy detected. Bytes received: "+Be.length),tl(hn),hn.M=!0,ze(11))}}else er(this.i,this.l,Be,null),qs(this,Be);rn==4&&wn(this),this.o&&!this.J&&(rn==4?_h(this.j,this):(this.o=!1,Fs(this)))}else Zf(this.g),z==400&&0<Be.indexOf("Unknown SID")?(this.s=3,ze(12)):(this.s=0,ze(13)),wn(this),bi(this)}}}catch{}finally{}};function bh(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function vh(g,k){var z=g.C,G=k.indexOf(`
`,z);return G==-1?Yl:(z=Number(k.substring(z,G)),isNaN(z)?Fd:(G+=1,G+z>k.length?Yl:(k=k.slice(G,G+z),g.C=G+z,k)))}Bn.prototype.cancel=function(){this.J=!0,wn(this)};function Fs(g){g.S=Date.now()+g.I,xh(g,g.I)}function xh(g,k){if(g.B!=null)throw Error("WatchDog timer not null");g.B=ht(x(g.ba,g),k)}function Ho(g){g.B&&(u.clearTimeout(g.B),g.B=null)}Bn.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(Ns(this.i,this.A),this.L!=2&&(Zt(),ze(17)),wn(this),this.s=2,bi(this)):xh(this,this.S-g)};function bi(g){g.j.G==0||g.J||_h(g.j,g)}function wn(g){Ho(g);var k=g.M;k&&typeof k.ma=="function"&&k.ma(),g.M=null,Na(g.U),g.g&&(k=g.g,g.g=null,k.abort(),k.ma())}function qs(g,k){try{var z=g.j;if(z.G!=0&&(z.g==g||qd(z.h,g))){if(!g.K&&qd(z.h,g)&&z.G==3){try{var G=z.Da.g.parse(k)}catch{G=null}if(Array.isArray(G)&&G.length==3){var de=G;if(de[0]==0){e:if(!z.u){if(z.g)if(z.g.F+3e3<g.F)sc(z),ic(z);else break e;eu(z),ze(18)}}else z.za=de[1],0<z.za-z.T&&37500>de[2]&&z.F&&z.v==0&&!z.C&&(z.C=ht(x(z.Za,z),6e3));if(1>=Ql(z.h)&&z.ca){try{z.ca()}catch{}z.ca=void 0}}else lo(z,11)}else if((g.K||z.g==g)&&sc(z),!L(k))for(de=z.Da.g.parse(k),k=0;k<de.length;k++){let Yt=de[k];if(z.T=Yt[0],Yt=Yt[1],z.G==2)if(Yt[0]=="c"){z.K=Yt[1],z.ia=Yt[2];const hn=Yt[3];hn!=null&&(z.la=hn,z.j.info("VER="+z.la));const rn=Yt[4];rn!=null&&(z.Aa=rn,z.j.info("SVER="+z.Aa));const co=Yt[5];co!=null&&typeof co=="number"&&0<co&&(G=1.5*co,z.L=G,z.j.info("backChannelRequestTimeoutMs_="+G)),G=z;const Sn=g.g;if(Sn){const Mi=Sn.g?Sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mi){var xe=G.h;xe.g||Mi.indexOf("spdy")==-1&&Mi.indexOf("quic")==-1&&Mi.indexOf("h2")==-1||(xe.j=xe.l,xe.g=new Set,xe.h&&(Jl(xe,xe.h),xe.h=null))}if(G.D){const au=Sn.g?Sn.g.getResponseHeader("X-HTTP-Session-Id"):null;au&&(G.ya=au,ha(G.I,G.D,au))}}z.G=3,z.l&&z.l.ua(),z.ba&&(z.R=Date.now()-g.F,z.j.info("Handshake RTT: "+z.R+"ms")),G=z;var Be=g;if(G.qa=Ih(G,G.J?G.ia:null,G.W),Be.K){Nn(G.h,Be);var Kt=Be,nn=G.L;nn&&(Kt.I=nn),Kt.B&&(Ho(Kt),Fs(Kt)),G.g=Be}else kh(G);0<z.i.length&&oc(z)}else Yt[0]!="stop"&&Yt[0]!="close"||lo(z,7);else z.G==3&&(Yt[0]=="stop"||Yt[0]=="close"?Yt[0]=="stop"?lo(z,7):Jd(z):Yt[0]!="noop"&&z.l&&z.l.ta(Yt),z.v=0)}}Zt(4)}catch{}}var wh=class{constructor(g,k){this.g=g,this.map=k}};function ao(g){this.l=g||10,u.PerformanceNavigationTiming?(g=u.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xl(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Ql(g){return g.h?1:g.g?g.g.size:0}function qd(g,k){return g.h?g.h==k:g.g?g.g.has(k):!1}function Jl(g,k){g.g?g.g.add(k):g.h=k}function Nn(g,k){g.h&&g.h==k?g.h=null:g.g&&g.g.has(k)&&g.g.delete(k)}ao.prototype.cancel=function(){if(this.i=Hd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Hd(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let k=g.i;for(const z of g.g.values())k=k.concat(z.D);return k}return j(g.i)}function Yf(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(h(g)){for(var k=[],z=g.length,G=0;G<z;G++)k.push(g[G]);return k}k=[],z=0;for(G in g)k[z++]=g[G];return k}function Zl(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(h(g)||typeof g=="string"){var k=[];g=g.length;for(var z=0;z<g;z++)k.push(z);return k}k=[],z=0;for(const G in g)k[z++]=G;return k}}}function $d(g,k){if(g.forEach&&typeof g.forEach=="function")g.forEach(k,void 0);else if(h(g)||typeof g=="string")Array.prototype.forEach.call(g,k,void 0);else for(var z=Zl(g),G=Yf(g),de=G.length,xe=0;xe<de;xe++)k.call(void 0,G[xe],z&&z[xe],g)}var Hs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xf(g,k){if(g){g=g.split("&");for(var z=0;z<g.length;z++){var G=g[z].indexOf("="),de=null;if(0<=G){var xe=g[z].substring(0,G);de=g[z].substring(G+1)}else xe=g[z];k(xe,de?decodeURIComponent(de.replace(/\+/g," ")):"")}}}function Qa(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof Qa){this.h=g.h,$s(this,g.j),this.o=g.o,this.g=g.g,$o(this,g.s),this.l=g.l;var k=g.i,z=new ro;z.i=k.i,k.g&&(z.g=new Map(k.g),z.h=k.h),no(this,z),this.m=g.m}else g&&(k=String(g).match(Hs))?(this.h=!1,$s(this,k[1]||"",!0),this.o=Rr(k[2]||""),this.g=Rr(k[3]||"",!0),$o(this,k[4]),this.l=Rr(k[5]||"",!0),no(this,k[6]||"",!0),this.m=Rr(k[7]||"")):(this.h=!1,this.i=new ro(null,this.h))}Qa.prototype.toString=function(){var g=[],k=this.j;k&&g.push(Ks(k,Gd,!0),":");var z=this.g;return(z||k=="file")&&(g.push("//"),(k=this.o)&&g.push(Ks(k,Gd,!0),"@"),g.push(encodeURIComponent(String(z)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),z=this.s,z!=null&&g.push(":",String(z))),(z=this.l)&&(this.g&&z.charAt(0)!="/"&&g.push("/"),g.push(Ks(z,z.charAt(0)=="/"?Qf:Kd,!0))),(z=this.i.toString())&&g.push("?",z),(z=this.m)&&g.push("#",Ks(z,ec)),g.join("")};function ur(g){return new Qa(g)}function $s(g,k,z){g.j=z?Rr(k,!0):k,g.j&&(g.j=g.j.replace(/:$/,""))}function $o(g,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);g.s=k}else g.s=null}function no(g,k,z){k instanceof ro?(g.i=k,Th(g.i,g.h)):(z||(k=Ks(k,Jf)),g.i=new ro(k,g.h))}function ha(g,k,z){g.i.set(k,z)}function Gs(g){return ha(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function Rr(g,k){return g?k?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Ks(g,k,z){return typeof g=="string"?(g=encodeURI(g).replace(k,Sh),z&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Sh(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Gd=/[#\/\?@]/g,Kd=/[#\?:]/g,Qf=/[#\?]/g,Jf=/[#\?@]/g,ec=/#/g;function ro(g,k){this.h=this.g=null,this.i=g||null,this.j=!!k}function Ar(g){g.g||(g.g=new Map,g.h=0,g.i&&Xf(g.i,function(k,z){g.add(decodeURIComponent(k.replace(/\+/g," ")),z)}))}t=ro.prototype,t.add=function(g,k){Ar(this),this.i=null,g=vi(this,g);var z=this.g.get(g);return z||this.g.set(g,z=[]),z.push(k),this.h+=1,this};function io(g,k){Ar(g),k=vi(g,k),g.g.has(k)&&(g.i=null,g.h-=g.g.get(k).length,g.g.delete(k))}function oo(g,k){return Ar(g),k=vi(g,k),g.g.has(k)}t.forEach=function(g,k){Ar(this),this.g.forEach(function(z,G){z.forEach(function(de){g.call(k,de,G,this)},this)},this)},t.na=function(){Ar(this);const g=Array.from(this.g.values()),k=Array.from(this.g.keys()),z=[];for(let G=0;G<k.length;G++){const de=g[G];for(let xe=0;xe<de.length;xe++)z.push(k[G])}return z},t.V=function(g){Ar(this);let k=[];if(typeof g=="string")oo(this,g)&&(k=k.concat(this.g.get(vi(this,g))));else{g=Array.from(this.g.values());for(let z=0;z<g.length;z++)k=k.concat(g[z])}return k},t.set=function(g,k){return Ar(this),this.i=null,g=vi(this,g),oo(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[k]),this.h+=1,this},t.get=function(g,k){return g?(g=this.V(g),0<g.length?String(g[0]):k):k};function Yd(g,k,z){io(g,k),0<z.length&&(g.i=null,g.g.set(vi(g,k),j(z)),g.h+=z.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],k=Array.from(this.g.keys());for(var z=0;z<k.length;z++){var G=k[z];const xe=encodeURIComponent(String(G)),Be=this.V(G);for(G=0;G<Be.length;G++){var de=xe;Be[G]!==""&&(de+="="+encodeURIComponent(String(Be[G]))),g.push(de)}}return this.i=g.join("&")};function vi(g,k){return k=String(k),g.j&&(k=k.toLowerCase()),k}function Th(g,k){k&&!g.j&&(Ar(g),g.i=null,g.g.forEach(function(z,G){var de=G.toLowerCase();G!=de&&(io(this,G),Yd(this,de,z))},g)),g.j=k}function Ys(g,k){const z=new Rt;if(u.Image){const G=new Image;G.onload=T(kr,z,"TestLoadImage: loaded",!0,k,G),G.onerror=T(kr,z,"TestLoadImage: error",!1,k,G),G.onabort=T(kr,z,"TestLoadImage: abort",!1,k,G),G.ontimeout=T(kr,z,"TestLoadImage: timeout",!1,k,G),u.setTimeout(function(){G.ontimeout&&G.ontimeout()},1e4),G.src=g}else k(!1)}function Qr(g,k){const z=new Rt,G=new AbortController,de=setTimeout(()=>{G.abort(),kr(z,"TestPingServer: timeout",!1,k)},1e4);fetch(g,{signal:G.signal}).then(xe=>{clearTimeout(de),xe.ok?kr(z,"TestPingServer: ok",!0,k):kr(z,"TestPingServer: server error",!1,k)}).catch(()=>{clearTimeout(de),kr(z,"TestPingServer: error",!1,k)})}function kr(g,k,z,G,de){try{de&&(de.onload=null,de.onerror=null,de.onabort=null,de.ontimeout=null),G(z)}catch{}}function Xs(){this.g=new aa}function xi(g,k,z){const G=z||"";try{$d(g,function(de,xe){let Be=de;m(de)&&(Be=Xe(de)),k.push(G+xe+"="+encodeURIComponent(Be))})}catch(de){throw k.push(G+"type="+encodeURIComponent("_badmap")),de}}function Go(g){this.l=g.Ub||null,this.j=g.eb||!1}C(Go,Da),Go.prototype.g=function(){return new so(this.l,this.j)},Go.prototype.i=function(g){return function(){return g}}({});function so(g,k){mt.call(this),this.D=g,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(so,mt),t=so.prototype,t.open=function(g,k){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=k,this.readyState=1,Si(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(k.body=g),(this.D||u).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wi(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Si(this)),this.g&&(this.readyState=3,Si(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xd(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xd(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var k=g.value?g.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!g.done}))&&(this.response=this.responseText+=k)}g.done?wi(this):Si(this),this.readyState==3&&Xd(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,wi(this))},t.Qa=function(g){this.g&&(this.response=g,wi(this))},t.ga=function(){this.g&&wi(this)};function wi(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Si(g)}t.setRequestHeader=function(g,k){this.u.append(g,k)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],k=this.h.entries();for(var z=k.next();!z.done;)z=z.value,g.push(z[0]+": "+z[1]),z=k.next();return g.join(`\r
`)};function Si(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(so.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Qd(g){let k="";return N(g,function(z,G){k+=G,k+=":",k+=z,k+=`\r
`}),k}function pn(g,k,z){e:{for(G in z){var G=!1;break e}G=!0}G||(z=Qd(z),typeof g=="string"?z!=null&&encodeURIComponent(String(z)):ha(g,k,z))}function sa(g){mt.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(sa,mt);var tc=/^https?$/i,Qs=["POST","PUT"];t=sa.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,k,z,G){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);k=k?k.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fi.g(),this.v=this.o?xn(this.o):xn(fi),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(k,String(g),!0),this.B=!1}catch(xe){Ch(this,xe);return}if(g=z||"",z=new Map(this.headers),G)if(Object.getPrototypeOf(G)===Object.prototype)for(var de in G)z.set(de,G[de]);else if(typeof G.keys=="function"&&typeof G.get=="function")for(const xe of G.keys())z.set(xe,G.get(xe));else throw Error("Unknown input type for opt_headers: "+String(G));G=Array.from(z.keys()).find(xe=>xe.toLowerCase()=="content-type"),de=u.FormData&&g instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Qs,k,void 0))||G||de||z.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[xe,Be]of z)this.g.setRequestHeader(xe,Be);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Js(this),this.u=!0,this.g.send(g),this.u=!1}catch(xe){Ch(this,xe)}};function Ch(g,k){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=k,g.m=5,ac(g),Ti(g)}function ac(g){g.A||(g.A=!0,$e(g,"complete"),$e(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,$e(this,"complete"),$e(this,"abort"),Ti(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ti(this,!0)),sa.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?nc(this):this.bb())},t.bb=function(){nc(this)};function nc(g){if(g.h&&typeof d<"u"&&(!g.v[1]||Er(g)!=4||g.Z()!=2)){if(g.u&&Er(g)==4)Ue(g.Ea,0,g);else if($e(g,"readystatechange"),Er(g)==4){g.h=!1;try{const Be=g.Z();e:switch(Be){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var z;if(!(z=k)){var G;if(G=Be===0){var de=String(g.D).match(Hs)[1]||null;!de&&u.self&&u.self.location&&(de=u.self.location.protocol.slice(0,-1)),G=!tc.test(de?de.toLowerCase():"")}z=G}if(z)$e(g,"complete"),$e(g,"success");else{g.m=6;try{var xe=2<Er(g)?g.g.statusText:""}catch{xe=""}g.l=xe+" ["+g.Z()+"]",ac(g)}}finally{Ti(g)}}}}function Ti(g,k){if(g.g){Js(g);const z=g.g,G=g.v[0]?()=>{}:null;g.g=null,g.v=null,k||$e(g,"ready");try{z.onreadystatechange=G}catch{}}}function Js(g){g.I&&(u.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function Er(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<Er(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var k=this.g.responseText;return g&&k.indexOf(g)==0&&(k=k.substring(g.length)),Vt(k)}};function Mh(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Zf(g){const k={};g=(g.g&&2<=Er(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let G=0;G<g.length;G++){if(L(g[G]))continue;var z=D(g[G]);const de=z[0];if(z=z[1],typeof z!="string")continue;z=z.trim();const xe=k[de]||[];k[de]=xe,xe.push(z)}V(k,function(G){return G.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zs(g,k,z){return z&&z.internalChannelParams&&z.internalChannelParams[g]||k}function rc(g){this.Aa=0,this.i=[],this.j=new Rt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zs("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zs("baseRetryDelayMs",5e3,g),this.cb=Zs("retryDelaySeedMs",1e4,g),this.Wa=Zs("forwardChannelMaxRetries",2,g),this.wa=Zs("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new ao(g&&g.concurrentRequestLimit),this.Da=new Xs,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=rc.prototype,t.la=8,t.G=1,t.connect=function(g,k,z,G){ze(0),this.W=g,this.H=k||{},z&&G!==void 0&&(this.H.OSID=z,this.H.OAID=G),this.F=this.X,this.I=Ih(this,null,this.W),oc(this)};function Jd(g){if(Rh(g),g.G==3){var k=g.U++,z=ur(g.I);if(ha(z,"SID",g.K),ha(z,"RID",k),ha(z,"TYPE","terminate"),el(g,z),k=new Bn(g,g.j,k),k.L=2,k.v=Gs(ur(z)),z=!1,u.navigator&&u.navigator.sendBeacon)try{z=u.navigator.sendBeacon(k.v.toString(),"")}catch{}!z&&u.Image&&(new Image().src=k.v,z=!0),z||(k.g=Ph(k.j,null),k.g.ea(k.v)),k.F=Date.now(),Fs(k)}jh(g)}function ic(g){g.g&&(tl(g),g.g.cancel(),g.g=null)}function Rh(g){ic(g),g.u&&(u.clearTimeout(g.u),g.u=null),sc(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&u.clearTimeout(g.s),g.s=null)}function oc(g){if(!Xl(g.h)&&!g.s){g.s=!0;var k=g.Ga;X||H(),le||(X(),le=!0),ie.add(k,g),g.B=0}}function ey(g,k){return Ql(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=k.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=ht(x(g.Ga,g,k),tu(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const de=new Bn(this,this.j,g);let xe=this.o;if(this.S&&(xe?(xe=A(xe),S(xe,this.S)):xe=this.S),this.m!==null||this.O||(de.H=xe,xe=null),this.P)e:{for(var k=0,z=0;z<this.i.length;z++){t:{var G=this.i[z];if("__data__"in G.map&&(G=G.map.__data__,typeof G=="string")){G=G.length;break t}G=void 0}if(G===void 0)break;if(k+=G,4096<k){k=z;break e}if(k===4096||z===this.i.length-1){k=z+1;break e}}k=1e3}else k=1e3;k=Ah(this,de,k),z=ur(this.I),ha(z,"RID",g),ha(z,"CVER",22),this.D&&ha(z,"X-HTTP-Session-Id",this.D),el(this,z),xe&&(this.O?k="headers="+encodeURIComponent(String(Qd(xe)))+"&"+k:this.m&&pn(z,this.m,xe)),Jl(this.h,de),this.Ua&&ha(z,"TYPE","init"),this.P?(ha(z,"$req",k),ha(z,"SID","null"),de.T=!0,Xr(de,z,null)):Xr(de,z,k),this.G=2}}else this.G==3&&(g?Zd(this,g):this.i.length==0||Xl(this.h)||Zd(this))};function Zd(g,k){var z;k?z=k.l:z=g.U++;const G=ur(g.I);ha(G,"SID",g.K),ha(G,"RID",z),ha(G,"AID",g.T),el(g,G),g.m&&g.o&&pn(G,g.m,g.o),z=new Bn(g,g.j,z,g.B+1),g.m===null&&(z.H=g.o),k&&(g.i=k.D.concat(g.i)),k=Ah(g,z,1e3),z.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Jl(g.h,z),Xr(z,G,k)}function el(g,k){g.H&&N(g.H,function(z,G){ha(k,G,z)}),g.l&&$d({},function(z,G){ha(k,G,z)})}function Ah(g,k,z){z=Math.min(g.i.length,z);var G=g.l?x(g.l.Na,g.l,g):null;e:{var de=g.i;let xe=-1;for(;;){const Be=["count="+z];xe==-1?0<z?(xe=de[0].g,Be.push("ofs="+xe)):xe=0:Be.push("ofs="+xe);let Kt=!0;for(let nn=0;nn<z;nn++){let Yt=de[nn].g;const hn=de[nn].map;if(Yt-=xe,0>Yt)xe=Math.max(0,de[nn].g-100),Kt=!1;else try{xi(hn,Be,"req"+Yt+"_")}catch{G&&G(hn)}}if(Kt){G=Be.join("&");break e}}}return g=g.i.splice(0,z),k.D=g,G}function kh(g){if(!g.g&&!g.u){g.Y=1;var k=g.Fa;X||H(),le||(X(),le=!0),ie.add(k,g),g.v=0}}function eu(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=ht(x(g.Fa,g),tu(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,Eh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=ht(x(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ze(10),ic(this),Eh(this))};function tl(g){g.A!=null&&(u.clearTimeout(g.A),g.A=null)}function Eh(g){g.g=new Bn(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var k=ur(g.qa);ha(k,"RID","rpc"),ha(k,"SID",g.K),ha(k,"AID",g.T),ha(k,"CI",g.F?"0":"1"),!g.F&&g.ja&&ha(k,"TO",g.ja),ha(k,"TYPE","xmlhttp"),el(g,k),g.m&&g.o&&pn(k,g.m,g.o),g.L&&(g.g.I=g.L);var z=g.g;g=g.ia,z.L=1,z.v=Gs(ur(k)),z.m=null,z.P=!0,to(z,g)}t.Za=function(){this.C!=null&&(this.C=null,ic(this),eu(this),ze(19))};function sc(g){g.C!=null&&(u.clearTimeout(g.C),g.C=null)}function _h(g,k){var z=null;if(g.g==k){sc(g),tl(g),g.g=null;var G=2}else if(qd(g.h,k))z=k.D,Nn(g.h,k),G=1;else return;if(g.G!=0){if(k.o)if(G==1){z=k.m?k.m.length:0,k=Date.now()-k.F;var de=g.B;G=Jt(),$e(G,new pt(G,z)),oc(g)}else kh(g);else if(de=k.s,de==3||de==0&&0<k.X||!(G==1&&ey(g,k)||G==2&&eu(g)))switch(z&&0<z.length&&(k=g.h,k.i=k.i.concat(z)),de){case 1:lo(g,5);break;case 4:lo(g,10);break;case 3:lo(g,6);break;default:lo(g,2)}}}function tu(g,k){let z=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(z*=2),z*k}function lo(g,k){if(g.j.info("Error code "+k),k==2){var z=x(g.fb,g),G=g.Xa;const de=!G;G=new Qa(G||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||$s(G,"https"),Gs(G),de?Ys(G.toString(),z):Qr(G.toString(),z)}else ze(2);g.G=0,g.l&&g.l.sa(k),jh(g),Rh(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),ze(2)):(this.j.info("Failed to ping google.com"),ze(1))};function jh(g){if(g.G=0,g.ka=[],g.l){const k=Hd(g.h);(k.length!=0||g.i.length!=0)&&(E(g.ka,k),E(g.ka,g.i),g.h.i.length=0,j(g.i),g.i.length=0),g.l.ra()}}function Ih(g,k,z){var G=z instanceof Qa?ur(z):new Qa(z);if(G.g!="")k&&(G.g=k+"."+G.g),$o(G,G.s);else{var de=u.location;G=de.protocol,k=k?k+"."+de.hostname:de.hostname,de=+de.port;var xe=new Qa(null);G&&$s(xe,G),k&&(xe.g=k),de&&$o(xe,de),z&&(xe.l=z),G=xe}return z=g.D,k=g.ya,z&&k&&ha(G,z,k),ha(G,"VER",g.la),el(g,G),G}function Ph(g,k,z){if(k&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return k=g.Ca&&!g.pa?new sa(new Go({eb:z})):new sa(g.pa),k.Ha(g.J),k}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wh(){}t=Wh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function lc(){}lc.prototype.g=function(g,k){return new Fn(g,k)};function Fn(g,k){mt.call(this),this.g=new rc(k),this.l=g,this.h=k&&k.messageUrlParams||null,g=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(g?g["X-WebChannel-Content-Type"]=k.messageContentType:g={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(g?g["X-WebChannel-Client-Profile"]=k.va:g={"X-WebChannel-Client-Profile":k.va}),this.g.S=g,(g=k&&k.Sb)&&!L(g)&&(this.g.m=g),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!L(k)&&(this.g.D=k,g=this.h,g!==null&&k in g&&(g=this.h,k in g&&delete g[k])),this.j=new Ci(this)}C(Fn,mt),Fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Fn.prototype.close=function(){Jd(this.g)},Fn.prototype.o=function(g){var k=this.g;if(typeof g=="string"){var z={};z.__data__=g,g=z}else this.u&&(z={},z.__data__=Xe(g),g=z);k.i.push(new wh(k.Ya++,g)),k.G==3&&oc(k)},Fn.prototype.N=function(){this.g.l=null,delete this.j,Jd(this.g),delete this.g,Fn.aa.N.call(this)};function Dh(g){ot.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var k=g.__sm__;if(k){e:{for(const z in k){g=z;break e}g=void 0}(this.i=g)&&(g=this.i,k=k!==null&&g in k?k[g]:void 0),this.data=k}else this.data=g}C(Dh,ot);function Lh(){Ut.call(this),this.status=1}C(Lh,Ut);function Ci(g){this.g=g}C(Ci,Wh),Ci.prototype.ua=function(){$e(this.g,"a")},Ci.prototype.ta=function(g){$e(this.g,new Dh(g))},Ci.prototype.sa=function(g){$e(this.g,new Lh)},Ci.prototype.ra=function(){$e(this.g,"b")},lc.prototype.createWebChannel=lc.prototype.g,Fn.prototype.send=Fn.prototype.o,Fn.prototype.open=Fn.prototype.m,Fn.prototype.close=Fn.prototype.close,X2=function(){return new lc},Y2=function(){return Jt()},K2=vt,bx={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qo.NO_ERROR=0,qo.TIMEOUT=8,qo.HTTP_ERROR=6,yg=qo,eo.COMPLETE="complete",G2=eo,Ne.EventType=it,it.OPEN="a",it.CLOSE="b",it.ERROR="c",it.MESSAGE="d",mt.prototype.listen=mt.prototype.K,cp=Ne,sa.prototype.listenOnce=sa.prototype.L,sa.prototype.getLastError=sa.prototype.Ka,sa.prototype.getLastErrorCode=sa.prototype.Ba,sa.prototype.getStatus=sa.prototype.Z,sa.prototype.getResponseJson=sa.prototype.Oa,sa.prototype.getResponseText=sa.prototype.oa,sa.prototype.send=sa.prototype.ea,sa.prototype.setWithCredentials=sa.prototype.Ha,$2=sa}).apply(typeof Zm<"u"?Zm:typeof self<"u"?self:typeof window<"u"?window:{});const tR="@firebase/firestore",aR="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vn.UNAUTHENTICATED=new Vn(null),Vn.GOOGLE_CREDENTIALS=new Vn("google-credentials-uid"),Vn.FIRST_PARTY=new Vn("first-party-uid"),Vn.MOCK_USER=new Vn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ud="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=new Mw("@firebase/firestore");function Kc(){return Fl.logLevel}function Ze(t,...e){if(Fl.logLevel<=qt.DEBUG){const a=e.map(Uw);Fl.debug(`Firestore (${Ud}): ${t}`,...a)}}function Oo(t,...e){if(Fl.logLevel<=qt.ERROR){const a=e.map(Uw);Fl.error(`Firestore (${Ud}): ${t}`,...a)}}function vd(t,...e){if(Fl.logLevel<=qt.WARN){const a=e.map(Uw);Fl.warn(`Firestore (${Ud}): ${t}`,...a)}}function Uw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(a){return JSON.stringify(a)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(t,e,a){let n="Unexpected state";typeof e=="string"?n=e:a=e,Q2(t,n,a)}function Q2(t,e,a){let n=`FIRESTORE (${Ud}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(a!==void 0)try{n+=" CONTEXT: "+JSON.stringify(a)}catch{n+=" CONTEXT: "+a}throw Oo(n),new Error(n)}function ca(t,e,a,n){let i="Unexpected state";typeof a=="string"?i=a:n=a,t||Q2(e,i,n)}function It(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const We={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Fo{constructor(e,a){super(e,a),this.code=e,this.message=a,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(){this.promise=new Promise((e,a)=>{this.resolve=e,this.reject=a})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,a){this.user=a,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,a){e.enqueueRetryable(()=>a(Vn.UNAUTHENTICATED))}shutdown(){}}class bq{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,a){this.changeListener=a,e.enqueueRetryable(()=>a(this.token.user))}shutdown(){this.changeListener=null}}class vq{constructor(e){this.t=e,this.currentUser=Vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,a){ca(this.o===void 0,42304);let n=this.i;const i=h=>this.i!==n?(n=this.i,a(h)):Promise.resolve();let l=new Es;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Es,e.enqueueRetryable(()=>i(this.currentUser))};const d=()=>{const h=l;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},u=h=>{Ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(Ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Es)}},0),d()}getToken(){const e=this.i,a=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(a).then(n=>this.i!==e?(Ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(ca(typeof n.accessToken=="string",31837,{l:n}),new J2(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ca(e===null||typeof e=="string",2055,{h:e}),new Vn(e)}}class xq{constructor(e,a,n){this.P=e,this.T=a,this.I=n,this.type="FirstParty",this.user=Vn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class wq{constructor(e,a,n){this.P=e,this.T=a,this.I=n}getToken(){return Promise.resolve(new xq(this.P,this.T,this.I))}start(e,a){e.enqueueRetryable(()=>a(Vn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Sq{constructor(e,a){this.V=a,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ti(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,a){ca(this.o===void 0,3512);const n=l=>{l.error!=null&&Ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.m;return this.m=l.token,Ze("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?a(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>n(l))};const i=l=>{Ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>i(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?i(l):Ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new nR(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(a=>a?(ca(typeof a.token=="string",44558,{tokenResult:a}),this.m=a.token,new nR(a.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tq(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),a=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(a);else for(let n=0;n<t;n++)a[n]=Math.floor(256*Math.random());return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=Tq(40);for(let l=0;l<i.length;++l)n.length<20&&i[l]<a&&(n+=e.charAt(i[l]%62))}return n}}function Ht(t,e){return t<e?-1:t>e?1:0}function vx(t,e){const a=Math.min(t.length,e.length);for(let n=0;n<a;n++){const i=t.charAt(n),l=e.charAt(n);if(i!==l)return Tv(i)===Tv(l)?Ht(i,l):Tv(i)?1:-1}return Ht(t.length,e.length)}const Cq=55296,Mq=57343;function Tv(t){const e=t.charCodeAt(0);return e>=Cq&&e<=Mq}function xd(t,e,a){return t.length===e.length&&t.every((n,i)=>a(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR="__name__";class Di{constructor(e,a,n){a===void 0?a=0:a>e.length&&At(637,{offset:a,range:e.length}),n===void 0?n=e.length-a:n>e.length-a&&At(1746,{length:n,range:e.length-a}),this.segments=e,this.offset=a,this.len=n}get length(){return this.len}isEqual(e){return Di.comparator(this,e)===0}child(e){const a=this.segments.slice(this.offset,this.limit());return e instanceof Di?e.forEach(n=>{a.push(n)}):a.push(e),this.construct(a)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==e.get(a))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==e.get(a))return!1;return!0}forEach(e){for(let a=this.offset,n=this.limit();a<n;a++)e(this.segments[a])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,a){const n=Math.min(e.length,a.length);for(let i=0;i<n;i++){const l=Di.compareSegments(e.get(i),a.get(i));if(l!==0)return l}return Ht(e.length,a.length)}static compareSegments(e,a){const n=Di.isNumericId(e),i=Di.isNumericId(a);return n&&!i?-1:!n&&i?1:n&&i?Di.extractNumericId(e).compare(Di.extractNumericId(a)):vx(e,a)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ks.fromString(e.substring(4,e.length-2))}}class Pa extends Di{construct(e,a,n){return new Pa(e,a,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const a=[];for(const n of e){if(n.indexOf("//")>=0)throw new ut(We.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);a.push(...n.split("/").filter(i=>i.length>0))}return new Pa(a)}static emptyPath(){return new Pa([])}}const Rq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class En extends Di{construct(e,a,n){return new En(e,a,n)}static isValidIdentifier(e){return Rq.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),En.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rR}static keyField(){return new En([rR])}static fromServerFormat(e){const a=[];let n="",i=0;const l=()=>{if(n.length===0)throw new ut(We.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);a.push(n),n=""};let d=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new ut(We.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ut(We.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=h,i+=2}else u==="`"?(d=!d,i++):u!=="."||d?(n+=u,i++):(l(),i++)}if(l(),d)throw new ut(We.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new En(a)}static emptyPath(){return new En([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.path=e}static fromPath(e){return new wt(Pa.fromString(e))}static fromName(e){return new wt(Pa.fromString(e).popFirst(5))}static empty(){return new wt(Pa.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pa.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,a){return Pa.comparator(e.path,a.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new wt(new Pa(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aq(t,e,a){if(!a)throw new ut(We.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function kq(t,e,a,n){if(e===!0&&n===!0)throw new ut(We.INVALID_ARGUMENT,`${t} and ${a} cannot be used together.`)}function iR(t){if(!wt.isDocumentKey(t))throw new ut(We.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Z2(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function zw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":At(12329,{type:typeof t})}function qg(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ut(We.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const a=zw(t);throw new ut(We.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${a}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(t,e){const a={typeString:t};return e&&(a.value=e),a}function hh(t,e){if(!Z2(t))throw new ut(We.INVALID_ARGUMENT,"JSON must be an object");let a;for(const n in e)if(e[n]){const i=e[n].typeString,l="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){a=`JSON missing required field: '${n}'`;break}const d=t[n];if(i&&typeof d!==i){a=`JSON field '${n}' must be a ${i}.`;break}if(l!==void 0&&d!==l.value){a=`Expected '${n}' field to equal '${l.value}'`;break}}if(a)throw new ut(We.INVALID_ARGUMENT,a);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=-62135596800,sR=1e6;class Ma{static now(){return Ma.fromMillis(Date.now())}static fromDate(e){return Ma.fromMillis(e.getTime())}static fromMillis(e){const a=Math.floor(e/1e3),n=Math.floor((e-1e3*a)*sR);return new Ma(a,n)}constructor(e,a){if(this.seconds=e,this.nanoseconds=a,a<0)throw new ut(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(a>=1e9)throw new ut(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(e<oR)throw new ut(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sR}_compareTo(e){return this.seconds===e.seconds?Ht(this.nanoseconds,e.nanoseconds):Ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ma._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hh(e,Ma._jsonSchema))return new Ma(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-oR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ma._jsonSchemaVersion="firestore/timestamp/1.0",Ma._jsonSchema={type:an("string",Ma._jsonSchemaVersion),seconds:an("number"),nanoseconds:an("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{static fromTimestamp(e){return new jt(e)}static min(){return new jt(new Ma(0,0))}static max(){return new jt(new Ma(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp=-1;function Eq(t,e){const a=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=jt.fromTimestamp(n===1e9?new Ma(a+1,0):new Ma(a,n));return new Is(i,wt.empty(),e)}function _q(t){return new Is(t.readTime,t.key,zp)}class Is{constructor(e,a,n){this.readTime=e,this.documentKey=a,this.largestBatchId=n}static min(){return new Is(jt.min(),wt.empty(),zp)}static max(){return new Is(jt.max(),wt.empty(),zp)}}function jq(t,e){let a=t.readTime.compareTo(e.readTime);return a!==0?a:(a=wt.comparator(t.documentKey,e.documentKey),a!==0?a:Ht(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Pq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Od(t){if(t.code!==We.FAILED_PRECONDITION||t.message!==Iq)throw t;Ze("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(a=>{this.isDone=!0,this.result=a,this.nextCallback&&this.nextCallback(a)},a=>{this.isDone=!0,this.error=a,this.catchCallback&&this.catchCallback(a)})}catch(e){return this.next(void 0,e)}next(e,a){return this.callbackAttached&&At(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(a,this.error):this.wrapSuccess(e,this.result):new Pe((n,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(n,i)},this.catchCallback=l=>{this.wrapFailure(a,l).next(n,i)}})}toPromise(){return new Promise((e,a)=>{this.next(e,a)})}wrapUserFunction(e){try{const a=e();return a instanceof Pe?a:Pe.resolve(a)}catch(a){return Pe.reject(a)}}wrapSuccess(e,a){return e?this.wrapUserFunction(()=>e(a)):Pe.resolve(a)}wrapFailure(e,a){return e?this.wrapUserFunction(()=>e(a)):Pe.reject(a)}static resolve(e){return new Pe((a,n)=>{a(e)})}static reject(e){return new Pe((a,n)=>{n(e)})}static waitFor(e){return new Pe((a,n)=>{let i=0,l=0,d=!1;e.forEach(u=>{++i,u.next(()=>{++l,d&&l===i&&a()},h=>n(h))}),d=!0,l===i&&a()})}static or(e){let a=Pe.resolve(!1);for(const n of e)a=a.next(i=>i?Pe.resolve(i):n());return a}static forEach(e,a){const n=[];return e.forEach((i,l)=>{n.push(a.call(this,i,l))}),this.waitFor(n)}static mapArray(e,a){return new Pe((n,i)=>{const l=e.length,d=new Array(l);let u=0;for(let h=0;h<l;h++){const m=h;a(e[m]).next(y=>{d[m]=y,++u,u===l&&n(d)},y=>i(y))}})}static doWhile(e,a){return new Pe((n,i)=>{const l=()=>{e()===!0?a().next(()=>{l()},i):n()};l()})}}function Wq(t){const e=t.match(/Android ([\d.]+)/i),a=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(a)}function zd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,a){this.previousValue=e,a&&(a.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>a.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Wf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=-1;function Df(t){return t==null}function Hg(t){return t===0&&1/t==-1/0}function Dq(t){return typeof t=="number"&&Number.isInteger(t)&&!Hg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="";function Lq(t){let e="";for(let a=0;a<t.length;a++)e.length>0&&(e=lR(e)),e=Vq(t.get(a),e);return lR(e)}function Vq(t,e){let a=e;const n=t.length;for(let i=0;i<n;i++){const l=t.charAt(i);switch(l){case"\0":a+="";break;case eE:a+="";break;default:a+=l}}return a}function lR(t){return t+eE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(t){let e=0;for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&e++;return e}function zs(t,e){for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&e(a,t[a])}function tE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,a){this.comparator=e,this.root=a||An.EMPTY}insert(e,a){return new Wa(this.comparator,this.root.insert(e,a,this.comparator).copy(null,null,An.BLACK,null,null))}remove(e){return new Wa(this.comparator,this.root.remove(e,this.comparator).copy(null,null,An.BLACK,null,null))}get(e){let a=this.root;for(;!a.isEmpty();){const n=this.comparator(e,a.key);if(n===0)return a.value;n<0?a=a.left:n>0&&(a=a.right)}return null}indexOf(e){let a=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return a+n.left.size;i<0?n=n.left:(a+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((a,n)=>(e(a,n),!1))}toString(){const e=[];return this.inorderTraversal((a,n)=>(e.push(`${a}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new eg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new eg(this.root,e,this.comparator,!1)}getReverseIterator(){return new eg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new eg(this.root,e,this.comparator,!0)}}class eg{constructor(e,a,n,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=a?n(e.key,a):1,a&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const a={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return a}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class An{constructor(e,a,n,i,l){this.key=e,this.value=a,this.color=n??An.RED,this.left=i??An.EMPTY,this.right=l??An.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,a,n,i,l){return new An(e??this.key,a??this.value,n??this.color,i??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,a,n){let i=this;const l=n(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,a,n),null):l===0?i.copy(null,a,null,null,null):i.copy(null,null,null,null,i.right.insert(e,a,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return An.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,a){let n,i=this;if(a(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,a),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),a(e,i.key)===0){if(i.right.isEmpty())return An.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,a))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,An.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,An.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,a)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw At(43730,{key:this.key,value:this.value});if(this.right.isRed())throw At(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw At(27949);return e+(this.isRed()?0:1)}}An.EMPTY=null,An.RED=!0,An.BLACK=!1;An.EMPTY=new class{constructor(){this.size=0}get key(){throw At(57766)}get value(){throw At(16141)}get color(){throw At(16727)}get left(){throw At(29726)}get right(){throw At(36894)}copy(e,a,n,i,l){return this}insert(e,a,n){return new An(e,a)}remove(e,a){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.comparator=e,this.data=new Wa(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((a,n)=>(e(a),!1))}forEachInRange(e,a){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;a(i.key)}}forEachWhile(e,a){let n;for(n=a!==void 0?this.data.getIteratorFrom(a):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const a=this.data.getIteratorFrom(e);return a.hasNext()?a.getNext().key:null}getIterator(){return new dR(this.data.getIterator())}getIteratorFrom(e){return new dR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let a=this;return a.size<e.size&&(a=e,e=this),e.forEach(n=>{a=a.add(n)}),a}isEqual(e){if(!(e instanceof dn)||this.size!==e.size)return!1;const a=this.data.getIterator(),n=e.data.getIterator();for(;a.hasNext();){const i=a.getNext().key,l=n.getNext().key;if(this.comparator(i,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(a=>{e.push(a)}),e}toString(){const e=[];return this.forEach(a=>e.push(a)),"SortedSet("+e.toString()+")"}copy(e){const a=new dn(this.comparator);return a.data=e,a}}class dR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this.fields=e,e.sort(En.comparator)}static empty(){return new wr([])}unionWith(e){let a=new dn(En.comparator);for(const n of this.fields)a=a.add(n);for(const n of e)a=a.add(n);return new wr(a.toArray())}covers(e){for(const a of this.fields)if(a.isPrefixOf(e))return!0;return!1}isEqual(e){return xd(this.fields,e.fields,(a,n)=>a.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.binaryString=e}static fromBase64String(e){const a=function(i){try{return atob(i)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new aE("Invalid base64 string: "+l):l}}(e);return new In(a)}static fromUint8Array(e){const a=function(i){let l="";for(let d=0;d<i.length;++d)l+=String.fromCharCode(i[d]);return l}(e);return new In(a)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(a){return btoa(a)}(this.binaryString)}toUint8Array(){return function(a){const n=new Uint8Array(a.length);for(let i=0;i<a.length;i++)n[i]=a.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}In.EMPTY_BYTE_STRING=new In("");const Uq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ps(t){if(ca(!!t,39018),typeof t=="string"){let e=0;const a=Uq.exec(t);if(ca(!!a,46558,{timestamp:t}),a[1]){let i=a[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:$a(t.seconds),nanos:$a(t.nanos)}}function $a(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ws(t){return typeof t=="string"?In.fromBase64String(t):In.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="server_timestamp",rE="__type__",iE="__previous_value__",oE="__local_write_time__";function Nw(t){return(t?.mapValue?.fields||{})[rE]?.stringValue===nE}function Lf(t){const e=t.mapValue.fields[iE];return Nw(e)?Lf(e):e}function Bp(t){const e=Ps(t.mapValue.fields[oE].timestampValue);return new Ma(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oq{constructor(e,a,n,i,l,d,u,h,m,y){this.databaseId=e,this.appId=a,this.persistenceKey=n,this.host=i,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=m,this.isUsingEmulator=y}}const $g="(default)";class Np{constructor(e,a){this.projectId=e,this.database=a||$g}static empty(){return new Np("","")}get isDefaultDatabase(){return this.database===$g}isEqual(e){return e instanceof Np&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="__type__",zq="__max__",tg={mapValue:{}},lE="__vector__",Gg="value";function Ds(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Nw(t)?4:Nq(t)?9007199254740991:Bq(t)?10:11:At(28295,{value:t})}function Qi(t,e){if(t===e)return!0;const a=Ds(t);if(a!==Ds(e))return!1;switch(a){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bp(t).isEqual(Bp(e));case 3:return function(i,l){if(typeof i.timestampValue=="string"&&typeof l.timestampValue=="string"&&i.timestampValue.length===l.timestampValue.length)return i.timestampValue===l.timestampValue;const d=Ps(i.timestampValue),u=Ps(l.timestampValue);return d.seconds===u.seconds&&d.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,l){return Ws(i.bytesValue).isEqual(Ws(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,l){return $a(i.geoPointValue.latitude)===$a(l.geoPointValue.latitude)&&$a(i.geoPointValue.longitude)===$a(l.geoPointValue.longitude)}(t,e);case 2:return function(i,l){if("integerValue"in i&&"integerValue"in l)return $a(i.integerValue)===$a(l.integerValue);if("doubleValue"in i&&"doubleValue"in l){const d=$a(i.doubleValue),u=$a(l.doubleValue);return d===u?Hg(d)===Hg(u):isNaN(d)&&isNaN(u)}return!1}(t,e);case 9:return xd(t.arrayValue.values||[],e.arrayValue.values||[],Qi);case 10:case 11:return function(i,l){const d=i.mapValue.fields||{},u=l.mapValue.fields||{};if(cR(d)!==cR(u))return!1;for(const h in d)if(d.hasOwnProperty(h)&&(u[h]===void 0||!Qi(d[h],u[h])))return!1;return!0}(t,e);default:return At(52216,{left:t})}}function Fp(t,e){return(t.values||[]).find(a=>Qi(a,e))!==void 0}function wd(t,e){if(t===e)return 0;const a=Ds(t),n=Ds(e);if(a!==n)return Ht(a,n);switch(a){case 0:case 9007199254740991:return 0;case 1:return Ht(t.booleanValue,e.booleanValue);case 2:return function(l,d){const u=$a(l.integerValue||l.doubleValue),h=$a(d.integerValue||d.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(t,e);case 3:return uR(t.timestampValue,e.timestampValue);case 4:return uR(Bp(t),Bp(e));case 5:return vx(t.stringValue,e.stringValue);case 6:return function(l,d){const u=Ws(l),h=Ws(d);return u.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(l,d){const u=l.split("/"),h=d.split("/");for(let m=0;m<u.length&&m<h.length;m++){const y=Ht(u[m],h[m]);if(y!==0)return y}return Ht(u.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,d){const u=Ht($a(l.latitude),$a(d.latitude));return u!==0?u:Ht($a(l.longitude),$a(d.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return pR(t.arrayValue,e.arrayValue);case 10:return function(l,d){const u=l.fields||{},h=d.fields||{},m=u[Gg]?.arrayValue,y=h[Gg]?.arrayValue,v=Ht(m?.values?.length||0,y?.values?.length||0);return v!==0?v:pR(m,y)}(t.mapValue,e.mapValue);case 11:return function(l,d){if(l===tg.mapValue&&d===tg.mapValue)return 0;if(l===tg.mapValue)return 1;if(d===tg.mapValue)return-1;const u=l.fields||{},h=Object.keys(u),m=d.fields||{},y=Object.keys(m);h.sort(),y.sort();for(let v=0;v<h.length&&v<y.length;++v){const x=vx(h[v],y[v]);if(x!==0)return x;const T=wd(u[h[v]],m[y[v]]);if(T!==0)return T}return Ht(h.length,y.length)}(t.mapValue,e.mapValue);default:throw At(23264,{he:a})}}function uR(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ht(t,e);const a=Ps(t),n=Ps(e),i=Ht(a.seconds,n.seconds);return i!==0?i:Ht(a.nanos,n.nanos)}function pR(t,e){const a=t.values||[],n=e.values||[];for(let i=0;i<a.length&&i<n.length;++i){const l=wd(a[i],n[i]);if(l)return l}return Ht(a.length,n.length)}function Sd(t){return xx(t)}function xx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(a){const n=Ps(a);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(a){return Ws(a).toBase64()}(t.bytesValue):"referenceValue"in t?function(a){return wt.fromName(a).toString()}(t.referenceValue):"geoPointValue"in t?function(a){return`geo(${a.latitude},${a.longitude})`}(t.geoPointValue):"arrayValue"in t?function(a){let n="[",i=!0;for(const l of a.values||[])i?i=!1:n+=",",n+=xx(l);return n+"]"}(t.arrayValue):"mapValue"in t?function(a){const n=Object.keys(a.fields||{}).sort();let i="{",l=!0;for(const d of n)l?l=!1:i+=",",i+=`${d}:${xx(a.fields[d])}`;return i+"}"}(t.mapValue):At(61005,{value:t})}function bg(t){switch(Ds(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Lf(t);return e?16+bg(e):16;case 5:return 2*t.stringValue.length;case 6:return Ws(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,l)=>i+bg(l),0)}(t.arrayValue);case 10:case 11:return function(n){let i=0;return zs(n.fields,(l,d)=>{i+=l.length+bg(d)}),i}(t.mapValue);default:throw At(13486,{value:t})}}function wx(t){return!!t&&"integerValue"in t}function Fw(t){return!!t&&"arrayValue"in t}function hR(t){return!!t&&"nullValue"in t}function mR(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function vg(t){return!!t&&"mapValue"in t}function Bq(t){return(t?.mapValue?.fields||{})[sE]?.stringValue===lE}function Sp(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return zs(t.mapValue.fields,(a,n)=>e.mapValue.fields[a]=Sp(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let a=0;a<(t.arrayValue.values||[]).length;++a)e.arrayValue.values[a]=Sp(t.arrayValue.values[a]);return e}return{...t}}function Nq(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===zq}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.value=e}static empty(){return new or({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let a=this.value;for(let n=0;n<e.length-1;++n)if(a=(a.mapValue.fields||{})[e.get(n)],!vg(a))return null;return a=(a.mapValue.fields||{})[e.lastSegment()],a||null}}set(e,a){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sp(a)}setAll(e){let a=En.emptyPath(),n={},i=[];e.forEach((d,u)=>{if(!a.isImmediateParentOf(u)){const h=this.getFieldsMap(a);this.applyChanges(h,n,i),n={},i=[],a=u.popLast()}d?n[u.lastSegment()]=Sp(d):i.push(u.lastSegment())});const l=this.getFieldsMap(a);this.applyChanges(l,n,i)}delete(e){const a=this.field(e.popLast());vg(a)&&a.mapValue.fields&&delete a.mapValue.fields[e.lastSegment()]}isEqual(e){return Qi(this.value,e.value)}getFieldsMap(e){let a=this.value;a.mapValue.fields||(a.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=a.mapValue.fields[e.get(n)];vg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},a.mapValue.fields[e.get(n)]=i),a=i}return a.mapValue.fields}applyChanges(e,a,n){zs(a,(i,l)=>e[i]=l);for(const i of n)delete e[i]}clone(){return new or(Sp(this.value))}}function cE(t){const e=[];return zs(t.fields,(a,n)=>{const i=new En([a]);if(vg(n)){const l=cE(n.mapValue).fields;if(l.length===0)e.push(i);else for(const d of l)e.push(i.child(d))}else e.push(i)}),new wr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e,a,n,i,l,d,u){this.key=e,this.documentType=a,this.version=n,this.readTime=i,this.createTime=l,this.data=d,this.documentState=u}static newInvalidDocument(e){return new Un(e,0,jt.min(),jt.min(),jt.min(),or.empty(),0)}static newFoundDocument(e,a,n,i){return new Un(e,1,a,jt.min(),n,i,0)}static newNoDocument(e,a){return new Un(e,2,a,jt.min(),jt.min(),or.empty(),0)}static newUnknownDocument(e,a){return new Un(e,3,a,jt.min(),jt.min(),or.empty(),2)}convertToFoundDocument(e,a){return!this.createTime.isEqual(jt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=a,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=or.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=or.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=jt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,a){this.position=e,this.inclusive=a}}function gR(t,e,a){let n=0;for(let i=0;i<t.position.length;i++){const l=e[i],d=t.position[i];if(l.field.isKeyField()?n=wt.comparator(wt.fromName(d.referenceValue),a.key):n=wd(d,a.data.field(l.field)),l.dir==="desc"&&(n*=-1),n!==0)break}return n}function fR(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let a=0;a<t.position.length;a++)if(!Qi(t.position[a],e.position[a]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,a="asc"){this.field=e,this.dir=a}}function Fq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{}class ln extends dE{constructor(e,a,n){super(),this.field=e,this.op=a,this.value=n}static create(e,a,n){return e.isKeyField()?a==="in"||a==="not-in"?this.createKeyFieldInFilter(e,a,n):new Hq(e,a,n):a==="array-contains"?new Kq(e,n):a==="in"?new Yq(e,n):a==="not-in"?new Xq(e,n):a==="array-contains-any"?new Qq(e,n):new ln(e,a,n)}static createKeyFieldInFilter(e,a,n){return a==="in"?new $q(e,n):new Gq(e,n)}matches(e){const a=e.data.field(this.field);return this.op==="!="?a!==null&&a.nullValue===void 0&&this.matchesComparison(wd(a,this.value)):a!==null&&Ds(this.value)===Ds(a)&&this.matchesComparison(wd(a,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return At(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ji extends dE{constructor(e,a){super(),this.filters=e,this.op=a,this.Pe=null}static create(e,a){return new Ji(e,a)}matches(e){return uE(this)?this.filters.find(a=>!a.matches(e))===void 0:this.filters.find(a=>a.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,a)=>e.concat(a.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function uE(t){return t.op==="and"}function pE(t){return qq(t)&&uE(t)}function qq(t){for(const e of t.filters)if(e instanceof Ji)return!1;return!0}function Sx(t){if(t instanceof ln)return t.field.canonicalString()+t.op.toString()+Sd(t.value);if(pE(t))return t.filters.map(e=>Sx(e)).join(",");{const e=t.filters.map(a=>Sx(a)).join(",");return`${t.op}(${e})`}}function hE(t,e){return t instanceof ln?function(n,i){return i instanceof ln&&n.op===i.op&&n.field.isEqual(i.field)&&Qi(n.value,i.value)}(t,e):t instanceof Ji?function(n,i){return i instanceof Ji&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((l,d,u)=>l&&hE(d,i.filters[u]),!0):!1}(t,e):void At(19439)}function mE(t){return t instanceof ln?function(a){return`${a.field.canonicalString()} ${a.op} ${Sd(a.value)}`}(t):t instanceof Ji?function(a){return a.op.toString()+" {"+a.getFilters().map(mE).join(" ,")+"}"}(t):"Filter"}class Hq extends ln{constructor(e,a,n){super(e,a,n),this.key=wt.fromName(n.referenceValue)}matches(e){const a=wt.comparator(e.key,this.key);return this.matchesComparison(a)}}class $q extends ln{constructor(e,a){super(e,"in",a),this.keys=gE("in",a)}matches(e){return this.keys.some(a=>a.isEqual(e.key))}}class Gq extends ln{constructor(e,a){super(e,"not-in",a),this.keys=gE("not-in",a)}matches(e){return!this.keys.some(a=>a.isEqual(e.key))}}function gE(t,e){return(e.arrayValue?.values||[]).map(a=>wt.fromName(a.referenceValue))}class Kq extends ln{constructor(e,a){super(e,"array-contains",a)}matches(e){const a=e.data.field(this.field);return Fw(a)&&Fp(a.arrayValue,this.value)}}class Yq extends ln{constructor(e,a){super(e,"in",a)}matches(e){const a=e.data.field(this.field);return a!==null&&Fp(this.value.arrayValue,a)}}class Xq extends ln{constructor(e,a){super(e,"not-in",a)}matches(e){if(Fp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const a=e.data.field(this.field);return a!==null&&a.nullValue===void 0&&!Fp(this.value.arrayValue,a)}}class Qq extends ln{constructor(e,a){super(e,"array-contains-any",a)}matches(e){const a=e.data.field(this.field);return!(!Fw(a)||!a.arrayValue.values)&&a.arrayValue.values.some(n=>Fp(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jq{constructor(e,a=null,n=[],i=[],l=null,d=null,u=null){this.path=e,this.collectionGroup=a,this.orderBy=n,this.filters=i,this.limit=l,this.startAt=d,this.endAt=u,this.Te=null}}function yR(t,e=null,a=[],n=[],i=null,l=null,d=null){return new Jq(t,e,a,n,i,l,d)}function qw(t){const e=It(t);if(e.Te===null){let a=e.path.canonicalString();e.collectionGroup!==null&&(a+="|cg:"+e.collectionGroup),a+="|f:",a+=e.filters.map(n=>Sx(n)).join(","),a+="|ob:",a+=e.orderBy.map(n=>function(l){return l.field.canonicalString()+l.dir}(n)).join(","),Df(e.limit)||(a+="|l:",a+=e.limit),e.startAt&&(a+="|lb:",a+=e.startAt.inclusive?"b:":"a:",a+=e.startAt.position.map(n=>Sd(n)).join(",")),e.endAt&&(a+="|ub:",a+=e.endAt.inclusive?"a:":"b:",a+=e.endAt.position.map(n=>Sd(n)).join(",")),e.Te=a}return e.Te}function Hw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let a=0;a<t.orderBy.length;a++)if(!Fq(t.orderBy[a],e.orderBy[a]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let a=0;a<t.filters.length;a++)if(!hE(t.filters[a],e.filters[a]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fR(t.startAt,e.startAt)&&fR(t.endAt,e.endAt)}function Tx(t){return wt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,a=null,n=[],i=[],l=null,d="F",u=null,h=null){this.path=e,this.collectionGroup=a,this.explicitOrderBy=n,this.filters=i,this.limit=l,this.limitType=d,this.startAt=u,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Zq(t,e,a,n,i,l,d,u){return new Vf(t,e,a,n,i,l,d,u)}function $w(t){return new Vf(t)}function bR(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function e9(t){return t.collectionGroup!==null}function Tp(t){const e=It(t);if(e.Ie===null){e.Ie=[];const a=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),a.add(l.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let u=new dn(En.comparator);return d.filters.forEach(h=>{h.getFlattenedFilters().forEach(m=>{m.isInequality()&&(u=u.add(m.field))})}),u})(e).forEach(l=>{a.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Yg(l,n))}),a.has(En.keyField().canonicalString())||e.Ie.push(new Yg(En.keyField(),n))}return e.Ie}function qi(t){const e=It(t);return e.Ee||(e.Ee=t9(e,Tp(t))),e.Ee}function t9(t,e){if(t.limitType==="F")return yR(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const l=i.dir==="desc"?"asc":"desc";return new Yg(i.field,l)});const a=t.endAt?new Kg(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Kg(t.startAt.position,t.startAt.inclusive):null;return yR(t.path,t.collectionGroup,e,t.filters,t.limit,a,n)}}function Cx(t,e,a){return new Vf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,a,t.startAt,t.endAt)}function Uf(t,e){return Hw(qi(t),qi(e))&&t.limitType===e.limitType}function fE(t){return`${qw(qi(t))}|lt:${t.limitType}`}function Yc(t){return`Query(target=${function(a){let n=a.path.canonicalString();return a.collectionGroup!==null&&(n+=" collectionGroup="+a.collectionGroup),a.filters.length>0&&(n+=`, filters: [${a.filters.map(i=>mE(i)).join(", ")}]`),Df(a.limit)||(n+=", limit: "+a.limit),a.orderBy.length>0&&(n+=`, orderBy: [${a.orderBy.map(i=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(i)).join(", ")}]`),a.startAt&&(n+=", startAt: ",n+=a.startAt.inclusive?"b:":"a:",n+=a.startAt.position.map(i=>Sd(i)).join(",")),a.endAt&&(n+=", endAt: ",n+=a.endAt.inclusive?"a:":"b:",n+=a.endAt.position.map(i=>Sd(i)).join(",")),`Target(${n})`}(qi(t))}; limitType=${t.limitType})`}function Of(t,e){return e.isFoundDocument()&&function(n,i){const l=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(l):wt.isDocumentKey(n.path)?n.path.isEqual(l):n.path.isImmediateParentOf(l)}(t,e)&&function(n,i){for(const l of Tp(n))if(!l.field.isKeyField()&&i.data.field(l.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const l of n.filters)if(!l.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(d,u,h){const m=gR(d,u,h);return d.inclusive?m<=0:m<0}(n.startAt,Tp(n),i)||n.endAt&&!function(d,u,h){const m=gR(d,u,h);return d.inclusive?m>=0:m>0}(n.endAt,Tp(n),i))}(t,e)}function a9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function yE(t){return(e,a)=>{let n=!1;for(const i of Tp(t)){const l=n9(i,e,a);if(l!==0)return l;n=n||i.field.isKeyField()}return 0}}function n9(t,e,a){const n=t.field.isKeyField()?wt.comparator(e.key,a.key):function(l,d,u){const h=d.data.field(l),m=u.data.field(l);return h!==null&&m!==null?wd(h,m):At(42886)}(t.field,e,a);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return At(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,a){this.mapKeyFn=e,this.equalsFn=a,this.inner={},this.innerSize=0}get(e){const a=this.mapKeyFn(e),n=this.inner[a];if(n!==void 0){for(const[i,l]of n)if(this.equalsFn(i,e))return l}}has(e){return this.get(e)!==void 0}set(e,a){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,a]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,a]);i.push([e,a]),this.innerSize++}delete(e){const a=this.mapKeyFn(e),n=this.inner[a];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[a]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){zs(this.inner,(a,n)=>{for(const[i,l]of n)e(i,l)})}isEmpty(){return tE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r9=new Wa(wt.comparator);function zo(){return r9}const bE=new Wa(wt.comparator);function dp(...t){let e=bE;for(const a of t)e=e.insert(a.key,a);return e}function vE(t){let e=bE;return t.forEach((a,n)=>e=e.insert(a,n.overlayedDocument)),e}function _l(){return Cp()}function xE(){return Cp()}function Cp(){return new Gl(t=>t.toString(),(t,e)=>t.isEqual(e))}const i9=new Wa(wt.comparator),o9=new dn(wt.comparator);function $t(...t){let e=o9;for(const a of t)e=e.add(a);return e}const s9=new dn(Ht);function l9(){return s9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hg(e)?"-0":e}}function wE(t){return{integerValue:""+t}}function c9(t,e){return Dq(e)?wE(e):Gw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(){this._=void 0}}function d9(t,e,a){return t instanceof Xg?function(i,l){const d={fields:{[rE]:{stringValue:nE},[oE]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return l&&Nw(l)&&(l=Lf(l)),l&&(d.fields[iE]=l),{mapValue:d}}(a,e):t instanceof qp?TE(t,e):t instanceof Hp?CE(t,e):function(i,l){const d=SE(i,l),u=vR(d)+vR(i.Ae);return wx(d)&&wx(i.Ae)?wE(u):Gw(i.serializer,u)}(t,e)}function u9(t,e,a){return t instanceof qp?TE(t,e):t instanceof Hp?CE(t,e):a}function SE(t,e){return t instanceof Qg?function(n){return wx(n)||function(l){return!!l&&"doubleValue"in l}(n)}(e)?e:{integerValue:0}:null}class Xg extends zf{}class qp extends zf{constructor(e){super(),this.elements=e}}function TE(t,e){const a=ME(e);for(const n of t.elements)a.some(i=>Qi(i,n))||a.push(n);return{arrayValue:{values:a}}}class Hp extends zf{constructor(e){super(),this.elements=e}}function CE(t,e){let a=ME(e);for(const n of t.elements)a=a.filter(i=>!Qi(i,n));return{arrayValue:{values:a}}}class Qg extends zf{constructor(e,a){super(),this.serializer=e,this.Ae=a}}function vR(t){return $a(t.integerValue||t.doubleValue)}function ME(t){return Fw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function p9(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof qp&&i instanceof qp||n instanceof Hp&&i instanceof Hp?xd(n.elements,i.elements,Qi):n instanceof Qg&&i instanceof Qg?Qi(n.Ae,i.Ae):n instanceof Xg&&i instanceof Xg}(t.transform,e.transform)}class h9{constructor(e,a){this.version=e,this.transformResults=a}}class di{constructor(e,a){this.updateTime=e,this.exists=a}static none(){return new di}static exists(e){return new di(void 0,e)}static updateTime(e){return new di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Bf{}function RE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Kw(t.key,di.none()):new mh(t.key,t.data,di.none());{const a=t.data,n=or.empty();let i=new dn(En.comparator);for(let l of e.fields)if(!i.has(l)){let d=a.field(l);d===null&&l.length>1&&(l=l.popLast(),d=a.field(l)),d===null?n.delete(l):n.set(l,d),i=i.add(l)}return new Bs(t.key,n,new wr(i.toArray()),di.none())}}function m9(t,e,a){t instanceof mh?function(i,l,d){const u=i.value.clone(),h=wR(i.fieldTransforms,l,d.transformResults);u.setAll(h),l.convertToFoundDocument(d.version,u).setHasCommittedMutations()}(t,e,a):t instanceof Bs?function(i,l,d){if(!xg(i.precondition,l))return void l.convertToUnknownDocument(d.version);const u=wR(i.fieldTransforms,l,d.transformResults),h=l.data;h.setAll(AE(i)),h.setAll(u),l.convertToFoundDocument(d.version,h).setHasCommittedMutations()}(t,e,a):function(i,l,d){l.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,a)}function Mp(t,e,a,n){return t instanceof mh?function(l,d,u,h){if(!xg(l.precondition,d))return u;const m=l.value.clone(),y=SR(l.fieldTransforms,h,d);return m.setAll(y),d.convertToFoundDocument(d.version,m).setHasLocalMutations(),null}(t,e,a,n):t instanceof Bs?function(l,d,u,h){if(!xg(l.precondition,d))return u;const m=SR(l.fieldTransforms,h,d),y=d.data;return y.setAll(AE(l)),y.setAll(m),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),u===null?null:u.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(v=>v.field))}(t,e,a,n):function(l,d,u){return xg(l.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):u}(t,e,a)}function g9(t,e){let a=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),l=SE(n.transform,i||null);l!=null&&(a===null&&(a=or.empty()),a.set(n.field,l))}return a||null}function xR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&xd(n,i,(l,d)=>p9(l,d))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class mh extends Bf{constructor(e,a,n,i=[]){super(),this.key=e,this.value=a,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Bs extends Bf{constructor(e,a,n,i,l=[]){super(),this.key=e,this.data=a,this.fieldMask=n,this.precondition=i,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function AE(t){const e=new Map;return t.fieldMask.fields.forEach(a=>{if(!a.isEmpty()){const n=t.data.field(a);e.set(a,n)}}),e}function wR(t,e,a){const n=new Map;ca(t.length===a.length,32656,{Re:a.length,Ve:t.length});for(let i=0;i<a.length;i++){const l=t[i],d=l.transform,u=e.data.field(l.field);n.set(l.field,u9(d,u,a[i]))}return n}function SR(t,e,a){const n=new Map;for(const i of t){const l=i.transform,d=a.data.field(i.field);n.set(i.field,d9(l,d,e))}return n}class Kw extends Bf{constructor(e,a){super(),this.key=e,this.precondition=a,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class f9 extends Bf{constructor(e,a){super(),this.key=e,this.precondition=a,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(e,a,n,i){this.batchId=e,this.localWriteTime=a,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,a){const n=a.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&m9(l,e,n[i])}}applyToLocalView(e,a){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(a=Mp(n,e,a,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(a=Mp(n,e,a,this.localWriteTime));return a}applyToLocalDocumentSet(e,a){const n=xE();return this.mutations.forEach(i=>{const l=e.get(i.key),d=l.overlayedDocument;let u=this.applyToLocalView(d,l.mutatedFields);u=a.has(i.key)?null:u;const h=RE(d,u);h!==null&&n.set(i.key,h),d.isValidDocument()||d.convertToNoDocument(jt.min())}),n}keys(){return this.mutations.reduce((e,a)=>e.add(a.key),$t())}isEqual(e){return this.batchId===e.batchId&&xd(this.mutations,e.mutations,(a,n)=>xR(a,n))&&xd(this.baseMutations,e.baseMutations,(a,n)=>xR(a,n))}}class Yw{constructor(e,a,n,i){this.batch=e,this.commitVersion=a,this.mutationResults=n,this.docVersions=i}static from(e,a,n){ca(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=function(){return i9}();const l=e.mutations;for(let d=0;d<l.length;d++)i=i.insert(l[d].key,n[d].version);return new Yw(e,a,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(e,a){this.largestBatchId=e,this.mutation=a}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(e,a){this.count=e,this.unchangedNames=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var en,Qt;function x9(t){switch(t){case We.OK:return At(64938);case We.CANCELLED:case We.UNKNOWN:case We.DEADLINE_EXCEEDED:case We.RESOURCE_EXHAUSTED:case We.INTERNAL:case We.UNAVAILABLE:case We.UNAUTHENTICATED:return!1;case We.INVALID_ARGUMENT:case We.NOT_FOUND:case We.ALREADY_EXISTS:case We.PERMISSION_DENIED:case We.FAILED_PRECONDITION:case We.ABORTED:case We.OUT_OF_RANGE:case We.UNIMPLEMENTED:case We.DATA_LOSS:return!0;default:return At(15467,{code:t})}}function kE(t){if(t===void 0)return Oo("GRPC error has no .code"),We.UNKNOWN;switch(t){case en.OK:return We.OK;case en.CANCELLED:return We.CANCELLED;case en.UNKNOWN:return We.UNKNOWN;case en.DEADLINE_EXCEEDED:return We.DEADLINE_EXCEEDED;case en.RESOURCE_EXHAUSTED:return We.RESOURCE_EXHAUSTED;case en.INTERNAL:return We.INTERNAL;case en.UNAVAILABLE:return We.UNAVAILABLE;case en.UNAUTHENTICATED:return We.UNAUTHENTICATED;case en.INVALID_ARGUMENT:return We.INVALID_ARGUMENT;case en.NOT_FOUND:return We.NOT_FOUND;case en.ALREADY_EXISTS:return We.ALREADY_EXISTS;case en.PERMISSION_DENIED:return We.PERMISSION_DENIED;case en.FAILED_PRECONDITION:return We.FAILED_PRECONDITION;case en.ABORTED:return We.ABORTED;case en.OUT_OF_RANGE:return We.OUT_OF_RANGE;case en.UNIMPLEMENTED:return We.UNIMPLEMENTED;case en.DATA_LOSS:return We.DATA_LOSS;default:return At(39323,{code:t})}}(Qt=en||(en={}))[Qt.OK=0]="OK",Qt[Qt.CANCELLED=1]="CANCELLED",Qt[Qt.UNKNOWN=2]="UNKNOWN",Qt[Qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qt[Qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qt[Qt.NOT_FOUND=5]="NOT_FOUND",Qt[Qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qt[Qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qt[Qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qt[Qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qt[Qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qt[Qt.ABORTED=10]="ABORTED",Qt[Qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qt[Qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qt[Qt.INTERNAL=13]="INTERNAL",Qt[Qt.UNAVAILABLE=14]="UNAVAILABLE",Qt[Qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9=new ks([4294967295,4294967295],0);function TR(t){const e=w9().encode(t),a=new H2;return a.update(e),new Uint8Array(a.digest())}function CR(t){const e=new DataView(t.buffer),a=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ks([a,n],0),new ks([i,l],0)]}class Xw{constructor(e,a,n){if(this.bitmap=e,this.padding=a,this.hashCount=n,a<0||a>=8)throw new up(`Invalid padding: ${a}`);if(n<0)throw new up(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new up(`Invalid hash count: ${n}`);if(e.length===0&&a!==0)throw new up(`Invalid padding when bitmap length is 0: ${a}`);this.ge=8*e.length-a,this.pe=ks.fromNumber(this.ge)}ye(e,a,n){let i=e.add(a.multiply(ks.fromNumber(n)));return i.compare(S9)===1&&(i=new ks([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const a=TR(e),[n,i]=CR(a);for(let l=0;l<this.hashCount;l++){const d=this.ye(n,i,l);if(!this.we(d))return!1}return!0}static create(e,a,n){const i=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),d=new Xw(l,i,a);return n.forEach(u=>d.insert(u)),d}insert(e){if(this.ge===0)return;const a=TR(e),[n,i]=CR(a);for(let l=0;l<this.hashCount;l++){const d=this.ye(n,i,l);this.Se(d)}}Se(e){const a=Math.floor(e/8),n=e%8;this.bitmap[a]|=1<<n}}class up extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,a,n,i,l){this.snapshotVersion=e,this.targetChanges=a,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,a,n){const i=new Map;return i.set(e,gh.createSynthesizedTargetChangeForCurrentChange(e,a,n)),new Nf(jt.min(),i,new Wa(Ht),zo(),$t())}}class gh{constructor(e,a,n,i,l){this.resumeToken=e,this.current=a,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,a,n){return new gh(n,a,$t(),$t(),$t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,a,n,i){this.be=e,this.removedTargetIds=a,this.key=n,this.De=i}}class EE{constructor(e,a){this.targetId=e,this.Ce=a}}class _E{constructor(e,a,n=In.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=a,this.resumeToken=n,this.cause=i}}class MR{constructor(){this.ve=0,this.Fe=RR(),this.Me=In.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=$t(),a=$t(),n=$t();return this.Fe.forEach((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:a=a.add(i);break;case 1:n=n.add(i);break;default:At(38017,{changeType:l})}}),new gh(this.Me,this.xe,e,a,n)}qe(){this.Oe=!1,this.Fe=RR()}Qe(e,a){this.Oe=!0,this.Fe=this.Fe.insert(e,a)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ca(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class T9{constructor(e){this.Ge=e,this.ze=new Map,this.je=zo(),this.Je=ag(),this.He=ag(),this.Ye=new Wa(Ht)}Ze(e){for(const a of e.be)e.De&&e.De.isFoundDocument()?this.Xe(a,e.De):this.et(a,e.key,e.De);for(const a of e.removedTargetIds)this.et(a,e.key,e.De)}tt(e){this.forEachTarget(e,a=>{const n=this.nt(a);switch(e.state){case 0:this.rt(a)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(a);break;case 3:this.rt(a)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(a)&&(this.it(a),n.Le(e.resumeToken));break;default:At(56790,{state:e.state})}})}forEachTarget(e,a){e.targetIds.length>0?e.targetIds.forEach(a):this.ze.forEach((n,i)=>{this.rt(i)&&a(i)})}st(e){const a=e.targetId,n=e.Ce.count,i=this.ot(a);if(i){const l=i.target;if(Tx(l))if(n===0){const d=new wt(l.path);this.et(a,d,Un.newNoDocument(d,jt.min()))}else ca(n===1,20013,{expectedCount:n});else{const d=this._t(a);if(d!==n){const u=this.ut(e),h=u?this.ct(u,e,d):1;if(h!==0){this.it(a);const m=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(a,m)}}}}}ut(e){const a=e.Ce.unchangedNames;if(!a||!a.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:l=0}=a;let d,u;try{d=Ws(n).toUint8Array()}catch(h){if(h instanceof aE)return vd("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new Xw(d,i,l)}catch(h){return vd(h instanceof up?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.ge===0?null:u}ct(e,a,n){return a.Ce.count===n-this.Pt(e,a.targetId)?0:2}Pt(e,a){const n=this.Ge.getRemoteKeysForTarget(a);let i=0;return n.forEach(l=>{const d=this.Ge.ht(),u=`projects/${d.projectId}/databases/${d.database}/documents/${l.path.canonicalString()}`;e.mightContain(u)||(this.et(a,l,null),i++)}),i}Tt(e){const a=new Map;this.ze.forEach((l,d)=>{const u=this.ot(d);if(u){if(l.current&&Tx(u.target)){const h=new wt(u.target.path);this.It(h).has(d)||this.Et(d,h)||this.et(d,h,Un.newNoDocument(h,e))}l.Be&&(a.set(d,l.ke()),l.qe())}});let n=$t();this.He.forEach((l,d)=>{let u=!0;d.forEachWhile(h=>{const m=this.ot(h);return!m||m.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(n=n.add(l))}),this.je.forEach((l,d)=>d.setReadTime(e));const i=new Nf(e,a,this.Ye,this.je,n);return this.je=zo(),this.Je=ag(),this.He=ag(),this.Ye=new Wa(Ht),i}Xe(e,a){if(!this.rt(e))return;const n=this.Et(e,a.key)?2:0;this.nt(e).Qe(a.key,n),this.je=this.je.insert(a.key,a),this.Je=this.Je.insert(a.key,this.It(a.key).add(e)),this.He=this.He.insert(a.key,this.dt(a.key).add(e))}et(e,a,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,a)?i.Qe(a,1):i.$e(a),this.He=this.He.insert(a,this.dt(a).delete(e)),this.He=this.He.insert(a,this.dt(a).add(e)),n&&(this.je=this.je.insert(a,n))}removeTarget(e){this.ze.delete(e)}_t(e){const a=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+a.addedDocuments.size-a.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let a=this.ze.get(e);return a||(a=new MR,this.ze.set(e,a)),a}dt(e){let a=this.He.get(e);return a||(a=new dn(Ht),this.He=this.He.insert(e,a)),a}It(e){let a=this.Je.get(e);return a||(a=new dn(Ht),this.Je=this.Je.insert(e,a)),a}rt(e){const a=this.ot(e)!==null;return a||Ze("WatchChangeAggregator","Detected inactive target",e),a}ot(e){const a=this.ze.get(e);return a&&a.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new MR),this.Ge.getRemoteKeysForTarget(e).forEach(a=>{this.et(e,a,null)})}Et(e,a){return this.Ge.getRemoteKeysForTarget(e).has(a)}}function ag(){return new Wa(wt.comparator)}function RR(){return new Wa(wt.comparator)}const C9={asc:"ASCENDING",desc:"DESCENDING"},M9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},R9={and:"AND",or:"OR"};class A9{constructor(e,a){this.databaseId=e,this.useProto3Json=a}}function Mx(t,e){return t.useProto3Json||Df(e)?e:{value:e}}function Jg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function k9(t,e){return Jg(t,e.toTimestamp())}function Hi(t){return ca(!!t,49232),jt.fromTimestamp(function(a){const n=Ps(a);return new Ma(n.seconds,n.nanos)}(t))}function Qw(t,e){return Rx(t,e).canonicalString()}function Rx(t,e){const a=function(i){return new Pa(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?a:a.child(e)}function IE(t){const e=Pa.fromString(t);return ca(VE(e),10190,{key:e.toString()}),e}function Ax(t,e){return Qw(t.databaseId,e.path)}function Cv(t,e){const a=IE(e);if(a.get(1)!==t.databaseId.projectId)throw new ut(We.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+a.get(1)+" vs "+t.databaseId.projectId);if(a.get(3)!==t.databaseId.database)throw new ut(We.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+a.get(3)+" vs "+t.databaseId.database);return new wt(WE(a))}function PE(t,e){return Qw(t.databaseId,e)}function E9(t){const e=IE(t);return e.length===4?Pa.emptyPath():WE(e)}function kx(t){return new Pa(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function WE(t){return ca(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function AR(t,e,a){return{name:Ax(t,e),fields:a.value.mapValue.fields}}function _9(t,e){let a;if("targetChange"in e){e.targetChange;const n=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:At(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],l=function(m,y){return m.useProto3Json?(ca(y===void 0||typeof y=="string",58123),In.fromBase64String(y||"")):(ca(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),In.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),d=e.targetChange.cause,u=d&&function(m){const y=m.code===void 0?We.UNKNOWN:kE(m.code);return new ut(y,m.message||"")}(d);a=new _E(n,i,l,u||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Cv(t,n.document.name),l=Hi(n.document.updateTime),d=n.document.createTime?Hi(n.document.createTime):jt.min(),u=new or({mapValue:{fields:n.document.fields}}),h=Un.newFoundDocument(i,l,d,u),m=n.targetIds||[],y=n.removedTargetIds||[];a=new wg(m,y,h.key,h)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Cv(t,n.document),l=n.readTime?Hi(n.readTime):jt.min(),d=Un.newNoDocument(i,l),u=n.removedTargetIds||[];a=new wg([],u,d.key,d)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Cv(t,n.document),l=n.removedTargetIds||[];a=new wg([],l,i,null)}else{if(!("filter"in e))return At(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:l}=n,d=new v9(i,l),u=n.targetId;a=new EE(u,d)}}return a}function j9(t,e){let a;if(e instanceof mh)a={update:AR(t,e.key,e.value)};else if(e instanceof Kw)a={delete:Ax(t,e.key)};else if(e instanceof Bs)a={update:AR(t,e.key,e.data),updateMask:z9(e.fieldMask)};else{if(!(e instanceof f9))return At(16599,{Vt:e.type});a={verify:Ax(t,e.key)}}return e.fieldTransforms.length>0&&(a.updateTransforms=e.fieldTransforms.map(n=>function(l,d){const u=d.transform;if(u instanceof Xg)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof qp)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Hp)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Qg)return{fieldPath:d.field.canonicalString(),increment:u.Ae};throw At(20930,{transform:d.transform})}(0,n))),e.precondition.isNone||(a.currentDocument=function(i,l){return l.updateTime!==void 0?{updateTime:k9(i,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:At(27497)}(t,e.precondition)),a}function I9(t,e){return t&&t.length>0?(ca(e!==void 0,14353),t.map(a=>function(i,l){let d=i.updateTime?Hi(i.updateTime):Hi(l);return d.isEqual(jt.min())&&(d=Hi(l)),new h9(d,i.transformResults||[])}(a,e))):[]}function P9(t,e){return{documents:[PE(t,e.path)]}}function W9(t,e){const a={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,a.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),a.structuredQuery.from=[{collectionId:n.lastSegment()}]),a.parent=PE(t,i);const l=function(m){if(m.length!==0)return LE(Ji.create(m,"and"))}(e.filters);l&&(a.structuredQuery.where=l);const d=function(m){if(m.length!==0)return m.map(y=>function(x){return{field:Xc(x.field),direction:V9(x.dir)}}(y))}(e.orderBy);d&&(a.structuredQuery.orderBy=d);const u=Mx(t,e.limit);return u!==null&&(a.structuredQuery.limit=u),e.startAt&&(a.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(a.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ft:a,parent:i}}function D9(t){let e=E9(t.parent);const a=t.structuredQuery,n=a.from?a.from.length:0;let i=null;if(n>0){ca(n===1,65062);const y=a.from[0];y.allDescendants?i=y.collectionId:e=e.child(y.collectionId)}let l=[];a.where&&(l=function(v){const x=DE(v);return x instanceof Ji&&pE(x)?x.getFilters():[x]}(a.where));let d=[];a.orderBy&&(d=function(v){return v.map(x=>function(C){return new Yg(Qc(C.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(x))}(a.orderBy));let u=null;a.limit&&(u=function(v){let x;return x=typeof v=="object"?v.value:v,Df(x)?null:x}(a.limit));let h=null;a.startAt&&(h=function(v){const x=!!v.before,T=v.values||[];return new Kg(T,x)}(a.startAt));let m=null;return a.endAt&&(m=function(v){const x=!v.before,T=v.values||[];return new Kg(T,x)}(a.endAt)),Zq(e,i,d,l,u,"F",h,m)}function L9(t,e){const a=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return At(28987,{purpose:i})}}(e.purpose);return a==null?null:{"goog-listen-tags":a}}function DE(t){return t.unaryFilter!==void 0?function(a){switch(a.unaryFilter.op){case"IS_NAN":const n=Qc(a.unaryFilter.field);return ln.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Qc(a.unaryFilter.field);return ln.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Qc(a.unaryFilter.field);return ln.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Qc(a.unaryFilter.field);return ln.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return At(61313);default:return At(60726)}}(t):t.fieldFilter!==void 0?function(a){return ln.create(Qc(a.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return At(58110);default:return At(50506)}}(a.fieldFilter.op),a.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(a){return Ji.create(a.compositeFilter.filters.map(n=>DE(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return At(1026)}}(a.compositeFilter.op))}(t):At(30097,{filter:t})}function V9(t){return C9[t]}function U9(t){return M9[t]}function O9(t){return R9[t]}function Xc(t){return{fieldPath:t.canonicalString()}}function Qc(t){return En.fromServerFormat(t.fieldPath)}function LE(t){return t instanceof ln?function(a){if(a.op==="=="){if(mR(a.value))return{unaryFilter:{field:Xc(a.field),op:"IS_NAN"}};if(hR(a.value))return{unaryFilter:{field:Xc(a.field),op:"IS_NULL"}}}else if(a.op==="!="){if(mR(a.value))return{unaryFilter:{field:Xc(a.field),op:"IS_NOT_NAN"}};if(hR(a.value))return{unaryFilter:{field:Xc(a.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xc(a.field),op:U9(a.op),value:a.value}}}(t):t instanceof Ji?function(a){const n=a.getFilters().map(i=>LE(i));return n.length===1?n[0]:{compositeFilter:{op:O9(a.op),filters:n}}}(t):At(54877,{filter:t})}function z9(t){const e=[];return t.fields.forEach(a=>e.push(a.canonicalString())),{fieldPaths:e}}function VE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,a,n,i,l=jt.min(),d=jt.min(),u=In.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=a,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new Ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,a){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,a,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(e){this.yt=e}}function N9(t){const e=D9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Cx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(){this.Cn=new q9}addToCollectionParentIndex(e,a){return this.Cn.add(a),Pe.resolve()}getCollectionParents(e,a){return Pe.resolve(this.Cn.getEntries(a))}addFieldIndex(e,a){return Pe.resolve()}deleteFieldIndex(e,a){return Pe.resolve()}deleteAllFieldIndexes(e){return Pe.resolve()}createTargetIndexes(e,a){return Pe.resolve()}getDocumentsMatchingTarget(e,a){return Pe.resolve(null)}getIndexType(e,a){return Pe.resolve(0)}getFieldIndexes(e,a){return Pe.resolve([])}getNextCollectionGroupToUpdate(e){return Pe.resolve(null)}getMinOffset(e,a){return Pe.resolve(Is.min())}getMinOffsetFromCollectionGroup(e,a){return Pe.resolve(Is.min())}updateCollectionGroup(e,a,n){return Pe.resolve()}updateIndexEntries(e,a){return Pe.resolve()}}class q9{constructor(){this.index={}}add(e){const a=e.lastSegment(),n=e.popLast(),i=this.index[a]||new dn(Pa.comparator),l=!i.has(n);return this.index[a]=i.add(n),l}has(e){const a=e.lastSegment(),n=e.popLast(),i=this.index[a];return i&&i.has(n)}getEntries(e){return(this.index[e]||new dn(Pa.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UE=41943040;class ir{static withCacheSize(e){return new ir(e,ir.DEFAULT_COLLECTION_PERCENTILE,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,a,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=a,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ir.DEFAULT_COLLECTION_PERCENTILE=10,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ir.DEFAULT=new ir(UE,ir.DEFAULT_COLLECTION_PERCENTILE,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ir.DISABLED=new ir(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Td(0)}static cr(){return new Td(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="LruGarbageCollector",H9=1048576;function _R([t,e],[a,n]){const i=Ht(t,a);return i===0?Ht(e,n):i}class $9{constructor(e){this.Ir=e,this.buffer=new dn(_R),this.Er=0}dr(){return++this.Er}Ar(e){const a=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(a);else{const n=this.buffer.last();_R(a,n)<0&&(this.buffer=this.buffer.delete(n).add(a))}}get maxValue(){return this.buffer.last()[0]}}class G9{constructor(e,a,n){this.garbageCollector=e,this.asyncQueue=a,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ze(ER,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(a){zd(a)?Ze(ER,"Ignoring IndexedDB error during garbage collection: ",a):await Od(a)}await this.Vr(3e5)})}}class K9{constructor(e,a){this.mr=e,this.params=a}calculateTargetCount(e,a){return this.mr.gr(e).next(n=>Math.floor(a/100*n))}nthSequenceNumber(e,a){if(a===0)return Pe.resolve(Wf.ce);const n=new $9(a);return this.mr.forEachTarget(e,i=>n.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>n.Ar(i))).next(()=>n.maxValue)}removeTargets(e,a,n){return this.mr.removeTargets(e,a,n)}removeOrphanedDocuments(e,a){return this.mr.removeOrphanedDocuments(e,a)}collect(e,a){return this.params.cacheSizeCollectionThreshold===-1?(Ze("LruGarbageCollector","Garbage collection skipped; disabled"),Pe.resolve(kR)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kR):this.yr(e,a))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,a){let n,i,l,d,u,h,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(Ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),i=this.params.maximumSequenceNumbersToCollect):i=v,d=Date.now(),this.nthSequenceNumber(e,i))).next(v=>(n=v,u=Date.now(),this.removeTargets(e,n,a))).next(v=>(l=v,h=Date.now(),this.removeOrphanedDocuments(e,n))).next(v=>(m=Date.now(),Kc()<=qt.DEBUG&&Ze("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-y}ms
	Determined least recently used ${i} in `+(u-d)+`ms
	Removed ${l} targets in `+(h-u)+`ms
	Removed ${v} documents in `+(m-h)+`ms
Total Duration: ${m-y}ms`),Pe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:v})))}}function Y9(t,e){return new K9(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{constructor(){this.changes=new Gl(e=>e.toString(),(e,a)=>e.isEqual(a)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,a){this.assertNotApplied(),this.changes.set(e,Un.newInvalidDocument(e).setReadTime(a))}getEntry(e,a){this.assertNotApplied();const n=this.changes.get(a);return n!==void 0?Pe.resolve(n):this.getFromCache(e,a)}getEntries(e,a){return this.getAllFromCache(e,a)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(e,a){this.overlayedDocument=e,this.mutatedFields=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(e,a,n,i){this.remoteDocumentCache=e,this.mutationQueue=a,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,a){let n=null;return this.documentOverlayCache.getOverlay(e,a).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,a))).next(i=>(n!==null&&Mp(n.mutation,i,wr.empty(),Ma.now()),i))}getDocuments(e,a){return this.remoteDocumentCache.getEntries(e,a).next(n=>this.getLocalViewOfDocuments(e,n,$t()).next(()=>n))}getLocalViewOfDocuments(e,a,n=$t()){const i=_l();return this.populateOverlays(e,i,a).next(()=>this.computeViews(e,a,i,n).next(l=>{let d=dp();return l.forEach((u,h)=>{d=d.insert(u,h.overlayedDocument)}),d}))}getOverlayedDocuments(e,a){const n=_l();return this.populateOverlays(e,n,a).next(()=>this.computeViews(e,a,n,$t()))}populateOverlays(e,a,n){const i=[];return n.forEach(l=>{a.has(l)||i.push(l)}),this.documentOverlayCache.getOverlays(e,i).next(l=>{l.forEach((d,u)=>{a.set(d,u)})})}computeViews(e,a,n,i){let l=zo();const d=Cp(),u=function(){return Cp()}();return a.forEach((h,m)=>{const y=n.get(m.key);i.has(m.key)&&(y===void 0||y.mutation instanceof Bs)?l=l.insert(m.key,m):y!==void 0?(d.set(m.key,y.mutation.getFieldMask()),Mp(y.mutation,m,y.mutation.getFieldMask(),Ma.now())):d.set(m.key,wr.empty())}),this.recalculateAndSaveOverlays(e,l).next(h=>(h.forEach((m,y)=>d.set(m,y)),a.forEach((m,y)=>u.set(m,new Q9(y,d.get(m)??null))),u))}recalculateAndSaveOverlays(e,a){const n=Cp();let i=new Wa((d,u)=>d-u),l=$t();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,a).next(d=>{for(const u of d)u.keys().forEach(h=>{const m=a.get(h);if(m===null)return;let y=n.get(h)||wr.empty();y=u.applyToLocalView(m,y),n.set(h,y);const v=(i.get(u.batchId)||$t()).add(h);i=i.insert(u.batchId,v)})}).next(()=>{const d=[],u=i.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),m=h.key,y=h.value,v=xE();y.forEach(x=>{if(!l.has(x)){const T=RE(a.get(x),n.get(x));T!==null&&v.set(x,T),l=l.add(x)}}),d.push(this.documentOverlayCache.saveOverlays(e,m,v))}return Pe.waitFor(d)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,a){return this.remoteDocumentCache.getEntries(e,a).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,a,n,i){return function(d){return wt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(a)?this.getDocumentsMatchingDocumentQuery(e,a.path):e9(a)?this.getDocumentsMatchingCollectionGroupQuery(e,a,n,i):this.getDocumentsMatchingCollectionQuery(e,a,n,i)}getNextDocuments(e,a,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,a,n,i).next(l=>{const d=i-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,a,n.largestBatchId,i-l.size):Pe.resolve(_l());let u=zp,h=l;return d.next(m=>Pe.forEach(m,(y,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),l.get(y)?Pe.resolve():this.remoteDocumentCache.getEntry(e,y).next(x=>{h=h.insert(y,x)}))).next(()=>this.populateOverlays(e,m,l)).next(()=>this.computeViews(e,h,m,$t())).next(y=>({batchId:u,changes:vE(y)})))})}getDocumentsMatchingDocumentQuery(e,a){return this.getDocument(e,new wt(a)).next(n=>{let i=dp();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,a,n,i){const l=a.collectionGroup;let d=dp();return this.indexManager.getCollectionParents(e,l).next(u=>Pe.forEach(u,h=>{const m=function(v,x){return new Vf(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(a,h.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,n,i).next(y=>{y.forEach((v,x)=>{d=d.insert(v,x)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,a,n,i){let l;return this.documentOverlayCache.getOverlaysForCollection(e,a.path,n.largestBatchId).next(d=>(l=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,a,n,l,i))).next(d=>{l.forEach((h,m)=>{const y=m.getKey();d.get(y)===null&&(d=d.insert(y,Un.newInvalidDocument(y)))});let u=dp();return d.forEach((h,m)=>{const y=l.get(h);y!==void 0&&Mp(y.mutation,m,wr.empty(),Ma.now()),Of(a,m)&&(u=u.insert(h,m))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,a){return Pe.resolve(this.Lr.get(a))}saveBundleMetadata(e,a){return this.Lr.set(a.id,function(i){return{id:i.id,version:i.version,createTime:Hi(i.createTime)}}(a)),Pe.resolve()}getNamedQuery(e,a){return Pe.resolve(this.kr.get(a))}saveNamedQuery(e,a){return this.kr.set(a.name,function(i){return{name:i.name,query:N9(i.bundledQuery),readTime:Hi(i.readTime)}}(a)),Pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eH{constructor(){this.overlays=new Wa(wt.comparator),this.qr=new Map}getOverlay(e,a){return Pe.resolve(this.overlays.get(a))}getOverlays(e,a){const n=_l();return Pe.forEach(a,i=>this.getOverlay(e,i).next(l=>{l!==null&&n.set(i,l)})).next(()=>n)}saveOverlays(e,a,n){return n.forEach((i,l)=>{this.St(e,a,l)}),Pe.resolve()}removeOverlaysForBatchId(e,a,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach(l=>this.overlays=this.overlays.remove(l)),this.qr.delete(n)),Pe.resolve()}getOverlaysForCollection(e,a,n){const i=_l(),l=a.length+1,d=new wt(a.child("")),u=this.overlays.getIteratorFrom(d);for(;u.hasNext();){const h=u.getNext().value,m=h.getKey();if(!a.isPrefixOf(m.path))break;m.path.length===l&&h.largestBatchId>n&&i.set(h.getKey(),h)}return Pe.resolve(i)}getOverlaysForCollectionGroup(e,a,n,i){let l=new Wa((m,y)=>m-y);const d=this.overlays.getIterator();for(;d.hasNext();){const m=d.getNext().value;if(m.getKey().getCollectionGroup()===a&&m.largestBatchId>n){let y=l.get(m.largestBatchId);y===null&&(y=_l(),l=l.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const u=_l(),h=l.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((m,y)=>u.set(m,y)),!(u.size()>=i)););return Pe.resolve(u)}St(e,a,n){const i=this.overlays.get(n.key);if(i!==null){const d=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(n.key,new b9(a,n));let l=this.qr.get(a);l===void 0&&(l=$t(),this.qr.set(a,l)),this.qr.set(a,l.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tH{constructor(){this.sessionToken=In.EMPTY_BYTE_STRING}getSessionToken(e){return Pe.resolve(this.sessionToken)}setSessionToken(e,a){return this.sessionToken=a,Pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(){this.Qr=new dn(yn.$r),this.Ur=new dn(yn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,a){const n=new yn(e,a);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,a){e.forEach(n=>this.addReference(n,a))}removeReference(e,a){this.Gr(new yn(e,a))}zr(e,a){e.forEach(n=>this.removeReference(n,a))}jr(e){const a=new wt(new Pa([])),n=new yn(a,e),i=new yn(a,e+1),l=[];return this.Ur.forEachInRange([n,i],d=>{this.Gr(d),l.push(d.key)}),l}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const a=new wt(new Pa([])),n=new yn(a,e),i=new yn(a,e+1);let l=$t();return this.Ur.forEachInRange([n,i],d=>{l=l.add(d.key)}),l}containsKey(e){const a=new yn(e,0),n=this.Qr.firstAfterOrEqual(a);return n!==null&&e.isEqual(n.key)}}class yn{constructor(e,a){this.key=e,this.Yr=a}static $r(e,a){return wt.comparator(e.key,a.key)||Ht(e.Yr,a.Yr)}static Kr(e,a){return Ht(e.Yr,a.Yr)||wt.comparator(e.key,a.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aH{constructor(e,a){this.indexManager=e,this.referenceDelegate=a,this.mutationQueue=[],this.tr=1,this.Zr=new dn(yn.$r)}checkEmpty(e){return Pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,a,n,i){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new y9(l,a,n,i);this.mutationQueue.push(d);for(const u of i)this.Zr=this.Zr.add(new yn(u.key,l)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Pe.resolve(d)}lookupMutationBatch(e,a){return Pe.resolve(this.Xr(a))}getNextMutationBatchAfterBatchId(e,a){const n=a+1,i=this.ei(n),l=i<0?0:i;return Pe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Pe.resolve(this.mutationQueue.length===0?Bw:this.tr-1)}getAllMutationBatches(e){return Pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,a){const n=new yn(a,0),i=new yn(a,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([n,i],d=>{const u=this.Xr(d.Yr);l.push(u)}),Pe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,a){let n=new dn(Ht);return a.forEach(i=>{const l=new yn(i,0),d=new yn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,d],u=>{n=n.add(u.Yr)})}),Pe.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,a){const n=a.path,i=n.length+1;let l=n;wt.isDocumentKey(l)||(l=l.child(""));const d=new yn(new wt(l),0);let u=new dn(Ht);return this.Zr.forEachWhile(h=>{const m=h.key.path;return!!n.isPrefixOf(m)&&(m.length===i&&(u=u.add(h.Yr)),!0)},d),Pe.resolve(this.ti(u))}ti(e){const a=[];return e.forEach(n=>{const i=this.Xr(n);i!==null&&a.push(i)}),a}removeMutationBatch(e,a){ca(this.ni(a.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return Pe.forEach(a.mutations,i=>{const l=new yn(i.key,a.batchId);return n=n.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,a){const n=new yn(a,0),i=this.Zr.firstAfterOrEqual(n);return Pe.resolve(a.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Pe.resolve()}ni(e,a){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const a=this.ei(e);return a<0||a>=this.mutationQueue.length?null:this.mutationQueue[a]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nH{constructor(e){this.ri=e,this.docs=function(){return new Wa(wt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,a){const n=a.key,i=this.docs.get(n),l=i?i.size:0,d=this.ri(a);return this.docs=this.docs.insert(n,{document:a.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const a=this.docs.get(e);a&&(this.docs=this.docs.remove(e),this.size-=a.size)}getEntry(e,a){const n=this.docs.get(a);return Pe.resolve(n?n.document.mutableCopy():Un.newInvalidDocument(a))}getEntries(e,a){let n=zo();return a.forEach(i=>{const l=this.docs.get(i);n=n.insert(i,l?l.document.mutableCopy():Un.newInvalidDocument(i))}),Pe.resolve(n)}getDocumentsMatchingQuery(e,a,n,i){let l=zo();const d=a.path,u=new wt(d.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:m,value:{document:y}}=h.getNext();if(!d.isPrefixOf(m.path))break;m.path.length>d.length+1||jq(_q(y),n)<=0||(i.has(y.key)||Of(a,y))&&(l=l.insert(y.key,y.mutableCopy()))}return Pe.resolve(l)}getAllFromCollectionGroup(e,a,n,i){At(9500)}ii(e,a){return Pe.forEach(this.docs,n=>a(n))}newChangeBuffer(e){return new rH(this)}getSize(e){return Pe.resolve(this.size)}}class rH extends X9{constructor(e){super(),this.Nr=e}applyChanges(e){const a=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?a.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)}),Pe.waitFor(a)}getFromCache(e,a){return this.Nr.getEntry(e,a)}getAllFromCache(e,a){return this.Nr.getEntries(e,a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iH{constructor(e){this.persistence=e,this.si=new Gl(a=>qw(a),Hw),this.lastRemoteSnapshotVersion=jt.min(),this.highestTargetId=0,this.oi=0,this._i=new Jw,this.targetCount=0,this.ai=Td.ur()}forEachTarget(e,a){return this.si.forEach((n,i)=>a(i)),Pe.resolve()}getLastRemoteSnapshotVersion(e){return Pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Pe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Pe.resolve(this.highestTargetId)}setTargetsMetadata(e,a,n){return n&&(this.lastRemoteSnapshotVersion=n),a>this.oi&&(this.oi=a),Pe.resolve()}Pr(e){this.si.set(e.target,e);const a=e.targetId;a>this.highestTargetId&&(this.ai=new Td(a),this.highestTargetId=a),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,a){return this.Pr(a),this.targetCount+=1,Pe.resolve()}updateTargetData(e,a){return this.Pr(a),Pe.resolve()}removeTargetData(e,a){return this.si.delete(a.target),this._i.jr(a.targetId),this.targetCount-=1,Pe.resolve()}removeTargets(e,a,n){let i=0;const l=[];return this.si.forEach((d,u)=>{u.sequenceNumber<=a&&n.get(u.targetId)===null&&(this.si.delete(d),l.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),Pe.waitFor(l).next(()=>i)}getTargetCount(e){return Pe.resolve(this.targetCount)}getTargetData(e,a){const n=this.si.get(a)||null;return Pe.resolve(n)}addMatchingKeys(e,a,n){return this._i.Wr(a,n),Pe.resolve()}removeMatchingKeys(e,a,n){this._i.zr(a,n);const i=this.persistence.referenceDelegate,l=[];return i&&a.forEach(d=>{l.push(i.markPotentiallyOrphaned(e,d))}),Pe.waitFor(l)}removeMatchingKeysForTargetId(e,a){return this._i.jr(a),Pe.resolve()}getMatchingKeysForTargetId(e,a){const n=this._i.Hr(a);return Pe.resolve(n)}containsKey(e,a){return Pe.resolve(this._i.containsKey(a))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,a){this.ui={},this.overlays={},this.ci=new Wf(0),this.li=!1,this.li=!0,this.hi=new tH,this.referenceDelegate=e(this),this.Pi=new iH(this),this.indexManager=new F9,this.remoteDocumentCache=function(i){return new nH(i)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new B9(a),this.Ii=new Z9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let a=this.overlays[e.toKey()];return a||(a=new eH,this.overlays[e.toKey()]=a),a}getMutationQueue(e,a){let n=this.ui[e.toKey()];return n||(n=new aH(a,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,a,n){Ze("MemoryPersistence","Starting transaction:",e);const i=new oH(this.ci.next());return this.referenceDelegate.Ei(),n(i).next(l=>this.referenceDelegate.di(i).next(()=>l)).toPromise().then(l=>(i.raiseOnCommittedEvent(),l))}Ai(e,a){return Pe.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,a)))}}class oH extends Pq{constructor(e){super(),this.currentSequenceNumber=e}}class Zw{constructor(e){this.persistence=e,this.Ri=new Jw,this.Vi=null}static mi(e){return new Zw(e)}get fi(){if(this.Vi)return this.Vi;throw At(60996)}addReference(e,a,n){return this.Ri.addReference(n,a),this.fi.delete(n.toString()),Pe.resolve()}removeReference(e,a,n){return this.Ri.removeReference(n,a),this.fi.add(n.toString()),Pe.resolve()}markPotentiallyOrphaned(e,a){return this.fi.add(a.toString()),Pe.resolve()}removeTarget(e,a){this.Ri.jr(a.targetId).forEach(i=>this.fi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,a.targetId).next(i=>{i.forEach(l=>this.fi.add(l.toString()))}).next(()=>n.removeTargetData(e,a))}Ei(){this.Vi=new Set}di(e){const a=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pe.forEach(this.fi,n=>{const i=wt.fromPath(n);return this.gi(e,i).next(l=>{l||a.removeEntry(i,jt.min())})}).next(()=>(this.Vi=null,a.apply(e)))}updateLimboDocument(e,a){return this.gi(e,a).next(n=>{n?this.fi.delete(a.toString()):this.fi.add(a.toString())})}Ti(e){return 0}gi(e,a){return Pe.or([()=>Pe.resolve(this.Ri.containsKey(a)),()=>this.persistence.getTargetCache().containsKey(e,a),()=>this.persistence.Ai(e,a)])}}class Zg{constructor(e,a){this.persistence=e,this.pi=new Gl(n=>Lq(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=Y9(this,a)}static mi(e,a){return new Zg(e,a)}Ei(){}di(e){return Pe.resolve()}forEachTarget(e,a){return this.persistence.getTargetCache().forEachTarget(e,a)}gr(e){const a=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>a.next(i=>n+i))}wr(e){let a=0;return this.pr(e,n=>{a++}).next(()=>a)}pr(e,a){return Pe.forEach(this.pi,(n,i)=>this.br(e,n,i).next(l=>l?Pe.resolve():a(i)))}removeTargets(e,a,n){return this.persistence.getTargetCache().removeTargets(e,a,n)}removeOrphanedDocuments(e,a){let n=0;const i=this.persistence.getRemoteDocumentCache(),l=i.newChangeBuffer();return i.ii(e,d=>this.br(e,d,a).next(u=>{u||(n++,l.removeEntry(d,jt.min()))})).next(()=>l.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,a){return this.pi.set(a,e.currentSequenceNumber),Pe.resolve()}removeTarget(e,a){const n=a.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,a,n){return this.pi.set(n,e.currentSequenceNumber),Pe.resolve()}removeReference(e,a,n){return this.pi.set(n,e.currentSequenceNumber),Pe.resolve()}updateLimboDocument(e,a){return this.pi.set(a,e.currentSequenceNumber),Pe.resolve()}Ti(e){let a=e.key.toString().length;return e.isFoundDocument()&&(a+=bg(e.data.value)),a}br(e,a,n){return Pe.or([()=>this.persistence.Ai(e,a),()=>this.persistence.getTargetCache().containsKey(e,a),()=>{const i=this.pi.get(a);return Pe.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,a,n,i){this.targetId=e,this.fromCache=a,this.Es=n,this.ds=i}static As(e,a){let n=$t(),i=$t();for(const l of a.docChanges)switch(l.type){case 0:n=n.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new eS(e,a.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sH{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lH{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return X6()?8:Wq(On())>0?6:4}()}initialize(e,a){this.ps=e,this.indexManager=a,this.Rs=!0}getDocumentsMatchingQuery(e,a,n,i){const l={result:null};return this.ys(e,a).next(d=>{l.result=d}).next(()=>{if(!l.result)return this.ws(e,a,i,n).next(d=>{l.result=d})}).next(()=>{if(l.result)return;const d=new sH;return this.Ss(e,a,d).next(u=>{if(l.result=u,this.Vs)return this.bs(e,a,d,u.size)})}).next(()=>l.result)}bs(e,a,n,i){return n.documentReadCount<this.fs?(Kc()<=qt.DEBUG&&Ze("QueryEngine","SDK will not create cache indexes for query:",Yc(a),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Pe.resolve()):(Kc()<=qt.DEBUG&&Ze("QueryEngine","Query:",Yc(a),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(Kc()<=qt.DEBUG&&Ze("QueryEngine","The SDK decides to create cache indexes for query:",Yc(a),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qi(a))):Pe.resolve())}ys(e,a){if(bR(a))return Pe.resolve(null);let n=qi(a);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(a.limit!==null&&i===1&&(a=Cx(a,null,"F"),n=qi(a)),this.indexManager.getDocumentsMatchingTarget(e,n).next(l=>{const d=$t(...l);return this.ps.getDocuments(e,d).next(u=>this.indexManager.getMinOffset(e,n).next(h=>{const m=this.Ds(a,u);return this.Cs(a,m,d,h.readTime)?this.ys(e,Cx(a,null,"F")):this.vs(e,m,a,h)}))})))}ws(e,a,n,i){return bR(a)||i.isEqual(jt.min())?Pe.resolve(null):this.ps.getDocuments(e,n).next(l=>{const d=this.Ds(a,l);return this.Cs(a,d,n,i)?Pe.resolve(null):(Kc()<=qt.DEBUG&&Ze("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Yc(a)),this.vs(e,d,a,Eq(i,zp)).next(u=>u))})}Ds(e,a){let n=new dn(yE(e));return a.forEach((i,l)=>{Of(e,l)&&(n=n.add(l))}),n}Cs(e,a,n,i){if(e.limit===null)return!1;if(n.size!==a.size)return!0;const l=e.limitType==="F"?a.last():a.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}Ss(e,a,n){return Kc()<=qt.DEBUG&&Ze("QueryEngine","Using full collection scan to execute query:",Yc(a)),this.ps.getDocumentsMatchingQuery(e,a,Is.min(),n)}vs(e,a,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next(l=>(a.forEach(d=>{l=l.insert(d.key,d)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="LocalStore",cH=3e8;class dH{constructor(e,a,n,i){this.persistence=e,this.Fs=a,this.serializer=i,this.Ms=new Wa(Ht),this.xs=new Gl(l=>qw(l),Hw),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new J9(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",a=>e.collect(a,this.Ms))}}function uH(t,e,a,n){return new dH(t,e,a,n)}async function zE(t,e){const a=It(t);return await a.persistence.runTransaction("Handle user change","readonly",n=>{let i;return a.mutationQueue.getAllMutationBatches(n).next(l=>(i=l,a.Bs(e),a.mutationQueue.getAllMutationBatches(n))).next(l=>{const d=[],u=[];let h=$t();for(const m of i){d.push(m.batchId);for(const y of m.mutations)h=h.add(y.key)}for(const m of l){u.push(m.batchId);for(const y of m.mutations)h=h.add(y.key)}return a.localDocuments.getDocuments(n,h).next(m=>({Ls:m,removedBatchIds:d,addedBatchIds:u}))})})}function pH(t,e){const a=It(t);return a.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),l=a.Ns.newChangeBuffer({trackRemovals:!0});return function(u,h,m,y){const v=m.batch,x=v.keys();let T=Pe.resolve();return x.forEach(C=>{T=T.next(()=>y.getEntry(h,C)).next(j=>{const E=m.docVersions.get(C);ca(E!==null,48541),j.version.compareTo(E)<0&&(v.applyToRemoteDocument(j,m),j.isValidDocument()&&(j.setReadTime(m.commitVersion),y.addEntry(j)))})}),T.next(()=>u.mutationQueue.removeMutationBatch(h,v))}(a,n,e,l).next(()=>l.apply(n)).next(()=>a.mutationQueue.performConsistencyCheck(n)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(u){let h=$t();for(let m=0;m<u.mutationResults.length;++m)u.mutationResults[m].transformResults.length>0&&(h=h.add(u.batch.mutations[m].key));return h}(e))).next(()=>a.localDocuments.getDocuments(n,i))})}function BE(t){const e=It(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",a=>e.Pi.getLastRemoteSnapshotVersion(a))}function hH(t,e){const a=It(t),n=e.snapshotVersion;let i=a.Ms;return a.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=a.Ns.newChangeBuffer({trackRemovals:!0});i=a.Ms;const u=[];e.targetChanges.forEach((y,v)=>{const x=i.get(v);if(!x)return;u.push(a.Pi.removeMatchingKeys(l,y.removedDocuments,v).next(()=>a.Pi.addMatchingKeys(l,y.addedDocuments,v)));let T=x.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?T=T.withResumeToken(In.EMPTY_BYTE_STRING,jt.min()).withLastLimboFreeSnapshotVersion(jt.min()):y.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(y.resumeToken,n)),i=i.insert(v,T),function(j,E,M){return j.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=cH?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(x,T,y)&&u.push(a.Pi.updateTargetData(l,T))});let h=zo(),m=$t();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&u.push(a.persistence.referenceDelegate.updateLimboDocument(l,y))}),u.push(mH(l,d,e.documentUpdates).next(y=>{h=y.ks,m=y.qs})),!n.isEqual(jt.min())){const y=a.Pi.getLastRemoteSnapshotVersion(l).next(v=>a.Pi.setTargetsMetadata(l,l.currentSequenceNumber,n));u.push(y)}return Pe.waitFor(u).next(()=>d.apply(l)).next(()=>a.localDocuments.getLocalViewOfDocuments(l,h,m)).next(()=>h)}).then(l=>(a.Ms=i,l))}function mH(t,e,a){let n=$t(),i=$t();return a.forEach(l=>n=n.add(l)),e.getEntries(t,n).next(l=>{let d=zo();return a.forEach((u,h)=>{const m=l.get(u);h.isFoundDocument()!==m.isFoundDocument()&&(i=i.add(u)),h.isNoDocument()&&h.version.isEqual(jt.min())?(e.removeEntry(u,h.readTime),d=d.insert(u,h)):!m.isValidDocument()||h.version.compareTo(m.version)>0||h.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(h),d=d.insert(u,h)):Ze(tS,"Ignoring outdated watch update for ",u,". Current version:",m.version," Watch version:",h.version)}),{ks:d,qs:i}})}function gH(t,e){const a=It(t);return a.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=Bw),a.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function fH(t,e){const a=It(t);return a.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return a.Pi.getTargetData(n,e).next(l=>l?(i=l,Pe.resolve(i)):a.Pi.allocateTargetId(n).next(d=>(i=new Ss(e,d,"TargetPurposeListen",n.currentSequenceNumber),a.Pi.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=a.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(a.Ms=a.Ms.insert(n.targetId,n),a.xs.set(e,n.targetId)),n})}async function Ex(t,e,a){const n=It(t),i=n.Ms.get(e),l=a?"readwrite":"readwrite-primary";try{a||await n.persistence.runTransaction("Release target",l,d=>n.persistence.referenceDelegate.removeTarget(d,i))}catch(d){if(!zd(d))throw d;Ze(tS,`Failed to update sequence numbers for target ${e}: ${d}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function jR(t,e,a){const n=It(t);let i=jt.min(),l=$t();return n.persistence.runTransaction("Execute query","readwrite",d=>function(h,m,y){const v=It(h),x=v.xs.get(y);return x!==void 0?Pe.resolve(v.Ms.get(x)):v.Pi.getTargetData(m,y)}(n,d,qi(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(d,u.targetId).next(h=>{l=h})}).next(()=>n.Fs.getDocumentsMatchingQuery(d,e,a?i:jt.min(),a?l:$t())).next(u=>(yH(n,a9(e),u),{documents:u,Qs:l})))}function yH(t,e,a){let n=t.Os.get(e)||jt.min();a.forEach((i,l)=>{l.readTime.compareTo(n)>0&&(n=l.readTime)}),t.Os.set(e,n)}class IR{constructor(){this.activeTargetIds=l9()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bH{constructor(){this.Mo=new IR,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,a,n){}addLocalQueryTarget(e,a=!0){return a&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,a,n){this.xo[e]=a}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new IR,Promise.resolve()}handleUserChange(e,a,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vH{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR="ConnectivityMonitor";class WR{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ze(PR,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ze(PR,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ng=null;function _x(){return ng===null?ng=function(){return 268435456+Math.round(2147483648*Math.random())}():ng++,"0x"+ng.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="RestConnection",xH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wH{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const a=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=a+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===$g?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,a,n,i,l){const d=_x(),u=this.zo(e,a.toUriEncodedString());Ze(Mv,`Sending RPC '${e}' ${d}:`,u,n);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,i,l);const{host:m}=new URL(u),y=Dd(m);return this.Jo(e,u,h,n,y).then(v=>(Ze(Mv,`Received RPC '${e}' ${d}: `,v),v),v=>{throw vd(Mv,`RPC '${e}' ${d} failed with error: `,v,"url: ",u,"request:",n),v})}Ho(e,a,n,i,l,d){return this.Go(e,a,n,i,l)}jo(e,a,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ud}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach((i,l)=>e[l]=i),n&&n.headers.forEach((i,l)=>e[l]=i)}zo(e,a){const n=xH[e];return`${this.Uo}/v1/${a}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SH{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn="WebChannelConnection";class TH extends wH{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,a,n,i,l){const d=_x();return new Promise((u,h)=>{const m=new $2;m.setWithCredentials(!0),m.listenOnce(G2.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case yg.NO_ERROR:const v=m.getResponseJson();Ze(Dn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(v)),u(v);break;case yg.TIMEOUT:Ze(Dn,`RPC '${e}' ${d} timed out`),h(new ut(We.DEADLINE_EXCEEDED,"Request time out"));break;case yg.HTTP_ERROR:const x=m.getStatus();if(Ze(Dn,`RPC '${e}' ${d} failed with status:`,x,"response text:",m.getResponseText()),x>0){let T=m.getResponseJson();Array.isArray(T)&&(T=T[0]);const C=T?.error;if(C&&C.status&&C.message){const j=function(M){const L=M.toLowerCase().replace(/_/g,"-");return Object.values(We).indexOf(L)>=0?L:We.UNKNOWN}(C.status);h(new ut(j,C.message))}else h(new ut(We.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new ut(We.UNAVAILABLE,"Connection failed."));break;default:At(9055,{l_:e,streamId:d,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{Ze(Dn,`RPC '${e}' ${d} completed.`)}});const y=JSON.stringify(i);Ze(Dn,`RPC '${e}' ${d} sending request:`,i),m.send(a,"POST",y,n,15)})}T_(e,a,n){const i=_x(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=X2(),u=Y2(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(h.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,a,n),h.encodeInitMessageHeaders=!0;const y=l.join("");Ze(Dn,`Creating RPC '${e}' stream ${i}: ${y}`,h);const v=d.createWebChannel(y,h);this.I_(v);let x=!1,T=!1;const C=new SH({Yo:E=>{T?Ze(Dn,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(x||(Ze(Dn,`Opening RPC '${e}' stream ${i} transport.`),v.open(),x=!0),Ze(Dn,`RPC '${e}' stream ${i} sending:`,E),v.send(E))},Zo:()=>v.close()}),j=(E,M,L)=>{E.listen(M,W=>{try{L(W)}catch(R){setTimeout(()=>{throw R},0)}})};return j(v,cp.EventType.OPEN,()=>{T||(Ze(Dn,`RPC '${e}' stream ${i} transport opened.`),C.o_())}),j(v,cp.EventType.CLOSE,()=>{T||(T=!0,Ze(Dn,`RPC '${e}' stream ${i} transport closed`),C.a_(),this.E_(v))}),j(v,cp.EventType.ERROR,E=>{T||(T=!0,vd(Dn,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),C.a_(new ut(We.UNAVAILABLE,"The operation could not be completed")))}),j(v,cp.EventType.MESSAGE,E=>{if(!T){const M=E.data[0];ca(!!M,16349);const L=M,W=L?.error||L[0]?.error;if(W){Ze(Dn,`RPC '${e}' stream ${i} received error:`,W);const R=W.status;let I=function(A){const _=en[A];if(_!==void 0)return kE(_)}(R),N=W.message;I===void 0&&(I=We.INTERNAL,N="Unknown error status: "+R+" with message "+W.message),T=!0,C.a_(new ut(I,N)),v.close()}else Ze(Dn,`RPC '${e}' stream ${i} received:`,M),C.u_(M)}}),j(u,K2.STAT_EVENT,E=>{E.stat===bx.PROXY?Ze(Dn,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===bx.NOPROXY&&Ze(Dn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.__()},0),C}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(a=>a===e)}}function Rv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(t){return new A9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e,a,n=1e3,i=1.5,l=6e4){this.Mi=e,this.timerId=a,this.d_=n,this.A_=i,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const a=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,a-n);i>0&&Ze("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${a} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR="PersistentStream";class FE{constructor(e,a,n,i,l,d,u,h){this.Mi=e,this.S_=n,this.b_=i,this.connection=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new NE(e,a)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,a){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():a&&a.code===We.RESOURCE_EXHAUSTED?(Oo(a.toString()),Oo("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):a&&a.code===We.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(a)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),a=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.D_===a&&this.G_(n,i)},n=>{e(()=>{const i=new ut(We.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)})})}G_(e,a){const n=this.W_(this.D_);this.stream=this.j_(e,a),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{n(()=>this.z_(i))}),this.stream.onMessage(i=>{n(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Ze(DR,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return a=>{this.Mi.enqueueAndForget(()=>this.D_===e?a():(Ze(DR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class CH extends FE{constructor(e,a,n,i,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",a,n,i,d),this.serializer=l}j_(e,a){return this.connection.T_("Listen",e,a)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const a=_9(this.serializer,e),n=function(l){if(!("targetChange"in l))return jt.min();const d=l.targetChange;return d.targetIds&&d.targetIds.length?jt.min():d.readTime?Hi(d.readTime):jt.min()}(e);return this.listener.H_(a,n)}Y_(e){const a={};a.database=kx(this.serializer),a.addTarget=function(l,d){let u;const h=d.target;if(u=Tx(h)?{documents:P9(l,h)}:{query:W9(l,h).ft},u.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){u.resumeToken=jE(l,d.resumeToken);const m=Mx(l,d.expectedCount);m!==null&&(u.expectedCount=m)}else if(d.snapshotVersion.compareTo(jt.min())>0){u.readTime=Jg(l,d.snapshotVersion.toTimestamp());const m=Mx(l,d.expectedCount);m!==null&&(u.expectedCount=m)}return u}(this.serializer,e);const n=L9(this.serializer,e);n&&(a.labels=n),this.q_(a)}Z_(e){const a={};a.database=kx(this.serializer),a.removeTarget=e,this.q_(a)}}class MH extends FE{constructor(e,a,n,i,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",a,n,i,d),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,a){return this.connection.T_("Write",e,a)}J_(e){return ca(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ca(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ca(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const a=I9(e.writeResults,e.commitTime),n=Hi(e.commitTime);return this.listener.na(n,a)}ra(){const e={};e.database=kx(this.serializer),this.q_(e)}ea(e){const a={streamToken:this.lastStreamToken,writes:e.map(n=>j9(this.serializer,n))};this.q_(a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RH{}class AH extends RH{constructor(e,a,n,i){super(),this.authCredentials=e,this.appCheckCredentials=a,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ut(We.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,a,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.connection.Go(e,Rx(a,n),i,l,d)).catch(l=>{throw l.name==="FirebaseError"?(l.code===We.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ut(We.UNKNOWN,l.toString())})}Ho(e,a,n,i,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,u])=>this.connection.Ho(e,Rx(a,n),i,d,u,l)).catch(d=>{throw d.name==="FirebaseError"?(d.code===We.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(We.UNKNOWN,d.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class kH{constructor(e,a){this.asyncQueue=e,this.onlineStateHandler=a,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const a=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Oo(a),this.aa=!1):Ze("OnlineStateTracker",a)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql="RemoteStore";class EH{constructor(e,a,n,i,l){this.localStore=e,this.datastore=a,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo(d=>{n.enqueueAndForget(async()=>{Kl(this)&&(Ze(ql,"Restarting streams for network reachability change."),await async function(h){const m=It(h);m.Ea.add(4),await fh(m),m.Ra.set("Unknown"),m.Ea.delete(4),await qf(m)}(this))})}),this.Ra=new kH(n,i)}}async function qf(t){if(Kl(t))for(const e of t.da)await e(!0)}async function fh(t){for(const e of t.da)await e(!1)}function qE(t,e){const a=It(t);a.Ia.has(e.targetId)||(a.Ia.set(e.targetId,e),iS(a)?rS(a):Bd(a).O_()&&nS(a,e))}function aS(t,e){const a=It(t),n=Bd(a);a.Ia.delete(e),n.O_()&&HE(a,e),a.Ia.size===0&&(n.O_()?n.L_():Kl(a)&&a.Ra.set("Unknown"))}function nS(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(jt.min())>0){const a=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(a)}Bd(t).Y_(e)}function HE(t,e){t.Va.Ue(e),Bd(t).Z_(e)}function rS(t){t.Va=new T9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Bd(t).start(),t.Ra.ua()}function iS(t){return Kl(t)&&!Bd(t).x_()&&t.Ia.size>0}function Kl(t){return It(t).Ea.size===0}function $E(t){t.Va=void 0}async function _H(t){t.Ra.set("Online")}async function jH(t){t.Ia.forEach((e,a)=>{nS(t,e)})}async function IH(t,e){$E(t),iS(t)?(t.Ra.ha(e),rS(t)):t.Ra.set("Unknown")}async function PH(t,e,a){if(t.Ra.set("Online"),e instanceof _E&&e.state===2&&e.cause)try{await async function(i,l){const d=l.cause;for(const u of l.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,d),i.Ia.delete(u),i.Va.removeTarget(u))}(t,e)}catch(n){Ze(ql,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await ef(t,n)}else if(e instanceof wg?t.Va.Ze(e):e instanceof EE?t.Va.st(e):t.Va.tt(e),!a.isEqual(jt.min()))try{const n=await BE(t.localStore);a.compareTo(n)>=0&&await function(l,d){const u=l.Va.Tt(d);return u.targetChanges.forEach((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const y=l.Ia.get(m);y&&l.Ia.set(m,y.withResumeToken(h.resumeToken,d))}}),u.targetMismatches.forEach((h,m)=>{const y=l.Ia.get(h);if(!y)return;l.Ia.set(h,y.withResumeToken(In.EMPTY_BYTE_STRING,y.snapshotVersion)),HE(l,h);const v=new Ss(y.target,h,m,y.sequenceNumber);nS(l,v)}),l.remoteSyncer.applyRemoteEvent(u)}(t,a)}catch(n){Ze(ql,"Failed to raise snapshot:",n),await ef(t,n)}}async function ef(t,e,a){if(!zd(e))throw e;t.Ea.add(1),await fh(t),t.Ra.set("Offline"),a||(a=()=>BE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ze(ql,"Retrying IndexedDB access"),await a(),t.Ea.delete(1),await qf(t)})}function GE(t,e){return e().catch(a=>ef(t,a,e))}async function Hf(t){const e=It(t),a=Ls(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Bw;for(;WH(e);)try{const i=await gH(e.localStore,n);if(i===null){e.Ta.length===0&&a.L_();break}n=i.batchId,DH(e,i)}catch(i){await ef(e,i)}KE(e)&&YE(e)}function WH(t){return Kl(t)&&t.Ta.length<10}function DH(t,e){t.Ta.push(e);const a=Ls(t);a.O_()&&a.X_&&a.ea(e.mutations)}function KE(t){return Kl(t)&&!Ls(t).x_()&&t.Ta.length>0}function YE(t){Ls(t).start()}async function LH(t){Ls(t).ra()}async function VH(t){const e=Ls(t);for(const a of t.Ta)e.ea(a.mutations)}async function UH(t,e,a){const n=t.Ta.shift(),i=Yw.from(n,e,a);await GE(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Hf(t)}async function OH(t,e){e&&Ls(t).X_&&await async function(n,i){if(function(d){return x9(d)&&d!==We.ABORTED}(i.code)){const l=n.Ta.shift();Ls(n).B_(),await GE(n,()=>n.remoteSyncer.rejectFailedWrite(l.batchId,i)),await Hf(n)}}(t,e),KE(t)&&YE(t)}async function LR(t,e){const a=It(t);a.asyncQueue.verifyOperationInProgress(),Ze(ql,"RemoteStore received new credentials");const n=Kl(a);a.Ea.add(3),await fh(a),n&&a.Ra.set("Unknown"),await a.remoteSyncer.handleCredentialChange(e),a.Ea.delete(3),await qf(a)}async function zH(t,e){const a=It(t);e?(a.Ea.delete(2),await qf(a)):e||(a.Ea.add(2),await fh(a),a.Ra.set("Unknown"))}function Bd(t){return t.ma||(t.ma=function(a,n,i){const l=It(a);return l.sa(),new CH(n,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,i)}(t.datastore,t.asyncQueue,{Xo:_H.bind(null,t),t_:jH.bind(null,t),r_:IH.bind(null,t),H_:PH.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),iS(t)?rS(t):t.Ra.set("Unknown")):(await t.ma.stop(),$E(t))})),t.ma}function Ls(t){return t.fa||(t.fa=function(a,n,i){const l=It(a);return l.sa(),new MH(n,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:LH.bind(null,t),r_:OH.bind(null,t),ta:VH.bind(null,t),na:UH.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Hf(t)):(await t.fa.stop(),t.Ta.length>0&&(Ze(ql,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,a,n,i,l){this.asyncQueue=e,this.timerId=a,this.targetTimeMs=n,this.op=i,this.removalCallback=l,this.deferred=new Es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,a,n,i,l){const d=Date.now()+n,u=new oS(e,a,d,i,l);return u.start(n),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(We.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sS(t,e){if(Oo("AsyncQueue",`${e}: ${t}`),zd(t))return new ut(We.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{static emptySet(e){return new od(e.comparator)}constructor(e){this.comparator=e?(a,n)=>e(a,n)||wt.comparator(a.key,n.key):(a,n)=>wt.comparator(a.key,n.key),this.keyedMap=dp(),this.sortedSet=new Wa(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const a=this.keyedMap.get(e);return a?this.sortedSet.indexOf(a):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((a,n)=>(e(a),!1))}add(e){const a=this.delete(e.key);return a.copy(a.keyedMap.insert(e.key,e),a.sortedSet.insert(e,null))}delete(e){const a=this.get(e);return a?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(a)):this}isEqual(e){if(!(e instanceof od)||this.size!==e.size)return!1;const a=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;a.hasNext();){const i=a.getNext().key,l=n.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(a=>{e.push(a.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,a){const n=new od;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=a,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(){this.ga=new Wa(wt.comparator)}track(e){const a=e.doc.key,n=this.ga.get(a);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(a,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(a,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(a,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(a,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(a):e.type===1&&n.type===2?this.ga=this.ga.insert(a,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(a,{type:2,doc:e.doc}):At(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(a,e)}ya(){const e=[];return this.ga.inorderTraversal((a,n)=>{e.push(n)}),e}}class Cd{constructor(e,a,n,i,l,d,u,h,m){this.query=e,this.docs=a,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=m}static fromInitialDocuments(e,a,n,i,l){const d=[];return a.forEach(u=>{d.push({type:0,doc:u})}),new Cd(e,a,od.emptySet(a),d,n,i,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const a=this.docChanges,n=e.docChanges;if(a.length!==n.length)return!1;for(let i=0;i<a.length;i++)if(a[i].type!==n[i].type||!a[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BH{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class NH{constructor(){this.queries=UR(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(a,n){const i=It(a),l=i.queries;i.queries=UR(),l.forEach((d,u)=>{for(const h of u.Sa)h.onError(n)})})(this,new ut(We.ABORTED,"Firestore shutting down"))}}function UR(){return new Gl(t=>fE(t),Uf)}async function FH(t,e){const a=It(t);let n=3;const i=e.query;let l=a.queries.get(i);l?!l.ba()&&e.Da()&&(n=2):(l=new BH,n=e.Da()?0:1);try{switch(n){case 0:l.wa=await a.onListen(i,!0);break;case 1:l.wa=await a.onListen(i,!1);break;case 2:await a.onFirstRemoteStoreListen(i)}}catch(d){const u=sS(d,`Initialization of query '${Yc(e.query)}' failed`);return void e.onError(u)}a.queries.set(i,l),l.Sa.push(e),e.va(a.onlineState),l.wa&&e.Fa(l.wa)&&lS(a)}async function qH(t,e){const a=It(t),n=e.query;let i=3;const l=a.queries.get(n);if(l){const d=l.Sa.indexOf(e);d>=0&&(l.Sa.splice(d,1),l.Sa.length===0?i=e.Da()?0:1:!l.ba()&&e.Da()&&(i=2))}switch(i){case 0:return a.queries.delete(n),a.onUnlisten(n,!0);case 1:return a.queries.delete(n),a.onUnlisten(n,!1);case 2:return a.onLastRemoteStoreUnlisten(n);default:return}}function HH(t,e){const a=It(t);let n=!1;for(const i of e){const l=i.query,d=a.queries.get(l);if(d){for(const u of d.Sa)u.Fa(i)&&(n=!0);d.wa=i}}n&&lS(a)}function $H(t,e,a){const n=It(t),i=n.queries.get(e);if(i)for(const l of i.Sa)l.onError(a);n.queries.delete(e)}function lS(t){t.Ca.forEach(e=>{e.next()})}var jx,OR;(OR=jx||(jx={})).Ma="default",OR.Cache="cache";class GH{constructor(e,a,n){this.query=e,this.xa=a,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Cd(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let a=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),a=!0):this.La(e,this.onlineState)&&(this.ka(e),a=!0),this.Na=e,a}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let a=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),a=!0),a}La(e,a){if(!e.fromCache||!this.Da())return!0;const n=a!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||a==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const a=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!a)&&this.options.includeMetadataChanges===!0}ka(e){e=Cd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==jx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e){this.key=e}}class QE{constructor(e){this.key=e}}class KH{constructor(e,a){this.query=e,this.Ya=a,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=$t(),this.mutatedKeys=$t(),this.eu=yE(e),this.tu=new od(this.eu)}get nu(){return this.Ya}ru(e,a){const n=a?a.iu:new VR,i=a?a.tu:this.tu;let l=a?a.mutatedKeys:this.mutatedKeys,d=i,u=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,m=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((y,v)=>{const x=i.get(y),T=Of(this.query,v)?v:null,C=!!x&&this.mutatedKeys.has(x.key),j=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let E=!1;x&&T?x.data.isEqual(T.data)?C!==j&&(n.track({type:3,doc:T}),E=!0):this.su(x,T)||(n.track({type:2,doc:T}),E=!0,(h&&this.eu(T,h)>0||m&&this.eu(T,m)<0)&&(u=!0)):!x&&T?(n.track({type:0,doc:T}),E=!0):x&&!T&&(n.track({type:1,doc:x}),E=!0,(h||m)&&(u=!0)),E&&(T?(d=d.add(T),l=j?l.add(y):l.delete(y)):(d=d.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const y=this.query.limitType==="F"?d.last():d.first();d=d.delete(y.key),l=l.delete(y.key),n.track({type:1,doc:y})}return{tu:d,iu:n,Cs:u,mutatedKeys:l}}su(e,a){return e.hasLocalMutations&&a.hasCommittedMutations&&!a.hasLocalMutations}applyChanges(e,a,n,i){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort((y,v)=>function(T,C){const j=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return At(20277,{Rt:E})}};return j(T)-j(C)}(y.type,v.type)||this.eu(y.doc,v.doc)),this.ou(n),i=i??!1;const u=a&&!i?this._u():[],h=this.Xa.size===0&&this.current&&!i?1:0,m=h!==this.Za;return this.Za=h,d.length!==0||m?{snapshot:new Cd(this.query,e.tu,l,d,e.mutatedKeys,h===0,m,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new VR,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(a=>this.Ya=this.Ya.add(a)),e.modifiedDocuments.forEach(a=>{}),e.removedDocuments.forEach(a=>this.Ya=this.Ya.delete(a)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=$t(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const a=[];return e.forEach(n=>{this.Xa.has(n)||a.push(new QE(n))}),this.Xa.forEach(n=>{e.has(n)||a.push(new XE(n))}),a}cu(e){this.Ya=e.Qs,this.Xa=$t();const a=this.ru(e.documents);return this.applyChanges(a,!0)}lu(){return Cd.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const cS="SyncEngine";class YH{constructor(e,a,n){this.query=e,this.targetId=a,this.view=n}}class XH{constructor(e){this.key=e,this.hu=!1}}class QH{constructor(e,a,n,i,l,d){this.localStore=e,this.remoteStore=a,this.eventManager=n,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Gl(u=>fE(u),Uf),this.Iu=new Map,this.Eu=new Set,this.du=new Wa(wt.comparator),this.Au=new Map,this.Ru=new Jw,this.Vu={},this.mu=new Map,this.fu=Td.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function JH(t,e,a=!0){const n=n_(t);let i;const l=n.Tu.get(e);return l?(n.sharedClientState.addLocalQueryTarget(l.targetId),i=l.view.lu()):i=await JE(n,e,a,!0),i}async function ZH(t,e){const a=n_(t);await JE(a,e,!0,!1)}async function JE(t,e,a,n){const i=await fH(t.localStore,qi(e)),l=i.targetId,d=t.sharedClientState.addLocalQueryTarget(l,a);let u;return n&&(u=await e8(t,e,l,d==="current",i.resumeToken)),t.isPrimaryClient&&a&&qE(t.remoteStore,i),u}async function e8(t,e,a,n,i){t.pu=(v,x,T)=>async function(j,E,M,L){let W=E.view.ru(M);W.Cs&&(W=await jR(j.localStore,E.query,!1).then(({documents:V})=>E.view.ru(V,W)));const R=L&&L.targetChanges.get(E.targetId),I=L&&L.targetMismatches.get(E.targetId)!=null,N=E.view.applyChanges(W,j.isPrimaryClient,R,I);return BR(j,E.targetId,N.au),N.snapshot}(t,v,x,T);const l=await jR(t.localStore,e,!0),d=new KH(e,l.Qs),u=d.ru(l.documents),h=gh.createSynthesizedTargetChangeForCurrentChange(a,n&&t.onlineState!=="Offline",i),m=d.applyChanges(u,t.isPrimaryClient,h);BR(t,a,m.au);const y=new YH(e,a,d);return t.Tu.set(e,y),t.Iu.has(a)?t.Iu.get(a).push(e):t.Iu.set(a,[e]),m.snapshot}async function t8(t,e,a){const n=It(t),i=n.Tu.get(e),l=n.Iu.get(i.targetId);if(l.length>1)return n.Iu.set(i.targetId,l.filter(d=>!Uf(d,e))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Ex(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),a&&aS(n.remoteStore,i.targetId),Ix(n,i.targetId)}).catch(Od)):(Ix(n,i.targetId),await Ex(n.localStore,i.targetId,!0))}async function a8(t,e){const a=It(t),n=a.Tu.get(e),i=a.Iu.get(n.targetId);a.isPrimaryClient&&i.length===1&&(a.sharedClientState.removeLocalQueryTarget(n.targetId),aS(a.remoteStore,n.targetId))}async function n8(t,e,a){const n=d8(t);try{const i=await function(d,u){const h=It(d),m=Ma.now(),y=u.reduce((T,C)=>T.add(C.key),$t());let v,x;return h.persistence.runTransaction("Locally write mutations","readwrite",T=>{let C=zo(),j=$t();return h.Ns.getEntries(T,y).next(E=>{C=E,C.forEach((M,L)=>{L.isValidDocument()||(j=j.add(M))})}).next(()=>h.localDocuments.getOverlayedDocuments(T,C)).next(E=>{v=E;const M=[];for(const L of u){const W=g9(L,v.get(L.key).overlayedDocument);W!=null&&M.push(new Bs(L.key,W,cE(W.value.mapValue),di.exists(!0)))}return h.mutationQueue.addMutationBatch(T,m,M,u)}).next(E=>{x=E;const M=E.applyToLocalDocumentSet(v,j);return h.documentOverlayCache.saveOverlays(T,E.batchId,M)})}).then(()=>({batchId:x.batchId,changes:vE(v)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(d,u,h){let m=d.Vu[d.currentUser.toKey()];m||(m=new Wa(Ht)),m=m.insert(u,h),d.Vu[d.currentUser.toKey()]=m}(n,i.batchId,a),await yh(n,i.changes),await Hf(n.remoteStore)}catch(i){const l=sS(i,"Failed to persist write");a.reject(l)}}async function ZE(t,e){const a=It(t);try{const n=await hH(a.localStore,e);e.targetChanges.forEach((i,l)=>{const d=a.Au.get(l);d&&(ca(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?d.hu=!0:i.modifiedDocuments.size>0?ca(d.hu,14607):i.removedDocuments.size>0&&(ca(d.hu,42227),d.hu=!1))}),await yh(a,n,e)}catch(n){await Od(n)}}function zR(t,e,a){const n=It(t);if(n.isPrimaryClient&&a===0||!n.isPrimaryClient&&a===1){const i=[];n.Tu.forEach((l,d)=>{const u=d.view.va(e);u.snapshot&&i.push(u.snapshot)}),function(d,u){const h=It(d);h.onlineState=u;let m=!1;h.queries.forEach((y,v)=>{for(const x of v.Sa)x.va(u)&&(m=!0)}),m&&lS(h)}(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function r8(t,e,a){const n=It(t);n.sharedClientState.updateQueryState(e,"rejected",a);const i=n.Au.get(e),l=i&&i.key;if(l){let d=new Wa(wt.comparator);d=d.insert(l,Un.newNoDocument(l,jt.min()));const u=$t().add(l),h=new Nf(jt.min(),new Map,new Wa(Ht),d,u);await ZE(n,h),n.du=n.du.remove(l),n.Au.delete(e),dS(n)}else await Ex(n.localStore,e,!1).then(()=>Ix(n,e,a)).catch(Od)}async function i8(t,e){const a=It(t),n=e.batch.batchId;try{const i=await pH(a.localStore,e);t_(a,n,null),e_(a,n),a.sharedClientState.updateMutationState(n,"acknowledged"),await yh(a,i)}catch(i){await Od(i)}}async function o8(t,e,a){const n=It(t);try{const i=await function(d,u){const h=It(d);return h.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return h.mutationQueue.lookupMutationBatch(m,u).next(v=>(ca(v!==null,37113),y=v.keys(),h.mutationQueue.removeMutationBatch(m,v))).next(()=>h.mutationQueue.performConsistencyCheck(m)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(m,y,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y)).next(()=>h.localDocuments.getDocuments(m,y))})}(n.localStore,e);t_(n,e,a),e_(n,e),n.sharedClientState.updateMutationState(e,"rejected",a),await yh(n,i)}catch(i){await Od(i)}}function e_(t,e){(t.mu.get(e)||[]).forEach(a=>{a.resolve()}),t.mu.delete(e)}function t_(t,e,a){const n=It(t);let i=n.Vu[n.currentUser.toKey()];if(i){const l=i.get(e);l&&(a?l.reject(a):l.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function Ix(t,e,a=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),a&&t.Pu.yu(n,a);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(n=>{t.Ru.containsKey(n)||a_(t,n)})}function a_(t,e){t.Eu.delete(e.path.canonicalString());const a=t.du.get(e);a!==null&&(aS(t.remoteStore,a),t.du=t.du.remove(e),t.Au.delete(a),dS(t))}function BR(t,e,a){for(const n of a)n instanceof XE?(t.Ru.addReference(n.key,e),s8(t,n)):n instanceof QE?(Ze(cS,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||a_(t,n.key)):At(19791,{wu:n})}function s8(t,e){const a=e.key,n=a.path.canonicalString();t.du.get(a)||t.Eu.has(n)||(Ze(cS,"New document in limbo: "+a),t.Eu.add(n),dS(t))}function dS(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const a=new wt(Pa.fromString(e)),n=t.fu.next();t.Au.set(n,new XH(a)),t.du=t.du.insert(a,n),qE(t.remoteStore,new Ss(qi($w(a.path)),n,"TargetPurposeLimboResolution",Wf.ce))}}async function yh(t,e,a){const n=It(t),i=[],l=[],d=[];n.Tu.isEmpty()||(n.Tu.forEach((u,h)=>{d.push(n.pu(h,e,a).then(m=>{if((m||a)&&n.isPrimaryClient){const y=m?!m.fromCache:a?.targetChanges.get(h.targetId)?.current;n.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(m){i.push(m);const y=eS.As(h.targetId,m);l.push(y)}}))}),await Promise.all(d),n.Pu.H_(i),await async function(h,m){const y=It(h);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>Pe.forEach(m,x=>Pe.forEach(x.Es,T=>y.persistence.referenceDelegate.addReference(v,x.targetId,T)).next(()=>Pe.forEach(x.ds,T=>y.persistence.referenceDelegate.removeReference(v,x.targetId,T)))))}catch(v){if(!zd(v))throw v;Ze(tS,"Failed to update sequence numbers: "+v)}for(const v of m){const x=v.targetId;if(!v.fromCache){const T=y.Ms.get(x),C=T.snapshotVersion,j=T.withLastLimboFreeSnapshotVersion(C);y.Ms=y.Ms.insert(x,j)}}}(n.localStore,l))}async function l8(t,e){const a=It(t);if(!a.currentUser.isEqual(e)){Ze(cS,"User change. New user:",e.toKey());const n=await zE(a.localStore,e);a.currentUser=e,function(l,d){l.mu.forEach(u=>{u.forEach(h=>{h.reject(new ut(We.CANCELLED,d))})}),l.mu.clear()}(a,"'waitForPendingWrites' promise is rejected due to a user change."),a.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await yh(a,n.Ls)}}function c8(t,e){const a=It(t),n=a.Au.get(e);if(n&&n.hu)return $t().add(n.key);{let i=$t();const l=a.Iu.get(e);if(!l)return i;for(const d of l){const u=a.Tu.get(d);i=i.unionWith(u.view.nu)}return i}}function n_(t){const e=It(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=c8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=r8.bind(null,e),e.Pu.H_=HH.bind(null,e.eventManager),e.Pu.yu=$H.bind(null,e.eventManager),e}function d8(t){const e=It(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=i8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=o8.bind(null,e),e}class tf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ff(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,a){return null}Mu(e,a){return null}vu(e){return uH(this.persistence,new lH,e.initialUser,this.serializer)}Cu(e){return new OE(Zw.mi,this.serializer)}Du(e){return new bH}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tf.provider={build:()=>new tf};class u8 extends tf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,a){ca(this.persistence.referenceDelegate instanceof Zg,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new G9(n,e.asyncQueue,a)}Cu(e){const a=this.cacheSizeBytes!==void 0?ir.withCacheSize(this.cacheSizeBytes):ir.DEFAULT;return new OE(n=>Zg.mi(n,a),this.serializer)}}class Px{async initialize(e,a){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(a),this.remoteStore=this.createRemoteStore(a),this.eventManager=this.createEventManager(a),this.syncEngine=this.createSyncEngine(a,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>zR(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=l8.bind(null,this.syncEngine),await zH(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new NH}()}createDatastore(e){const a=Ff(e.databaseInfo.databaseId),n=function(l){return new TH(l)}(e.databaseInfo);return function(l,d,u,h){return new AH(l,d,u,h)}(e.authCredentials,e.appCheckCredentials,n,a)}createRemoteStore(e){return function(n,i,l,d,u){return new EH(n,i,l,d,u)}(this.localStore,this.datastore,e.asyncQueue,a=>zR(this.syncEngine,a,0),function(){return WR.v()?new WR:new vH}())}createSyncEngine(e,a){return function(i,l,d,u,h,m,y){const v=new QH(i,l,d,u,h,m);return y&&(v.gu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,a)}async terminate(){await async function(a){const n=It(a);Ze(ql,"RemoteStore shutting down."),n.Ea.add(5),await fh(n),n.Aa.shutdown(),n.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Px.provider={build:()=>new Px};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p8{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Oo("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,a){setTimeout(()=>{this.muted||e(a)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="FirestoreClient";class h8{constructor(e,a,n,i,l){this.authCredentials=e,this.appCheckCredentials=a,this.asyncQueue=n,this.databaseInfo=i,this.user=Vn.UNAUTHENTICATED,this.clientId=Ow.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(n,async d=>{Ze(Vs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(n,d=>(Ze(Vs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(a){const n=sS(a,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Av(t,e){t.asyncQueue.verifyOperationInProgress(),Ze(Vs,"Initializing OfflineComponentProvider");const a=t.configuration;await e.initialize(a);let n=a.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await zE(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function NR(t,e){t.asyncQueue.verifyOperationInProgress();const a=await m8(t);Ze(Vs,"Initializing OnlineComponentProvider"),await e.initialize(a,t.configuration),t.setCredentialChangeListener(n=>LR(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>LR(e.remoteStore,i)),t._onlineComponents=e}async function m8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ze(Vs,"Using user provided OfflineComponentProvider");try{await Av(t,t._uninitializedComponentsProvider._offline)}catch(e){const a=e;if(!function(i){return i.name==="FirebaseError"?i.code===We.FAILED_PRECONDITION||i.code===We.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(a))throw a;vd("Error using user provided cache. Falling back to memory cache: "+a),await Av(t,new tf)}}else Ze(Vs,"Using default OfflineComponentProvider"),await Av(t,new u8(void 0));return t._offlineComponents}async function r_(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ze(Vs,"Using user provided OnlineComponentProvider"),await NR(t,t._uninitializedComponentsProvider._online)):(Ze(Vs,"Using default OnlineComponentProvider"),await NR(t,new Px))),t._onlineComponents}function g8(t){return r_(t).then(e=>e.syncEngine)}async function f8(t){const e=await r_(t),a=e.eventManager;return a.onListen=JH.bind(null,e.syncEngine),a.onUnlisten=t8.bind(null,e.syncEngine),a.onFirstRemoteStoreListen=ZH.bind(null,e.syncEngine),a.onLastRemoteStoreUnlisten=a8.bind(null,e.syncEngine),a}function y8(t,e,a={}){const n=new Es;return t.asyncQueue.enqueueAndForget(async()=>function(l,d,u,h,m){const y=new p8({next:x=>{y.Nu(),d.enqueueAndForget(()=>qH(l,v));const T=x.docs.has(u);!T&&x.fromCache?m.reject(new ut(We.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&x.fromCache&&h&&h.source==="server"?m.reject(new ut(We.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(x)},error:x=>m.reject(x)}),v=new GH($w(u.path),y,{includeMetadataChanges:!0,qa:!0});return FH(l,v)}(await f8(t),t.asyncQueue,e,a,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="firestore.googleapis.com",qR=!0;class HR{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ut(We.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=o_,this.ssl=qR}else this.host=e.host,this.ssl=e.ssl??qR;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=UE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<H9)throw new ut(We.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=i_(e.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new ut(We.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new ut(We.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new ut(We.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uS{constructor(e,a,n,i){this._authCredentials=e,this._appCheckCredentials=a,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new HR({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(We.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut(We.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new HR(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new yq;switch(n.type){case"firstParty":return new wq(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ut(We.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(a){const n=FR.get(a);n&&(Ze("ComponentProvider","Removing Datastore"),FR.delete(a),n.terminate())}(this),Promise.resolve()}}function b8(t,e,a,n={}){t=qg(t,uS);const i=Dd(e),l=t._getSettings(),d={...l,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${a}`;i&&(s2(`https://${u}`),l2("Firestore",!0)),l.host!==o_&&l.host!==u&&vd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...l,host:u,ssl:i,emulatorOptions:n};if(!zl(h,d)&&(t._setSettings(h),n.mockUserToken)){let m,y;if(typeof n.mockUserToken=="string")m=n.mockUserToken,y=Vn.MOCK_USER;else{m=B6(n.mockUserToken,t._app?.options.projectId);const v=n.mockUserToken.sub||n.mockUserToken.user_id;if(!v)throw new ut(We.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Vn(v)}t._authCredentials=new bq(new J2(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,a,n){this.converter=a,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new pS(this.firestore,e,this._query)}}class jn{constructor(e,a,n){this.converter=a,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $p(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jn(this.firestore,e,this._key)}toJSON(){return{type:jn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,a,n){if(hh(a,jn._jsonSchema))return new jn(e,n||null,new wt(Pa.fromString(a.referencePath)))}}jn._jsonSchemaVersion="firestore/documentReference/1.0",jn._jsonSchema={type:an("string",jn._jsonSchemaVersion),referencePath:an("string")};class $p extends pS{constructor(e,a,n){super(e,a,$w(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jn(this.firestore,null,new wt(e))}withConverter(e){return new $p(this.firestore,e,this._path)}}function v8(t,e,...a){if(t=zn(t),arguments.length===1&&(e=Ow.newId()),Aq("doc","path",e),t instanceof uS){const n=Pa.fromString(e,...a);return iR(n),new jn(t,null,new wt(n))}{if(!(t instanceof jn||t instanceof $p))throw new ut(We.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Pa.fromString(e,...a));return iR(n),new jn(t.firestore,t instanceof $p?t.converter:null,new wt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R="AsyncQueue";class GR{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new NE(this,"async_queue_retry"),this._c=()=>{const n=Rv();n&&Ze($R,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const a=Rv();a&&typeof a.addEventListener=="function"&&a.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const a=Rv();a&&typeof a.removeEventListener=="function"&&a.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const a=new Es;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(a.resolve,a.reject),a.promise)).then(()=>a.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!zd(e))throw e;Ze($R,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const a=this.ac.then(()=>(this.rc=!0,e().catch(n=>{throw this.nc=n,this.rc=!1,Oo("INTERNAL UNHANDLED ERROR: ",KR(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=a,a}enqueueAfterDelay(e,a,n){this.uc(),this.oc.indexOf(e)>-1&&(a=0);const i=oS.createAndSchedule(this,e,a,n,l=>this.hc(l));return this.tc.push(i),i}uc(){this.nc&&At(47125,{Pc:KR(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const a of this.tc)if(a.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((a,n)=>a.targetTimeMs-n.targetTimeMs);for(const a of this.tc)if(a.skipDelay(),e!=="all"&&a.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const a=this.tc.indexOf(e);this.tc.splice(a,1)}}function KR(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class hS extends uS{constructor(e,a,n,i){super(e,a,n,i),this.type="firestore",this._queue=new GR,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new GR(e),this._firestoreClient=void 0,await e}}}function x8(t,e){const a=typeof t=="object"?t:p2(),n=typeof t=="string"?t:$g,i=Aw(a,"firestore").getImmediate({identifier:n});if(!i._initialized){const l=O6("firestore");l&&b8(i,...l)}return i}function mS(t){if(t._terminated)throw new ut(We.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||w8(t),t._firestoreClient}function w8(t){const e=t._freezeSettings(),a=function(i,l,d,u){return new Oq(i,l,d,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,i_(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new h8(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(i){const l=i?._online.build();return{_offline:i?._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Br(In.fromBase64String(e))}catch(a){throw new ut(We.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+a)}}static fromUint8Array(e){return new Br(In.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Br._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hh(e,Br._jsonSchema))return Br.fromBase64String(e.bytes)}}Br._jsonSchemaVersion="firestore/bytes/1.0",Br._jsonSchema={type:an("string",Br._jsonSchemaVersion),bytes:an("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(...e){for(let a=0;a<e.length;++a)if(e[a].length===0)throw new ut(We.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new En(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,a){if(!isFinite(e)||e<-90||e>90)throw new ut(We.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(a)||a<-180||a>180)throw new ut(We.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+a);this._lat=e,this._long=a}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ht(this._lat,e._lat)||Ht(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$i._jsonSchemaVersion}}static fromJSON(e){if(hh(e,$i._jsonSchema))return new $i(e.latitude,e.longitude)}}$i._jsonSchemaVersion="firestore/geoPoint/1.0",$i._jsonSchema={type:an("string",$i._jsonSchemaVersion),latitude:an("number"),longitude:an("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e){this._values=(e||[]).map(a=>a)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let l=0;l<n.length;++l)if(n[l]!==i[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Gi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hh(e,Gi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(a=>typeof a=="number"))return new Gi(e.vectorValues);throw new ut(We.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Gi._jsonSchemaVersion="firestore/vectorValue/1.0",Gi._jsonSchema={type:an("string",Gi._jsonSchemaVersion),vectorValues:an("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S8=/^__.*__$/;class T8{constructor(e,a,n){this.data=e,this.fieldMask=a,this.fieldTransforms=n}toMutation(e,a){return this.fieldMask!==null?new Bs(e,this.data,this.fieldMask,a,this.fieldTransforms):new mh(e,this.data,a,this.fieldTransforms)}}class s_{constructor(e,a,n){this.data=e,this.fieldMask=a,this.fieldTransforms=n}toMutation(e,a){return new Bs(e,this.data,this.fieldMask,a,this.fieldTransforms)}}function l_(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At(40011,{Ac:t})}}class fS{constructor(e,a,n,i,l,d){this.settings=e,this.databaseId=a,this.serializer=n,this.ignoreUndefinedProperties=i,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new fS({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const a=this.path?.child(e),n=this.Vc({path:a,fc:!1});return n.gc(e),n}yc(e){const a=this.path?.child(e),n=this.Vc({path:a,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return af(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(a=>e.isPrefixOf(a))!==void 0||this.fieldTransforms.find(a=>e.isPrefixOf(a.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(l_(this.Ac)&&S8.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class C8{constructor(e,a,n){this.databaseId=e,this.ignoreUndefinedProperties=a,this.serializer=n||Ff(e)}Cc(e,a,n,i=!1){return new fS({Ac:e,methodName:a,Dc:n,path:En.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function M8(t){const e=t._freezeSettings(),a=Ff(t._databaseId);return new C8(t._databaseId,!!e.ignoreUndefinedProperties,a)}function R8(t,e,a,n,i,l={}){const d=t.Cc(l.merge||l.mergeFields?2:0,e,a,i);yS("Data must be an object, but it was:",d,n);const u=c_(n,d);let h,m;if(l.merge)h=new wr(d.fieldMask),m=d.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const x=Wx(e,v,a);if(!d.contains(x))throw new ut(We.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);u_(y,x)||y.push(x)}h=new wr(y),m=d.fieldTransforms.filter(v=>h.covers(v.field))}else h=null,m=d.fieldTransforms;return new T8(new or(u),h,m)}class Gf extends gS{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gf}}function A8(t,e,a,n){const i=t.Cc(1,e,a);yS("Data must be an object, but it was:",i,n);const l=[],d=or.empty();zs(n,(h,m)=>{const y=bS(e,h,a);m=zn(m);const v=i.yc(y);if(m instanceof Gf)l.push(y);else{const x=Kf(m,v);x!=null&&(l.push(y),d.set(y,x))}});const u=new wr(l);return new s_(d,u,i.fieldTransforms)}function k8(t,e,a,n,i,l){const d=t.Cc(1,e,a),u=[Wx(e,n,a)],h=[i];if(l.length%2!=0)throw new ut(We.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<l.length;x+=2)u.push(Wx(e,l[x])),h.push(l[x+1]);const m=[],y=or.empty();for(let x=u.length-1;x>=0;--x)if(!u_(m,u[x])){const T=u[x];let C=h[x];C=zn(C);const j=d.yc(T);if(C instanceof Gf)m.push(T);else{const E=Kf(C,j);E!=null&&(m.push(T),y.set(T,E))}}const v=new wr(m);return new s_(y,v,d.fieldTransforms)}function Kf(t,e){if(d_(t=zn(t)))return yS("Unsupported field value:",e,t),c_(t,e);if(t instanceof gS)return function(n,i){if(!l_(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const l=n._toFieldTransform(i);l&&i.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(n,i){const l=[];let d=0;for(const u of n){let h=Kf(u,i.wc(d));h==null&&(h={nullValue:"NULL_VALUE"}),l.push(h),d++}return{arrayValue:{values:l}}}(t,e)}return function(n,i){if((n=zn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return c9(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const l=Ma.fromDate(n);return{timestampValue:Jg(i.serializer,l)}}if(n instanceof Ma){const l=new Ma(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Jg(i.serializer,l)}}if(n instanceof $i)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Br)return{bytesValue:jE(i.serializer,n._byteString)};if(n instanceof jn){const l=i.databaseId,d=n.firestore._databaseId;if(!d.isEqual(l))throw i.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Qw(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Gi)return function(d,u){return{mapValue:{fields:{[sE]:{stringValue:lE},[Gg]:{arrayValue:{values:d.toArray().map(m=>{if(typeof m!="number")throw u.Sc("VectorValues must only contain numeric values.");return Gw(u.serializer,m)})}}}}}}(n,i);throw i.Sc(`Unsupported field value: ${zw(n)}`)}(t,e)}function c_(t,e){const a={};return tE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zs(t,(n,i)=>{const l=Kf(i,e.mc(n));l!=null&&(a[n]=l)}),{mapValue:{fields:a}}}function d_(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ma||t instanceof $i||t instanceof Br||t instanceof jn||t instanceof gS||t instanceof Gi)}function yS(t,e,a){if(!d_(a)||!Z2(a)){const n=zw(a);throw n==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+n)}}function Wx(t,e,a){if((e=zn(e))instanceof $f)return e._internalPath;if(typeof e=="string")return bS(t,e);throw af("Field path arguments must be of type string or ",t,!1,void 0,a)}const E8=new RegExp("[~\\*/\\[\\]]");function bS(t,e,a){if(e.search(E8)>=0)throw af(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,a);try{return new $f(...e.split("."))._internalPath}catch{throw af(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,a)}}function af(t,e,a,n,i){const l=n&&!n.isEmpty(),d=i!==void 0;let u=`Function ${e}() called with invalid data`;a&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(l||d)&&(h+=" (found",l&&(h+=` in field ${n}`),d&&(h+=` in document ${i}`),h+=")"),new ut(We.INVALID_ARGUMENT,u+t+h)}function u_(t,e){return t.some(a=>a.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e,a,n,i,l){this._firestore=e,this._userDataWriter=a,this._key=n,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const a=this._document.data.field(h_("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a)}}}class _8 extends p_{data(){return super.data()}}function h_(t,e){return typeof e=="string"?bS(t,e):e instanceof $f?e._internalPath:e._delegate._internalPath}class j8{convertValue(e,a="none"){switch(Ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $a(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,a);case 5:return e.stringValue;case 6:return this.convertBytes(Ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,a);case 11:return this.convertObject(e.mapValue,a);case 10:return this.convertVectorValue(e.mapValue);default:throw At(62114,{value:e})}}convertObject(e,a){return this.convertObjectMap(e.fields,a)}convertObjectMap(e,a="none"){const n={};return zs(e,(i,l)=>{n[i]=this.convertValue(l,a)}),n}convertVectorValue(e){const a=e.fields?.[Gg].arrayValue?.values?.map(n=>$a(n.doubleValue));return new Gi(a)}convertGeoPoint(e){return new $i($a(e.latitude),$a(e.longitude))}convertArray(e,a){return(e.values||[]).map(n=>this.convertValue(n,a))}convertServerTimestamp(e,a){switch(a){case"previous":const n=Lf(e);return n==null?null:this.convertValue(n,a);case"estimate":return this.convertTimestamp(Bp(e));default:return null}}convertTimestamp(e){const a=Ps(e);return new Ma(a.seconds,a.nanos)}convertDocumentKey(e,a){const n=Pa.fromString(e);ca(VE(n),9688,{name:e});const i=new Np(n.get(1),n.get(3)),l=new wt(n.popFirst(5));return i.isEqual(a)||Oo(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${a.projectId}/${a.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I8(t,e,a){let n;return n=t?a&&(a.merge||a.mergeFields)?t.toFirestore(e,a):t.toFirestore(e):e,n}class pp{constructor(e,a){this.hasPendingWrites=e,this.fromCache=a}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wl extends p_{constructor(e,a,n,i,l,d){super(e,a,n,i,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const a=new Sg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(a,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,a={}){if(this._document){const n=this._document.data.field(h_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,a.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(We.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,a={};return a.type=Wl._jsonSchemaVersion,a.bundle="",a.bundleSource="DocumentSnapshot",a.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?a:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),a.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),a)}}Wl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wl._jsonSchema={type:an("string",Wl._jsonSchemaVersion),bundleSource:an("string","DocumentSnapshot"),bundleName:an("string"),bundle:an("string")};class Sg extends Wl{data(e={}){return super.data(e)}}class Rp{constructor(e,a,n,i){this._firestore=e,this._userDataWriter=a,this._snapshot=i,this.metadata=new pp(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(a=>e.push(a)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,a){this._snapshot.docs.forEach(n=>{e.call(a,new Sg(this._firestore,this._userDataWriter,n.key,n,new pp(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const a=!!e.includeMetadataChanges;if(a&&this._snapshot.excludesMetadataChanges)throw new ut(We.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===a||(this._cachedChanges=function(i,l){if(i._snapshot.oldDocs.isEmpty()){let d=0;return i._snapshot.docChanges.map(u=>{const h=new Sg(i._firestore,i._userDataWriter,u.doc.key,u.doc,new pp(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:d++}})}{let d=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>l||u.type!==3).map(u=>{const h=new Sg(i._firestore,i._userDataWriter,u.doc.key,u.doc,new pp(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,y=-1;return u.type!==0&&(m=d.indexOf(u.doc.key),d=d.delete(u.doc.key)),u.type!==1&&(d=d.add(u.doc),y=d.indexOf(u.doc.key)),{type:P8(u.type),doc:h,oldIndex:m,newIndex:y}})}}(this,a),this._cachedChangesIncludeMetadataChanges=a),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(We.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Rp._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ow.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const a=[],n=[],i=[];return this.docs.forEach(l=>{l._document!==null&&(a.push(l._document),n.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),i.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function P8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(t){t=qg(t,jn);const e=qg(t.firestore,hS);return y8(mS(e),t._key).then(a=>L8(e,t,a))}Rp._jsonSchemaVersion="firestore/querySnapshot/1.0",Rp._jsonSchema={type:an("string",Rp._jsonSchemaVersion),bundleSource:an("string","QuerySnapshot"),bundleName:an("string"),bundle:an("string")};class W8 extends j8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Br(e)}convertReference(e){const a=this.convertDocumentKey(e,this.firestore._databaseId);return new jn(this.firestore,null,a)}}function D8(t,e){return function(n,i){const l=new Es;return n.asyncQueue.enqueueAndForget(async()=>n8(await g8(n),i,l)),l.promise}(mS(t),e)}function L8(t,e,a){const n=a.docs.get(e._key),i=new W8(t);return new Wl(t,i,e._key,n,new pp(a.hasPendingWrites,a.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(e,a){this._firestore=e,this._commitHandler=a,this._mutations=[],this._committed=!1,this._dataReader=M8(e)}set(e,a,n){this._verifyNotCommitted();const i=kv(e,this._firestore),l=I8(i.converter,a,n),d=R8(this._dataReader,"WriteBatch.set",i._key,l,i.converter!==null,n);return this._mutations.push(d.toMutation(i._key,di.none())),this}update(e,a,n,...i){this._verifyNotCommitted();const l=kv(e,this._firestore);let d;return d=typeof(a=zn(a))=="string"||a instanceof $f?k8(this._dataReader,"WriteBatch.update",l._key,a,n,i):A8(this._dataReader,"WriteBatch.update",l._key,a),this._mutations.push(d.toMutation(l._key,di.exists(!0))),this}delete(e){this._verifyNotCommitted();const a=kv(e,this._firestore);return this._mutations=this._mutations.concat(new Kw(a._key,di.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ut(We.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function kv(t,e){if((t=zn(t)).firestore!==e)throw new ut(We.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(t){return mS(t=qg(t,hS)),new V8(t,e=>D8(t,e))}(function(e,a=!0){(function(i){Ud=i})(Ld),yd(new Bl("firestore",(n,{instanceIdentifier:i,options:l})=>{const d=n.getProvider("app").getImmediate(),u=new hS(new vq(n.getProvider("auth-internal")),new Sq(d,n.getProvider("app-check-internal")),function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ut(We.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Np(m.options.projectId,y)}(d,i),d);return l={useFetchStreams:a,...l},u._setSettings(l),u},"PUBLIC").setMultipleInstances(!0)),As(tR,aR,e),As(tR,aR,"esm2020")})();const Ev={apiKey:"AIzaSyARdmBxF57inERQWaPZ_gtN7t8FqKkQJ0Y",authDomain:"list-of-honor.firebaseapp.com",projectId:"list-of-honor",storageBucket:"list-of-honor.firebasestorage.app",messagingSenderId:"935382322548",appId:"1:935382322548:web:c531b70ee57a42ab23f021"};let _v,Sl,Tl;try{Ev.apiKey&&Ev.apiKey!=="development-only"?(_v=u2(Ev),Sl=hq(_v),Tl=x8(_v)):console.warn("Firebase not initialized: No valid API key found")}catch(t){console.error("Failed to initialize Firebase:",t)}class jl{static getUserDoc(e,a){if(!Tl)throw new Error("Firebase Firestore not initialized");return v8(Tl,"users",e.uid,"data",a)}static async syncToFirestore(e){try{if(!Tl)throw new Error("Firebase Firestore not initialized");const a=YR(Tl),n=localStorage.getItem("heresy-3.0-army-lists"),i=localStorage.getItem("heresy-3.0-army-lists-metadata"),l=localStorage.getItem("customDetachments"),d=localStorage.getItem("customDetachmentsMetadata"),u=localStorage.getItem("heresy-custom-units"),h={armyLists:n?JSON.parse(n):{},customDetachments:l?JSON.parse(l):{},customUnits:u?JSON.parse(u):{},lastSynced:new Date().toISOString()},m=this.getUserDoc(e,"syncedData");if(a.set(m,h),i){const y=this.getUserDoc(e,"armyListsMetadata");a.set(y,{data:JSON.parse(i)})}if(d){const y=this.getUserDoc(e,"customDetachmentsMetadata");a.set(y,{data:JSON.parse(d)})}await a.commit(),console.log("Data synced to Firestore successfully")}catch(a){throw console.error("Error syncing to Firestore:",a),a}}static async loadFromFirestore(e){try{const a=this.getUserDoc(e,"syncedData"),n=await Zu(a);if(n.exists()){const i=n.data();i.armyLists&&localStorage.setItem("heresy-3.0-army-lists",JSON.stringify(i.armyLists)),i.customDetachments&&localStorage.setItem("customDetachments",JSON.stringify(i.customDetachments)),i.customUnits&&localStorage.setItem("heresy-custom-units",JSON.stringify(i.customUnits));const l=this.getUserDoc(e,"armyListsMetadata"),d=await Zu(l);if(d.exists()){const m=d.data();localStorage.setItem("heresy-3.0-army-lists-metadata",JSON.stringify(m.data))}const u=this.getUserDoc(e,"customDetachmentsMetadata"),h=await Zu(u);if(h.exists()){const m=h.data();localStorage.setItem("customDetachmentsMetadata",JSON.stringify(m.data))}console.log("Data loaded from Firestore successfully")}else console.log("No synced data found in Firestore")}catch(a){throw console.error("Error loading from Firestore:",a),a}}static async hasSyncedData(e){try{const a=this.getUserDoc(e,"syncedData");return(await Zu(a)).exists()}catch(a){return console.error("Error checking for synced data:",a),!1}}static async getLastSyncTime(e){try{const a=this.getUserDoc(e,"syncedData"),n=await Zu(a);return n.exists()?n.data().lastSynced:null}catch(a){return console.error("Error getting last sync time:",a),null}}static async clearUserData(e){try{if(!Tl)throw new Error("Firebase Firestore not initialized");const a=YR(Tl),n=this.getUserDoc(e,"syncedData"),i=this.getUserDoc(e,"armyListsMetadata"),l=this.getUserDoc(e,"customDetachmentsMetadata");a.delete(n),a.delete(i),a.delete(l),await a.commit(),console.log("User data cleared from Firestore")}catch(a){throw console.error("Error clearing user data:",a),a}}}const m_=w.createContext(void 0),Nd=()=>{const t=w.useContext(m_);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},U8=({children:t})=>{const[e,a]=w.useState(null),[n,i]=w.useState(!0),l=async()=>{const h=new _o;try{if(!Sl){console.error("Firebase auth not initialized");return}await SF(Sl,h)}catch(m){throw console.error("Error signing in with Google:",m),m}},d=async()=>{try{if(!Sl){console.error("Firebase auth not initialized");return}await aF(Sl)}catch(h){throw console.error("Error signing out:",h),h}};w.useEffect(()=>{if(!Sl){console.warn("Firebase auth not initialized");return}return tF(Sl,async m=>{if(a(m),m)try{await jl.loadFromFirestore(m),console.log("User data loaded from Firestore on login")}catch(y){console.error("Error loading user data on login:",y)}i(!1)})},[]);const u={currentUser:e,loading:n,signInWithGoogle:l,logout:d};return s.jsx(m_.Provider,{value:u,children:!n&&t})},O8=()=>{const{currentUser:t,signInWithGoogle:e,logout:a}=Nd(),[n,i]=w.useState(!1),[l,d]=w.useState(null),[u,h]=w.useState(!1),m=async()=>{i(!0),d(null);try{await e(),h(!1)}catch(v){console.error("Sign in error:",v),d("Failed to sign in with Google. Please try again.")}finally{i(!1)}},y=async()=>{i(!0),d(null);try{await a()}catch(v){console.error("Sign out error:",v),d("Failed to sign out. Please try again.")}finally{i(!1)}};return t?s.jsxs(F,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.jsx(RU,{src:t.photoURL||void 0,alt:t.displayName||"User",sx:{width:32,height:32},children:s.jsx(a6,{})}),s.jsx(O,{variant:"body2",sx:{maxWidth:150,overflow:"hidden",textOverflow:"ellipsis"},children:t.displayName||t.email}),s.jsx(Ve,{variant:"outlined",size:"small",startIcon:n?s.jsx(Cs,{size:16}):s.jsx(v6,{}),onClick:y,disabled:n,children:n?"Signing out...":"Sign Out"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ve,{variant:"contained",startIcon:n?s.jsx(Cs,{size:20}):s.jsx(CM,{}),onClick:()=>h(!0),disabled:n,children:n?"Signing in...":"Sign In with Google"}),s.jsxs(Ra,{open:u,onClose:()=>h(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(ka,{children:"Sign In"}),s.jsxs(Aa,{children:[s.jsx(F,{sx:{mb:2},children:s.jsx(O,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Sign in with your Google account to sync your army lists, custom detachments, and custom units to the cloud."})}),l&&s.jsx(Ca,{severity:"error",sx:{mb:2},children:l}),s.jsx(F,{sx:{display:"flex",flexDirection:"column",gap:2},children:s.jsx(Ve,{variant:"contained",startIcon:n?s.jsx(Cs,{size:20}):s.jsx(CM,{}),onClick:m,disabled:n,fullWidth:!0,size:"large",children:n?"Signing in...":"Continue with Google"})}),s.jsxs(F,{sx:{mt:2},children:[s.jsx(O,{variant:"body2",color:"text.secondary",children:s.jsx("strong",{children:"Benefits of signing in:"})}),s.jsxs(O,{variant:"body2",color:"text.secondary",component:"ul",sx:{mt:1},children:[s.jsx("li",{children:"Sync your data across devices"}),s.jsx("li",{children:"Backup your army lists and custom content"}),s.jsx("li",{children:"Access your data from any browser"})]})]})]}),s.jsx(Ka,{children:s.jsx(Ve,{onClick:()=>h(!1),children:"Cancel"})})]})]})},z8=({open:t,onClose:e})=>{const{currentUser:a}=Nd(),[n,i]=w.useState(!1),[l,d]=w.useState(!1),[u,h]=w.useState(null),[m,y]=w.useState(null),[v,x]=w.useState(null);w.useEffect(()=>{t&&a&&T()},[t,a]);const T=async()=>{if(a)try{const M=await jl.hasSyncedData(a);if(d(M),M){const L=await jl.getLastSyncTime(a);h(L)}}catch(M){console.error("Error checking cloud data:",M),y("Failed to check cloud data")}},C=async()=>{if(a){i(!0),y(null),x(null);try{await jl.syncToFirestore(a),x("Data synced to cloud successfully!"),await T()}catch(M){console.error("Error syncing to cloud:",M),y("Failed to sync data to cloud")}finally{i(!1)}}},j=async()=>{if(a){i(!0),y(null),x(null);try{await jl.loadFromFirestore(a),x("Data loaded from cloud successfully!"),await T(),window.location.reload()}catch(M){console.error("Error loading from cloud:",M),y("Failed to load data from cloud")}finally{i(!1)}}},E=M=>new Date(M).toLocaleString();return s.jsxs(Ra,{open:t,onClose:e,maxWidth:"sm",fullWidth:!0,children:[s.jsx(ka,{children:"Cloud Sync Manager"}),s.jsxs(Aa,{children:[s.jsx(F,{sx:{mb:2},children:s.jsx(O,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Sync your army lists, custom detachments, and custom units to the cloud to access them from any device."})}),m&&s.jsx(Ca,{severity:"error",sx:{mb:2},children:m}),v&&s.jsx(Ca,{severity:"success",sx:{mb:2},children:v}),s.jsxs(F,{sx:{mb:2},children:[s.jsx(O,{variant:"h6",gutterBottom:!0,children:"Cloud Status"}),s.jsx(F,{sx:{display:"flex",gap:1,alignItems:"center",mb:1},children:s.jsx(Ye,{label:l?"Data Available":"No Data",color:l?"success":"default",size:"small"})}),u&&s.jsxs(O,{variant:"body2",color:"text.secondary",children:["Last synced: ",E(u)]})]}),s.jsxs(F,{sx:{display:"flex",flexDirection:"column",gap:2},children:[s.jsx(Ve,{variant:"contained",startIcon:n?s.jsx(Cs,{size:20}):s.jsx(d6,{}),onClick:C,disabled:n,fullWidth:!0,children:n?"Syncing...":"Sync to Cloud"}),l&&s.jsx(Ve,{variant:"outlined",startIcon:n?s.jsx(Cs,{size:20}):s.jsx(l6,{}),onClick:j,disabled:n,fullWidth:!0,children:n?"Loading...":"Load from Cloud"})]}),s.jsx(F,{sx:{mt:2},children:s.jsxs(O,{variant:"body2",color:"text.secondary",children:[s.jsx("strong",{children:"Note:"})," Loading from cloud will replace all current local data. Make sure to sync your current data first if you want to keep it."]})})]}),s.jsx(Ka,{children:s.jsx(Ve,{onClick:e,children:"Close"})})]})},B8=({onClearCurrentArmyList:t})=>{const e=Us(),{currentUser:a}=Nd(),[n,i]=w.useState(null),[l,d]=w.useState(null),[u,h]=w.useState(!1),m=T=>{i(T.currentTarget)},y=()=>{i(null)},v=T=>{d(T.currentTarget)},x=()=>{d(null)};return s.jsxs(s.Fragment,{children:[s.jsx(Id,{position:"static",color:"default",elevation:1,children:s.jsxs(Wd,{children:[s.jsx(O,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Horus Heresy 3.0"}),s.jsx(O8,{}),s.jsx(xt,{size:"large",edge:"end",color:"inherit","aria-label":"menu",onClick:m,children:s.jsx(x6,{})}),s.jsxs(sx,{anchorEl:n,open:!!n,onClose:y,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[s.jsxs(Sa,{onClick:v,children:[s.jsx(ox,{children:s.jsx(w6,{fontSize:"small"})}),s.jsx(Dg,{children:"Theme"})]}),a&&s.jsxs(Sa,{onClick:()=>h(!0),children:[s.jsx(ox,{children:s.jsx(cx,{fontSize:"small"})}),s.jsx(Dg,{children:"Cloud Sync"})]})]}),s.jsx(sx,{anchorEl:l,open:!!l,onClose:x,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:s.jsx(_6,{})})]})}),s.jsxs(Cr,{maxWidth:"md",sx:{py:4},children:[s.jsxs(F,{sx:{textAlign:"center",mb:6},children:[s.jsx(O,{variant:"h2",component:"h1",gutterBottom:!0,children:"Horus Heresy 3.0"}),s.jsx(O,{variant:"h4",component:"h2",color:"text.secondary",children:"Army List Builder"})]}),s.jsxs(F,{sx:{display:"flex",flexDirection:"column",gap:3},children:[s.jsx(F,{children:s.jsx(yt,{children:s.jsxs(bt,{sx:{p:3},children:[s.jsx(O,{variant:"h5",component:"h3",gutterBottom:!0,children:"Army Lists"}),s.jsxs(F,{sx:{display:"flex",flexDirection:"column",gap:2},children:[s.jsx(Ve,{variant:"contained",color:"primary",size:"large",fullWidth:!0,onClick:()=>{t?.(),e("/army-builder")},children:"Create New Army List"}),s.jsx(Ve,{variant:"contained",color:"primary",size:"large",fullWidth:!0,onClick:()=>e("/load-list"),children:"Load Existing Army List"})]})]})})}),s.jsx(F,{children:s.jsx(yt,{children:s.jsxs(bt,{sx:{p:3},children:[s.jsx(O,{variant:"h5",component:"h3",gutterBottom:!0,children:"Data Management"}),s.jsxs(F,{sx:{display:"flex",flexDirection:"column",gap:2},children:[s.jsx(Ve,{variant:"contained",color:"primary",size:"large",fullWidth:!0,onClick:()=>e("/edit-units"),children:"Edit Units"}),s.jsx(Ve,{variant:"contained",color:"primary",size:"large",fullWidth:!0,onClick:()=>e("/edit-detachments"),children:"Edit Detachments"}),s.jsx(Ve,{variant:"contained",color:"primary",size:"large",fullWidth:!0,onClick:()=>e("/csv-creator"),children:"CSV Creator"})]})]})})}),s.jsx(F,{children:s.jsx(yt,{children:s.jsxs(bt,{sx:{p:3},children:[s.jsx(O,{variant:"h5",component:"h3",gutterBottom:!0,children:"Reference"}),s.jsx(F,{sx:{display:"flex",flexDirection:"column",gap:2},children:s.jsx(Ve,{variant:"contained",color:"primary",size:"large",fullWidth:!0,onClick:()=>e("/rules-browser"),children:"Rules Browser"})})]})})})]}),s.jsx(F,{sx:{textAlign:"center",mt:6},children:s.jsx(O,{variant:"body2",color:"text.secondary",children:"Version 1.0.0"})})]}),s.jsx(z8,{open:u,onClose:()=>h(!1)})]})},N8=(t={})=>{const{enabled:e=!0,intervalMs:a=6e4,onSyncStart:n,onSyncComplete:i,onSyncError:l}=t,{currentUser:d}=Nd(),[u,h]=w.useState(!1),[m,y]=w.useState(null),[v,x]=w.useState(null),T=w.useRef(null),C=async()=>{if(!(!d||!e))try{h(!0),x(null),n?.(),await jl.syncToFirestore(d),y(new Date),i?.()}catch(E){const M=E instanceof Error?E.message:"Unknown sync error";x(M),l?.(E instanceof Error?E:new Error(M)),console.error("Auto sync error:",E)}finally{h(!1)}};return w.useEffect(()=>{if(!d||!e){T.current&&(clearInterval(T.current),T.current=null);return}return C(),T.current=setInterval(C,a),()=>{T.current&&(clearInterval(T.current),T.current=null)}},[d,e,a]),w.useEffect(()=>()=>{T.current&&clearInterval(T.current)},[]),{isSyncing:u,lastSyncTime:m,syncError:v,manualSync:async()=>{await C()}}},F8=[{id:"legiones-astartes",name:"Legiones Astartes",allegiance:"Universal",description:"The Space Marine Legions of the Great Crusade and Horus Heresy",isMainFaction:!0,parentFaction:"",ritesOfWar:[],specialRules:[],type:"Legion"},{id:"mechanicum",name:"Adeptus Mechanicum",allegiance:"Universal",description:"The Adeptus Mechanicus and their war machines",isMainFaction:!0,parentFaction:"",ritesOfWar:[],specialRules:[],type:"Mechanicum"},{id:"questoris-familia",name:"Questoris Familia",allegiance:"Universal",description:"The noble houses of Imperial Knights",isMainFaction:!0,parentFaction:"",ritesOfWar:[],specialRules:[],type:"Knight"},{id:"solar-auxilia",name:"Solar Auxilia",allegiance:"Universal",description:"The elite regiments of the Imperial Army, representing the finest human soldiers in the galaxy",isMainFaction:!0,parentFaction:"",ritesOfWar:[],specialRules:[],type:"Auxilia"},{id:"dark-angels",name:"Dark Angels (I Legion)",allegiance:"Universal",description:"The I Legion, the First and the most secretive of all Legions",isMainFaction:!1,parentFaction:"legiones-astartes",ritesOfWar:[],specialRules:[],type:"Legion"},{id:"emperor-children",name:"Emperor's Children (III Legion)",allegiance:"Universal",description:"The III Legion, perfectionists and masters of close combat",isMainFaction:!1,parentFaction:"legiones-astartes",ritesOfWar:[],specialRules:[],type:"Legion"},{id:"iron-warriors",name:"Iron Warriors (IV Legion)",allegiance:"Universal",description:"The IV Legion, masters of siege warfare and artillery",isMainFaction:!1,parentFaction:"legiones-astartes",ritesOfWar:[],specialRules:[],type:"Legion"},{id:"white-scars",name:"White Scars (V Legion)",allegiance:"Universal",description:"The V Legion, masters of lightning warfare and mounted combat",isMainFaction:!1,parentFaction:"legiones-astartes",ritesOfWar:[],specialRules:[],type:"Legion"},{id:"space-wolves",name:"Space Wolves (VI Legion)",allegiance:"Universal",description:"The VI Legion, the Wolves of Fenris and savage warriors",isMainFaction:!1,parentFaction:"legiones-astartes",ritesOfWar:[],specialRules:[],type:"Legion"},{id:"imperial-fists",name:"Imperial Fists (VII Legion)",allegiance:"Universal",description:"The VII Legion, masters of siege warfare and fortification",isMainFaction:!1,parentFaction:"legiones-astartes",ritesOfWar:[],specialRules:[],type:"Legion"},{id:"night-lords",name:"Night Lords (VIII Legion)",allegiance:"Universal",description:"The VIII Legion, terror incarnate and masters of psychological warfare",isMainFaction:!1,parentFaction:"legiones-astartes",ritesOfWar:[],specialRules:[],type:"Legion"},{id:"blood-angels",name:"Blood Angels (IX Legion)",allegiance:"Universal",description:"The IX Legion, noble warriors with a dark secret in their blood",isMainFaction:!1,parentFaction:"legiones-astartes",ritesOfWar:[],specialRules:[],type:"Legion"},{id:"iron-hands",name:"Iron Hands (X Legion)",allegiance:"Universal",description:"The X Legion, masters of technology and cybernetic enhancement",isMainFaction:!1,parentFaction:"legiones-astartes",ritesOfWar:[],specialRules:[],type:"Legion"},{id:"world-eaters",name:"World Eaters (XII Legion)",allegiance:"Universal",description:"The XII Legion, berserkers who seek close combat above all else",isMainFaction:!1,parentFaction:"legiones-astartes",ritesOfWar:[],specialRules:[],type:"Legion"},{id:"ultramarines",name:"Ultramarines (XIII Legion)",allegiance:"Universal",description:"The XIII Legion, masters of tactical warfare and the Codex Astartes",isMainFaction:!1,parentFaction:"legiones-astartes",ritesOfWar:[],specialRules:[],type:"Legion"},{id:"death-guard",name:"Death Guard (XIV Legion)",allegiance:"Universal",description:"The XIV Legion, masters of biological warfare and endurance",isMainFaction:!1,parentFaction:"legiones-astartes",ritesOfWar:[],specialRules:[],type:"Legion"},{id:"thousand-sons",name:"Thousand Sons (XV Legion)",allegiance:"Universal",description:"The XV Legion, masters of psychic powers and sorcery",isMainFaction:!1,parentFaction:"legiones-astartes",ritesOfWar:[],specialRules:[],type:"Legion"},{id:"luna-wolves",name:"Luna Wolves (XVI Legion)",allegiance:"Universal",description:"The XVI Legion, the Warmaster's own and masters of precision strikes",isMainFaction:!1,parentFaction:"legiones-astartes",ritesOfWar:[],specialRules:[],type:"Legion"},{id:"word-bearers",name:"Word Bearers (XVII Legion)",allegiance:"Universal",description:"The XVII Legion, the first to fall to Chaos and masters of faith",isMainFaction:!1,parentFaction:"legiones-astartes",ritesOfWar:[],specialRules:[],type:"Legion"},{id:"salamanders",name:"Salamanders (XVIII Legion)",allegiance:"Universal",description:"The XVIII Legion, masters of fire and the forge",isMainFaction:!1,parentFaction:"legiones-astartes",ritesOfWar:[],specialRules:[],type:"Legion"},{id:"raven-guard",name:"Raven Guard (XIX Legion)",allegiance:"Universal",description:"The XIX Legion, masters of stealth and guerrilla warfare",isMainFaction:!1,parentFaction:"legiones-astartes",ritesOfWar:[],specialRules:[],type:"Legion"},{id:"alpha-legion",name:"Alpha Legion (XX Legion)",allegiance:"Universal",description:"The XX Legion, masters of deception and infiltration",isMainFaction:!1,parentFaction:"legiones-astartes",ritesOfWar:[],specialRules:[],type:"Legion"}],Ro={factions:F8},q8=[{benefits:["Tactical Squads gain the Line unit type","Tactical Squads may re-roll failed Morale checks"],description:"A force built around the core strength of the Legion - its Tactical Squads",detachmentModifications:[{detachmentType:"Primary",slotChanges:[{role:"Troops",change:"modify",count:8}],restrictions:[]}],faction:["legiones-astartes"],id:"pride-of-the-legion",name:"Pride of the Legion",restrictions:["Must include at least 3 Troops choices","No more than 2 Fast Attack choices","No more than 2 Heavy Support choices"],minSize:0,maxSize:0,baseSize:0,upgrades:[]},{benefits:["All Armour units gain the Line unit type","Armour units may re-roll failed Morale checks"],description:"A mechanised force built around tanks and armoured vehicles",detachmentModifications:[{detachmentType:"Primary",slotChanges:[{role:"Armour",change:"add",count:3}],restrictions:[]}],faction:["legiones-astartes"],id:"armoured-spearhead",name:"Armoured Spearhead",restrictions:["Must include at least 2 Armour choices","No more than 2 Troops choices","No Fast Attack choices"],minSize:0,maxSize:0,baseSize:0,upgrades:[]},{benefits:["All units with Jump Packs or Terminator Armour gain the Line unit type","Units with Jump Packs or Terminator Armour may re-roll failed Morale checks"],description:"A force designed for rapid deployment via drop pods and teleportation",detachmentModifications:[{detachmentType:"Primary",slotChanges:[{role:"Fast Attack",change:"add",count:2}],restrictions:[]}],faction:["legiones-astartes"],id:"orbital-assault",name:"Orbital Assault",restrictions:["Must include at least 2 Fast Attack choices","No more than 2 Armour choices","No Heavy Support choices"],minSize:0,maxSize:0,baseSize:0,upgrades:[]},{benefits:["All Fast Attack units gain the Line unit type","Fast Attack units may re-roll failed Morale checks"],description:"A force built around air superiority and rapid strike capabilities",detachmentModifications:[{detachmentType:"Primary",slotChanges:[{role:"Fast Attack",change:"add",count:2}],restrictions:[]}],faction:["legiones-astartes"],id:"sky-hunters",name:"Sky Hunters",restrictions:["Must include at least 2 Fast Attack choices","No more than 2 Troops choices","No Heavy Support choices"],minSize:0,maxSize:0,baseSize:0,upgrades:[]},{benefits:["All War Engine units gain the Line unit type","War Engine units may re-roll failed Morale checks"],description:"A force built around the mightiest war machines of the Legion",detachmentModifications:[{detachmentType:"Primary",slotChanges:[{role:"War Engine",change:"add",count:2}],restrictions:[]}],faction:["legiones-astartes"],id:"the-lords-of-war",name:"The Lords of War",restrictions:["Must include at least 2 War Engine choices","No more than 2 Troops choices","No Fast Attack choices"],minSize:0,maxSize:0,baseSize:0,upgrades:[]},{benefits:["All Heavy Support units gain the Line unit type","Heavy Support units may re-roll failed Morale checks"],description:"A force built around overwhelming firepower and heavy support",detachmentModifications:[{detachmentType:"Primary",slotChanges:[{role:"Heavy Support",change:"add",count:2}],restrictions:[]}],faction:["legiones-astartes"],id:"massive-onslaught",name:"Massive Onslaught",restrictions:["Must include at least 2 Heavy Support choices","No more than 2 Troops choices","No Fast Attack choices"],minSize:0,maxSize:0,baseSize:0,upgrades:[]}],jv={ritesOfWar:q8},H8=[{id:"high-command",name:"High Command",description:"Senior officers and commanders",maxCount:null,type:"High Command"},{id:"command",name:"Command",description:"Junior officers and specialists",maxCount:null,type:"Command"},{id:"troops",name:"Troops",description:"Basic infantry units",maxCount:null,type:"Troops"},{id:"transport",name:"Transport",description:"Light transport vehicles",maxCount:null,type:"Transport"},{id:"heavy-transport",name:"Heavy Transport",description:"Heavy transport vehicles like Land Raiders",maxCount:null,type:"Heavy Transport"},{id:"support",name:"Support",description:"Special and heavy weapon squads",maxCount:null,type:"Support"},{id:"armour",name:"Armour",description:"Tanks and armoured vehicles",maxCount:null,type:"Armour"},{id:"war-engine",name:"War Engine",description:"Dreadnoughts and war machines",maxCount:null,type:"War Engine"},{id:"reconnaissance",name:"Reconnaissance",description:"Light infantry and bikes",maxCount:null,type:"Reconnaissance"},{id:"elite",name:"Elite",description:"Elite infantry and vehicles",maxCount:null,type:"Elite"},{id:"heavy-assault",name:"Heavy Assault",description:"Terminators and heavy assault units",maxCount:null,type:"Heavy Assault"},{id:"fast-attack",name:"Fast Attack",description:"Aircraft, jetbikes and speeders",maxCount:null,type:"Fast Attack"},{id:"retinue",name:"Retinue",description:"Command squads and bodyguards",maxCount:null,type:"Retinue"},{id:"warlord",name:"Warlord",description:"Army commanders and Primarchs",maxCount:1,type:"Warlord"},{id:"lord-of-war",name:"Lord of War",description:"Lord of War units",maxCount:null,type:"Lord of War"}],XR={battlefieldRoles:H8},$8=JSON.parse('[{"id":"crusade-primary","name":"Crusade Primary Detachment","description":"The standard Primary Detachment for all factions","faction":["universal"],"maxCount":null,"requirements":[{"type":"faction","value":"any","description":"Available to any faction"}],"restrictions":"","slots":[{"roleId":"high-command","count":1,"isPrime":false,"description":"One High Command slot"},{"roleId":"command","count":1,"isPrime":true,"description":"One prime Command slot"},{"roleId":"command","count":2,"isPrime":false,"description":"Two additional Command slots"},{"roleId":"troops","count":1,"isPrime":true,"description":"One prime Troops slot"},{"roleId":"troops","count":3,"isPrime":false,"description":"Five additional Troops slots"},{"roleId":"transport","count":4,"isPrime":false,"description":"Six Transport slots"}],"triggers":"","type":"Primary","minSize":0,"maxSize":0,"baseSize":0,"upgrades":[]},{"id":"warlord-detachment","name":"Warlord Detachment","description":"Special detachment for Primarchs and Warlords","faction":["legiones-astartes"],"maxCount":null,"requirements":[{"type":"unit","value":"warlord","description":"Must include a Warlord unit"}],"restrictions":[{"type":"faction-must-match","value":"primary-faction","description":"Must be same faction as primary detachment"},{"type":"max-count","value":1,"description":"Only one Warlord detachment allowed"}],"slots":[{"roleId":"warlord","count":1,"isPrime":false,"description":"One Warlord slot"},{"roleId":"retinue","count":1,"isPrime":false,"description":"One Retinue slot"},{"roleId":"heavy-transport","count":1,"isPrime":false,"description":"One Heavy Transport slot"}],"triggers":[{"type":"always-available","description":"Available when requirements are met"}],"type":"Universal","minSize":0,"maxSize":0,"baseSize":0,"upgrades":[]},{"id":"lord-of-war-detachment","name":"Lord of War Detachment","description":"For Titan Legions and super-heavy units","faction":["universal"],"maxCount":null,"requirements":[{"type":"unit","value":"titan","description":"Must include a Titan or super-heavy unit"}],"restrictions":[{"type":"faction-must-match","value":"primary-faction","description":"Must be same faction as primary detachment"},{"type":"max-count","value":1,"description":"Only one Lord of War detachment allowed"}],"slots":[{"roleId":"lord-of-war","count":2,"isPrime":false,"description":"Two Lord of War slots"}],"triggers":[{"type":"always-available","description":"Available when requirements are met"}],"type":"Universal","minSize":0,"maxSize":0,"baseSize":0,"upgrades":[]},{"id":"allied-detachment","name":"Allied Detachment","description":"Allied forces from a different faction","faction":["universal"],"maxCount":null,"requirements":[{"type":"faction","value":"any","description":"Must select a faction different from primary"}],"restrictions":[{"type":"faction-must-differ","value":"primary-faction","description":"Must be different faction from primary detachment"},{"type":"max-count","value":1,"description":"Only one Allied detachment allowed"}],"slots":[{"roleId":"command","count":2,"isPrime":false,"description":"Two Command slots"},{"roleId":"troops","count":2,"isPrime":false,"description":"Two Troops slots"},{"roleId":"transport","count":2,"isPrime":false,"description":"Two Transport slots"}],"triggers":[{"type":"always-available","description":"Available when requirements are met"}],"type":"Allied","minSize":0,"maxSize":0,"baseSize":0,"upgrades":[]},{"id":"elite-transport","name":"Elite Transport Detachment","description":"A detachment focused on elite transport capabilities","faction":["universal"],"maxCount":null,"requirements":[{"type":"detachment","value":"primary","description":"Requires Primary Detachment"}],"restrictions":"","slots":[{"roleId":"transport","count":1,"isPrime":true,"description":"One prime Transport slot"},{"roleId":"transport","count":2,"isPrime":false,"description":"Two additional Transport slots"},{"roleId":"heavy-transport","count":2,"isPrime":false,"description":"Two Heavy Transport slots"}],"triggers":[{"type":"command-filled","description":"Available when any Command slot is filled"}],"type":"Auxiliary","minSize":0,"maxSize":0,"baseSize":0,"upgrades":[]},{"id":"armoured-fist","name":"Armoured Fist","description":"Heavy transports like the Land Raider, plus additional light transports","faction":["universal"],"maxCount":null,"requirements":[{"type":"detachment","value":"primary","description":"Requires Primary Detachment"}],"restrictions":"","slots":[{"roleId":"heavy-transport","count":3,"isPrime":false,"description":"Up to three Heavy Transport slots"},{"roleId":"transport","count":3,"isPrime":false,"description":"Up to three additional Transport slots"}],"triggers":[{"type":"command-filled","description":"Available when any Command slot is filled"}],"type":"Auxiliary","minSize":0,"maxSize":0,"baseSize":0,"upgrades":[]},{"id":"tactical-support","name":"Tactical Support","description":"Additional Troops and Support slots","faction":["universal"],"maxCount":null,"requirements":[{"type":"detachment","value":"primary","description":"Requires Primary Detachment"}],"restrictions":"","slots":[{"roleId":"troops","count":2,"isPrime":false,"description":"Up to two additional Troops slots"},{"roleId":"support","count":2,"isPrime":false,"description":"Up to two Support slots"}],"triggers":[{"type":"command-filled","description":"Available when any Command slot is filled"}],"type":"Auxiliary","minSize":0,"maxSize":0,"baseSize":0,"upgrades":[]},{"id":"armoured-support","name":"Armoured Support","description":"Armour slots which you can fill with tanks and other armoured vehicles","faction":["universal"],"maxCount":null,"requirements":[{"type":"detachment","value":"primary","description":"Requires Primary Detachment"}],"restrictions":"","slots":[{"roleId":"armour","count":3,"isPrime":false,"description":"Up to three Armour slots"}],"triggers":[{"type":"command-filled","description":"Available when any Command slot is filled"}],"type":"Auxiliary","minSize":0,"maxSize":0,"baseSize":0,"upgrades":[]},{"id":"heavy-support","name":"Heavy Support","description":"War-engine slots for Dreadnoughts and other war machines","faction":["universal"],"maxCount":null,"requirements":[{"type":"detachment","value":"primary","description":"Requires Primary Detachment"}],"restrictions":"","slots":[{"roleId":"war-engine","count":1,"isPrime":false,"description":"One War Engine slot"}],"triggers":[{"type":"command-filled","description":"Available when any Command slot is filled"}],"type":"Auxiliary","minSize":0,"maxSize":0,"baseSize":0,"upgrades":[]},{"id":"combat-pioneer","name":"Combat Pioneer","description":"Reconnaissance slots for light infantry and bikes","faction":["universal"],"maxCount":null,"requirements":[{"type":"detachment","value":"primary","description":"Requires Primary Detachment"}],"restrictions":"","slots":[{"roleId":"reconnaissance","count":2,"isPrime":false,"description":"Up to two Reconnaissance slots"}],"triggers":[{"type":"command-filled","description":"Available when any Command slot is filled"}],"type":"Auxiliary","minSize":0,"maxSize":0,"baseSize":0,"upgrades":[]},{"id":"shock-assault","name":"Shock Assault","description":"Heavy Assault slots for Terminators","faction":["universal"],"maxCount":null,"requirements":[{"type":"detachment","value":"primary","description":"Requires Primary Detachment"}],"restrictions":"","slots":[{"roleId":"heavy-assault","count":2,"isPrime":false,"description":"Up to two Heavy Assault slots"}],"triggers":[{"type":"command-filled","description":"Available when any Command slot is filled"}],"type":"Auxiliary","minSize":0,"maxSize":0,"baseSize":0,"upgrades":[]},{"id":"first-strike","name":"First Strike","description":"Fast Attack slots for aircraft, jetbikes and speeders","faction":["universal"],"maxCount":null,"requirements":[{"type":"detachment","value":"primary","description":"Requires Primary Detachment"}],"restrictions":"","slots":[{"roleId":"fast-attack","count":2,"isPrime":false,"description":"Up to two Fast Attack slots"}],"triggers":[{"type":"command-filled","description":"Available when any Command slot is filled"}],"type":"Auxiliary","minSize":0,"maxSize":0,"baseSize":0,"upgrades":[]},{"id":"combat-retinue","name":"Combat Retinue","description":"Command squads for officers","faction":["universal"],"maxCount":1,"requirements":[{"type":"detachment","value":"primary","description":"Requires Primary Detachment with High Command"}],"restrictions":"","slots":[{"roleId":"retinue","count":3,"isPrime":false,"description":"Up to three Retinue slots"}],"triggers":[{"type":"high-command-filled","description":"Available when any High Command slot is filled"}],"type":"Apex","minSize":0,"maxSize":0,"baseSize":0,"upgrades":[]},{"id":"officer-cadre","name":"Officer Cadre","description":"Additional Command slots","faction":["universal"],"maxCount":1,"requirements":[{"type":"detachment","value":"primary","description":"Requires Primary Detachment with High Command"}],"restrictions":"","slots":[{"roleId":"command","count":1,"isPrime":true,"description":"One additional prime Command slot"},{"roleId":"command","count":2,"isPrime":false,"description":"Two additional Command slots"}],"triggers":[{"type":"high-command-filled","description":"Available when any High Command slot is filled"}],"type":"Apex","minSize":0,"maxSize":0,"baseSize":0,"upgrades":[]},{"id":"army-vanguard","name":"Army Vanguard","description":"Elite units and specialists","faction":["universal"],"maxCount":1,"requirements":[{"type":"detachment","value":"primary","description":"Requires Primary Detachment with High Command"}],"restrictions":"","slots":[{"roleId":"elite","count":1,"isPrime":true,"description":"One prime Elite slot"},{"roleId":"elite","count":2,"isPrime":false,"description":"Up to two Elite slots"}],"triggers":[{"type":"high-command-filled","description":"Available when any High Command slot is filled"}],"type":"Apex","minSize":0,"maxSize":0,"baseSize":0,"upgrades":[]},{"id":"scout-tercio","name":"Scout Tercio","description":"A specialized reconnaissance detachment that can only be commanded by a Hermes Command Section.","faction":["solar-auxilia"],"maxCount":1,"requirements":[{"type":"detachment","value":"primary","description":"Requires Primary Detachment"}],"restrictions":"","slots":[{"roleId":"reconnaissance","count":2,"isPrime":false,"description":"Two Combat Pioneer slots (Hermes Light Sentinels only)","allowedUnits":["hermes-light-sentinel-squadron"]},{"roleId":"war-engine","count":1,"isPrime":false,"description":"One War Engine slot (Aethon Heavy Sentinel only)","allowedUnits":["aethon-heavy-sentinel"]}],"triggers":[{"type":"specific-unit","description":"Can only be triggered by a Hermes Command Section in a Command slot","requiredUnitId":"hermes-command-section","requiredSlotType":"Command"}],"type":"Auxiliary","minSize":0,"maxSize":0,"baseSize":0,"upgrades":[]},{"id":"veletaris-tercio","name":"Veletaris Tercio","description":"An elite infantry detachment that can only be commanded by a Veletaris Command Section.","faction":["solar-auxilia"],"maxCount":1,"requirements":[{"type":"detachment","value":"primary","description":"Requires Primary Detachment"}],"restrictions":"","slots":[{"roleId":"elite","count":1,"isPrime":true,"description":"One prime Elite slot (Veletaris Storm Section or Veletaris Vanguard Section only)","allowedUnits":["veletaris-storm-section","veletaris-vanguard-section"]},{"roleId":"elite","count":1,"isPrime":false,"description":"One additional Elite slot (Veletaris Storm Section or Veletaris Vanguard Section only)","allowedUnits":["veletaris-storm-section","veletaris-vanguard-section"]},{"roleId":"support","count":1,"isPrime":false,"description":"One Support slot (Hermes Veletaris Squadron only)","allowedUnits":["hermes-veletaris-squadron"]},{"roleId":"transport","count":2,"isPrime":false,"description":"Two Transport slots"}],"triggers":[{"type":"specific-unit","description":"Can only be triggered by a Veletaris Command Section in a Command slot","requiredUnitId":"veletaris-command-section","requiredSlotType":"Command"}],"type":"Auxiliary","minSize":0,"maxSize":0,"baseSize":0,"upgrades":[]},{"id":"infantry-tercio","name":"Infantry Tercio","description":"A standard infantry detachment that can only be commanded by a Line Command Section.","faction":["solar-auxilia"],"maxCount":1,"requirements":[{"type":"detachment","value":"primary","description":"Requires Primary Detachment"}],"restrictions":"","slots":[{"roleId":"troops","count":1,"isPrime":true,"description":"One prime Troops slot (Lasrifle Section only)","allowedUnits":["lasrifle-section"]},{"roleId":"troops","count":1,"isPrime":false,"description":"One additional Troops slot (Lasrifle Section only)","allowedUnits":["lasrifle-section"]},{"roleId":"reconnaissance","count":1,"isPrime":false,"description":"One Reconnaissance slot (Hermes Light Sentinel Squadron only)","allowedUnits":["hermes-light-sentinel-squadron"]},{"roleId":"transport","count":2,"isPrime":false,"description":"Two Transport slots"}],"triggers":[{"type":"specific-unit","description":"Can only be triggered by a Line Command Section in a Command slot","requiredUnitId":"line-command-section","requiredSlotType":"Command"}],"type":"Auxiliary","minSize":0,"maxSize":0,"baseSize":0,"upgrades":[]},{"id":"artillery-tercio","name":"Artillery Tercio","description":"A specialized artillery detachment providing heavy fire support.","faction":["universal"],"maxCount":1,"requirements":[{"type":"detachment","value":"primary","description":"Requires Primary Detachment"}],"restrictions":"","slots":[{"roleId":"support","count":3,"isPrime":false,"description":"Three Support slots (Rapier Section, Basilisk Artillery Tank, or Medusa Artillery Tank only)","allowedUnits":["rapier-section","basilisk-artillery-tank","medusa-artillery-tank"]}],"triggers":[{"type":"specific-unit","description":"Can only be triggered by an Artillery Command Section in a Command slot","requiredUnitId":"artillery-command-section","requiredSlotType":"Command"}],"type":"Auxiliary","minSize":0,"maxSize":0,"baseSize":0,"upgrades":[]},{"id":"armour-tercio","name":"Armour Tercio","description":"A specialized armored detachment providing heavy tank support.","faction":["universal"],"maxCount":1,"requirements":[{"type":"detachment","value":"primary","description":"Requires Primary Detachment"}],"restrictions":"","slots":[{"roleId":"armour","count":3,"isPrime":false,"description":"Three Armour slots (Leman Russ Strike Tank, Leman Russ Assault Tank, or Malcador Heavy Tank only)","allowedUnits":["leman-russ-strike-tank","leman-russ-assault-tank","malcador-heavy-tank"]}],"triggers":[{"type":"specific-unit","description":"Can only be triggered by an Armoured Command Section in a Command slot","requiredUnitId":"armoured-command-section","requiredSlotType":"Command"}],"type":"Auxiliary","minSize":0,"maxSize":0,"baseSize":0,"upgrades":[]}]'),Iv={detachments:$8},G8=JSON.parse(`[{"id":"hermes-command-section","name":"Hermes Command Section","allegiance":"Universal","baseSize":2,"battlefieldRole":"Command","description":"A Hermes Lead leading a command section with Hermes Pathfinders.","faction":"solar-auxilia","models":{"hermes-lead-model":1,"hermes-pathfinder-model":1},"modelUpgrades":{"hermes-lead-model":["hermes-lead-weapon-upgrade-group"],"hermes-pathfinder-model":["hermes-pathfinder-weapon-upgrade-group"]},"points":75,"specialRules":[],"specialRuleValues":"","traits":["[Allegiance]","Solar Auxilia","Scout Tercio"],"upgrades":["additional-hermes-pathfinders-upgrade"],"wargear":[],"minSize":0,"maxSize":0},{"id":"aethon-heavy-sentinel","name":"Aethon Heavy Sentinel Squadron","allegiance":"Universal","baseSize":1,"battlefieldRole":"War Engine","description":"A squadron of heavily armed and armored walkers designed for heavy support and anti-armor operations.","faction":"solar-auxilia","models":{"aethon-heavy-sentinel-model":1},"modelUpgrades":{"aethon-heavy-sentinel-model":["aethon-heavy-sentinel-multi-laser-upgrade-group","aethon-heavy-sentinel-missile-battery-upgrade-group"]},"points":60,"specialRules":[],"specialRuleValues":"","traits":["[Allegiance]","Solar Auxilia"],"upgrades":["additional-aethon-heavy-sentinels-upgrade"],"wargear":[],"minSize":0,"maxSize":0},{"id":"arvus-lighter","name":"Arvus Lighter","allegiance":"Universal","baseSize":1,"battlefieldRole":"Transport","description":"A light transport aircraft designed for rapid deployment and extraction of troops.","faction":"solar-auxilia","models":{"arvus-lighter-model":1},"modelUpgrades":{"arvus-lighter-model":["arvus-lighter-hull-weapon-upgrade-group","arvus-lighter-wargear-upgrade-group"]},"points":75,"specialRules":[],"specialRuleValues":"","traits":["[Allegiance]","Solar Auxilia"],"upgrades":[],"wargear":[],"minSize":0,"maxSize":0},{"id":"dracosan-armoured-transport","name":"Dracosan Armoured Transport","allegiance":"Universal","baseSize":1,"battlefieldRole":"Transport","description":"A heavily armored transport vehicle designed for troop deployment and battlefield support.","faction":"solar-auxilia","models":{"dracosan-model":1},"modelUpgrades":{"dracosan-model":["dracosan-hull-weapon-upgrade-group","dracosan-pintle-weapon-upgrade-group","dracosan-hunter-killer-missile-upgrade-group","dracosan-wargear-upgrade-group"]},"points":140,"specialRules":[],"specialRuleValues":"","traits":["[Allegiance]","Solar Auxilia","Smokescreen"],"upgrades":[],"wargear":[],"minSize":0,"maxSize":0},{"id":"veletaris-command-section","name":"Veletaris Command Section","allegiance":"Universal","baseSize":5,"battlefieldRole":"Command","description":"A First Prime leading a veletaris command section with Veletarii.","faction":"solar-auxilia","models":{"first-prime-model":1,"veletarii-model":4},"modelUpgrades":{"first-prime-model":["first-prime-weapon-upgrade-group","first-prime-tabar-upgrade-group","first-prime-pistol-options"],"veletarii-model":["veletarii-weapon-upgrade-group","veletarii-sabre-upgrade-group","veletarii-pistol-options","veletarii-weapon-additions","veletarii-wargear-options"]},"points":75,"specialRules":["vanguard"],"specialRuleValues":{"vanguard":3},"traits":["[Allegiance]","Solar Auxilia","Veletaris Tercio"],"upgrades":["additional-veletarii-upgrade"],"wargear":[],"minSize":0,"maxSize":0},{"id":"veletaris-storm-section","name":"Veletaris Storm Section","allegiance":"Universal","baseSize":10,"battlefieldRole":"Elite","description":"A Veletarii Prime leading a veletaris storm section with Veletarii.","faction":"solar-auxilia","models":{"veletarii-prime-model":1,"veletarii-model":9},"modelUpgrades":{"veletarii-prime-model":["veletarii-prime-weapon-upgrade-group","veletarii-prime-tabar-upgrade-group","veletarii-prime-pistol-options"],"veletarii-model":["veletarii-weapon-upgrade-group","veletaris-storm-vox-upgrade-group","veletaris-storm-vexilla-upgrade-group"]},"points":90,"specialRules":["vanguard"],"specialRuleValues":{"vanguard":3},"traits":["[Allegiance]","Solar Auxilia"],"upgrades":["additional-veletaris-storm-veletarii-upgrade"],"wargear":[],"minSize":0,"maxSize":0},{"id":"veletaris-vanguard-section","name":"Veletaris Vanguard Section","allegiance":"Universal","baseSize":10,"battlefieldRole":"Elite","description":"A Veletarii Prime leading a veletaris vanguard section with Veletarii.","faction":"solar-auxilia","models":{"veletarii-vanguard-prime-model":1,"veletarii-vanguard-model":9},"modelUpgrades":{"veletarii-vanguard-prime-model":["veletarii-vanguard-prime-weapon-upgrade-group","veletarii-vanguard-prime-tabar-upgrade-group","veletarii-vanguard-prime-pistol-options"],"veletarii-vanguard-model":["veletaris-vanguard-vox-upgrade-group","veletaris-vanguard-vexilla-upgrade-group"]},"points":100,"specialRules":["vanguard","implacable-advance"],"specialRuleValues":{"vanguard":3},"traits":["[Allegiance]","Solar Auxilia"],"upgrades":["additional-veletaris-vanguard-veletarii-upgrade"],"wargear":[],"minSize":0,"maxSize":0},{"id":"charonite-ogryn-section","name":"Charonite Ogryn Section","allegiance":"Universal","baseSize":3,"battlefieldRole":"Elite","description":"A unit of Charonite Ogryns equipped with charonite claws for close combat.","faction":"solar-auxilia","models":{"charonite-ogryn-model":3},"modelUpgrades":{"charonite-ogryn-model":[]},"points":120,"specialRules":[],"specialRuleValues":"","traits":["[Allegiance]","Solar Auxilia"],"upgrades":["additional-charonite-ogryn-upgrade"],"wargear":[],"minSize":0,"maxSize":0},{"id":"hermes-veletaris-squadron","name":"Hermes Veletaris Squadron","allegiance":"Universal","baseSize":2,"battlefieldRole":"Support","description":"A squadron of Hermes Veletaris Sentinels equipped with volkite calivers.","faction":"solar-auxilia","models":{"hermes-veletaris-sentinel-model":2},"modelUpgrades":{"hermes-veletaris-sentinel-model":["hermes-veletaris-sentinel-weapon-upgrade-group"]},"points":40,"specialRules":[],"specialRuleValues":"","traits":["[Allegiance]","Solar Auxilia"],"upgrades":["additional-hermes-veletaris-sentinels-upgrade"],"wargear":[],"minSize":0,"maxSize":0},{"id":"basilisk-artillery-tank","name":"Basilisk Artillery Tank","allegiance":"Universal","baseSize":1,"battlefieldRole":"Support","description":"A heavy artillery tank equipped with an earthshaker cannon for long-range bombardment.","faction":"solar-auxilia","models":{"basilisk-model":1},"modelUpgrades":{"basilisk-model":["basilisk-pintle-weapon-upgrade-group","basilisk-wargear-upgrade-group"]},"points":120,"specialRules":[],"specialRuleValues":"","traits":["[Allegiance]","Solar Auxilia","Smokescreen"],"upgrades":[],"wargear":[],"minSize":0,"maxSize":0},{"id":"line-command-section","name":"Line Command Section","allegiance":"Universal","baseSize":5,"battlefieldRole":"Command","description":"A Troop Master leading a line command section with Veterans.","faction":"solar-auxilia","models":{"troop-master-model":1,"veteran-model":4},"modelUpgrades":{"troop-master-model":["troop-master-weapon-upgrade-group","troop-master-pistol-options","troop-master-weapon-additions","troop-master-wargear-options"],"veteran-model":["veteran-weapon-upgrade-group","veteran-sabre-upgrade-group","veteran-pistol-options","veteran-weapon-additions","veteran-wargear-options"]},"points":65,"specialRules":[],"specialRuleValues":"","traits":["[Allegiance]","Solar Auxilia"],"upgrades":["additional-veterans-upgrade"],"wargear":[],"minSize":0,"maxSize":0},{"id":"lasrifle-section","name":"Lasrifle Section","allegiance":"Universal","baseSize":10,"battlefieldRole":"Troops","description":"An Auxilia Sergeant leading a lasrifle section with Auxiliaries.","faction":"solar-auxilia","models":{"auxilia-sergeant-model":1,"auxiliary-model":9},"modelUpgrades":{"auxilia-sergeant-model":["auxilia-sergeant-weapon-upgrade-group","auxilia-sergeant-pistol-options","auxilia-sergeant-weapon-additions"],"auxiliary-model":["auxiliary-weapon-additions","auxiliary-wargear-options"]},"points":50,"specialRules":["line"],"specialRuleValues":{"line":1},"traits":["[Allegiance]","Solar Auxilia","Infantry Tercio"],"upgrades":["additional-auxiliaries-upgrade"],"wargear":[],"minSize":0,"maxSize":0},{"id":"hermes-light-sentinel-squadron","name":"Hermes Light Sentinel Squadron","allegiance":"Universal","baseSize":2,"battlefieldRole":"Reconnaissance","description":"A squadron of fast, lightly armored walkers used for reconnaissance and forward observation.","faction":"solar-auxilia","models":{"hermes-light-sentinel-model":2},"modelUpgrades":{"hermes-light-sentinel-model":["hermes-light-sentinel-weapon-upgrade-group"]},"points":32,"specialRules":[],"specialRuleValues":"","traits":["[Allegiance]","Solar Auxilia"],"upgrades":["additional-hermes-light-sentinels-upgrade"],"wargear":[],"minSize":0,"maxSize":0},{"id":"primaris-lightning-strike-fighter","name":"Primaris-Lightning Strike Fighter","allegiance":"Universal","baseSize":1,"battlefieldRole":"Fast Attack","description":"A fast strike fighter designed for aerial combat and ground attack missions.","faction":"solar-auxilia","models":{"primaris-lightning-model":1},"modelUpgrades":{"primaris-lightning-model":[]},"points":160,"specialRules":[],"specialRuleValues":"","traits":["[Allegiance]","Solar Auxilia","Interceptor"],"upgrades":[],"wargear":[],"minSize":0,"maxSize":0},{"id":"thunderbolt-heavy-fighter","name":"Thunderbolt Heavy Fighter","allegiance":"Universal","baseSize":1,"battlefieldRole":"Fast Attack","description":"A heavy fighter aircraft designed for aerial combat and ground attack missions.","faction":"solar-auxilia","models":{"thunderbolt-model":1},"modelUpgrades":{"thunderbolt-model":[]},"points":120,"specialRules":[],"specialRuleValues":"","traits":["[Allegiance]","Solar Auxilia"],"upgrades":[],"wargear":[],"minSize":0,"maxSize":0},{"id":"malcador-heavy-tank","name":"Malcador Heavy Tank","allegiance":"Universal","baseSize":1,"battlefieldRole":"Armour","description":"A heavy tank designed for battlefield dominance and firepower projection.","faction":"solar-auxilia","models":{"malcador-model":1},"modelUpgrades":{"malcador-model":["malcador-turret-weapon-upgrade-group","malcador-hull-weapon-upgrade-group","malcador-pintle-weapon-upgrade-group","malcador-wargear-upgrade-group","malcador-sponson-weapon-upgrade-group"]},"points":180,"specialRules":[],"specialRuleValues":"","traits":["[Allegiance]","Solar Auxilia","Smokescreen"],"upgrades":[],"wargear":[],"minSize":0,"maxSize":0},{"id":"malcador-infernus-special-weapons-tank","name":"Malcador Infernus Special Weapons Tank","allegiance":"Universal","baseSize":1,"battlefieldRole":"Armour","description":"A special weapons tank armed with an infernus cannon for devastating flame attacks.","faction":"solar-auxilia","models":{"malcador-infernus-model":1},"modelUpgrades":{"malcador-infernus-model":["malcador-infernus-sponson-weapon-upgrade-group","malcador-infernus-pintle-weapon-upgrade-group","malcador-infernus-wargear-upgrade-group"]},"points":215,"specialRules":[],"specialRuleValues":"","traits":["[Allegiance]","Solar Auxilia","Smokescreen"],"upgrades":[],"wargear":[],"minSize":0,"maxSize":0},{"id":"valdor-tank-destroyer","name":"Valdor Tank Destroyer","allegiance":"Universal","baseSize":1,"battlefieldRole":"Armour","description":"A specialized tank destroyer armed with a neutron beam laser for anti-armour operations.","faction":"solar-auxilia","models":{"valdor-tank-destroyer-model":1},"modelUpgrades":{"valdor-tank-destroyer-model":["valdor-sponson-weapon-upgrade-group","valdor-pintle-weapon-upgrade-group","valdor-wargear-upgrade-group"]},"points":190,"specialRules":[],"specialRuleValues":"","traits":["[Allegiance]","Solar Auxilia","Smokescreen"],"upgrades":[],"wargear":[],"minSize":0,"maxSize":0},{"id":"stormhammer-super-heavy-assault-tank","name":"Stormhammer Super-Heavy Assault Tank","allegiance":"Universal","baseSize":1,"battlefieldRole":"Lord of War","description":"A super-heavy assault tank armed with multiple weapons for devastating firepower.","faction":"solar-auxilia","models":{"stormhammer-model":1},"modelUpgrades":{"stormhammer-model":["stormhammer-hull-front-weapon-upgrade-group","stormhammer-hull-side-weapon-upgrade-group","stormhammer-pintle-weapon-upgrade-group","stormhammer-wargear-upgrade-group"]},"points":500,"specialRules":[],"specialRuleValues":"","traits":["[Allegiance]","Solar Auxilia","Smokescreen"],"upgrades":[],"wargear":[],"minSize":0,"maxSize":0},{"id":"rapier-section","name":"Rapier Section","allegiance":"Universal","baseSize":2,"battlefieldRole":"Support","description":"A rapier gunner operating a rapier carrier with a gravis multi-laser battery.","faction":"solar-auxilia","models":{"rapier-gunner-model":1,"rapier-carrier-model":1},"modelUpgrades":{"rapier-gunner-model":[],"rapier-carrier-model":["rapier-carrier-weapon-upgrade-group"]},"points":30,"specialRules":[],"specialRuleValues":"","traits":["[Allegiance]","Solar Auxilia"],"upgrades":["additional-rapier-crews-upgrade"],"wargear":[],"minSize":0,"maxSize":0},{"id":"medusa-artillery-tank","name":"Medusa Artillery Tank","allegiance":"Universal","baseSize":1,"battlefieldRole":"Support","description":"A heavy artillery tank equipped with a medusa mortar for close-range bombardment.","faction":"solar-auxilia","models":{"medusa-model":1},"modelUpgrades":{"medusa-model":["medusa-pintle-weapon-upgrade-group","medusa-wargear-upgrade-group"]},"points":140,"specialRules":[],"specialRuleValues":"","traits":["[Allegiance]","Solar Auxilia","Smokescreen"],"upgrades":[],"wargear":[],"minSize":0,"maxSize":0},{"id":"leman-russ-strike-tank","name":"Leman Russ Strike Tank","allegiance":"Universal","baseSize":1,"battlefieldRole":"Armour","description":"A versatile main battle tank armed with a battle cannon for general combat.","faction":"solar-auxilia","models":{"leman-russ-strike-model":1},"modelUpgrades":{"leman-russ-strike-model":["leman-russ-strike-turret-weapon-upgrade-group","leman-russ-strike-hull-weapon-upgrade-group","leman-russ-strike-pintle-weapon-upgrade-group","leman-russ-strike-wargear-upgrade-group"]},"points":140,"specialRules":[],"specialRuleValues":"","traits":["[Allegiance]","Solar Auxilia","Smokescreen"],"upgrades":[],"wargear":[],"minSize":0,"maxSize":0},{"id":"leman-russ-assault-tank","name":"Leman Russ Assault Tank","allegiance":"Universal","baseSize":1,"battlefieldRole":"Armour","description":"A heavily armored assault tank armed with volkite macro-saker for close-range combat.","faction":"solar-auxilia","models":{"leman-russ-assault-model":1},"modelUpgrades":{"leman-russ-assault-model":["leman-russ-assault-turret-weapon-upgrade-group","leman-russ-assault-hull-weapon-upgrade-group","leman-russ-assault-pintle-weapon-upgrade-group","leman-russ-assault-wargear-upgrade-group"]},"points":140,"specialRules":[],"specialRuleValues":"","traits":["[Allegiance]","Solar Auxilia","Smokescreen"],"upgrades":[],"wargear":[],"minSize":0,"maxSize":0},{"id":"artillery-command-section","name":"Artillery Command Section","allegiance":"Universal","baseSize":5,"battlefieldRole":"Command","description":"An Ordnance Master leading a command section with Veterans.","faction":"solar-auxilia","models":{"ordnance-master-model":1,"veteran-model":4},"modelUpgrades":{"ordnance-master-model":["ordnance-master-weapon-upgrade-group","ordnance-master-pistol-options","ordnance-master-weapon-additions"],"veteran-model":["artillery-veteran-wargear-options","artillery-veteran-weapon-additions"]},"points":65,"specialRules":[],"specialRuleValues":"","traits":["[Allegiance]","Solar Auxilia","Artillery Tercio"],"upgrades":["additional-artillery-veterans-upgrade"],"wargear":[],"minSize":0,"maxSize":0},{"id":"armoured-command-section","name":"Armoured Command Section","allegiance":"Universal","baseSize":1,"battlefieldRole":"Command","description":"A Command Tank leading armored warfare operations.","faction":"solar-auxilia","models":{"command-tank-model":1},"modelUpgrades":{"command-tank-model":["command-tank-turret-weapon-upgrade-group","command-tank-hull-weapon-upgrade-group","command-tank-pintle-weapon-upgrade-group","command-tank-hunter-killer-missile-upgrade-group","command-tank-wargear-upgrade-group"]},"points":150,"specialRules":[],"specialRuleValues":"","traits":["[Allegiance]","Solar Auxilia","Armoured Tercio","Smokescreen"],"upgrades":[],"wargear":[],"minSize":0,"maxSize":0},{"id":"legatine-command-section","name":"Legatine Command Section","allegiance":"Universal","baseSize":5,"battlefieldRole":"High Command","description":"A Legatine Marshall leading a command section with Lifeward bodyguards.","faction":"solar-auxilia","models":{"legatine-marshall-model":1,"lifeward-model":4},"modelUpgrades":{"legatine-marshall-model":["legatine-marshall-melee-weapons","legatine-marshall-pistol-options"],"lifeward-model":["lifeward-weapon-upgrade-group","lifeward-sabre-upgrade-group","lifeward-pistol-options","lifeward-wargear-options"]},"points":125,"specialRules":[],"specialRuleValues":"","traits":["[Allegiance]","Solar Auxilia","Cohort Supreme Command"],"upgrades":["additional-lifewards-upgrade"],"wargear":[],"minSize":0,"maxSize":0},{"id":"tactical-command-section","name":"Tactical Command Section","allegiance":"Universal","baseSize":5,"battlefieldRole":"Command","description":"An Auxilia Captain leading a tactical command section with Companions.","faction":"solar-auxilia","models":{"auxilia-captain-model":1,"companion-model":4},"modelUpgrades":{"auxilia-captain-model":["auxilia-captain-melee-weapons","auxilia-captain-pistol-options"],"companion-model":["companion-weapon-upgrade-group","companion-sabre-upgrade-group","companion-pistol-options","companion-weapon-additions","companion-wargear-options"]},"points":100,"specialRules":["officer-of-the-line"],"specialRuleValues":{"officer-of-the-line":2},"traits":["[Allegiance]","Solar Auxilia"],"upgrades":["additional-companions-upgrade"],"wargear":[],"minSize":0,"maxSize":0},{"id":"praetor","name":"Praetor","allegiance":"Universal","baseSize":1,"battlefieldRole":"High Command","description":"A Praetor, a high-ranking commander of the Legiones Astartes.","faction":"legiones-astartes","models":{"praetor-model":1},"modelUpgrades":{"praetor-model":["legion-officer-wargear-bolt-pistol","legion-officer-wargear-bolter","legion-combi-weapons","praetor-bolt-pistol-replacements","praetor-bolter-replacements","praetor-lightning-claws","praetor-additional-weapons","praetor-bayonets","praetor-cyber-familiar"]},"points":120,"specialRules":[],"specialRuleValues":"","traits":["[Allegiance]","[Legiones Astartes]","Master of the Legion"],"upgrades":["praetor-jump-pack-upgrade"],"wargear":[],"minSize":0,"maxSize":0},{"id":"praetor-terminator-armour","name":"Praetor in Terminator Armour","allegiance":"Universal","baseSize":1,"battlefieldRole":"High Command","description":"A Praetor equipped with Terminator armour for enhanced protection and firepower.","faction":"legiones-astartes","models":{"cataphractii-praetor-model":1},"modelUpgrades":{"cataphractii-praetor-model":["terminator-praetor-power-weapon-options","terminator-praetor-combi-bolter-replacements","terminator-praetor-power-weapon-upgrades","legion-terminator-melee-weapons","terminator-praetor-lightning-claws"],"tartaros-praetor-model":["terminator-praetor-power-weapon-options","terminator-praetor-combi-bolter-replacements","terminator-praetor-power-weapon-upgrades","legion-terminator-melee-weapons","terminator-praetor-lightning-claws"]},"points":145,"specialRules":[],"specialRuleValues":"","traits":["[Allegiance]","Legiones Astartes","Master of the Legion"],"upgrades":["terminator-praetor-model-replacement"],"wargear":[],"minSize":0,"maxSize":0},{"id":"praetor-saturnine-terminator-armour","name":"Praetor in Saturnine Terminator Armour","allegiance":"Universal","baseSize":1,"battlefieldRole":"High Command","description":"A Praetor equipped with the ultra-rare Saturnine Terminator armour for maximum protection and devastating firepower.","faction":"legiones-astartes","models":{"saturnine-praetor-model":1},"modelUpgrades":{"saturnine-praetor-model":["saturnine-praetor-weapon-replacements","saturnine-praetor-additional-weapons","saturnine-praetor-teleportation-upgrade"]},"points":200,"specialRules":[],"specialRuleValues":"","traits":["[Allegiance]","Legiones Astartes","Master of the Legion"],"upgrades":[],"wargear":[],"minSize":0,"maxSize":0},{"id":"centurion","name":"Centurion","allegiance":"Universal","baseSize":1,"battlefieldRole":"Command","description":"A Centurion, a mid-ranking officer of the Legiones Astartes responsible for field command and tactical coordination.","faction":"legiones-astartes","models":{"centurion-model":1},"modelUpgrades":{"centurion-model":["legion-officer-wargear-bolt-pistol","legion-officer-wargear-bolter","legion-combi-weapons","centurion-bolt-pistol-replacements","centurion-bolter-replacements","centurion-lightning-claws","centurion-additional-weapons","centurion-bayonets","centurion-vexilla","centurion-cyber-familiar"],"centurion-jump-pack-model":["legion-officer-wargear-bolt-pistol","legion-officer-wargear-bolter","legion-combi-weapons","centurion-bolt-pistol-replacements","centurion-bolter-replacements","centurion-lightning-claws","centurion-additional-weapons","centurion-bayonets"]},"points":80,"specialRules":["officer-of-the-line"],"specialRuleValues":{"officer-of-the-line":2},"traits":["[Allegiance]","Legiones Astartes"],"upgrades":["centurion-model-replacement"],"wargear":[],"minSize":0,"maxSize":0},{"id":"centurion-terminator-armour","name":"Centurion in Terminator Armour","allegiance":"Universal","baseSize":1,"battlefieldRole":"Command","description":"A Centurion equipped with Terminator armour for enhanced protection and firepower.","faction":"legiones-astartes","models":{"cataphractii-centurion-model":1},"modelUpgrades":{"cataphractii-centurion-model":["terminator-centurion-power-weapon-options","terminator-centurion-combi-bolter-replacements","legion-terminator-melee-weapons","terminator-centurion-lightning-claws"],"tartaros-centurion-model":["terminator-centurion-power-weapon-options","terminator-centurion-combi-bolter-replacements","legion-terminator-melee-weapons","terminator-centurion-lightning-claws"]},"points":100,"specialRules":["officer-of-the-line"],"specialRuleValues":{"officer-of-the-line":2},"traits":["[Allegiance]","Legiones Astartes"],"upgrades":["terminator-centurion-model-replacement"],"wargear":[],"minSize":0,"maxSize":0},{"id":"optae","name":"Optae","allegiance":"Universal","baseSize":1,"battlefieldRole":"Command","description":"An Optae, a junior officer of the Legiones Astartes responsible for squad-level command and tactical leadership.","faction":"legiones-astartes","models":{"optae-model":1},"modelUpgrades":{"optae-model":["legion-sergeant-melee-weapons","legion-pistol-upgrades","optae-bolter-replacements","optae-bolt-pistol-replacements","optae-lightning-claws","optae-additional-weapons","optae-bayonets"],"optae-jump-pack-model":["legion-sergeant-melee-weapons","legion-pistol-upgrades","optae-bolter-replacements","optae-bolt-pistol-replacements","optae-lightning-claws","optae-additional-weapons","optae-bayonets"]},"points":50,"specialRules":[],"specialRuleValues":"","traits":["[Allegiance]","Legiones Astartes"],"upgrades":["optae-model-replacement"],"wargear":[],"minSize":0,"maxSize":0},{"id":"tactical-squad","name":"Tactical Squad","allegiance":"Universal","baseSize":10,"battlefieldRole":"Troops","description":"A Tactical Squad forms the backbone of any Legiones Astartes force, providing flexible infantry support and objective control.","faction":"legiones-astartes","models":{"tactical-sergeant-model":1,"legionary-model":9},"modelUpgrades":{"tactical-sergeant-model":["legion-sergeant-melee-weapons","legion-pistol-upgrades","legion-combi-weapons","tactical-squad-melta-bombs"],"legionary-model":["legion-equipment","tactical-squad-vexilla"]},"points":100,"specialRules":["fury-of-the-legion","line"],"specialRuleValues":{"line":2},"traits":["[Allegiance]","Legiones Astartes"],"upgrades":["tactical-squad-additional-legionaries","tactical-squad-bayonets"],"wargear":[],"minSize":10,"maxSize":20},{"id":"despoiler-squad","name":"Despoiler Squad","allegiance":"Universal","baseSize":10,"battlefieldRole":"Troops","description":"A Despoiler Squad specializes in close-quarters combat, excelling at boarding actions and assault warfare.","faction":"legiones-astartes","models":{"despoiler-sergeant-model":1,"despoiler-legionary-model":9},"modelUpgrades":{"despoiler-sergeant-model":["legion-sergeant-melee-weapons","legion-pistol-upgrades","despoiler-sergeant-lightning-claws","despoiler-sergeant-melta-bombs"],"despoiler-legionary-model":["legion-equipment","despoiler-squad-vexilla"]},"points":100,"specialRules":["line"],"specialRuleValues":{"line":2},"traits":["[Allegiance]","Legiones Astartes"],"upgrades":["despoiler-squad-additional-legionaries","despoiler-legionary-chainsword-upgrades","despoiler-legionary-pistol-upgrades"],"wargear":[],"minSize":10,"maxSize":20},{"id":"assault-squad","name":"Assault Squad","allegiance":"Universal","baseSize":10,"battlefieldRole":"Troops","description":"Jump pack-equipped assault squads are rapid-attack forces optimized for close-quarters fighting and hit-and-run tactics.","faction":"legiones-astartes","models":{"assault-sergeant-model":1,"assault-legionary-model":9},"modelUpgrades":{"assault-sergeant-model":["legion-sergeant-melee-weapons","assault-sergeant-disintegrator-pistol","assault-sergeant-lightning-claws","assault-sergeant-combat-shield-combo","assault-sergeant-melta-bombs"],"assault-legionary-model":[]},"points":140,"specialRules":["vanguard"],"specialRuleValues":{"vanguard":2},"traits":["[Allegiance]","Legiones Astartes"],"upgrades":["assault-squad-additional-legionaries","assault-squad-combat-shields","assault-squad-chainaxes","assault-legionary-chainsword-upgrades","assault-legionary-heavy-chainaxes","assault-legionary-pistol-upgrades"],"wargear":[],"minSize":10,"maxSize":20},{"id":"breacher-squad","name":"Breacher Squad","allegiance":"Universal","baseSize":10,"battlefieldRole":"Troops","description":"Breacher squads are specialized in fortress assault and boarding actions, equipped with boarding shields and heavy ablative armor for maximum survivability.","faction":"legiones-astartes","models":{"breacher-sergeant-model":1,"breacher-legionary-model":9},"modelUpgrades":{"breacher-sergeant-model":["legion-sergeant-melee-weapons","legion-combi-weapons","legion-pistol-upgrades","breacher-sergeant-melta-bombs"],"breacher-legionary-model":["legion-equipment","breacher-squad-vexilla"]},"points":140,"specialRules":["line"],"specialRuleValues":{"line":1},"traits":["[Allegiance]","Legiones Astartes","Shield"],"upgrades":["breacher-squad-additional-legionaries","breacher-legionary-special-weapons"],"wargear":[],"minSize":10,"maxSize":20},{"id":"tactical-support-squad","name":"Tactical Support Squad","allegiance":"Universal","baseSize":5,"battlefieldRole":"Support","description":"Tactical support squads are mobile fire support units that replace the utilitarian bolter with more specialized weapons, providing versatile battlefield support.","faction":"legiones-astartes","models":{"tactical-support-sergeant-model":1,"tactical-support-legionary-model":4},"modelUpgrades":{"tactical-support-sergeant-model":["legion-sergeant-melee-weapons","tactical-support-sergeant-melta-bombs"],"tactical-support-legionary-model":["legion-equipment","tactical-support-squad-vexilla"]},"points":40,"specialRules":[],"specialRuleValues":"","traits":["[Allegiance]","Legiones Astartes"],"upgrades":["tactical-support-squad-additional-legionaries","tactical-support-mandatory-special-weapons"],"wargear":[],"minSize":5,"maxSize":10},{"id":"heavy-support-squad","name":"Heavy Support Squad","allegiance":"Universal","baseSize":5,"battlefieldRole":"Support","description":"Heavy support squads provide devastating mobile firepower sufficient to bring down hordes of enemy troops or smash armored vehicles apart in withering hails of weapons fire.","faction":"legiones-astartes","models":{"heavy-support-sergeant-model":1,"heavy-support-legionary-model":4},"modelUpgrades":{"heavy-support-sergeant-model":["legion-sergeant-melee-weapons"],"heavy-support-legionary-model":["legion-equipment","heavy-support-squad-vexilla"]},"points":50,"specialRules":["support-unit"],"specialRuleValues":{"support-unit":1},"traits":["[Allegiance]","Legiones Astartes"],"upgrades":["heavy-support-squad-additional-legionaries","heavy-support-mandatory-heavy-weapons"],"wargear":[],"minSize":5,"maxSize":10},{"id":"legion-rapier-battery","name":"Rapier Battery","allegiance":"Universal","baseSize":3,"battlefieldRole":"Support","description":"Rapier carriers are semi-automated tracked weapons carriers with on-board targeting systems and power generators, providing mobile fire support for Legion forces.","faction":"legiones-astartes","models":{"legion-rapier-gunner-model":2,"legion-rapier-carrier-model":1},"modelUpgrades":{"legion-rapier-gunner-model":[],"legion-rapier-carrier-model":["legion-rapier-carrier-weapon-upgrades","legion-rapier-phosphex-canister-shot"]},"points":40,"specialRules":["rapier-crew","slow-and-purposeful","support-unit"],"specialRuleValues":{"support-unit":1},"traits":["[Allegiance]","Legiones Astartes"],"upgrades":["legion-rapier-battery-additional-crews"],"wargear":[],"minSize":3,"maxSize":12},{"id":"apothecary","name":"Apothecary","allegiance":"Universal","baseSize":1,"battlefieldRole":"Support","description":"Legion Apothecaries carry the most sacred trusts - the care of the fallen and the promise of future generations of Space Marines.","faction":"legiones-astartes","models":{"apothecary-model":1},"modelUpgrades":{"apothecary-model":["legion-sergeant-melee-weapons","legion-pistol-upgrades"]},"points":30,"specialRules":["medic"],"specialRuleValues":{"medic":4},"traits":["[Allegiance]","Legiones Astartes"],"upgrades":[],"wargear":[],"minSize":1,"maxSize":1},{"id":"techmarine","name":"Techmarine","allegiance":"Universal","baseSize":1,"battlefieldRole":"Support","description":"Techmarines are specialist members of the Legion whose intelligence and aptitude marked them for induction into the rites and secrets of the Mechanicum.","faction":"legiones-astartes","models":{"techmarine-model":1},"modelUpgrades":{"techmarine-model":["legion-pistol-upgrades","techmarine-melta-bombs","techmarine-cyber-familiar"]},"points":50,"specialRules":["battlesmith"],"specialRuleValues":{"battlesmith":2},"traits":["[Allegiance]","Legiones Astartes"],"upgrades":[],"wargear":[],"minSize":1,"maxSize":1},{"id":"contemptor-dreadnought","name":"Contemptor Dreadnought","allegiance":"Universal","baseSize":1,"battlefieldRole":"War Engine","description":"A Contemptor was a relatively recent design that incorporated not only traditional Dreadnought technologies, but arcane systems drawn from the ancient lore of the Legio Cybernetica.","faction":"legiones-astartes","models":{"contemptor-dreadnought-model":1},"modelUpgrades":{"contemptor-dreadnought-model":["contemptor-mandatory-weapon-configuration","contemptor-combi-bolter-replacements","contemptor-havoc-launcher"]},"points":150,"specialRules":["bulky","explodes","implacable-advance"],"specialRuleValues":{"bulky":6,"explodes":5},"traits":["[Allegiance]","Legiones Astartes","Smokescreen"],"upgrades":[],"wargear":[],"minSize":1,"maxSize":1},{"id":"deredeo-dreadnought","name":"Deredeo Dreadnought","allegiance":"Universal","baseSize":1,"battlefieldRole":"War Engine","description":"The Deredeo pattern Dreadnought was an expansion of the same project which gave birth to the first Legiones Astartes Dreadnoughts, intended as a heavy weapons platform.","faction":"legiones-astartes","models":{"deredeo-dreadnought-model":1},"modelUpgrades":{"deredeo-dreadnought-model":["deredeo-anvilus-autocannon-replacements","deredeo-aiolos-missile-replacements","deredeo-twin-heavy-bolter-replacements"]},"points":190,"specialRules":["bulky","explodes"],"specialRuleValues":{"bulky":7,"explodes":5},"traits":["[Allegiance]","Legiones Astartes","Smokescreen"],"upgrades":[],"wargear":[],"minSize":1,"maxSize":1},{"id":"leviathan-dreadnought","name":"Leviathan Dreadnought","allegiance":"Universal","baseSize":1,"battlefieldRole":"War Engine","description":"Developed in the highest secrecy not on Mars, but on Terra, the Leviathan is an alternative development of the highly successful Contemptor.","faction":"legiones-astartes","models":{"leviathan-dreadnought-model":1},"modelUpgrades":{"leviathan-dreadnought-model":["leviathan-mandatory-weapon-configuration","leviathan-heavy-flamer-replacements","leviathan-phosphex-discharger"]},"points":220,"specialRules":["bulky","explodes","implacable-advance"],"specialRuleValues":{"bulky":7,"explodes":5},"traits":["[Allegiance]","Legiones Astartes","Smokescreen"],"upgrades":[],"wargear":[],"minSize":1,"maxSize":1},{"id":"saturnine-dreadnought","name":"Saturnine Dreadnought","allegiance":"Universal","baseSize":1,"battlefieldRole":"War Engine","description":"An extension of the technology utilised to develop the standardised Saturnine Terminator armour, this Dreadnought chassis requires vast generators to power its potent weaponry and complex energy shielding.","faction":"legiones-astartes","models":{"saturnine-dreadnought-model":1},"modelUpgrades":{"saturnine-dreadnought-model":["saturnine-heavy-plasma-bombard-replacements","saturnine-disintegrator-cannon-replacements","saturnine-photonic-incinerator-replacements"]},"points":340,"specialRules":["bulky","explodes"],"specialRuleValues":{"bulky":8,"explodes":4},"traits":["[Allegiance]","Legiones Astartes","Smokescreen"],"upgrades":[],"wargear":[],"minSize":1,"maxSize":1},{"id":"rhino","name":"Rhino","allegiance":"Universal","baseSize":1,"battlefieldRole":"Transport","description":"The Rhino is the most widely used armoured personnel carrier in the Imperium. Based on ancient STC technology, its design is robust, reliable and easy to maintain.","faction":"legiones-astartes","models":{"rhino-model":1},"modelUpgrades":{"rhino-model":["rhino-pintle-mounted-combi-bolter-upgrades","rhino-legion-pintle-weapons","rhino-additional-equipment"]},"points":60,"specialRules":["light-transport","auto-repair"],"specialRuleValues":{"auto-repair":4},"traits":["[Allegiance]","Legiones Astartes","Smokescreen"],"upgrades":[],"wargear":[],"minSize":1,"maxSize":1},{"id":"drop-pod","name":"Drop Pod","allegiance":"Universal","baseSize":1,"battlefieldRole":"Transport","description":"Drop pods are self-contained, recoverable orbital descent capsules, each designed to carry a squad of Space Marines into active war zones for surprise attacks and combat drops.","faction":"legiones-astartes","models":{"drop-pod-model":1},"modelUpgrades":{"drop-pod-model":[]},"points":50,"specialRules":["light-transport","orbital-assault-vehicle","impact-reactive-doors"],"specialRuleValues":{},"traits":["[Allegiance]","Legiones Astartes"],"upgrades":[],"wargear":[],"minSize":1,"maxSize":1},{"id":"termite","name":"Termite","allegiance":"Universal","baseSize":1,"battlefieldRole":"Transport","description":"Originally designed on Terra for rooting out burrowing xenos species, canny commanders quickly found use for the Termite assault drill for emerging beneath enemy bastions to lay waste to their defenders.","faction":"legiones-astartes","models":{"termite-model":1},"modelUpgrades":{"termite-model":["termite-combi-bolter-replacements"]},"points":80,"specialRules":["light-transport","deep-strike"],"specialRuleValues":{},"traits":["[Allegiance]","Legiones Astartes"],"upgrades":[],"wargear":[],"minSize":1,"maxSize":1},{"id":"damocles-command-rhino","name":"Damocles Command Rhino","allegiance":"Universal","baseSize":1,"battlefieldRole":"Command","description":"Equipped with advanced communication, cognis analysis and tracking equipment, the Damocles is designed principally as a command and control vehicle to serve as a direct link between a Space Marine Legion formation in the field and their brethren elsewhere within the war zone.","faction":"legiones-astartes","models":{"damocles-command-rhino-model":1},"modelUpgrades":{"damocles-command-rhino-model":["damocles-pintle-mounted-combi-bolter-upgrades","damocles-legion-pintle-weapons","damocles-additional-equipment"]},"points":120,"specialRules":["light-transport","auto-repair","mobile-command-vehicle"],"specialRuleValues":{"auto-repair":5},"traits":["[Allegiance]","Legiones Astartes","Smokescreen"],"upgrades":[],"wargear":[],"minSize":1,"maxSize":1},{"id":"librarian","name":"Librarian","allegiance":"Universal","baseSize":1,"battlefieldRole":"Command","description":"For many years the Legions maintained cadres of battle-psykers in their ranks, warriors who fused these esoteric powers with a Space Marine's superhuman physical power. Despite prohibition and persecution, many took it upon themselves to unleash their powers in times of need.","faction":"legiones-astartes","models":{"librarian-model":1},"modelUpgrades":{"librarian-model":["librarian-psychic-disciplines"]},"points":85,"specialRules":[],"specialRuleValues":{},"traits":["[Allegiance]","Legiones Astartes","Psyker"],"upgrades":[],"wargear":[],"minSize":1,"maxSize":1},{"id":"legion-champion","name":"Legion Champion","allegiance":"Universal","baseSize":1,"battlefieldRole":"Command","description":"Chosen from the best blades of the Legion, each champion bears the honour of their chapter or company in battle, and is armed and armoured in the finest panoply of war. When a single warrior was required for a matter of honour or to fight single combat in the name of their Legion or even the Imperium, it was to these that the duty fell.","faction":"legiones-astartes","models":{"legion-champion-model":1},"modelUpgrades":{"legion-champion-model":["legion-champion-weapon-upgrades","legion-champion-melta-bombs"]},"points":105,"specialRules":["never-back-down"],"specialRuleValues":{},"traits":["[Allegiance]","Legiones Astartes"],"upgrades":[],"wargear":[],"minSize":1,"maxSize":1},{"id":"vigilator","name":"Vigilator","allegiance":"Universal","baseSize":1,"battlefieldRole":"Command","description":"Highly skilled as watchers and hunters among their brethren, Vigilators are the eyes of their Legion on the ground, their wisdom paramount in scouting out the foe's disposition and strength, and determining the best place to strike. Often selected from Reconnaissance Squads, these peerless shots are able to operate with these formations, or conduct their operations individually.","faction":"legiones-astartes","models":{"vigilator-model":1},"modelUpgrades":{"vigilator-model":[]},"points":95,"specialRules":["infiltrate"],"specialRuleValues":{"infiltrate":9},"traits":["[Allegiance]","Legiones Astartes","Smokescreen"],"upgrades":[],"wargear":[],"minSize":1,"maxSize":1},{"id":"esoterist","name":"Esoterist","allegiance":"Universal","baseSize":1,"battlefieldRole":"Command","description":"The Legion Esoterists were a late occurrence among many of the armies embroiled in the Horus Heresy, as members of the Librarius returned to their studies with or without the blessing of their Primarchs, and delved into the forbidden lore that saw common use on the battlefields of that dark age. Many saw the power that could be gained from treating with the powers of the Warp, summoning forth its denizens and binding them to their cause.","faction":"legiones-astartes","models":{"esoterist-model":1},"modelUpgrades":{"esoterist-model":[]},"points":95,"specialRules":["anathemata-discipline"],"specialRuleValues":{},"traits":["[Allegiance]","Legiones Astartes","Psyker","Anathemata"],"upgrades":[],"wargear":[],"minSize":1,"maxSize":1},{"id":"master-of-signals","name":"Master of Signals","allegiance":"Universal","baseSize":1,"battlefieldRole":"Command","description":"A vital link between those desperately fighting and supporting elements of the Legion in battle, the Master of Signals is a strategic and communications specialist. Carrying a command vox relay, this warrior receives constant positional updates from forces in the vicinity, and directs them with a logistical skill that is second to none. Many officers have noted that they have been able to commit themselves to the fighting knowing that a Master of Signals will coordinate on their behalf, signalling priority objectives and ensuring that weak spots in an enemy line are exploited.","faction":"legiones-astartes","models":{"master-of-signals-model":1},"modelUpgrades":{"master-of-signals-model":[]},"points":115,"specialRules":[],"specialRuleValues":{},"traits":["[Allegiance]","Legiones Astartes"],"upgrades":[],"wargear":[],"minSize":1,"maxSize":1},{"id":"praevian","name":"Praevian","allegiance":"Universal","baseSize":1,"battlefieldRole":"Command","description":"Praevians are the keeper of the Legion's bound automata, those soulless machines sworn to the Legion's service and inducted into their ranks as honorary Legionaries after decades of service. Initiated into the rites of the Mechanicum's Cybernetica Tech-arcana, these officers oversee the maintenance and programming of their charges and ensure that loyalty to the Legion and its traditions are enshrined in their core logic. On the field of battle, they march at the forefront of the inducted maniples, guiding them in the correct prosecution of war and acting as examples of true sons of the Legion.","faction":"legiones-astartes","models":{"praevian-model":1},"modelUpgrades":{"praevian-model":["praevian-melta-bombs"]},"points":95,"specialRules":["battlesmith","feel-no-pain","master-of-automata"],"specialRuleValues":{"battlesmith":1,"feel-no-pain":5},"traits":["[Allegiance]","Legiones Astartes"],"upgrades":[],"wargear":[],"minSize":1,"maxSize":1},{"id":"moritat","name":"Moritat","allegiance":"Universal","baseSize":1,"battlefieldRole":"Command","description":"Said by some to be no less than death incarnate, and by others to be dishonourable murderers with no place in the Imperium's order of battle, moritates are lone killers operating outside the Legion's usual command structures at the behest, or at least sufferance, of its high commanders. Regarded usually as dangerously unstable outcasts - perhaps created by some seldom-exposed flaw of gene-seed or indoctrination - they operate alongside the Destroyer cadres, honing their superhuman reflexes to gun down the foe at close-quarters.","faction":"legiones-astartes","models":{"moritat-model":1},"modelUpgrades":{"moritat-model":["moritat-weapon-upgrades","moritat-melta-bombs"]},"points":95,"specialRules":["bulky","deep-strike","firestorm"],"specialRuleValues":{"bulky":2},"traits":["[Allegiance]","Legiones Astartes"],"upgrades":[],"wargear":[],"minSize":1,"maxSize":1},{"id":"siege-breaker","name":"Siege Breaker","allegiance":"Universal","baseSize":1,"battlefieldRole":"Command","description":"The wreckers of cities, the bringers-down of fortress walls and the shatterers of strongholds, Siege Breakers are officers of the Legion whose specialty is precisely applied destruction against strategic targets. Demonstrating an eye for detail, such warriors appraise all data available to them, identifying structural weaknesses and directing the heavy guns under their charge accordingly. Placed often in command of frontline artillery units, they prefer to closely observe their work, rather than sit back behind the lines, and so are deadly efficient in adapting their force's attack patterns from moment to moment.","faction":"legiones-astartes","models":{"siege-breaker-model":1},"modelUpgrades":{"siege-breaker-model":["siege-breaker-pistol-upgrades","siege-breaker-melta-bombs"]},"points":115,"specialRules":[],"specialRuleValues":{},"traits":["[Allegiance]","Legiones Astartes"],"upgrades":[],"wargear":[],"minSize":1,"maxSize":1},{"id":"overseer","name":"Overseer","allegiance":"Universal","baseSize":1,"battlefieldRole":"Command","description":"Overseers allowed for the integration of formations drawn from indentured soldiery into Legion strike forces. In some cases, such an act was carried out in honour of a newly formed alliance or to demonstrate the fealty of such forces to the Legion. In other situations, local militia would be pressed into service, allowing Legions to achieve their objectives at a minimal cost in Legionary lives. While casualty rates among such indentured forces were often deemed of secondary importance, Overseers were entrusted to ensure that the conduct of Auxilia or Militia troops met the expectations of the higher Legion command.","faction":"legiones-astartes","models":{"overseer-model":1},"modelUpgrades":{"overseer-model":["overseer-power-weapon-upgrades","overseer-vexilla","overseer-melta-bombs"]},"points":85,"specialRules":["fear","master-of-auxilia"],"specialRuleValues":{"fear":1},"traits":["[Allegiance]","Legiones Astartes"],"upgrades":[],"wargear":[],"minSize":1,"maxSize":1},{"id":"herald","name":"Herald","allegiance":"Universal","baseSize":1,"battlefieldRole":"Command","description":"As the wars of the Horus Heresy spread to consume the galaxy, billions fought and died under the banners of warlords they had never seen or heard first-hand, and even among those such as the Legiones Astartes, near-religious fervour became common for those artefacts touched by Primarch, Warmaster or Regent. On warfronts across the galaxy, Heralds stood proud and unwavering at the head of the Legion forces, carrying high icons given as a sign of authority and favour, and all knew that the words and deeds of these emissaries carried the highest authority.","faction":"legiones-astartes","models":{"herald-model":1},"modelUpgrades":{"herald-model":["herald-power-weapon-upgrades","herald-melta-bombs"]},"points":100,"specialRules":["fear"],"specialRuleValues":{"fear":1},"traits":["[Allegiance]","Legiones Astartes"],"upgrades":[],"wargear":[],"minSize":1,"maxSize":1},{"id":"chaplain","name":"Chaplain","allegiance":"Universal","baseSize":1,"battlefieldRole":"Command","description":"The Chaplain Order, established towards the end of the Great Crusade, was intended to create a cadre of fearsome veteran warriors who would enforce a cohesion of doctrine and belief in the scattered and increasingly idiosyncratic Legions far from Terra. Theirs was a mortuary symbol of sacrifice graven in the form of an ornate staff, mace or axe: the Crozius Arcanum, which served as both a badge of office and a deadly weapon. On battlefields innumerable, such warriors stood firm in even the most dire circumstances reminding their forces of the expectations of their brethren and their Primarch.","faction":"legiones-astartes","models":{"chaplain-model":1},"modelUpgrades":{"chaplain-model":["chaplain-melta-bombs"]},"points":80,"specialRules":[],"specialRuleValues":{},"traits":["[Allegiance]","Legiones Astartes"],"upgrades":[],"wargear":[],"minSize":1,"maxSize":1},{"id":"praetorian-command-squad","name":"Praetorian Command Squad","allegiance":"Universal","baseSize":5,"battlefieldRole":"Retinue","description":"It is common for Space Marine commanders and champions to be accompanied in battle by a squad of highly disciplined and worthy warriors. They serve both as a bodyguard for their commander and are entrusted to carry out the Legion's great standards, making them a rallying point on the battlefield for the Legion's troops. These chosen Space Marines have access to the finest wargear available to the Legion's rank and file, entrusted with the most esoteric at the discretion of their commander, though in reality, few doubted the skill of these elite warriors, each of whom embodied the Legion's honour in war.","faction":"legiones-astartes","models":{"chosen-champion-model":1,"chosen-model":4},"modelUpgrades":{"chosen-champion-model":["praetorian-champion-disintegrator-pistol"],"chosen-model":["praetorian-legion-standard"]},"points":130,"specialRules":[],"specialRuleValues":{},"traits":["[Allegiance]","Legiones Astartes"],"upgrades":["praetorian-ranged-weapon-upgrades","praetorian-combat-shield-upgrades","praetorian-lightning-claws","praetorian-bayonets"],"wargear":[],"minSize":5,"maxSize":10},{"id":"praetorian-command-squad-jump-packs","name":"Praetorian Command Squad with Jump Packs","allegiance":"Universal","baseSize":5,"battlefieldRole":"Retinue","description":"When their commander chooses to go to war bearing a jump pack, his chosen praetorians will likewise requisition such equipment. Leading the Legion from the front, these exemplary warriors utilise the additional mobility provided to seek out enemy warlords and champions, descending upon them with the finest weapons available to the Legion armoury. Each chosen is also aware of their role within their company or chapter, providing a martial example for their brethren to aspire to as they strike down their foes, before planting the colours of their Legion over the shattered corpses.","faction":"legiones-astartes","models":{"chosen-champion-jump-pack-model":1,"chosen-jump-pack-model":4},"modelUpgrades":{"chosen-champion-jump-pack-model":["praetorian-jump-pack-champion-disintegrator-pistol"],"chosen-jump-pack-model":["praetorian-jump-pack-legion-standard"]},"points":160,"specialRules":["bulky","deep-strike"],"specialRuleValues":{"bulky":2},"traits":["[Allegiance]","Legiones Astartes"],"upgrades":["praetorian-jump-pack-ranged-weapon-upgrades","praetorian-jump-pack-combat-shield-upgrades","praetorian-jump-pack-lightning-claws","praetorian-jump-pack-bayonets"],"wargear":[],"minSize":5,"maxSize":10},{"id":"centurion-command-squad","name":"Centurion Command Squad","allegiance":"Universal","baseSize":5,"battlefieldRole":"Retinue","description":"Many lower-ranking officers were accompanied into battle by a cadre of trusted warriors from their company. Some chose to utilise their most experienced veteran squads in this role, while others might keep a close circle of experienced warriors by their side on a more permanent posting. Such warriors were expected to provide personal protection, as well as fulfilling adjutant and advisory roles. Many of the finest unsung units of the Horus Heresy took on this duty, adding this honour to a record of reliable service spanning decades of warfare.","faction":"legiones-astartes","models":{"veteran-champion-model":1,"veteran-model":4},"modelUpgrades":{"veteran-champion-model":["centurion-champion-disintegrator-pistol"],"veteran-model":["centurion-vexilla","centurion-company-standard"]},"points":85,"specialRules":[],"specialRuleValues":{},"traits":["[Allegiance]","Legiones Astartes"],"upgrades":["centurion-ranged-weapon-upgrades","centurion-combat-shield-upgrades","centurion-lightning-claws","centurion-bayonets"],"wargear":[],"minSize":5,"maxSize":10},{"id":"tartaros-terminator-command-squad","name":"Tartaros Terminator Command Squad","allegiance":"Universal","baseSize":3,"battlefieldRole":"Retinue","description":"When both speed and survivability are required, a command squad will march to war clad in Tartaros Terminator armour. More technologically advanced than the Terminator armour marks it was developed alongside, Tartaros plate was initially a rarity compared to Cataphractii pattern armour, though towards the end of the Great Crusade this disparity was significantly reduced. As such, Legion commanders equip their most worthy warriors with it and deploy them at the very forefront of battle, where the speed and protection afforded by such armour assures a swift blow can be dealt to secure victory.","faction":"legiones-astartes","models":{"tartaros-chosen-champion-model":1,"tartaros-chosen-model":2},"modelUpgrades":{"tartaros-chosen-champion-model":["tartaros-champion-grenade-harness"],"tartaros-chosen-model":["tartaros-legion-standard"]},"points":140,"specialRules":["bulky","implacable-advance"],"specialRuleValues":{"bulky":2},"traits":["[Allegiance]","Legiones Astartes"],"upgrades":["tartaros-combi-bolter-upgrades","tartaros-power-weapon-upgrades","tartaros-lightning-claws-dual"],"wargear":[],"minSize":3,"maxSize":10},{"id":"cataphractii-terminator-command-squad","name":"Cataphractii Terminator Command Squad","allegiance":"Universal","baseSize":3,"battlefieldRole":"Retinue","description":"Many command squads go to war clad in Cataphractii Terminator armour, using its sheer bulk and durability to protect the life of their commander. Able to withstand even the most vicious blows and bearing the finest weaponry in the Legion's armoury, these exemplary warriors embody the finest qualities of the Legiones Astartes, valiantly spearheading assaults into the most hazardous of war zones holding the Legion's banners high. As one of the earliest marks of Terminator armour to be issued to the Legions, many veteran Legionaries prefer the familiarity of this mark in battle over more recent introductions.","faction":"legiones-astartes","models":{"cataphractii-chosen-champion-model":1,"cataphractii-chosen-model":2},"modelUpgrades":{"cataphractii-chosen-champion-model":["cataphractii-champion-grenade-harness"],"cataphractii-chosen-model":["cataphractii-legion-standard"]},"points":140,"specialRules":["bulky","implacable-advance","slow-and-purposeful"],"specialRuleValues":{"bulky":2},"traits":["[Allegiance]","Legiones Astartes"],"upgrades":["cataphractii-volkite-charger-upgrades","cataphractii-power-weapon-upgrades","cataphractii-lightning-claws-dual"],"wargear":[],"minSize":3,"maxSize":12},{"id":"veteran-tactical-squad","name":"Veteran Tactical Squad","allegiance":"Universal","baseSize":5,"battlefieldRole":"Elite","description":"Every chapter and company within the Space Marine Legions contains a cadre of experienced veteran warriors. In some Legions, this will often be those who have served since the early days of the Great Crusade, while in those whose tactics draw more from attrition, it may simply be those warriors who refuse to succumb to the brutality of their methodology of war. Many of these units will be permitted to carry specialist or more dangerous or rare weaponry, allowing them to apply deadly firepower where it is required, and setting an example to their less-experienced brethren.","faction":"legiones-astartes","models":{"veteran-sergeant-model":1,"veteran-tactical-model":4},"modelUpgrades":{"veteran-sergeant-model":["veteran-tactical-sergeant-melee-upgrades","veteran-tactical-sergeant-pistol-upgrades"],"veteran-tactical-model":["veteran-tactical-vexilla","veteran-tactical-equipment"]},"points":85,"specialRules":["line"],"specialRuleValues":{"line":1},"traits":["[Allegiance]","Legiones Astartes"],"upgrades":["veteran-tactical-ranged-weapon-upgrades","veteran-tactical-special-heavy-weapons","veteran-tactical-bayonets"],"wargear":[],"minSize":5,"maxSize":10},{"id":"veteran-assault-squad","name":"Veteran Assault Squad","allegiance":"Universal","baseSize":5,"battlefieldRole":"Elite","description":"Exceptional and experienced fighters within the ranks of the Space Marine Legions are often banded together to form elite units, to which other warriors can aspire to ascend to, and from which future commanders are drawn. These warriors often have their pick of the armoury, able to select from a wide variety of killing tools, as well as Warhawk jump packs, allowing them to best leverage their skill at arms. Deployed at the spearhead of assaults, such veterans are given a degree of tactical freedom, allowing them to seek out the most steadfast foes, break enemy defensive positions or overrun isolated pockets of enemy combatants.","faction":"legiones-astartes","models":{"veteran-assault-sergeant-model":1,"assault-veteran-model":4},"modelUpgrades":{"veteran-assault-sergeant-model":["veteran-assault-sergeant-pistol-upgrades","veteran-assault-sergeant-melta-bombs"],"assault-veteran-model":["veteran-assault-proportional-pistols"]},"points":120,"specialRules":["bulky","deep-strike","vanguard"],"specialRuleValues":{"bulky":2,"vanguard":3},"traits":["[Allegiance]","Legiones Astartes"],"upgrades":["veteran-assault-melee-upgrades","veteran-assault-pistol-shield-upgrades","veteran-assault-lightning-claws","veteran-assault-heavy-weapons"],"wargear":[],"minSize":5,"maxSize":10},{"id":"seeker-squad","name":"Seeker Squad","allegiance":"Universal","baseSize":5,"battlefieldRole":"Elite","description":"Seeker squads are specialised units whose principal task on the battlefield is to identify an enemy's command structure - its warlords, officers, priests, demagogues - and slay them with a well-placed shot. The Alpha Legion are said to have first crystallised this tactic and squad configuration which has since, with the Emperor's approval, spread to the other Legions, although its use sits poorly within the combat doctrine of some. Chosen primarily on pure merit as the best shots in their Legion, Seeker squads are usually equipped with special issue ammunition to better deal with their chosen victims.","faction":"legiones-astartes","models":{"seeker-sergeant-model":1,"seeker-model":4},"modelUpgrades":{"seeker-sergeant-model":["seeker-sergeant-melee-upgrades","seeker-sergeant-pistol-upgrades","seeker-sergeant-melta-bombs"],"seeker-model":["seeker-equipment"]},"points":105,"specialRules":["infiltrate"],"specialRuleValues":{"infiltrate":9},"traits":["[Allegiance]","Legiones Astartes"],"upgrades":["seeker-kraken-bolter-upgrades","seeker-bayonets"],"wargear":[],"minSize":5,"maxSize":10},{"id":"cataphractii-terminator-squad","name":"Cataphractii Terminator Squad","allegiance":"Universal","baseSize":5,"battlefieldRole":"Heavy Assault","description":"One of the first issued Tactical Dreadnought Armour patterns, Cataphractii suits are heavily protected with slablike ceramite pauldrons housing additional shield generators, augmenting the toughness of even a Legiones Astartes warrior. The armour's design has the unfortunate side effect of overstraining its exoskeleton and slowing the wearer considerably. This deficiency is seen as a weakness by some Legions and has led to the pattern's declining use in their ranks. Yet, at the outbreak of the Horus Heresy, all Legions still maintained significant numbers of Cataphractii Terminators among their ranks.","faction":"legiones-astartes","models":{"cataphractii-terminator-sergeant-model":1,"cataphractii-terminator-model":4},"modelUpgrades":{"cataphractii-terminator-sergeant-model":["cataphractii-terminator-sergeant-grenade-harness"],"cataphractii-terminator-model":["cataphractii-terminator-heavy-weapons"]},"points":150,"specialRules":["bulky","implacable-advance","slow-and-purposeful","vanguard"],"specialRuleValues":{"bulky":2,"vanguard":3},"traits":["[Allegiance]","Legiones Astartes"],"upgrades":["cataphractii-terminator-volkite-charger-upgrades","cataphractii-terminator-power-weapon-upgrades","cataphractii-terminator-lightning-claws-dual"],"wargear":[],"minSize":5,"maxSize":12},{"id":"tartaros-terminator-squad","name":"Tartaros Terminator Squad","allegiance":"Universal","baseSize":5,"battlefieldRole":"Heavy Assault","description":"The fruition of the Tactical Dreadnought Armour project, Terminator suits are the ultimate advance in personal armour technology the Imperium has developed. Terminator armour-equipped units are particularly valuable in heavy close-quarter fighting, such as battles fought in the deep confines of hive cities or in starship boarding actions. Perhaps the most advanced form of Terminator armour ever designed, Tartaros armour offers greater durability and protection than power armour while sacrificing none of the latter's mobility.","faction":"legiones-astartes","models":{"tartaros-terminator-sergeant-model":1,"tartaros-terminator-model":4},"modelUpgrades":{"tartaros-terminator-sergeant-model":["tartaros-terminator-sergeant-grenade-harness"],"tartaros-terminator-model":["tartaros-terminator-heavy-weapons"]},"points":150,"specialRules":["bulky","implacable-advance","vanguard"],"specialRuleValues":{"bulky":2,"vanguard":3},"traits":["[Allegiance]","Legiones Astartes"],"upgrades":["tartaros-terminator-combi-bolter-upgrades","tartaros-terminator-power-weapon-upgrades","tartaros-terminator-lightning-claws-dual"],"wargear":[],"minSize":5,"maxSize":10},{"id":"saturnine-terminator-squad","name":"Saturnine Terminator Squad","allegiance":"Universal","baseSize":3,"battlefieldRole":"Heavy Assault","description":"First seen in numbers on the black sands of Isstvan V, the pattern of Saturnine armour developed by Vulkan stands bulkier and more ponderous than the more widely-utilised Cataphractii and Tartaros patterns of Tactical Dreadnought armour. Mounting an array of fearsome energy weapons, combined with complex and potent energy shielding, those warriors capable of wearing such armour see the already legendary resilience of a Legionary improved significantly, allowing them to stride through the fires of battle with impunity.","faction":"legiones-astartes","models":{"saturnine-terminator-sergeant-model":1,"saturnine-terminator-model":2},"modelUpgrades":{},"points":200,"specialRules":["bulky","explodes","implacable-advance","slow-and-purposeful"],"specialRuleValues":{"bulky":4,"explodes":6},"traits":["[Allegiance]","Legiones Astartes"],"upgrades":["saturnine-disruption-fist-upgrades","saturnine-plasma-bombard-upgrades","saturnine-particle-shredder"],"wargear":[],"minSize":3,"maxSize":6},{"id":"land-raider-carrier","name":"Land Raider Carrier","allegiance":"Universal","baseSize":1,"battlefieldRole":"Heavy Transport","description":"The Land Raider is a masterwork that heralds back to the lost Dark Age of Technology, and since the rediscovery of its STC in the vaults of Mars, several patterns have been established in widespread use varying the balance of its battlefield role from armoured explorer, command and control vehicle, to assault carrier. Despite maintaining many aspects of the original design, some of these variants displeased the Forge Lords that oversaw their production, in particular the assault carrier variants, which were viewed as incorporating aberrant diversions that detracted from the purity of the original template.","faction":"legiones-astartes","models":{"land-raider-carrier-model":1},"modelUpgrades":{"land-raider-carrier-model":["land-raider-carrier-hull-weapon-upgrades","land-raider-carrier-pintle-weapons","land-raider-carrier-hunter-killer-missile","land-raider-carrier-searchlights"]},"points":265,"specialRules":["assault-vehicle","auto-repair"],"specialRuleValues":{"auto-repair":5},"traits":["[Allegiance]","Legiones Astartes","Smokescreen"],"upgrades":[],"wargear":[],"minSize":1,"maxSize":1},{"id":"spartan","name":"Spartan","allegiance":"Universal","baseSize":1,"battlefieldRole":"Heavy Transport","description":"The Spartan is a huge armoured conveyor whose purpose is to carry a large contingent of troops into the heart of the enemy, weathering weapons fire that would be the death of any lesser vehicle. Its armament is potent, with most bearing quad lascannon or laser destroyers, while the Prometheus variant mounts quad heavy bolter arrays to devastate enemy infantry. The Spartan takes pride of place in the armouries of many Legions, although it is far less common than the Land Raider in operations.","faction":"legiones-astartes","models":{"spartan-model":1},"modelUpgrades":{"spartan-model":["spartan-sponson-weapon-upgrades","spartan-hull-weapon-upgrades","spartan-pintle-weapons","spartan-hunter-killer-missile","spartan-searchlights"]},"points":400,"specialRules":["assault-vehicle","auto-repair"],"specialRuleValues":{"auto-repair":4},"traits":["[Allegiance]","Legiones Astartes","Smokescreen"],"upgrades":[],"wargear":[],"minSize":1,"maxSize":1},{"id":"dreadnought-drop-pod","name":"Dreadnought Drop Pod","allegiance":"Universal","baseSize":1,"battlefieldRole":"Heavy Transport","description":"Developed alongside the more common Legion drop pod in general service, specifically designed Dreadnought drop pods are somewhat larger than the standard drop pods of the Legiones Astartes and have a more powerful engine, allowing for a dangerously meteoric descent to the battlefield. This serves to protect their cargo during approach and allow it to strike with unprecedented speed. The stresses involved, however, are such that only the heavily armoured and protected shell of a Dreadnought could hope to survive the descent and impact with the ground without being wrecked or pulverised.","faction":"legiones-astartes","models":{"dreadnought-drop-pod-model":1},"modelUpgrades":{},"points":100,"specialRules":["dreadnought-transport","orbital-assault-vehicle","impact-reactive-doors"],"specialRuleValues":{},"traits":["[Allegiance]","Legiones Astartes"],"upgrades":[],"wargear":[],"minSize":1,"maxSize":1},{"id":"dreadclaw-drop-pod","name":"Dreadclaw Drop Pod","allegiance":"Universal","baseSize":1,"battlefieldRole":"Heavy Transport","description":"The Dreadclaw drop pod serves primarily to insert Legion Space Marine boarding forces onto enemy void craft in the midst of battle. Latching onto the hull of an enemy vessel, a series of melta cutters trigger, blasting a hole through even the thickest armour before its occupants storm forth through its raised aperture. Unlike some earlier boarding craft, the Dreadclaw is also fully capable of operating as an independent dropship. Indeed, many Legions favour using them in this role, dropping from the sky like a flaming comet before disembarking the assault troops contained within.","faction":"legiones-astartes","models":{"dreadclaw-drop-pod-model":1},"modelUpgrades":{},"points":115,"specialRules":["drop-transport"],"specialRuleValues":{},"traits":["[Allegiance]","Legiones Astartes"],"upgrades":[],"wargear":[],"minSize":1,"maxSize":1},{"id":"kharybdis-assault-claw","name":"Kharybdis Assault Claw","allegiance":"Universal","baseSize":1,"battlefieldRole":"Heavy Transport","description":"Employed by many Legions as their primary ship-to-ship assault craft, the Kharybdis is a monstrous drop pod capable of carrying large assault forces through the void and mounting significant firepower to blast a path through defending small craft. The arrival of a flight of these ominous craft, boarding hooks extended as they approach their target, signals the end for the crew of any vessel that dares oppose the Legiones Astartes. Outside of void war, the Kharybdis also serves as a drop ship, capable of both controlled descent and powered take-off from a planetary surface.","faction":"legiones-astartes","models":{"kharybdis-assault-claw-model":1},"modelUpgrades":{},"points":235,"specialRules":["heavy-drop-transport"],"specialRuleValues":{},"traits":["[Allegiance]","Legiones Astartes"],"upgrades":[],"wargear":[],"minSize":1,"maxSize":1},{"id":"reconnaissance-squad","name":"Reconnaissance Squad","allegiance":"Universal","baseSize":5,"battlefieldRole":"Recon","description":"The eyes and ears of the Legion in the field, reconnaissance squads are formed from experienced Space Marines expert in operating behind enemy lines, sudden flanking manoeuvres and infiltration attacks in support of their main force. They are armed and equipped with a variety of specialised wargear including long range weaponry, sensor auspex and stealth gear. They also serve the Legion as pickets, saboteurs, raiders and snipers where needed, as well as intelligence gatherers, identifying targets and gathering information on enemy movements and strengths.","faction":"legiones-astartes","models":{"recon-sergeant-model":1,"recon-legionary-model":4},"modelUpgrades":{"recon-sergeant-model":["recon-sergeant-melee-upgrades","recon-sergeant-pistol-upgrades","recon-sergeant-melta-bombs"],"recon-legionary-model":["recon-legionary-equipment"]},"points":110,"specialRules":["infiltrate","move-through-cover","support-unit"],"specialRuleValues":{"infiltrate":9,"support-unit":2},"traits":["[Allegiance]","Legiones Astartes","Smokescreen"],"upgrades":["recon-nemesis-bolter-upgrades"],"wargear":[],"minSize":5,"maxSize":10},{"id":"sabre","name":"Sabre","allegiance":"Universal","baseSize":1,"battlefieldRole":"Recon","description":"Fast, rugged and heavily armed, the Sabre serves as a strike tank, attacking key enemy targets and destroying them long before they can pose a threat. Fitted with a number of advanced weapons systems, from rapid fire autocannon to exotic beam weapons, there were few foes that could resist the firepower of these swift hunters. Once the foe is annihilated, the speed of these fleet vehicles allows them to evade any counter-attack and reposition to strike at the vulnerable flanks of the enemy army, keeping the heavy armour suppressed as the Space Marine infantry advances to crush the foes of the Emperor.","faction":"legiones-astartes","models":{"sabre-model":1},"modelUpgrades":{"sabre-model":["sabre-centreline-weapon-upgrades","sabre-hull-weapon-upgrades","sabre-pintle-weapons","sabre-searchlights","sabre-missiles"]},"points":80,"specialRules":["outflank"],"specialRuleValues":{},"traits":["[Allegiance]","Legiones Astartes","Smokescreen"],"upgrades":[],"wargear":[],"minSize":1,"maxSize":1},{"id":"outrider-squadron","name":"Outrider Squadron","allegiance":"Universal","baseSize":3,"battlefieldRole":"Recon","description":"Outriders are mechanised Space Marine reconnaissance squads who take to the field mounted on ruggedly constructed, all-terrain armoured ground bikes and scramblers. Used for scouting missions as well as rapid encirclement and hit-and-run attacks behind enemy lines, the chief advantage of the Outriders is speed, their bikes enabling them to cover ground far quicker than infantry and go where heavier vehicles cannot. Rather than precision long ranged weaponry, Outriders mount rapid-fire weaponry, destroying their foes in devastating swift attacks.","faction":"legiones-astartes","models":{"outrider-sergeant-model":1,"outrider-model":2},"modelUpgrades":{"outrider-sergeant-model":["outrider-sergeant-melee-upgrades"],"outrider-model":["outrider-legionary-equipment"]},"points":85,"specialRules":["bulky","vanguard","firestorm","implacable-advance","outflank"],"specialRuleValues":{"bulky":2,"vanguard":1},"traits":["[Allegiance]","Legiones Astartes"],"upgrades":["outrider-pistol-upgrades","outrider-twin-plasma-gun-upgrades","outrider-astartes-shotgun-upgrades"],"wargear":[],"minSize":3,"maxSize":10},{"id":"land-raider-explorator","name":"Land Raider Explorator","allegiance":"Universal","baseSize":1,"battlefieldRole":"Recon","description":"During the lost days of Mankind's Golden Age, the Land Raider, armoured and equipped for exploration, was used to scout at the most hostile of alien worlds. It was only in later, more warlike times that it would be converted into one of the most potent war machines in the Imperium, and in the Proteus Explorator variant there lingers the influence of its origins. Fitted with a more confined and less accessible transport bay in order to mount an array of scanners and navigational augurs, the Explorator mounts a more focused array of weapons, operating instead as an unmatched pathfinder for any mechanised task force.","faction":"legiones-astartes","models":{"land-raider-explorator-model":1},"modelUpgrades":{"land-raider-explorator-model":["land-raider-explorator-pintle-weapons","land-raider-explorator-hull-weapon-upgrades","land-raider-explorator-hunter-killer-missile","land-raider-explorator-searchlights"]},"points":220,"specialRules":["auto-repair","outflank"],"specialRuleValues":{"auto-repair":5},"traits":["[Allegiance]","Legiones Astartes","Smokescreen"],"upgrades":[],"wargear":[],"minSize":1,"maxSize":1},{"id":"tarantula-battery","name":"Tarantula Battery","allegiance":"Universal","baseSize":2,"battlefieldRole":"Recon","description":"The Space Marine Legions, in particular, make use of Tarantulas in a forward deployment role and see them as entirely disposable assets, often utilising them in the thick of battle to defend a forward position, draw out enemy forces for attack or even to guard a withdrawal or pin an enemy force during a feint. Tarantulas may be dropped into forward positions on the battlelines immediately prior to suspected engagement via hovering servo-carriers or placed by reconnaissance forces under concealment to provide an unpleasant surprise for an attacker.","faction":"legiones-astartes","models":{"tarantula-sentry-gun-model":2},"modelUpgrades":{"tarantula-sentry-gun-model":[]},"points":45,"specialRules":["expendable","infiltrate","automated-fire-protocols","independent-sentries"],"specialRuleValues":{"expendable":3,"infiltrate":9},"traits":["[Allegiance]","Legiones Astartes"],"upgrades":["tarantula-turret-weapon-upgrades","tarantula-missile-upgrades"],"wargear":[],"minSize":2,"maxSize":2},{"id":"xiphon-interceptor","name":"Xiphon Interceptor","allegiance":"Universal","baseSize":1,"battlefieldRole":"Fast Attack","description":"The Xiphon Interceptor is a void/atmospheric combat craft with an ancient lineage with examples of its predecessors having been found in use by lost human enclaves. The performance of the variants that found use in the Legions generated such extreme gravitic forces in flight that the enhanced physiology of a Space Marine was a prerequisite of a pilot. Although armed with a specific and specialised combination of armaments, the Xiphon's strictly defined combat role as an air-to-air interceptor called for little else.","faction":"legiones-astartes","models":{"xiphon-interceptor-model":1},"modelUpgrades":{"xiphon-interceptor-model":[]},"points":120,"specialRules":[],"specialRuleValues":{},"traits":["[Allegiance]","Legiones Astartes","Interceptor"],"upgrades":[],"wargear":[],"minSize":1,"maxSize":1},{"id":"storm-eagle","name":"Storm Eagle","allegiance":"Universal","baseSize":1,"battlefieldRole":"Fast Attack","description":"The Storm Eagle is a rugged and durable assault gunship, heavily armed for its size. Despite lacking the speed and maneuverability of true fighters, the Storm Eagle's flexibility makes it a valuable asset for orbital assault deployment, low-level ground attack, long-range transport, orbital shuttle, scout, and interceptor roles.","faction":"legiones-astartes","models":{"storm-eagle-model":1},"modelUpgrades":{"storm-eagle-model":["storm-eagle-heavy-bolter-upgrades","storm-eagle-tempest-rocket-upgrades"]},"points":200,"specialRules":["assault-vehicle"],"specialRuleValues":{},"traits":["[Allegiance]","Legiones Astartes"],"upgrades":[],"wargear":[],"minSize":1,"maxSize":1},{"id":"fire-raptor","name":"Fire Raptor","allegiance":"Universal","baseSize":1,"battlefieldRole":"Fast Attack","description":"A variant of the Storm Eagle, the Fire Raptor gunship was created with the aim of providing overwhelming aerial firepower to Legiones Astartes assault forces. In addition to twin nose mounted Avenger bolt cannon and an array of rockets or missiles, the Fire Raptor replaces the capacious transport bay of the Storm Eagle with ammunition and targeting cogitators for two independent ball turrets. Each of these sophisticated turrets is equipped with a gyroscopic array and crewed by a dedicated Space Marine gunner, allowing each to strike separate targets with pinpoint precision even while the gunship moves at flank speed.","faction":"legiones-astartes","models":{"fire-raptor-model":1},"modelUpgrades":{"fire-raptor-model":["fire-raptor-sponson-weapon-upgrades","fire-raptor-rocket-upgrades"]},"points":220,"specialRules":[],"specialRuleValues":{},"traits":["[Allegiance]","Legiones Astartes"],"upgrades":[],"wargear":[],"minSize":1,"maxSize":1},{"id":"scimitar-jetbike-squadron","name":"Scimitar Jetbike Squadron","allegiance":"Universal","baseSize":3,"battlefieldRole":"Fast Attack","description":"Scimitar jetbike squadrons are feared strike units which use sophisticated and powerful jetbikes as mounts. These grav-impellor assisted, jet engine-propelled craft are more akin to compact aircraft than ground bikes and are able to maintain great speeds for extended periods of low-altitude flight. Their lift-strength is sufficient not only to carry a heavily armoured Space Marine and his wargear aloft, but also a variety of heavy weapons mounts and stocks of ammunition, giving these swift hunters extremely potent firepower.","faction":"legiones-astartes","models":{"scimitar-sergeant-model":1,"scimitar-hunter-model":2},"modelUpgrades":{"scimitar-sergeant-model":["scimitar-sergeant-melee-upgrades","scimitar-pistol-upgrades","scimitar-heavy-weapon-upgrades"],"scimitar-hunter-model":["scimitar-augury-scanner-upgrade","scimitar-pistol-upgrades","scimitar-heavy-weapon-upgrades"]},"points":95,"specialRules":["bulky-3","deep-strike"],"specialRuleValues":{},"traits":["[Allegiance]","Legiones Astartes"],"upgrades":[{"id":"additional-scimitar-hunters","name":"Additional Scimitar Hunters","description":"May include up to 7 additional Scimitar Hunters at +30 Points per Model.","maxCount":7,"options":[{"id":"additional-scimitar-hunter","name":"Additional Scimitar Hunter","description":"Add one Scimitar Hunter to the unit","points":30,"addModel":"scimitar-hunter-model"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"model-count"}],"wargear":[],"minSize":3,"maxSize":10},{"id":"land-speeder-squadron","name":"Land Speeder Squadron","allegiance":"Universal","baseSize":1,"battlefieldRole":"Fast Attack","description":"Land Speeders are high-speed reconnaissance and rapid-attack skimmers that utilise antigravity technology to achieve extraordinary battlefield mobility and speed. As lightly armoured two-man craft, they rely more on their extreme manoeuvrability and speed for survival than durability, and provide a Space Marine force with a flexible core of rapidly deployable firepower and make for highly able tank hunters and close air support units. As a result, formations of Land Speeders are often called upon to operate as a rapid-reaction force, held in reserve to quickly intercept enemy counter-attacks.","faction":"legiones-astartes","models":{"land-speeder-model":1},"modelUpgrades":{"land-speeder-model":["land-speeder-heavy-bolter-upgrades","land-speeder-augury-scanner-upgrades","land-speeder-hunter-killer-missiles"]},"points":50,"specialRules":["bulky-4","deep-strike","firing-protocols-2"],"specialRuleValues":{},"traits":["[Allegiance]","Legiones Astartes"],"upgrades":[{"id":"additional-land-speeders","name":"Additional Land Speeders","description":"May include up to 4 additional Land Speeders at +50 Points per Model.","maxCount":4,"options":[{"id":"additional-land-speeder","name":"Additional Land Speeder","description":"Add one Land Speeder to the unit","points":50,"addModel":"land-speeder-model"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"model-count"}],"wargear":[],"minSize":1,"maxSize":5},{"id":"javelin-squadron","name":"Javelin Squadron","allegiance":"Universal","baseSize":1,"battlefieldRole":"Fast Attack","description":"The Javelin Squadron is a fast, durable, and highly customizable anti-grav vehicle formation, capable of deep striking and providing significant firepower. Its enhanced toughness and wounds make it quite resilient for a Fast Attack choice, while its weapon options allow it to be tailored for anti-infantry or anti-tank roles.","faction":"legiones-astartes","models":{"javelin-model":1},"modelUpgrades":{"javelin-model":["javelin-cyclone-missile-launcher-upgrades"]},"points":75,"specialRules":["bulky-5","deep-strike","firing-protocols-3"],"specialRuleValues":{},"traits":["[Allegiance]","Legiones Astartes"],"upgrades":[{"id":"additional-javelins","name":"Additional Javelins","description":"May include up to 2 additional Javelins at +75 Points per Model.","maxCount":2,"options":[{"id":"additional-javelin","name":"Additional Javelin","description":"Add one Javelin to the unit","points":75,"addModel":"javelin-model"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"model-count"}],"wargear":[],"minSize":1,"maxSize":3},{"id":"predator","name":"Predator","allegiance":"Universal","baseSize":1,"battlefieldRole":"Armour","description":"Perhaps the best known and most widespread variant of the basic Rhino chassis, the Predator is equipped with superior armour protection and firepower, but sacrificing the Rhino's troop transport capacity entirely. It is an effective and versatile medium tank, with a good balance of speed, firepower and protection and whose robust design can field a wide variety of armament configurations. The standard among these is a rapid-firing turret mounted autocannon, but it is also able to mount a number of deadly energy or flame weapons, allowing it to engage a range of targets, along with defensive sponsons.","faction":"legiones-astartes","models":{"predator-model":1},"modelUpgrades":{"predator-model":["predator-turret-weapon-upgrades","predator-sponson-weapon-upgrades","predator-pintle-weapon-upgrades","predator-wargear-upgrades"]},"points":100,"specialRules":[],"specialRuleValues":{},"traits":["[Allegiance]","Legiones Astartes","Smokescreen"],"upgrades":[],"wargear":[],"minSize":1,"maxSize":1},{"id":"sicaran","name":"Sicaran","allegiance":"Universal","baseSize":1,"battlefieldRole":"Armour","description":"The Sicaran is a fast, durable tank with excellent firepower options, designed for high-performance armored warfare. Its enhanced speed and durability make it an exceptional choice for the Armour battlefield role, while its weapon options allow it to be tailored for various combat scenarios.","faction":"legiones-astartes","models":{"sicaran-model":1},"modelUpgrades":{"sicaran-model":["sicaran-turret-weapon-upgrades","sicaran-sponson-weapon-upgrades","sicaran-pintle-weapon-upgrades","sicaran-wargear-upgrades"]},"points":160,"specialRules":[],"specialRuleValues":{},"traits":["[Allegiance]","Legiones Astartes","Smokescreen"],"upgrades":[],"wargear":[],"minSize":1,"maxSize":1},{"id":"sicaran-venator","name":"Sicaran Venator","allegiance":"Universal","baseSize":1,"battlefieldRole":"Armour","description":"The Sicaran Venator replaces the turret mounted armaments of the Sicaran with a powerful neutron laser, which, when utilised with the speed and manoeuvrability provided by the advanced chassis and drivetrain of the chassis, results in a formidable tank destroyer weapon. Despite the relative rarity of the vehicles, their capabilities ensured they were ever in great demand as Legion commanders came to rely on their potent combination of durability, speed and firepower to prevail where lesser Predators or Vindicators could not.","faction":"legiones-astartes","models":{"sicaran-venator-model":1},"modelUpgrades":{"sicaran-venator-model":["sicaran-venator-sponson-weapon-upgrades","sicaran-venator-pintle-weapon-upgrades","sicaran-venator-wargear-upgrades"]},"points":170,"specialRules":["explodes-5"],"specialRuleValues":{},"traits":["[Allegiance]","Legiones Astartes","Smokescreen"],"upgrades":[],"wargear":[],"minSize":1,"maxSize":1},{"id":"kratos-assault-tank","name":"Kratos Assault Tank","allegiance":"Universal","baseSize":1,"battlefieldRole":"Armour","description":"The Kratos is based on an Ancient Terran pattern, used in large numbers during the Unification of Old Earth. After the Emperor's treaty was signed with the Lords of Mars, the Kratos was redesigned to serve as the spearhead of the Great Crusade, a line-breaker and foe hammer. Though slow, it is all but impervious to enemy weapons fire and its steady advance was the core of many Space Marine victories during the long years of the Great Crusade. In latter years, the Kratos fell out of favour as the Legions embraced a more mobile style of war, though the ancient war engine lost none of its legendary tenacity.","faction":"legiones-astartes","models":{"kratos-assault-tank-model":1},"modelUpgrades":{"kratos-assault-tank-model":["kratos-turret-weapon-upgrades","kratos-hull-weapon-upgrades","kratos-sponson-weapon-upgrades","kratos-pintle-weapon-upgrades","kratos-wargear-upgrades"]},"points":280,"specialRules":[],"specialRuleValues":{},"traits":["[Allegiance]","Legiones Astartes","Smokescreen"],"upgrades":[],"wargear":[],"minSize":1,"maxSize":1},{"id":"vindicator-siege-tank","name":"Vindicator Siege Tank","allegiance":"Universal","baseSize":1,"battlefieldRole":"Armour","description":"The Vindicator is a dedicated siege tank, heavily armoured and armed with a devastating cannon. It is deployed to breach enemy fortifications and destroy the heaviest enemy vehicles, moving to point-blank range before unleashing a devastating salvo of demolisher shells capable of sundering any armour. These vehicles are especially useful in confined terrain like cities or other enclosed battlefields, where their short range is less of a disadvantage. Its demolisher cannon can smash buildings into broken ruins to forge a path through otherwise impassable obstacles.","faction":"legiones-astartes","models":{"vindicator-siege-tank-model":1},"modelUpgrades":{"vindicator-siege-tank-model":["vindicator-demolisher-cannon-upgrades","vindicator-pintle-weapon-upgrades","vindicator-wargear-upgrades"]},"points":140,"specialRules":[],"specialRuleValues":{},"traits":["[Allegiance]","Legiones Astartes","Smokescreen"],"upgrades":[],"wargear":[],"minSize":1,"maxSize":1},{"id":"scorpius-missile-tank","name":"Scorpius Missile Tank","allegiance":"Universal","baseSize":1,"battlefieldRole":"Armour","description":"The Scorpius was a pattern of armoured vehicle that had entered service during the Great Crusade, having been created at the behest of the Space Wolves Legion to provide indirect fire support for assault actions via its advanced missile launcher systems. Fighting alongside Legion Predators, with which it shares many common armour and drive systems, the Scorpius proved itself well-suited to such high intensity operations and had been approved for service across the entire Legiones Astartes before the outbreak of the Horus Heresy.","faction":"legiones-astartes","models":{"scorpius-missile-tank-model":1},"modelUpgrades":{"scorpius-missile-tank-model":["scorpius-pintle-weapon-upgrades","scorpius-wargear-upgrades"]},"points":120,"specialRules":[],"specialRuleValues":{},"traits":["[Allegiance]","Legiones Astartes","Smokescreen"],"upgrades":[],"wargear":[],"minSize":1,"maxSize":1},{"id":"arquitor-bombard","name":"Arquitor Bombard","allegiance":"Universal","baseSize":1,"battlefieldRole":"Armour","description":"The Arquitor Bombard is an artillery platform designed to operate at the forefront of a Legiones Astartes advance. Built upon a reinforced chassis and equipped with weapon systems that provide brutal short-range firepower, its variants are called upon to break the most stubborn of fortifications or to annihilate massed enemy infantry and armour. As an infantry support platform, the Arquitor lacks the sheer speed of some of the other heavy armour employed by the Legiones Astartes, an intentional feature of the vehicle that keeps it locked in formation with the infantry it supports.","faction":"legiones-astartes","models":{"arquitor-bombard-model":1},"modelUpgrades":{"arquitor-bombard-model":["arquitor-morbus-shell-upgrades","arquitor-centreline-weapon-upgrades","arquitor-sponson-weapon-upgrades","arquitor-pintle-weapon-upgrades","arquitor-wargear-upgrades"]},"points":150,"specialRules":[],"specialRuleValues":{},"traits":["[Allegiance]","Legiones Astartes","Smokescreen"],"upgrades":[],"wargear":[],"minSize":1,"maxSize":1},{"id":"cerberus-heavy-tank-destroyer","name":"Cerberus Heavy Tank Destroyer","allegiance":"Universal","baseSize":1,"battlefieldRole":"Lord of War","description":"The Cerberus is described as mounting a neutron laser battery, requiring sizable atomantic arc-reactors and radiation shielding. Despite proper shielding, each shot floods the interior with exotic radiation, leading to short crew lifespespans and requiring extensive augmetic reconstruction. Despite these drawbacks, the neutron laser is one of the most effective anti-tank weapons available to the Space Marine Legions, capable of damaging even titan-class targets.","faction":"legiones-astartes","models":{"cerberus-heavy-tank-destroyer-model":1},"modelUpgrades":{"cerberus-heavy-tank-destroyer-model":["cerberus-sponson-weapon-upgrades","cerberus-pintle-weapon-upgrades","cerberus-wargear-upgrades"]},"points":400,"specialRules":["explodes"],"specialRuleValues":{"explodes":4},"traits":["[Allegiance]","Legiones Astartes","Smokescreen"],"upgrades":[],"wargear":[],"minSize":1,"maxSize":1},{"id":"typhon-heavy-siege-tank","name":"Typhon Heavy Siege Tank","allegiance":"Universal","baseSize":1,"battlefieldRole":"Lord of War","description":"The Typhon is a mobile gun platform of prodigious strength and carrying capacity designed to operate a single massive piece of siege artillery  the Dreadhammer cannon. The design itself was created in response to a request for a war machine that could rapidly deploy such fortress-breaking firepower to the battle line at speeds greater than the slow crawl of the Imperial Army's heavy batteries. Many observers have labelled it as little more than an 'upscaled' Vindicator in design, and while in some ways this may be true, few can deny its utterly brutal effectiveness in action.","faction":"legiones-astartes","models":{"typhon-heavy-siege-tank-model":1},"modelUpgrades":{"typhon-heavy-siege-tank-model":["typhon-sponson-weapon-upgrades","typhon-pintle-weapon-upgrades","typhon-wargear-upgrades"]},"points":400,"specialRules":["explodes"],"specialRuleValues":{"explodes":5},"traits":["[Allegiance]","Legiones Astartes","Smokescreen"],"upgrades":[],"wargear":[],"minSize":1,"maxSize":1},{"id":"glaive-super-heavy-special-weapons-tank","name":"Glaive Super-Heavy Special Weapons Tank","allegiance":"Universal","baseSize":1,"battlefieldRole":"Lord of War","description":"The Glaive is a super-heavy tank pattern based on the Fellblade, outfitted with a potent volkite carronade, a device of the Mechanicum whose design is said to have originated on Mars during the wars of the Age of Strife. It was not without acrimony that the Forge Lords agreed to the Emperor's demand for a Legion tank to be created that utilised this weapon. The effort of constructing practicable numbers of super-heavy tanks around the volkite carronade is considered well worth the expenditure in resources required, for multiple targets are struck down by its ravening beam before even a portion of its energy is dissipated.","faction":"legiones-astartes","models":{"glaive-super-heavy-special-weapons-tank-model":1},"modelUpgrades":{"glaive-super-heavy-special-weapons-tank-model":["glaive-hull-weapon-upgrades","glaive-sponson-weapon-upgrades","glaive-pintle-weapon-upgrades","glaive-wargear-upgrades"]},"points":650,"specialRules":[],"specialRuleValues":{},"traits":["[Allegiance]","Legiones Astartes","Smokescreen"],"upgrades":[],"wargear":[],"minSize":1,"maxSize":1},{"id":"perturabo","name":"Perturabo","allegiance":"Traitor","baseSize":1,"battlefieldRole":"Paragon","description":"Perturabo, Primarch of the Iron Warriors, is a grim warrior and master of technological arcana from Olympia. Taciturn and analytical, he possesses the ability to deconstruct campaigns and find their weaknesses, executing brutal but effective strategies that brought many worlds into the Imperium but left them shattered. After the Dropsite Massacre, Perturabo abandoned his oaths to the Imperium, taking his fallen brother's hammer as a token of allegiance to Horus.","faction":"legiones-astartes","subfaction":"iron-warriors","models":{"perturabo-model":1},"modelUpgrades":{"perturabo-model":["perturabo-weapon-upgrade-group"]},"points":425,"specialRules":["sire-of-the-iron-warriors","bulky","battlesmith","breaker","eternal-warrior"],"specialRuleValues":{"bulky":6,"battlesmith":3,"eternal-warrior":2},"traits":["[Allegiance]","[Legiones Astartes]","Iron Warriors","Master of the Legion"],"upgrades":[],"wargear":[],"minSize":1,"maxSize":1},{"id":"warsmith","name":"Warsmith","allegiance":"Traitor","baseSize":1,"battlefieldRole":"High Command","description":"The Iron Warriors were widely renowned for their siegecraft and combat-engineering skills. The foremost practitioners of these arts were the Warsmiths, whose knowledge of the workings of war engines and automata was second only to the Magi of the Mechanicum. Raised to such a rank by Perturabo himself, each was a peerless planner and warrior within their Legion.","faction":"legiones-astartes","subfaction":"iron-warriors","models":{"warsmith-model":1},"modelUpgrades":{"warsmith-model":["warsmith-wargear-upgrade-group"]},"points":165,"specialRules":["bulky","battlesmith","implacable-advance","slow-and-purposeful"],"specialRuleValues":{"bulky":2,"battlesmith":2},"traits":["[Allegiance]","[Legiones Astartes]","Iron Warriors","Master of the Legion"],"upgrades":[],"wargear":[],"minSize":1,"maxSize":1},{"id":"tyrant-siege-terminator-squad","name":"Tyrant Siege Terminator Squad","allegiance":"Traitor","baseSize":5,"battlefieldRole":"Heavy Assault","description":"Clad in Cataphractii plate and unleashing hails of Swarmer or Breaker missiles from their armour mounted rocket launchers, these implacable warriors are fortress-breakers of unparalleled skill. The bleak spectacle of these warriors upon the battlefield, surmounting any obstacle before them, became synonymous with Perturabo's wrath unleashed.","faction":"legiones-astartes","subfaction":"iron-warriors","models":{"siege-master-model":1,"tyrant-model":4},"modelUpgrades":{"siege-master-model":["siege-master-weapon-upgrade-group","siege-master-wargear-upgrade-group"],"tyrant-model":["tyrant-weapon-upgrade-group"]},"points":300,"specialRules":["bulky","implacable-advance","slow-and-purposeful","firing-protocols","support-unit"],"specialRuleValues":{"bulky":2,"firing-protocols":2,"support-unit":1},"traits":["[Allegiance]","[Legiones Astartes]","Iron Warriors"],"upgrades":["additional-tyrants-upgrade"],"wargear":[],"minSize":5,"maxSize":10},{"id":"iron-circle-maniple","name":"Iron Circle Maniple","allegiance":"Traitor","baseSize":1,"battlefieldRole":"Retinue","description":"Of the most visible fruits of Perturabo's genius, developed after he was unshackled from the Emperor's strict dictates, were the Iron Circle, or the Domitar-Ferrum as they became known, first deployed as a bodyguard for their Primarch after the Battle of Phall, where he judged his own sons had failed him. Variants of the Domitar/Conqueror pattern, they were built as unyielding instruments of their creator's will and designed for the kind of warfare their master favoured most.","faction":"legiones-astartes","subfaction":"iron-warriors","models":{"domitar-ferrum-model":1},"modelUpgrades":{"domitar-ferrum-model":[]},"points":150,"specialRules":["shield-of-the-iron-tyrant","bulky","implacable-advance","impact","firestorm"],"specialRuleValues":{"bulky":4,"impact":"A"},"traits":["[Allegiance]","Iron Warriors","Shield"],"upgrades":["additional-domitar-ferrum-upgrade"],"wargear":[],"minSize":1,"maxSize":6},{"id":"iron-warriors-iron-havocs","name":"Iron Warriors Iron Havocs","allegiance":"Traitor","baseSize":5,"battlefieldRole":"Support","description":"An elite formation of the IVth Legion, renowned for their precision in heavy support and siege warfare. They are the finest marksmen who clear fortifications and strongpoints with murderous efficiency.","faction":"legiones-astartes","subfaction":"iron-warriors","models":{"iron-havoc-sergeant-model":1,"iron-havoc-model":4},"modelUpgrades":{"iron-havoc-sergeant-model":["iron-havoc-sergeant-melee-upgrade-group"],"iron-havoc-model":["iron-havoc-weapon-upgrade-group","iron-havoc-equipment-upgrade-group","iron-havoc-vexilla-upgrade-group"]},"points":135,"specialRules":["ferrum-occularis","support-unit"],"specialRuleValues":{"support-unit":1},"traits":["[Allegiance]","Iron Warriors"],"upgrades":["additional-iron-havocs-upgrade"],"wargear":[],"minSize":5,"maxSize":10}]`),Ao={units:G8},K8=JSON.parse(`[{"id":"legatine-marshall-weapon-upgrade","name":"Legatine Marshall Weapon Upgrade","description":"The Legatine Marshall can replace their Charnabal Sabre with a different weapon.","maxCount":1,"options":[{"id":"power-sword-option","name":"Power Sword","description":"Replace Charnabal Sabre with a Power Sword","points":5,"replaceWeapon":"charnabal-sabre","addWeapon":"power-sword"},{"id":"power-fist-option","name":"Power Fist","description":"Replace Charnabal Sabre with a Power Fist","points":10,"replaceWeapon":"charnabal-sabre","addWeapon":"power-fist"},{"id":"paragon-blade-option","name":"Paragon Blade","description":"Replace Charnabal Sabre with a Paragon Blade","points":10,"replaceWeapon":"charnabal-sabre","addWeapon":"paragon-blade"},{"id":"thunder-hammer-option","name":"Thunder Hammer","description":"Replace Charnabal Sabre with a Thunder Hammer","points":10,"replaceWeapon":"charnabal-sabre","addWeapon":"thunder-hammer"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"legatine-marshall-model","type":"weapon"},{"id":"additional-lifewards-upgrade","name":"Additional Lifewards","description":"Add up to 5 additional Lifeward models to the unit.","maxCount":5,"options":[{"id":"additional-lifeward-option","name":"Additional Lifeward","description":"Add one Lifeward model to the unit","points":14}],"points":null,"requiresUpgrade":"","targetModel":"lifeward-model","targetModels":"","targetModelType":"","type":"model-count"},{"id":"lifeward-weapon-upgrade","name":"Lifeward Weapon Upgrade","description":"Any Lifeward can replace their Lasrifle with a Charnabal Sabre and Laspistol.","maxCount":"dependent","options":[{"id":"charnabal-laspistol-option","name":"Charnabal Sabre and Laspistol","description":"Replace Lasrifle with Charnabal Sabre and Laspistol","points":0,"weaponReplacements":[{"replaceWeapon":"lasrifle","addWeapon":"charnabal-sabre"},{"replaceWeapon":"lasrifle","addWeapon":"laspistol"}]}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"lifeward-model","type":"weapon"},{"id":"lifeward-sabre-upgrade","name":"Lifeward Sabre Upgrade","description":"Any Lifeward with a Charnabal Sabre can replace it with a different weapon.","maxCount":"dependent","options":[{"id":"lifeward-power-sword-option","name":"Power Sword","description":"Replace Charnabal Sabre with a Power Sword","points":5,"replaceWeapon":"charnabal-sabre","addWeapon":"power-sword"},{"id":"lifeward-power-fist-option","name":"Power Fist","description":"Replace Charnabal Sabre with a Power Fist","points":10,"replaceWeapon":"charnabal-sabre","addWeapon":"power-fist"}],"points":null,"requiresUpgrade":"lifeward-weapon-upgrade","targetModel":"","targetModels":"","targetModelType":"lifeward-model","type":"weapon"},{"id":"legatine-marshall-pistol-upgrade","name":"Legatine Marshall Pistol Upgrade","description":"The Legatine Marshall can replace their Las Pistol with a different pistol weapon.","maxCount":1,"options":[{"id":"plasma-pistol-option","name":"Plasma Pistol","description":"Replace Las Pistol with a Plasma Pistol","points":5,"replaceWeapon":"laspistol","addWeapon":"plasma-pistol"},{"id":"volkite-serpenta-option","name":"Volkite Serpenta","description":"Replace Las Pistol with a Volkite Serpenta","points":5,"replaceWeapon":"laspistol","addWeapon":"volkite-serpenta"},{"id":"inferno-pistol-option","name":"Inferno Pistol","description":"Replace Las Pistol with an Inferno Pistol","points":10,"replaceWeapon":"laspistol","addWeapon":"inferno-pistol"},{"id":"archaeotech-pistol-option","name":"Archaeotech Pistol","description":"Replace Las Pistol with an Archaeotech Pistol","points":10,"replaceWeapon":"laspistol","addWeapon":"archaeotech-pistol"},{"id":"needle-pistol-option","name":"Needle Pistol","description":"Replace Las Pistol with a Needle Pistol","points":5,"replaceWeapon":"laspistol","addWeapon":"needle-pistol"},{"id":"blast-pistol-option","name":"Blast Pistol","description":"Replace Las Pistol with a Blast Pistol","points":3,"replaceWeapon":"laspistol","addWeapon":"blast-pistol"},{"id":"hand-flamer-option","name":"Hand Flamer","description":"Replace Las Pistol with a Hand Flamer","points":5,"replaceWeapon":"laspistol","addWeapon":"hand-flamer"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"legatine-marshall-model","type":"weapon"},{"id":"lifeward-pistol-upgrade","name":"Lifeward Pistol Upgrade","description":"Lifewards can replace their Lasrifle with a different pistol weapon.","maxCount":"dependent","options":[{"id":"lifeward-plasma-pistol-option","name":"Plasma Pistol","description":"Replace Lasrifle with a Plasma Pistol","points":5,"replaceWeapon":"lasrifle","addWeapon":"plasma-pistol"},{"id":"lifeward-volkite-serpenta-option","name":"Volkite Serpenta","description":"Replace Lasrifle with a Volkite Serpenta","points":5,"replaceWeapon":"lasrifle","addWeapon":"volkite-serpenta"},{"id":"lifeward-needle-pistol-option","name":"Needle Pistol","description":"Replace Lasrifle with a Needle Pistol","points":5,"replaceWeapon":"lasrifle","addWeapon":"needle-pistol"},{"id":"lifeward-blast-pistol-option","name":"Blast Pistol","description":"Replace Lasrifle with a Blast Pistol","points":3,"replaceWeapon":"lasrifle","addWeapon":"blast-pistol"},{"id":"lifeward-hand-flamer-option","name":"Hand Flamer","description":"Replace Lasrifle with a Hand Flamer","points":5,"replaceWeapon":"lasrifle","addWeapon":"hand-flamer"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"lifeward-model","type":"weapon"},{"id":"lifeward-bayonet-upgrade","name":"Lifeward Bayonet Upgrade","description":"Lifewards with Lasrifles can add bayonets for close combat.","maxCount":"dependent","options":[{"id":"bayonet-option","name":"Bayonet","description":"Add a Bayonet to a Lasrifle","points":1,"addWeapon":"bayonet"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"lifeward-model","type":"weapon"},{"id":"lifeward-blast-charger-upgrade","name":"Lifeward Blast Charger Upgrade","description":"Lifewards with Lasrifles can add blast chargers for enhanced firepower.","maxCount":"dependent","options":[{"id":"blast-charger-option","name":"Blast Charger","description":"Add a Blast Charger to a Lasrifle","points":1,"addWeapon":"blast-charger"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"lifeward-model","type":"weapon"},{"id":"lifeward-command-vox-upgrade","name":"Lifeward Command Vox Upgrade","description":"One Lifeward in the unit may have a Command Vox for enhanced communications.","maxCount":1,"options":[{"id":"command-vox-option","name":"Command Vox","description":"Add a Command Vox to one Lifeward","points":10,"addWargear":"command-vox"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"lifeward-model","type":"wargear"},{"id":"lifeward-augury-scanner-upgrade","name":"Lifeward Augury Scanner Upgrade","description":"One Lifeward in the unit may have an Augury Scanner for enhanced detection.","maxCount":1,"options":[{"id":"augury-scanner-option","name":"Augury Scanner","description":"Add an Augury Scanner to one Lifeward","points":10,"addWargear":"augury-scanner"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"lifeward-model","type":"wargear"},{"id":"lifeward-vexilla-upgrade","name":"Lifeward Vexilla Upgrade","description":"One Lifeward in the unit may carry a vexilla banner. Only one vexilla type may be selected.","maxCount":1,"options":[{"id":"auxilia-vexilla-option","name":"Auxilia Vexilla","description":"Add an Auxilia Vexilla to one Lifeward","points":5,"addWargear":"auxilia-vexilla"},{"id":"cohorts-vexilla-option","name":"Cohorts Vexilla","description":"Add a Cohorts Vexilla to one Lifeward","points":15,"addWargear":"cohorts-vexilla"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"lifeward-model","type":"wargear"},{"id":"lifeward-melta-bomb-upgrade","name":"Lifeward Melta Bomb Upgrade","description":"One Lifeward in the unit may have a Melta Bomb for anti-armor combat.","maxCount":1,"options":[{"id":"melta-bomb-option","name":"Melta Bomb","description":"Add a Melta Bomb to one Lifeward","points":10,"addWeapon":"melta-bomb"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"lifeward-model","type":"weapon"},{"id":"auxilia-captain-weapon-upgrade","name":"Auxilia Captain Weapon Upgrade","description":"The Auxilia Captain can replace their Charnabal Sabre with a different weapon.","maxCount":1,"options":[{"id":"auxilia-captain-thunder-hammer-option","name":"Thunder Hammer","description":"Replace Charnabal Sabre with a Thunder Hammer","points":10,"replaceWeapon":"charnabal-sabre","addWeapon":"thunder-hammer"},{"id":"auxilia-captain-power-fist-option","name":"Power Fist","description":"Replace Charnabal Sabre with a Power Fist","points":10,"replaceWeapon":"charnabal-sabre","addWeapon":"power-fist"},{"id":"auxilia-captain-power-sword-option","name":"Power Sword","description":"Replace Charnabal Sabre with a Power Sword","points":5,"replaceWeapon":"charnabal-sabre","addWeapon":"power-sword"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"auxilia-captain-model","type":"weapon"},{"id":"auxilia-captain-pistol-upgrade","name":"Auxilia Captain Pistol Upgrade","description":"The Auxilia Captain can replace their Las Pistol with a different pistol weapon.","maxCount":1,"options":[{"id":"auxilia-captain-blast-pistol-option","name":"Blast Pistol","description":"Replace Las Pistol with a Blast Pistol","points":3,"replaceWeapon":"laspistol","addWeapon":"blast-pistol"},{"id":"auxilia-captain-needle-pistol-option","name":"Needle Pistol","description":"Replace Las Pistol with a Needle Pistol","points":5,"replaceWeapon":"laspistol","addWeapon":"needle-pistol"},{"id":"auxilia-captain-volkite-serpenta-option","name":"Volkite Serpenta","description":"Replace Las Pistol with a Volkite Serpenta","points":5,"replaceWeapon":"laspistol","addWeapon":"volkite-serpenta"},{"id":"auxilia-captain-hand-flamer-option","name":"Hand Flamer","description":"Replace Las Pistol with a Hand Flamer","points":5,"replaceWeapon":"laspistol","addWeapon":"hand-flamer"},{"id":"auxilia-captain-plasma-pistol-option","name":"Plasma Pistol","description":"Replace Las Pistol with a Plasma Pistol","points":5,"replaceWeapon":"laspistol","addWeapon":"plasma-pistol"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"auxilia-captain-model","type":"weapon"},{"id":"companion-weapon-upgrade","name":"Companion Weapon Upgrade","description":"Companions can replace their Lasrifle with a Laspistol and Charnabal Sabre.","maxCount":"dependent","options":[{"id":"companion-weapon-option","name":"Laspistol and Charnabal Sabre","description":"Replace Lasrifle with a Laspistol and Charnabal Sabre","points":0,"weaponReplacements":[{"replaceWeapon":"lasrifle","addWeapon":"laspistol"},{"replaceWeapon":"lasrifle","addWeapon":"charnabal-sabre"}]}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"companion-model","type":"weapon"},{"id":"companion-sabre-upgrade","name":"Companion Sabre Upgrade","description":"Companions with Charnabal Sabres can replace them with different melee weapons.","maxCount":"dependent","options":[{"id":"companion-power-sword-option","name":"Power Sword","description":"Replace Charnabal Sabre with a Power Sword","points":5,"replaceWeapon":"charnabal-sabre","addWeapon":"power-sword"},{"id":"companion-power-fist-option","name":"Power Fist","description":"Replace Charnabal Sabre with a Power Fist","points":10,"replaceWeapon":"charnabal-sabre","addWeapon":"power-fist"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"companion-model","type":"weapon"},{"id":"companion-pistol-upgrade","name":"Companion Pistol Upgrade","description":"Companions can replace their Lasrifle with a different pistol weapon.","maxCount":"dependent","options":[{"id":"companion-blast-pistol-option","name":"Blast Pistol","description":"Replace Lasrifle with a Blast Pistol","points":3,"replaceWeapon":"lasrifle","addWeapon":"blast-pistol"},{"id":"companion-needle-pistol-option","name":"Needle Pistol","description":"Replace Lasrifle with a Needle Pistol","points":5,"replaceWeapon":"lasrifle","addWeapon":"needle-pistol"},{"id":"companion-volkite-serpenta-option","name":"Volkite Serpenta","description":"Replace Lasrifle with a Volkite Serpenta","points":5,"replaceWeapon":"lasrifle","addWeapon":"volkite-serpenta"},{"id":"companion-hand-flamer-option","name":"Hand Flamer","description":"Replace Lasrifle with a Hand Flamer","points":5,"replaceWeapon":"lasrifle","addWeapon":"hand-flamer"},{"id":"companion-plasma-pistol-option","name":"Plasma Pistol","description":"Replace Lasrifle with a Plasma Pistol","points":5,"replaceWeapon":"lasrifle","addWeapon":"plasma-pistol"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"companion-model","type":"weapon"},{"id":"additional-companions-upgrade","name":"Additional Companions","description":"The unit can include up to 5 more Companions.","maxCount":5,"options":[{"id":"additional-companion-option","name":"Additional Companion","description":"Add one Companion to the unit","points":12}],"points":null,"requiresUpgrade":"","targetModel":"companion-model","targetModels":"","targetModelType":"","type":"model-count"},{"id":"companion-bayonet-upgrade","name":"Companion Bayonet Upgrade","description":"Companions with Lasrifles can add bayonets for close combat.","maxCount":"dependent","options":[{"id":"companion-bayonet-option","name":"Bayonet","description":"Add a bayonet to a Companion with a Lasrifle","points":1,"addWeapon":"bayonet"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"companion-model","type":"weapon"},{"id":"companion-blast-charger-upgrade","name":"Companion Blast Charger Upgrade","description":"Companions with Lasrifles can add blast chargers for enhanced firepower.","maxCount":"dependent","options":[{"id":"companion-blast-charger-option","name":"Blast Charger","description":"Add a blast charger to a Companion with a Lasrifle","points":1,"addWeapon":"blast-charger"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"companion-model","type":"weapon"},{"id":"companion-command-vox-upgrade","name":"Companion Command Vox Upgrade","description":"One Companion in the unit may have a Command Vox for enhanced communications.","maxCount":1,"options":[{"id":"companion-command-vox-option","name":"Command Vox","description":"Add a Command Vox to one Companion","points":10,"addWargear":"command-vox"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"companion-model","type":"wargear"},{"id":"companion-augury-scanner-upgrade","name":"Companion Augury Scanner Upgrade","description":"One Companion in the unit may have an Augury Scanner for enhanced detection.","maxCount":1,"options":[{"id":"companion-augury-scanner-option","name":"Augury Scanner","description":"Add an Augury Scanner to one Companion","points":10,"addWargear":"augury-scanner"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"companion-model","type":"wargear"},{"id":"companion-vexilla-upgrade","name":"Companion Vexilla Upgrade","description":"One Companion in the unit may carry a vexilla banner. Only one vexilla type may be selected.","maxCount":1,"options":[{"id":"companion-auxilia-vexilla-option","name":"Auxilia Vexilla","description":"Add an Auxilia Vexilla to one Companion","points":5,"addWargear":"auxilia-vexilla"},{"id":"companion-cohorts-vexilla-option","name":"Cohorts Vexilla","description":"Add a Cohorts Vexilla to one Companion","points":15,"addWargear":"cohorts-vexilla"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"companion-model","type":"wargear"},{"id":"companion-melta-bomb-upgrade","name":"Companion Melta Bomb Upgrade","description":"One Companion in the unit may have a Melta Bomb for anti-armor combat.","maxCount":1,"options":[{"id":"companion-melta-bomb-option","name":"Melta Bomb","description":"Add a Melta Bomb to one Companion","points":10,"addWeapon":"melta-bomb"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"companion-model","type":"weapon"},{"id":"additional-veterans-upgrade","name":"Additional Veterans","description":"The unit can include up to 5 more Veterans.","maxCount":5,"options":[{"id":"additional-veteran-option","name":"Additional Veteran","description":"Add one Veteran to the unit","points":7}],"points":null,"requiresUpgrade":"","targetModel":"veteran-model","targetModels":"","targetModelType":"","type":"model-count"},{"id":"troop-master-weapon-upgrade","name":"Troop Master Weapon Upgrade","description":"The Troop Master can replace their Lasrifle with a Laspistol and Charnabal Sabre.","maxCount":1,"options":[{"id":"troop-master-charnabal-laspistol-option","name":"Charnabal Sabre and Laspistol","description":"Replace Lasrifle with Charnabal Sabre and Laspistol","points":0,"weaponReplacements":[{"replaceWeapon":"lasrifle","addWeapon":"charnabal-sabre"},{"replaceWeapon":"lasrifle","addWeapon":"laspistol"}]}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"troop-master-model","type":"weapon"},{"id":"troop-master-pistol-upgrade","name":"Troop Master Pistol Upgrade","description":"The Troop Master can replace their Lasrifle with a different pistol weapon.","maxCount":1,"options":[{"id":"troop-master-blast-pistol-option","name":"Blast Pistol","description":"Replace Lasrifle with a Blast Pistol","points":3,"replaceWeapon":"lasrifle","addWeapon":"blast-pistol"},{"id":"troop-master-needle-pistol-option","name":"Needle Pistol","description":"Replace Lasrifle with a Needle Pistol","points":5,"replaceWeapon":"lasrifle","addWeapon":"needle-pistol"},{"id":"troop-master-volkite-serpenta-option","name":"Volkite Serpenta","description":"Replace Lasrifle with a Volkite Serpenta","points":5,"replaceWeapon":"lasrifle","addWeapon":"volkite-serpenta"},{"id":"troop-master-hand-flamer-option","name":"Hand Flamer","description":"Replace Lasrifle with a Hand Flamer","points":5,"replaceWeapon":"lasrifle","addWeapon":"hand-flamer"},{"id":"troop-master-plasma-pistol-option","name":"Plasma Pistol","description":"Replace Lasrifle with a Plasma Pistol","points":5,"replaceWeapon":"lasrifle","addWeapon":"plasma-pistol"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"troop-master-model","type":"weapon"},{"id":"troop-master-bayonet-upgrade","name":"Troop Master Bayonet Upgrade","description":"The Troop Master can add a bayonet for close combat.","maxCount":1,"options":[{"id":"troop-master-bayonet-option","name":"Bayonet","description":"Add a bayonet to the Troop Master","points":1,"addWeapon":"bayonet"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"troop-master-model","type":"weapon"},{"id":"troop-master-blast-charger-upgrade","name":"Troop Master Blast Charger Upgrade","description":"The Troop Master can add a blast charger for enhanced firepower.","maxCount":1,"options":[{"id":"troop-master-blast-charger-option","name":"Blast Charger","description":"Add a blast charger to the Troop Master","points":1,"addWeapon":"blast-charger"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"troop-master-model","type":"weapon"},{"id":"troop-master-command-vox-upgrade","name":"Troop Master Command Vox Upgrade","description":"The Troop Master may have a Command Vox for enhanced communications.","maxCount":1,"options":[{"id":"troop-master-command-vox-option","name":"Command Vox","description":"Add a Command Vox to the Troop Master","points":10,"addWargear":"command-vox"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"troop-master-model","type":"wargear"},{"id":"troop-master-augury-scanner-upgrade","name":"Troop Master Augury Scanner Upgrade","description":"The Troop Master may have an Augury Scanner for enhanced detection.","maxCount":1,"options":[{"id":"troop-master-augury-scanner-option","name":"Augury Scanner","description":"Add an Augury Scanner to the Troop Master","points":10,"addWargear":"augury-scanner"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"troop-master-model","type":"wargear"},{"id":"troop-master-vexilla-upgrade","name":"Troop Master Vexilla Upgrade","description":"The Troop Master may carry a vexilla banner. Only one vexilla type may be selected.","maxCount":1,"options":[{"id":"troop-master-auxilia-vexilla-option","name":"Auxilia Vexilla","description":"Add an Auxilia Vexilla to the Troop Master","points":5,"addWargear":"auxilia-vexilla"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"troop-master-model","type":"wargear"},{"id":"troop-master-melta-bomb-upgrade","name":"Troop Master Melta Bomb Upgrade","description":"The Troop Master may have a Melta Bomb for anti-armor combat.","maxCount":1,"options":[{"id":"troop-master-melta-bomb-option","name":"Melta Bomb","description":"Add a Melta Bomb to the Troop Master","points":10,"addWeapon":"melta-bomb"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"troop-master-model","type":"weapon"},{"id":"veteran-weapon-upgrade","name":"Veteran Weapon Upgrade","description":"Veterans can replace their Lasrifle with a Laspistol and Charnabal Sabre.","maxCount":"dependent","options":[{"id":"veteran-charnabal-laspistol-option","name":"Charnabal Sabre and Laspistol","description":"Replace Lasrifle with Charnabal Sabre and Laspistol","points":0,"weaponReplacements":[{"replaceWeapon":"lasrifle","addWeapon":"charnabal-sabre"},{"replaceWeapon":"lasrifle","addWeapon":"laspistol"}]}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"veteran-model","type":"weapon"},{"id":"veteran-sabre-upgrade","name":"Veteran Sabre Upgrade","description":"Veterans with Charnabal Sabres can replace them with different melee weapons.","maxCount":"dependent","options":[{"id":"veteran-power-sword-option","name":"Power Sword","description":"Replace Charnabal Sabre with a Power Sword","points":5,"replaceWeapon":"charnabal-sabre","addWeapon":"power-sword"},{"id":"veteran-power-fist-option","name":"Power Fist","description":"Replace Charnabal Sabre with a Power Fist","points":10,"replaceWeapon":"charnabal-sabre","addWeapon":"power-fist"}],"points":null,"requiresUpgrade":"veteran-weapon-upgrade","targetModel":"","targetModels":"","targetModelType":"veteran-model","type":"weapon"},{"id":"veteran-pistol-upgrade","name":"Veteran Pistol Upgrade","description":"Veterans can replace their Lasrifle with a different pistol weapon.","maxCount":"dependent","options":[{"id":"veteran-blast-pistol-option","name":"Blast Pistol","description":"Replace Lasrifle with a Blast Pistol","points":3,"replaceWeapon":"lasrifle","addWeapon":"blast-pistol"},{"id":"veteran-needle-pistol-option","name":"Needle Pistol","description":"Replace Lasrifle with a Needle Pistol","points":5,"replaceWeapon":"lasrifle","addWeapon":"needle-pistol"},{"id":"veteran-volkite-serpenta-option","name":"Volkite Serpenta","description":"Replace Lasrifle with a Volkite Serpenta","points":5,"replaceWeapon":"lasrifle","addWeapon":"volkite-serpenta"},{"id":"veteran-hand-flamer-option","name":"Hand Flamer","description":"Replace Lasrifle with a Hand Flamer","points":5,"replaceWeapon":"lasrifle","addWeapon":"hand-flamer"},{"id":"veteran-plasma-pistol-option","name":"Plasma Pistol","description":"Replace Lasrifle with a Plasma Pistol","points":5,"replaceWeapon":"lasrifle","addWeapon":"plasma-pistol"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"veteran-model","type":"weapon"},{"id":"veteran-bayonet-upgrade","name":"Veteran Bayonet Upgrade","description":"Veterans with Lasrifles can add bayonets for close combat.","maxCount":"dependent","options":[{"id":"veteran-bayonet-option","name":"Bayonet","description":"Add a bayonet to a Veteran with a Lasrifle","points":1,"addWeapon":"bayonet"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"veteran-model","type":"weapon"},{"id":"veteran-blast-charger-upgrade","name":"Veteran Blast Charger Upgrade","description":"Veterans with Lasrifles can add blast chargers for enhanced firepower.","maxCount":"dependent","options":[{"id":"veteran-blast-charger-option","name":"Blast Charger","description":"Add a blast charger to a Veteran with a Lasrifle","points":1,"addWeapon":"blast-charger"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"veteran-model","type":"weapon"},{"id":"veteran-command-vox-upgrade","name":"Veteran Command Vox Upgrade","description":"One Veteran in the unit may have a Command Vox for enhanced communications.","maxCount":1,"options":[{"id":"veteran-command-vox-option","name":"Command Vox","description":"Add a Command Vox to one Veteran","points":10,"addWargear":"command-vox"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"veteran-model","type":"wargear"},{"id":"veteran-augury-scanner-upgrade","name":"Veteran Augury Scanner Upgrade","description":"One Veteran in the unit may have an Augury Scanner for enhanced detection.","maxCount":1,"options":[{"id":"veteran-augury-scanner-option","name":"Augury Scanner","description":"Add an Augury Scanner to one Veteran","points":10,"addWargear":"augury-scanner"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"veteran-model","type":"wargear"},{"id":"veteran-vexilla-upgrade","name":"Veteran Vexilla Upgrade","description":"One Veteran in the unit may carry a vexilla banner. Only one vexilla type may be selected.","maxCount":1,"options":[{"id":"veteran-auxilia-vexilla-option","name":"Auxilia Vexilla","description":"Add an Auxilia Vexilla to one Veteran","points":5,"addWargear":"auxilia-vexilla"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"veteran-model","type":"wargear"},{"id":"veteran-melta-bomb-upgrade","name":"Veteran Melta Bomb Upgrade","description":"One Veteran in the unit may have a Melta Bomb for anti-armor combat.","maxCount":1,"options":[{"id":"veteran-melta-bomb-option","name":"Melta Bomb","description":"Add a Melta Bomb to one Veteran","points":10,"addWeapon":"melta-bomb"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"veteran-model","type":"weapon"},{"id":"additional-veletarii-upgrade","name":"Additional Veletarii","description":"The unit can include up to 5 more Veletarii.","maxCount":5,"options":[{"id":"additional-veletarii-option","name":"Additional Veletarii","description":"Add one Veletarii to the unit","points":8}],"points":null,"requiresUpgrade":"","targetModel":"veletarii-model","targetModels":"","targetModelType":"","type":"model-count"},{"id":"first-prime-weapon-upgrade","name":"First Prime Weapon Upgrade","description":"The First Prime can replace their Volkite Charger with a Laspistol and Charnabal Tabar.","maxCount":1,"options":[{"id":"first-prime-charnabal-laspistol-option","name":"Charnabal Tabar and Laspistol","description":"Replace Volkite Charger with Charnabal Tabar and Laspistol","points":0,"weaponReplacements":[{"replaceWeapon":"volkite-charger","addWeapon":"charnabal-tabar"},{"replaceWeapon":"volkite-charger","addWeapon":"laspistol"}]}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"first-prime-model","type":"weapon"},{"id":"first-prime-tabar-upgrade","name":"First Prime Tabar Upgrade","description":"The First Prime can replace their Charnabal Tabar with different melee weapons.","maxCount":1,"options":[{"id":"first-prime-thunder-hammer-option","name":"Thunder Hammer","description":"Replace Charnabal Tabar with a Thunder Hammer","points":10,"weaponReplacements":[{"replaceWeapon":"charnabal-tabar","addWeapon":"thunder-hammer"}]},{"id":"first-prime-power-sword-option","name":"Power Sword","description":"Replace Charnabal Tabar with a Power Sword","points":5,"weaponReplacements":[{"replaceWeapon":"charnabal-tabar","addWeapon":"power-sword"}]},{"id":"first-prime-power-fist-option","name":"Power Fist","description":"Replace Charnabal Tabar with a Power Fist","points":10,"weaponReplacements":[{"replaceWeapon":"charnabal-tabar","addWeapon":"power-fist"}]}],"points":null,"requiresUpgrade":"first-prime-weapon-upgrade","targetModel":"","targetModels":"","targetModelType":"first-prime-model","type":"weapon"},{"id":"first-prime-pistol-upgrade","name":"First Prime Pistol Upgrade","description":"The First Prime can replace their Laspistol with different pistol weapons.","maxCount":1,"options":[{"id":"first-prime-blast-pistol-option","name":"Blast Pistol","description":"Replace Laspistol with a Blast Pistol","points":3,"replaceWeapon":"laspistol","addWeapon":"blast-pistol"},{"id":"first-prime-needle-pistol-option","name":"Needle Pistol","description":"Replace Laspistol with a Needle Pistol","points":5,"replaceWeapon":"laspistol","addWeapon":"needle-pistol"},{"id":"first-prime-volkite-serpenta-option","name":"Volkite Serpenta","description":"Replace Laspistol with a Volkite Serpenta","points":5,"replaceWeapon":"laspistol","addWeapon":"volkite-serpenta"},{"id":"first-prime-hand-flamer-option","name":"Hand Flamer","description":"Replace Laspistol with a Hand Flamer","points":5,"replaceWeapon":"laspistol","addWeapon":"hand-flamer"},{"id":"first-prime-plasma-pistol-option","name":"Plasma Pistol","description":"Replace Laspistol with a Plasma Pistol","points":5,"replaceWeapon":"laspistol","addWeapon":"plasma-pistol"}],"points":null,"requiresUpgrade":"first-prime-weapon-upgrade","targetModel":"","targetModels":"","targetModelType":"first-prime-model","type":"weapon"},{"id":"veletarii-weapon-upgrade","name":"Veletarii Weapon Upgrade","description":"Veletarii can replace their Volkite Charger with a Storm Axe.","maxCount":"dependent","options":[{"id":"veletarii-storm-axe-option","name":"Storm Axe","description":"Replace Volkite Charger with a Storm Axe","points":3,"replaceWeapon":"volkite-charger","addWeapon":"storm-axe"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"veletarii-model","type":"weapon"},{"id":"veletarii-command-vox-upgrade","name":"Veletarii Command Vox Upgrade","description":"One Veletarii in the unit may have a Command Vox for enhanced communications.","maxCount":1,"options":[{"id":"veletarii-command-vox-option","name":"Command Vox","description":"Add a Command Vox to one Veletarii","points":10,"addWargear":"command-vox"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"veletarii-model","type":"wargear"},{"id":"veletarii-augury-scanner-upgrade","name":"Veletarii Augury Scanner Upgrade","description":"One Veletarii in the unit may have an Augury Scanner for enhanced detection.","maxCount":1,"options":[{"id":"veletarii-augury-scanner-option","name":"Augury Scanner","description":"Add an Augury Scanner to one Veletarii","points":10,"addWargear":"augury-scanner"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"veletarii-model","type":"wargear"},{"id":"veletarii-vexilla-upgrade","name":"Veletarii Vexilla Upgrade","description":"One Veletarii in the unit may carry an Auxilia Vexilla banner.","maxCount":1,"options":[{"id":"veletarii-auxilia-vexilla-option","name":"Auxilia Vexilla","description":"Add an Auxilia Vexilla to one Veletarii","points":5,"addWargear":"auxilia-vexilla"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"veletarii-model","type":"wargear"},{"id":"additional-hermes-pathfinders-upgrade","name":"Additional Hermes Pathfinders","description":"The unit can include up to 4 additional Hermes Pathfinders.","maxCount":4,"options":[{"id":"additional-hermes-pathfinders-option","name":"Additional Hermes Pathfinder","description":"Add one Hermes Pathfinder to the unit","points":18}],"points":18,"requiresUpgrade":"","targetModel":"hermes-pathfinder-model","targetModels":"","targetModelType":"","type":"model-count"},{"id":"hermes-weapon-upgrade","name":"Hermes Weapon Upgrade","description":"Any model in the unit can replace their Multi-laser with different weapon options.","maxCount":"dependent","options":[{"id":"hermes-volkite-caliver-option","name":"Volkite Caliver","description":"Replace Multi-laser with a Volkite Caliver","points":0,"replaceWeapon":"multi-laser","addWeapon":"volkite-caliver"},{"id":"hermes-heavy-flamer-option","name":"Heavy Flamer","description":"Replace Multi-laser with a Heavy Flamer","points":3,"replaceWeapon":"multi-laser","addWeapon":"heavy-flamer"},{"id":"hermes-grenade-launcher-option","name":"Hermes Grenade Launcher","description":"Replace Multi-laser with a Hermes Grenade Launcher","points":5,"replaceWeapon":"multi-laser","addWeapon":"hermes-grenade-launcher"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"hermes-lead-model","type":"weapon"},{"id":"hermes-pathfinder-weapon-upgrade","name":"Hermes Pathfinder Weapon Upgrade","description":"Any Hermes Pathfinder in the unit can replace their Multi-laser with different weapon options.","maxCount":"dependent","options":[{"id":"hermes-pathfinder-volkite-caliver-option","name":"Volkite Caliver","description":"Replace Multi-laser with a Volkite Caliver","points":0,"replaceWeapon":"multi-laser","addWeapon":"volkite-caliver"},{"id":"hermes-pathfinder-heavy-flamer-option","name":"Heavy Flamer","description":"Replace Multi-laser with a Heavy Flamer","points":3,"replaceWeapon":"multi-laser","addWeapon":"heavy-flamer"},{"id":"hermes-pathfinder-grenade-launcher-option","name":"Hermes Grenade Launcher","description":"Replace Multi-laser with a Hermes Grenade Launcher","points":5,"replaceWeapon":"multi-laser","addWeapon":"hermes-grenade-launcher"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"hermes-pathfinder-model","type":"weapon"},{"id":"ordnance-master-weapon-upgrade","name":"Ordnance Master Weapon Upgrade","description":"The Ordnance Master can replace their Lasrifle with a Laspistol and Charnabal Sabre.","maxCount":1,"options":[{"id":"ordnance-master-charnabal-laspistol-option","name":"Charnabal Sabre and Laspistol","description":"Replace Lasrifle with Charnabal Sabre and Laspistol","points":0,"weaponReplacements":[{"replaceWeapon":"lasrifle","addWeapon":"charnabal-sabre"},{"replaceWeapon":"lasrifle","addWeapon":"laspistol"}]}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"ordnance-master-model","type":"weapon"},{"id":"ordnance-master-pistol-upgrade","name":"Ordnance Master Pistol Upgrade","description":"The Ordnance Master can replace their Laspistol with different pistol weapons.","maxCount":1,"options":[{"id":"ordnance-master-blast-pistol-option","name":"Blast Pistol","description":"Replace Laspistol with a Blast Pistol","points":3,"replaceWeapon":"laspistol","addWeapon":"blast-pistol"},{"id":"ordnance-master-needle-pistol-option","name":"Needle Pistol","description":"Replace Laspistol with a Needle Pistol","points":5,"replaceWeapon":"laspistol","addWeapon":"needle-pistol"},{"id":"ordnance-master-volkite-serpenta-option","name":"Volkite Serpenta","description":"Replace Laspistol with a Volkite Serpenta","points":5,"replaceWeapon":"laspistol","addWeapon":"volkite-serpenta"},{"id":"ordnance-master-hand-flamer-option","name":"Hand Flamer","description":"Replace Laspistol with a Hand Flamer","points":5,"replaceWeapon":"laspistol","addWeapon":"hand-flamer"},{"id":"ordnance-master-plasma-pistol-option","name":"Plasma Pistol","description":"Replace Laspistol with a Plasma Pistol","points":5,"replaceWeapon":"laspistol","addWeapon":"plasma-pistol"}],"points":null,"requiresUpgrade":"ordnance-master-weapon-upgrade","targetModel":"","targetModels":"","targetModelType":"ordnance-master-model","type":"weapon"},{"id":"ordnance-master-bayonet-upgrade","name":"Ordnance Master Bayonet Upgrade","description":"The Ordnance Master can add a Bayonet to their Lasrifle.","maxCount":1,"options":[{"id":"ordnance-master-bayonet-option","name":"Bayonet","description":"Add a Bayonet to the Lasrifle","points":1,"addWeapon":"bayonet"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"ordnance-master-model","type":"weapon"},{"id":"ordnance-master-blast-charger-upgrade","name":"Ordnance Master Blast Charger Upgrade","description":"The Ordnance Master can add a Blast Charger to their Lasrifle.","maxCount":1,"options":[{"id":"ordnance-master-blast-charger-option","name":"Blast Charger","description":"Add a Blast Charger to the Lasrifle","points":1,"addWeapon":"blast-charger"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"ordnance-master-model","type":"weapon"},{"id":"veteran-wargear-options","name":"Veteran Wargear Options","description":"Veterans can have various wargear options.","maxCount":1,"options":[{"id":"veteran-command-vox-option","name":"Command Vox","description":"Add a Command Vox to one Veteran","points":10,"addWargear":"command-vox"},{"id":"veteran-augury-scanner-option","name":"Augury Scanner","description":"Add an Augury Scanner to one Veteran","points":10,"addWargear":"augury-scanner"},{"id":"veteran-auxilia-vexilla-option","name":"Auxilia Vexilla","description":"Add an Auxilia Vexilla to one Veteran","points":5,"addWargear":"auxilia-vexilla"},{"id":"veteran-melta-bomb-option","name":"Melta Bomb","description":"Add a Melta Bomb to one Veteran","points":10,"addWargear":"melta-bomb"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"veteran-model","type":"wargear"},{"id":"veteran-weapon-additions","name":"Veteran Weapon Additions","description":"Veterans with Lasrifles can add bayonet and blast charger options.","maxCount":1,"options":[{"id":"veteran-bayonet-option","name":"Bayonet","description":"Add a Bayonet to the Lasrifle","points":1,"addWeapon":"bayonet"},{"id":"veteran-blast-charger-option","name":"Blast Charger","description":"Add a Blast Charger to the Lasrifle","points":1,"addWeapon":"blast-charger"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"veteran-model","type":"weapon"},{"id":"artillery-veteran-command-vox-upgrade","name":"Artillery Veteran Command Vox Upgrade","description":"One Veteran in the unit may have a Command Vox for enhanced communications.","maxCount":1,"options":[{"id":"artillery-veteran-command-vox-option","name":"Command Vox","description":"Add a Command Vox to one Veteran","points":10,"addWargear":"command-vox"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"veteran-model","type":"wargear"},{"id":"artillery-veteran-augury-scanner-upgrade","name":"Artillery Veteran Augury Scanner Upgrade","description":"One Veteran in the unit may have an Augury Scanner for enhanced detection.","maxCount":1,"options":[{"id":"artillery-veteran-augury-scanner-option","name":"Augury Scanner","description":"Add an Augury Scanner to one Veteran","points":10,"addWargear":"augury-scanner"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"veteran-model","type":"wargear"},{"id":"artillery-veteran-auxilia-vexilla-upgrade","name":"Artillery Veteran Auxilia Vexilla Upgrade","description":"One Veteran in the unit may carry an Auxilia Vexilla banner.","maxCount":1,"options":[{"id":"artillery-veteran-auxilia-vexilla-option","name":"Auxilia Vexilla","description":"Add an Auxilia Vexilla to one Veteran","points":5,"addWargear":"auxilia-vexilla"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"veteran-model","type":"wargear"},{"id":"artillery-veteran-melta-bomb-upgrade","name":"Artillery Veteran Melta Bomb Upgrade","description":"One Veteran in the unit may have a Melta Bomb.","maxCount":1,"options":[{"id":"artillery-veteran-melta-bomb-option","name":"Melta Bomb","description":"Add a Melta Bomb to one Veteran","points":10,"addWargear":"melta-bomb"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"veteran-model","type":"wargear"},{"id":"artillery-veteran-bayonet-upgrade","name":"Artillery Veteran Bayonet Upgrade","description":"Any Veteran with a Lasrifle can add a Bayonet.","maxCount":"dependent","options":[{"id":"artillery-veteran-bayonet-option","name":"Bayonet","description":"Add a Bayonet to the Lasrifle","points":1,"addWeapon":"bayonet"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"veteran-model","type":"weapon"},{"id":"artillery-veteran-blast-charger-upgrade","name":"Artillery Veteran Blast Charger Upgrade","description":"Any Veteran with a Lasrifle can add a Blast Charger.","maxCount":"dependent","options":[{"id":"artillery-veteran-blast-charger-option","name":"Blast Charger","description":"Add a Blast Charger to the Lasrifle","points":1,"addWeapon":"blast-charger"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"veteran-model","type":"weapon"},{"id":"additional-artillery-veterans-upgrade","name":"Additional Artillery Veterans","description":"The unit can include up to 5 additional Veterans.","maxCount":5,"options":[{"id":"additional-artillery-veterans-option","name":"Additional Artillery Veteran","description":"Add one Veteran to the unit","points":7}],"points":7,"requiresUpgrade":"","targetModel":"veteran-model","targetModels":"","targetModelType":"","type":"model-count"},{"id":"command-tank-turret-weapon-upgrade","name":"Command Tank Turret Weapon Upgrade","description":"Replace the Battlecannon with different turret-mounted weapon options","maxCount":"dependent","options":[{"id":"gravis-autocannon-option","name":"Gravis Autocannon","description":"Replace Battlecannon with a Gravis Autocannon","points":0,"weaponReplacements":[{"replaceWeapon":"battlecannon","addWeapon":{"id":"gravis-autocannon","mount":"Turret Mounted"}}]},{"id":"twin-lascannon-option","name":"Twin Lascannon","description":"Replace Battlecannon with a Twin Lascannon","points":0,"weaponReplacements":[{"replaceWeapon":"battlecannon","addWeapon":{"id":"twin-lascannon","mount":"Turret Mounted"}}]},{"id":"vanquisher-cannon-option","name":"Vanquisher Cannon + Coaxial Heavy Stubber","description":"Replace Battlecannon with a Vanquisher Cannon and add a Coaxial Heavy Stubber","points":10,"weaponReplacements":[{"replaceWeapon":"battlecannon","addWeapon":"vanquisher-cannon"},{"replaceWeapon":"heavy-bolter","addWeapon":"heavy-stubber"}]},{"id":"demolisher-cannon-option","name":"Demolisher Cannon","description":"Replace Battlecannon with a Demolisher Cannon","points":30,"weaponReplacements":[{"replaceWeapon":"battlecannon","addWeapon":"demolisher-cannon"}]},{"id":"executioner-plasma-destroyer-option","name":"Executioner Plasma Destroyer","description":"Replace Battlecannon with an Executioner Plasma Destroyer","points":25,"weaponReplacements":[{"replaceWeapon":"battlecannon","addWeapon":"executioner-plasma-destroyer"}]},{"id":"volkite-macro-saker-option","name":"Volkite Macro-Saker","description":"Replace Battlecannon with a Volkite Macro-Saker","points":0,"weaponReplacements":[{"replaceWeapon":"battlecannon","addWeapon":"volkite-macro-saker"}]}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"command-tank-model","type":"weapon"},{"id":"command-tank-hull-weapon-upgrade","name":"Command Tank Hull Weapon Upgrade","description":"Replace the Heavy Bolter with different hull-mounted weapon options","maxCount":"dependent","options":[{"id":"heavy-flamer-hull-option","name":"Heavy Flamer","description":"Replace Heavy Bolter with a Heavy Flamer","points":0,"weaponReplacements":[{"replaceWeapon":"heavy-bolter","addWeapon":{"id":"heavy-flamer","mount":"Hull (Front) Mounted"}}]},{"id":"multi-laser-hull-option","name":"Multi-Laser","description":"Replace Heavy Bolter with a Multi-Laser","points":0,"weaponReplacements":[{"replaceWeapon":"heavy-bolter","addWeapon":"multi-laser"}]},{"id":"autocannon-hull-option","name":"Autocannon","description":"Replace Heavy Bolter with an Autocannon","points":5,"weaponReplacements":[{"replaceWeapon":"heavy-bolter","addWeapon":"autocannon"}]},{"id":"lascannon-hull-option","name":"Lascannon","description":"Replace Heavy Bolter with a Lascannon","points":10,"weaponReplacements":[{"replaceWeapon":"heavy-bolter","addWeapon":"lascannon"}]}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"command-tank-model","type":"weapon"},{"id":"command-tank-pintle-weapon-upgrade","name":"Command Tank Pintle Weapon Upgrade","description":"Add pintle-mounted weapons to the vehicle","maxCount":1,"options":[{"id":"pintle-heavy-stubber-option","name":"Pintle Heavy Stubber","description":"Add a pintle-mounted Heavy Stubber","points":5,"addWeapon":"heavy-stubber"},{"id":"pintle-heavy-flamer-option","name":"Pintle Heavy Flamer","description":"Add a pintle-mounted Heavy Flamer","points":10,"addWeapon":"heavy-flamer"},{"id":"pintle-multi-laser-option","name":"Pintle Multi-Laser","description":"Add a pintle-mounted Multi-Laser","points":10,"addWeapon":"multi-laser"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"command-tank-model","type":"weapon"},{"id":"command-tank-hunter-killer-missile-upgrade","name":"Command Tank Hunter-Killer Missile Upgrade","description":"Add a Hunter-Killer Missile to the vehicle","maxCount":1,"options":[{"id":"hunter-killer-missile-option","name":"Hunter-Killer Missile","description":"Add a turret-mounted Hunter-Killer Missile","points":5,"addWeapon":"hunter-killer-missile"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"command-tank-model","type":"weapon"},{"id":"command-tank-wargear-upgrade","name":"Command Tank Wargear Upgrade","description":"Add various wargear options to the vehicle","maxCount":1,"options":[{"id":"searchlight-option","name":"Searchlight","description":"Add a Searchlight to the vehicle","points":5,"addWargear":"searchlight"},{"id":"dozer-blade-option","name":"Dozer Blade","description":"Add a Dozer Blade to the vehicle","points":5,"addWargear":"dozer-blade"},{"id":"flare-shield-option","name":"Flare Shield","description":"Add a Flare Shield to the vehicle","points":5,"addWargear":"flare-shield"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"command-tank-model","type":"wargear"},{"id":"additional-veletaris-storm-veletarii-upgrade","name":"Additional Veletaris Storm Veletarii","description":"The unit can include up to 10 more Veletarii.","maxCount":10,"options":[{"id":"additional-veletaris-storm-veletarii-option","name":"Additional Veletarii","description":"Add one Veletarii to the unit","points":8}],"points":8,"requiresUpgrade":"","targetModel":"veletarii-model","targetModels":"","targetModelType":"","type":"model-count"},{"id":"veletarii-prime-weapon-upgrade","name":"Veletarii Prime Weapon Upgrade","description":"The Veletarii Prime can replace their Volkite Charger with a Laspistol and Charnabal Tabar.","maxCount":1,"options":[{"id":"veletarii-prime-charnabal-laspistol-option","name":"Charnabal Tabar and Laspistol","description":"Replace Volkite Charger with Charnabal Tabar and Laspistol","points":0,"weaponReplacements":[{"replaceWeapon":"volkite-charger","addWeapon":"charnabal-tabar"},{"replaceWeapon":"volkite-charger","addWeapon":"laspistol"}]}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"veletarii-prime-model","type":"weapon"},{"id":"veletarii-prime-tabar-upgrade","name":"Veletarii Prime Tabar Upgrade","description":"The Veletarii Prime can replace their Charnabal Tabar with different melee weapons.","maxCount":1,"options":[{"id":"veletarii-prime-power-sword-option","name":"Power Sword","description":"Replace Charnabal Tabar with a Power Sword","points":5,"weaponReplacements":[{"replaceWeapon":"charnabal-tabar","addWeapon":"power-sword"}]},{"id":"veletarii-prime-power-fist-option","name":"Power Fist","description":"Replace Charnabal Tabar with a Power Fist","points":10,"weaponReplacements":[{"replaceWeapon":"charnabal-tabar","addWeapon":"power-fist"}]}],"points":null,"requiresUpgrade":"veletarii-prime-weapon-upgrade","targetModel":"","targetModels":"","targetModelType":"veletarii-prime-model","type":"weapon"},{"id":"veletarii-prime-pistol-upgrade","name":"Veletarii Prime Pistol Upgrade","description":"The Veletarii Prime can replace their Laspistol with different pistol weapons.","maxCount":1,"options":[{"id":"veletarii-prime-blast-pistol-option","name":"Blast Pistol","description":"Replace Laspistol with a Blast Pistol","points":3,"replaceWeapon":"laspistol","addWeapon":"blast-pistol"},{"id":"veletarii-prime-needle-pistol-option","name":"Needle Pistol","description":"Replace Laspistol with a Needle Pistol","points":5,"replaceWeapon":"laspistol","addWeapon":"needle-pistol"},{"id":"veletarii-prime-volkite-serpenta-option","name":"Volkite Serpenta","description":"Replace Laspistol with a Volkite Serpenta","points":5,"replaceWeapon":"laspistol","addWeapon":"volkite-serpenta"},{"id":"veletarii-prime-hand-flamer-option","name":"Hand Flamer","description":"Replace Laspistol with a Hand Flamer","points":5,"replaceWeapon":"laspistol","addWeapon":"hand-flamer"},{"id":"veletarii-prime-plasma-pistol-option","name":"Plasma Pistol","description":"Replace Laspistol with a Plasma Pistol","points":5,"replaceWeapon":"laspistol","addWeapon":"plasma-pistol"}],"points":null,"requiresUpgrade":"veletarii-prime-weapon-upgrade","targetModel":"","targetModels":"","targetModelType":"veletarii-prime-model","type":"weapon"},{"id":"veletaris-storm-vox-upgrade","name":"Veletaris Storm Vox Upgrade","description":"One Veletarii in the unit may have a Vox Interlock for enhanced communications.","maxCount":1,"options":[{"id":"veletaris-storm-vox-option","name":"Vox Interlock","description":"Add a Vox Interlock to one Veletarii","points":5,"addWargear":"vox-interlock"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"veletarii-model","type":"wargear"},{"id":"veletaris-storm-vexilla-upgrade","name":"Veletaris Storm Vexilla Upgrade","description":"One Veletarii in the unit may carry an Auxilia Vexilla banner.","maxCount":1,"options":[{"id":"veletaris-storm-auxilia-vexilla-option","name":"Auxilia Vexilla","description":"Add an Auxilia Vexilla to one Veletarii","points":5,"addWargear":"auxilia-vexilla"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"veletarii-model","type":"wargear"},{"id":"additional-veletaris-vanguard-veletarii-upgrade","name":"Additional Veletaris Vanguard Veletarii","description":"The unit can include up to 10 more Veletarii.","maxCount":10,"options":[{"id":"additional-veletaris-vanguard-veletarii-option","name":"Additional Veletarii","description":"Add one Veletarii to the unit","points":9}],"points":9,"requiresUpgrade":"","targetModel":"veletarii-vanguard-model","targetModels":"","targetModelType":"","type":"model-count"},{"id":"veletarii-vanguard-prime-weapon-upgrade","name":"Veletarii Vanguard Prime Weapon Upgrade","description":"The Veletarii Vanguard Prime can replace their Heavy Flamer with a Laspistol and Charnabal Tabar.","maxCount":1,"options":[{"id":"veletarii-vanguard-prime-charnabal-laspistol-option","name":"Charnabal Tabar and Laspistol","description":"Replace Heavy Flamer with Charnabal Tabar and Laspistol","points":0,"weaponReplacements":[{"replaceWeapon":"heavy-flamer","addWeapon":"charnabal-tabar"},{"replaceWeapon":"heavy-flamer","addWeapon":"laspistol"}]}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"veletarii-vanguard-prime-model","type":"weapon"},{"id":"veletarii-vanguard-prime-tabar-upgrade","name":"Veletarii Vanguard Prime Tabar Upgrade","description":"The Veletarii Vanguard Prime can replace their Charnabal Tabar with different melee weapons.","maxCount":1,"options":[{"id":"veletarii-vanguard-prime-power-sword-option","name":"Power Sword","description":"Replace Charnabal Tabar with a Power Sword","points":5,"weaponReplacements":[{"replaceWeapon":"charnabal-tabar","addWeapon":"power-sword"}]},{"id":"veletarii-vanguard-prime-power-fist-option","name":"Power Fist","description":"Replace Charnabal Tabar with a Power Fist","points":10,"weaponReplacements":[{"replaceWeapon":"charnabal-tabar","addWeapon":"power-fist"}]}],"points":null,"requiresUpgrade":"veletarii-vanguard-prime-weapon-upgrade","targetModel":"","targetModels":"","targetModelType":"veletarii-vanguard-prime-model","type":"weapon"},{"id":"veletarii-vanguard-prime-pistol-upgrade","name":"Veletarii Vanguard Prime Pistol Upgrade","description":"The Veletarii Vanguard Prime can replace their Laspistol with different pistol weapons.","maxCount":1,"options":[{"id":"veletarii-vanguard-prime-blast-pistol-option","name":"Blast Pistol","description":"Replace Laspistol with a Blast Pistol","points":3,"replaceWeapon":"laspistol","addWeapon":"blast-pistol"},{"id":"veletarii-vanguard-prime-needle-pistol-option","name":"Needle Pistol","description":"Replace Laspistol with a Needle Pistol","points":5,"replaceWeapon":"laspistol","addWeapon":"needle-pistol"},{"id":"veletarii-vanguard-prime-volkite-serpenta-option","name":"Volkite Serpenta","description":"Replace Laspistol with a Volkite Serpenta","points":5,"replaceWeapon":"laspistol","addWeapon":"volkite-serpenta"},{"id":"veletarii-vanguard-prime-hand-flamer-option","name":"Hand Flamer","description":"Replace Laspistol with a Hand Flamer","points":5,"replaceWeapon":"laspistol","addWeapon":"hand-flamer"},{"id":"veletarii-vanguard-prime-plasma-pistol-option","name":"Plasma Pistol","description":"Replace Laspistol with a Plasma Pistol","points":5,"replaceWeapon":"laspistol","addWeapon":"plasma-pistol"}],"points":null,"requiresUpgrade":"veletarii-vanguard-prime-weapon-upgrade","targetModel":"","targetModels":"","targetModelType":"veletarii-vanguard-prime-model","type":"weapon"},{"id":"veletaris-vanguard-vox-upgrade","name":"Veletaris Vanguard Vox Upgrade","description":"One Veletarii in the unit may have a Vox Interlock for enhanced communications.","maxCount":1,"options":[{"id":"veletaris-vanguard-vox-option","name":"Vox Interlock","description":"Add a Vox Interlock to one Veletarii","points":5,"addWargear":"vox-interlock"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"veletarii-vanguard-model","type":"wargear"},{"id":"veletaris-vanguard-vexilla-upgrade","name":"Veletaris Vanguard Vexilla Upgrade","description":"One Veletarii in the unit may carry an Auxilia Vexilla banner.","maxCount":1,"options":[{"id":"veletaris-vanguard-auxilia-vexilla-option","name":"Auxilia Vexilla","description":"Add an Auxilia Vexilla to one Veletarii","points":5,"addWargear":"auxilia-vexilla"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"veletarii-vanguard-model","type":"wargear"},{"id":"additional-charonite-ogryn-upgrade","name":"Additional Charonite Ogryn","description":"The unit can include up to 6 more Charonite Ogryns.","maxCount":6,"options":[{"id":"additional-charonite-ogryn-option","name":"Additional Charonite Ogryn","description":"Add one Charonite Ogryn to the unit","points":40}],"points":40,"requiresUpgrade":"","targetModel":"charonite-ogryn-model","targetModels":"","targetModelType":"","type":"model-count"},{"id":"additional-auxiliaries-upgrade","name":"Additional Auxiliaries","description":"The unit can include up to 10 more Auxiliaries.","maxCount":10,"options":[{"id":"additional-auxiliaries-option","name":"Additional Auxiliary","description":"Add one Auxiliary to the unit","points":4}],"points":4,"requiresUpgrade":"","targetModel":"auxiliary-model","targetModels":"","targetModelType":"","type":"model-count"},{"id":"auxilia-sergeant-weapon-upgrade","name":"Auxilia Sergeant Weapon Upgrade","description":"The Auxilia Sergeant can replace their Lasrifle with a Laspistol and Charnabal Sabre.","maxCount":1,"options":[{"id":"auxilia-sergeant-charnabal-laspistol-option","name":"Charnabal Sabre and Laspistol","description":"Replace Lasrifle with Charnabal Sabre and Laspistol","points":0,"weaponReplacements":[{"replaceWeapon":"lasrifle","addWeapon":"charnabal-sabre"},{"replaceWeapon":"lasrifle","addWeapon":"laspistol"}]}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"auxilia-sergeant-model","type":"weapon"},{"id":"auxilia-sergeant-pistol-upgrade","name":"Auxilia Sergeant Pistol Upgrade","description":"The Auxilia Sergeant can replace their Lasrifle with a different pistol weapon.","maxCount":1,"options":[{"id":"auxilia-sergeant-blast-pistol-option","name":"Blast Pistol","description":"Replace Lasrifle with a Blast Pistol","points":3,"replaceWeapon":"lasrifle","addWeapon":"blast-pistol"},{"id":"auxilia-sergeant-needle-pistol-option","name":"Needle Pistol","description":"Replace Lasrifle with a Needle Pistol","points":5,"replaceWeapon":"lasrifle","addWeapon":"needle-pistol"},{"id":"auxilia-sergeant-volkite-serpenta-option","name":"Volkite Serpenta","description":"Replace Lasrifle with a Volkite Serpenta","points":5,"replaceWeapon":"lasrifle","addWeapon":"volkite-serpenta"},{"id":"auxilia-sergeant-hand-flamer-option","name":"Hand Flamer","description":"Replace Lasrifle with a Hand Flamer","points":5,"replaceWeapon":"lasrifle","addWeapon":"hand-flamer"},{"id":"auxilia-sergeant-plasma-pistol-option","name":"Plasma Pistol","description":"Replace Lasrifle with a Plasma Pistol","points":5,"replaceWeapon":"lasrifle","addWeapon":"plasma-pistol"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"auxilia-sergeant-model","type":"weapon"},{"id":"auxilia-sergeant-bayonet-upgrade","name":"Auxilia Sergeant Bayonet Upgrade","description":"The Auxilia Sergeant can add a bayonet for close combat.","maxCount":1,"options":[{"id":"auxilia-sergeant-bayonet-option","name":"Bayonet","description":"Add a bayonet to the Auxilia Sergeant","points":1,"addWeapon":"bayonet"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"auxilia-sergeant-model","type":"weapon"},{"id":"auxilia-sergeant-blast-charger-upgrade","name":"Auxilia Sergeant Blast Charger Upgrade","description":"The Auxilia Sergeant can add a blast charger for enhanced firepower.","maxCount":1,"options":[{"id":"auxilia-sergeant-blast-charger-option","name":"Blast Charger","description":"Add a blast charger to the Auxilia Sergeant","points":1,"addWeapon":"blast-charger"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"auxilia-sergeant-model","type":"weapon"},{"id":"auxilia-sergeant-melta-bomb-upgrade","name":"Auxilia Sergeant Melta Bomb Upgrade","description":"The Auxilia Sergeant can carry a melta bomb for anti-armor capability.","maxCount":1,"options":[{"id":"auxilia-sergeant-melta-bomb-option","name":"Melta Bomb","description":"Add a melta bomb to the Auxilia Sergeant","points":10,"addWeapon":"melta-bomb"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"auxilia-sergeant-model","type":"weapon"},{"id":"auxiliary-bayonet-upgrade","name":"Auxiliary Bayonet Upgrade","description":"Any Auxiliary with a Lasrifle can add a bayonet for close combat.","maxCount":"dependent","options":[{"id":"auxiliary-bayonet-option","name":"Bayonet","description":"Add a bayonet to an Auxiliary","points":1,"addWeapon":"bayonet"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"auxiliary-model","type":"weapon"},{"id":"auxiliary-blast-charger-upgrade","name":"Auxiliary Blast Charger Upgrade","description":"Any Auxiliary with a Lasrifle can add a blast charger for enhanced firepower.","maxCount":"dependent","options":[{"id":"auxiliary-blast-charger-option","name":"Blast Charger","description":"Add a blast charger to an Auxiliary","points":1,"addWeapon":"blast-charger"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"auxiliary-model","type":"weapon"},{"id":"auxiliary-vox-upgrade","name":"Auxiliary Vox Upgrade","description":"One Auxiliary in the unit may have a Vox Interlock for enhanced communications.","maxCount":1,"options":[{"id":"auxiliary-vox-option","name":"Vox Interlock","description":"Add a Vox Interlock to one Auxiliary","points":5,"addWargear":"vox-interlock"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"auxiliary-model","type":"wargear"},{"id":"auxiliary-vexilla-upgrade","name":"Auxiliary Vexilla Upgrade","description":"One Auxiliary in the unit may carry an Auxilia Vexilla banner.","maxCount":1,"options":[{"id":"auxiliary-vexilla-option","name":"Auxilia Vexilla","description":"Add an Auxilia Vexilla to one Auxiliary","points":5,"addWargear":"auxilia-vexilla"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"auxiliary-model","type":"wargear"},{"id":"additional-hermes-veletaris-sentinels-upgrade","name":"Additional Hermes Veletaris Sentinels","description":"The unit can include up to 4 additional Hermes Veletaris Sentinels.","maxCount":4,"options":[{"id":"additional-hermes-veletaris-sentinel-option","name":"Additional Hermes Veletaris Sentinel","description":"Add one Hermes Veletaris Sentinel to the unit","points":20}],"points":20,"requiresUpgrade":"","targetModel":"hermes-veletaris-sentinel-model","targetModels":"","targetModelType":"","type":"model-count"},{"id":"hermes-veletaris-sentinel-weapon-upgrade","name":"Hermes Veletaris Sentinel Weapon Upgrade","description":"Any Hermes Veletaris Sentinel can replace their Volkite Caliver with a Heavy Flamer.","maxCount":"dependent","options":[{"id":"hermes-veletaris-sentinel-heavy-flamer-option","name":"Heavy Flamer","description":"Replace Volkite Caliver with a Heavy Flamer","points":0,"replaceWeapon":"volkite-caliver","addWeapon":"heavy-flamer"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"hermes-veletaris-sentinel-model","type":"weapon"},{"id":"basilisk-pintle-weapon-upgrade","name":"Basilisk Pintle Weapon Upgrade","description":"Add pintle-mounted weapons to the vehicle","maxCount":1,"options":[{"id":"basilisk-pintle-heavy-stubber-option","name":"Pintle Heavy Stubber","description":"Add a pintle-mounted Heavy Stubber","points":5,"addWeapon":"heavy-stubber"},{"id":"basilisk-pintle-heavy-flamer-option","name":"Pintle Heavy Flamer","description":"Add a pintle-mounted Heavy Flamer","points":10,"addWeapon":"heavy-flamer"},{"id":"basilisk-pintle-multi-laser-option","name":"Pintle Multi-Laser","description":"Add a pintle-mounted Multi-Laser","points":10,"addWeapon":"multi-laser"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"basilisk-model","type":"weapon"},{"id":"basilisk-hunter-killer-missile-upgrade","name":"Basilisk Hunter-Killer Missile Upgrade","description":"Add a Hunter-Killer Missile to the vehicle","maxCount":1,"options":[{"id":"basilisk-hunter-killer-missile-option","name":"Hunter-Killer Missile","description":"Add a turret-mounted Hunter-Killer Missile","points":5,"addWeapon":"hunter-killer-missile"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"basilisk-model","type":"weapon"},{"id":"basilisk-dozer-blade-upgrade","name":"Basilisk Dozer Blade Upgrade","description":"Add a Dozer Blade to the vehicle","maxCount":1,"options":[{"id":"basilisk-dozer-blade-option","name":"Dozer Blade","description":"Add a Dozer Blade to the vehicle","points":5,"addWargear":"dozer-blade"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"basilisk-model","type":"wargear"},{"id":"basilisk-searchlight-upgrade","name":"Basilisk Searchlight Upgrade","description":"Add a Searchlight to the vehicle","maxCount":1,"options":[{"id":"basilisk-searchlight-option","name":"Searchlight","description":"Add a Searchlight to the vehicle","points":5,"addWargear":"searchlight"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"basilisk-model","type":"wargear"},{"id":"medusa-pintle-weapon-upgrade","name":"Medusa Pintle Weapon Upgrade","description":"Add pintle-mounted weapons to the vehicle","maxCount":1,"options":[{"id":"medusa-pintle-heavy-stubber-option","name":"Pintle Heavy Stubber","description":"Add a pintle-mounted Heavy Stubber","points":5,"addWeapon":"heavy-stubber"},{"id":"medusa-pintle-heavy-flamer-option","name":"Pintle Heavy Flamer","description":"Add a pintle-mounted Heavy Flamer","points":10,"addWeapon":"heavy-flamer"},{"id":"medusa-pintle-multi-laser-option","name":"Pintle Multi-Laser","description":"Add a pintle-mounted Multi-Laser","points":10,"addWeapon":"multi-laser"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"medusa-model","type":"weapon"},{"id":"medusa-hunter-killer-missile-upgrade","name":"Medusa Hunter-Killer Missile Upgrade","description":"Add a Hunter-Killer Missile to the vehicle","maxCount":1,"options":[{"id":"medusa-hunter-killer-missile-option","name":"Hunter-Killer Missile","description":"Add a turret-mounted Hunter-Killer Missile","points":5,"addWeapon":"hunter-killer-missile"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"medusa-model","type":"weapon"},{"id":"medusa-dozer-blade-upgrade","name":"Medusa Dozer Blade Upgrade","description":"Add a Dozer Blade to the vehicle","maxCount":1,"options":[{"id":"medusa-dozer-blade-option","name":"Dozer Blade","description":"Add a Dozer Blade to the vehicle","points":5,"addWargear":"dozer-blade"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"medusa-model","type":"wargear"},{"id":"medusa-searchlight-upgrade","name":"Medusa Searchlight Upgrade","description":"Add a Searchlight to the vehicle","maxCount":1,"options":[{"id":"medusa-searchlight-option","name":"Searchlight","description":"Add a Searchlight to the vehicle","points":5,"addWargear":"searchlight"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"medusa-model","type":"wargear"},{"id":"additional-rapier-crews-upgrade","name":"Additional Rapier Crews","description":"The unit can include up to 2 additional rapier crews (each crew consists of 1 Rapier Gunner and 1 Rapier Carrier).","maxCount":2,"options":[{"id":"additional-rapier-crew-option","name":"Additional Rapier Crew","description":"Add one Rapier Gunner and one Rapier Carrier to the unit","points":30}],"points":30,"requiresUpgrade":"","targetModel":"","targetModels":{"rapier-gunner-model":1,"rapier-carrier-model":1},"targetModelType":"","type":"model-group-count"},{"id":"rapier-carrier-weapon-upgrade","name":"Rapier Carrier Weapon Upgrade","description":"Any Rapier Carrier can replace their Gravis Multi-Laser Battery with different weapon options.","maxCount":"dependent","options":[{"id":"rapier-carrier-gravis-heavy-bolter-battery-option","name":"Gravis Heavy Bolter Battery","description":"Replace Gravis Multi-Laser Battery with a Gravis Heavy Bolter Battery","points":5,"replaceWeapon":"gravis-multi-laser-battery","addWeapon":"gravis-heavy-bolter-battery"},{"id":"rapier-carrier-laser-destroyer-option","name":"Laser Destroyer","description":"Replace Gravis Multi-Laser Battery with a Laser Destroyer","points":25,"replaceWeapon":"gravis-multi-laser-battery","addWeapon":"laser-destroyer"},{"id":"rapier-carrier-quad-launcher-option","name":"Quad Launcher","description":"Replace Gravis Multi-Laser Battery with a Quad Launcher","points":20,"replaceWeapon":"gravis-multi-laser-battery","addWeapon":"quad-launcher"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"rapier-carrier-model","type":"weapon"},{"id":"additional-aethon-heavy-sentinels-upgrade","name":"Additional Aethon Heavy Sentinels","description":"The unit can include up to 2 additional Aethon Heavy Sentinel models.","maxCount":2,"options":[{"id":"additional-aethon-heavy-sentinel-option","name":"Additional Aethon Heavy Sentinel","description":"Add one Aethon Heavy Sentinel to the unit","points":60}],"points":null,"requiresUpgrade":"","targetModel":"aethon-heavy-sentinel-model","targetModels":"","targetModelType":"","type":"model-count"},{"id":"aethon-heavy-sentinel-multi-laser-upgrade","name":"Aethon Heavy Sentinel Multi-Laser Upgrade","description":"Any Aethon Heavy Sentinel can replace their Multi-Laser with different weapon options.","maxCount":"dependent","options":[{"id":"aethon-heavy-sentinel-autocannon-option","name":"Autocannon","description":"Replace Multi-Laser with an Autocannon","points":10,"replaceWeapon":"multi-laser","addWeapon":"autocannon"},{"id":"aethon-heavy-sentinel-volkite-culverin-option","name":"Volkite Culverin","description":"Replace Multi-Laser with a Volkite Culverin","points":7,"replaceWeapon":"multi-laser","addWeapon":"volkite-culverin"},{"id":"aethon-heavy-sentinel-lascannon-option","name":"Lascannon","description":"Replace Multi-Laser with a Lascannon","points":15,"replaceWeapon":"multi-laser","addWeapon":"lascannon"},{"id":"aethon-heavy-sentinel-heavy-incinerator-option","name":"Heavy Incinerator","description":"Replace Multi-Laser with a Heavy Incinerator","points":10,"replaceWeapon":"multi-laser","addWeapon":"heavy-incinerator"},{"id":"aethon-heavy-sentinel-melta-lance-option","name":"Melta Lance","description":"Replace Multi-Laser with a Melta Lance","points":20,"replaceWeapon":"multi-laser","addWeapon":"melta-lance"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"aethon-heavy-sentinel-model","type":"weapon"},{"id":"aethon-heavy-sentinel-missile-battery-upgrade","name":"Aethon Heavy Sentinel Missile Battery Upgrade","description":"Any Aethon Heavy Sentinel can replace their Aethon Missile Battery with different weapon options.","maxCount":"dependent","options":[{"id":"aethon-heavy-sentinel-hunter-killer-missile-battery-option","name":"Hunter-Killer Missile Battery","description":"Replace Aethon Missile Battery with a Hunter-Killer Missile Battery","points":15,"replaceWeapon":"aethon-missile-battery","addWeapon":"hunter-killer-missile-battery"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"aethon-heavy-sentinel-model","type":"weapon"},{"id":"arvus-lighter-hull-weapon-upgrade","name":"Arvus Lighter Hull Weapon Upgrade","description":"The Arvus Lighter can be equipped with a Hull (Rear) mounted weapon.","maxCount":1,"options":[{"id":"arvus-lighter-multi-laser-option","name":"Multi-Laser","description":"Add a Hull (Rear) mounted Multi-Laser to the vehicle","points":10,"addWeapon":"multi-laser"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"arvus-lighter-model","type":"weapon"},{"id":"arvus-lighter-wargear-upgrade","name":"Arvus Lighter Wargear Upgrade","description":"The Arvus Lighter can be equipped with additional wargear options.","maxCount":1,"options":[{"id":"arvus-lighter-flare-launchers-option","name":"Flare Launchers","description":"Add Flare Launchers to the vehicle","points":5,"addWargear":"flare-launchers"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"arvus-lighter-model","type":"wargear"},{"id":"dracosan-hull-weapon-upgrade","name":"Dracosan Hull Weapon Upgrade","description":"The Dracosan can replace its Twin Lascannon with different hull-mounted weapons.","maxCount":1,"options":[{"id":"dracosan-demolisher-cannon-option","name":"Demolisher Cannon","description":"Replace Twin Lascannon with a Demolisher Cannon","points":35,"replaceWeapon":"twin-lascannon","addWeapon":"demolisher-cannon"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"dracosan-model","type":"weapon"},{"id":"dracosan-pintle-weapon-upgrade","name":"Dracosan Pintle Weapon Upgrade","description":"The Dracosan can be equipped with pintle-mounted weapons.","maxCount":1,"options":[{"id":"dracosan-heavy-stubber-option","name":"Heavy Stubber","description":"Add a Heavy Stubber to the vehicle","points":5,"addWeapon":"heavy-stubber"},{"id":"dracosan-heavy-flamer-option","name":"Heavy Flamer","description":"Add a Heavy Flamer to the vehicle","points":10,"addWeapon":"heavy-flamer"},{"id":"dracosan-multi-laser-option","name":"Multi-Laser","description":"Add a Multi-Laser to the vehicle","points":10,"addWeapon":"multi-laser"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"dracosan-model","type":"weapon"},{"id":"dracosan-hunter-killer-missile-upgrade","name":"Dracosan Hunter-Killer Missile Upgrade","description":"The Dracosan can be equipped with up to 2 Hull (Front) mounted Hunter-Killer Missiles.","maxCount":2,"options":[{"id":"dracosan-hunter-killer-missile-option","name":"Hunter-Killer Missile","description":"Add a Hull (Front) mounted Hunter-Killer Missile to the vehicle","points":5,"addWeapon":"hunter-killer-missile"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"dracosan-model","type":"weapon"},{"id":"dracosan-wargear-upgrade","name":"Dracosan Wargear Upgrade","description":"The Dracosan can be equipped with various wargear options.","maxCount":1,"options":[{"id":"dracosan-searchlight-option","name":"Searchlight","description":"Add a Searchlight to the vehicle","points":5,"addWargear":"searchlight"},{"id":"dracosan-dozer-blade-option","name":"Dozer Blade","description":"Add a Dozer Blade to the vehicle","points":5,"addWargear":"dozer-blade"},{"id":"dracosan-flare-shield-option","name":"Flare Shield","description":"Add a Flare Shield to the vehicle","points":20,"addWargear":"flare-shield"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"dracosan-model","type":"wargear"},{"id":"additional-hermes-light-sentinels-upgrade","name":"Additional Hermes Light Sentinels","description":"The unit can include up to 4 additional Hermes Light Sentinel models.","maxCount":4,"options":[{"id":"additional-hermes-light-sentinel-option","name":"Additional Hermes Light Sentinel","description":"Add one Hermes Light Sentinel to the unit","points":16}],"points":null,"requiresUpgrade":"","targetModel":"hermes-light-sentinel-model","targetModels":"","targetModelType":"","type":"model-count"},{"id":"hermes-light-sentinel-weapon-upgrade","name":"Hermes Light Sentinel Weapon Upgrade","description":"Any Hermes Light Sentinel can replace their Multi-Laser with different weapon options.","maxCount":"dependent","options":[{"id":"hermes-light-sentinel-grenade-launcher-option","name":"Hermes Grenade Launcher","description":"Replace Multi-Laser with a Hermes Grenade Launcher","points":5,"replaceWeapon":"multi-laser","addWeapon":"hermes-grenade-launcher"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"hermes-light-sentinel-model","type":"weapon"},{"id":"malcador-turret-weapon-upgrade","name":"Malcador Turret Weapon Upgrade","description":"The Malcador can replace its Battlecannon with different turret-mounted weapons.","maxCount":1,"options":[{"id":"malcador-twin-lascannon-option","name":"Twin Lascannon","description":"Replace Battlecannon with a Twin Lascannon","points":0,"replaceWeapon":"battlecannon","addWeapon":{"id":"twin-lascannon","mount":"Hull (Front) Mounted"}},{"id":"malcador-vanquisher-cannon-option","name":"Vanquisher Cannon","description":"Replace Battlecannon with a Vanquisher Cannon","points":10,"replaceWeapon":"battlecannon","addWeapon":{"id":"vanquisher-cannon","mount":"Hull (Front) Mounted"}}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"malcador-model","type":"weapon"},{"id":"malcador-hull-weapon-upgrade","name":"Malcador Hull Weapon Upgrade","description":"The Malcador can replace its Heavy Bolter with different hull-mounted weapons.","maxCount":1,"options":[{"id":"malcador-demolisher-cannon-option","name":"Demolisher Cannon","description":"Replace Heavy Bolter with a Demolisher Cannon","points":0,"replaceWeapon":"heavy-bolter","addWeapon":{"id":"demolisher-cannon","mount":"Hull (Front) Mounted"}},{"id":"malcador-autocannon-option","name":"Autocannon","description":"Replace Heavy Bolter with an Autocannon","points":0,"replaceWeapon":"heavy-bolter","addWeapon":{"id":"autocannon","mount":"Hull (Front) Mounted"}},{"id":"malcador-lascannon-option","name":"Lascannon","description":"Replace Heavy Bolter with a Lascannon","points":0,"replaceWeapon":"heavy-bolter","addWeapon":{"id":"lascannon","mount":"Hull (Front) Mounted"}},{"id":"malcador-heavy-flamer-option","name":"Heavy Flamer","description":"Replace Heavy Bolter with a Heavy Flamer","points":0,"replaceWeapon":"heavy-bolter","addWeapon":{"id":"heavy-flamer","mount":"Hull (Front) Mounted"}},{"id":"malcador-multi-laser-option","name":"Multi-Laser","description":"Replace Heavy Bolter with a Multi-Laser","points":0,"replaceWeapon":"heavy-bolter","addWeapon":{"id":"multi-laser","mount":"Hull (Front) Mounted"}}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"malcador-model","type":"weapon"},{"id":"malcador-pintle-weapon-upgrade","name":"Malcador Pintle Weapon Upgrade","description":"The Malcador can be equipped with pintle-mounted weapons.","maxCount":1,"options":[{"id":"malcador-heavy-stubber-option","name":"Heavy Stubber","description":"Add a Heavy Stubber to the vehicle","points":5,"addWeapon":{"id":"heavy-stubber","mount":"Pintle Mounted"}},{"id":"malcador-heavy-flamer-option","name":"Heavy Flamer","description":"Add a Heavy Flamer to the vehicle","points":10,"addWeapon":{"id":"heavy-flamer","mount":"Pintle Mounted"}},{"id":"malcador-multi-laser-option","name":"Multi-Laser","description":"Add a Multi-Laser to the vehicle","points":10,"addWeapon":{"id":"multi-laser","mount":"Pintle Mounted"}}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"malcador-model","type":"weapon"},{"id":"malcador-wargear-upgrade","name":"Malcador Wargear Upgrade","description":"The Malcador can be equipped with various wargear options.","maxCount":1,"options":[{"id":"malcador-hunter-killer-missile-option","name":"Hunter-Killer Missile","description":"Add a Hull (Front) mounted Hunter-Killer Missile to the vehicle","points":5,"addWeapon":{"id":"hunter-killer-missile","mount":"Hull (Front) Mounted"}},{"id":"malcador-searchlight-option","name":"Searchlight","description":"Add a Searchlight to the vehicle","points":5,"addWargear":"searchlight"},{"id":"malcador-dozer-blade-option","name":"Dozer Blade","description":"Add a Dozer Blade to the vehicle","points":5,"addWargear":"dozer-blade"},{"id":"malcador-flare-shield-option","name":"Flare Shield","description":"Add a Flare Shield to the vehicle","points":20,"addWargear":"flare-shield"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"malcador-model","type":"wargear"},{"id":"malcador-sponson-weapon-upgrade","name":"Malcador Sponson Weapon Upgrade","description":"The Malcador can replace its Sponson Multi-lasers with different sponson-mounted weapons.","maxCount":1,"options":[{"id":"malcador-sponson-heavy-bolter-option","name":"Heavy Bolter","description":"Replace Sponson Multi-lasers with Heavy Bolters","points":0,"replaceWeapon":"multi-laser","addWeapon":{"id":"heavy-bolter","mount":"Sponson Mounted","count":2}},{"id":"malcador-sponson-heavy-flamer-option","name":"Heavy Flamer","description":"Replace Sponson Multi-lasers with Heavy Flamers","points":0,"replaceWeapon":"multi-laser","addWeapon":{"id":"heavy-flamer","mount":"Sponson Mounted","count":2}},{"id":"malcador-sponson-autocannon-option","name":"Autocannon","description":"Replace Sponson Multi-lasers with Autocannons","points":10,"replaceWeapon":"multi-laser","addWeapon":{"id":"autocannon","mount":"Sponson Mounted","count":2}},{"id":"malcador-sponson-lascannon-option","name":"Lascannon","description":"Replace Sponson Multi-lasers with Lascannons","points":20,"replaceWeapon":"multi-laser","addWeapon":{"id":"lascannon","mount":"Sponson Mounted","count":2}}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"malcador-model","type":"weapon"},{"id":"leman-russ-assault-turret-weapon-upgrade","name":"Leman Russ Assault Turret Weapon Upgrade","description":"The Leman Russ Assault Tank can replace its Volkite Macro-saker with different turret-mounted weapons.","maxCount":1,"options":[{"id":"leman-russ-assault-executioner-plasma-destroyer-option","name":"Executioner Plasma Destroyer","description":"Replace Volkite Macro-saker with Executioner Plasma Destroyer","points":25,"replaceWeapon":"volkite-macro-saker","addWeapon":{"id":"executioner-plasma-destroyer","mount":"Turret Mounted"}},{"id":"leman-russ-assault-demolisher-cannon-option","name":"Demolisher Cannon","description":"Replace Volkite Macro-saker with Demolisher Cannon","points":30,"replaceWeapon":"volkite-macro-saker","addWeapon":{"id":"demolisher-cannon","mount":"Turret Mounted"}}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"leman-russ-assault-model","type":"weapon"},{"id":"leman-russ-assault-hull-weapon-upgrade","name":"Leman Russ Assault Hull Weapon Upgrade","description":"The Leman Russ Assault Tank can replace its Hull Heavy Bolter with different hull-mounted weapons.","maxCount":1,"options":[{"id":"leman-russ-assault-hull-heavy-flamer-option","name":"Heavy Flamer","description":"Replace Hull Heavy Bolter with Heavy Flamer","points":0,"replaceWeapon":"heavy-bolter","addWeapon":{"id":"heavy-flamer","mount":"Hull (Front) Mounted"}},{"id":"leman-russ-assault-hull-multi-laser-option","name":"Multi-Laser","description":"Replace Hull Heavy Bolter with Multi-Laser","points":0,"replaceWeapon":"heavy-bolter","addWeapon":{"id":"multi-laser","mount":"Hull (Front) Mounted"}},{"id":"leman-russ-assault-hull-autocannon-option","name":"Autocannon","description":"Replace Hull Heavy Bolter with Autocannon","points":5,"replaceWeapon":"heavy-bolter","addWeapon":{"id":"autocannon","mount":"Hull (Front) Mounted"}},{"id":"leman-russ-assault-hull-lascannon-option","name":"Lascannon","description":"Replace Hull Heavy Bolter with Lascannon","points":10,"replaceWeapon":"heavy-bolter","addWeapon":{"id":"lascannon","mount":"Hull (Front) Mounted"}}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"leman-russ-assault-model","type":"weapon"},{"id":"leman-russ-assault-pintle-weapon-upgrade","name":"Leman Russ Assault Pintle Weapon Upgrade","description":"The Leman Russ Assault Tank can be equipped with pintle-mounted weapons.","maxCount":1,"options":[{"id":"leman-russ-assault-pintle-heavy-stubber-option","name":"Heavy Stubber","description":"Add a Pintle Heavy Stubber to the vehicle","points":5,"addWeapon":{"id":"heavy-stubber","mount":"Pintle Mounted"}},{"id":"leman-russ-assault-pintle-heavy-flamer-option","name":"Heavy Flamer","description":"Add a Pintle Heavy Flamer to the vehicle","points":10,"addWeapon":{"id":"heavy-flamer","mount":"Pintle Mounted"}},{"id":"leman-russ-assault-pintle-multi-laser-option","name":"Multi-Laser","description":"Add a Pintle Multi-Laser to the vehicle","points":10,"addWeapon":{"id":"multi-laser","mount":"Pintle Mounted"}}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"leman-russ-assault-model","type":"weapon"},{"id":"leman-russ-assault-hunter-killer-missile-upgrade","name":"Leman Russ Assault Hunter-Killer Missile Upgrade","description":"The Leman Russ Assault Tank can be equipped with a Hunter-Killer Missile.","maxCount":1,"options":[{"id":"leman-russ-assault-hunter-killer-missile-option","name":"Hunter-Killer Missile","description":"Add a Turret mounted Hunter-Killer Missile to the vehicle","points":5,"addWeapon":{"id":"hunter-killer-missile","mount":"Turret Mounted"}}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"leman-russ-assault-model","type":"wargear"},{"id":"leman-russ-assault-searchlight-upgrade","name":"Leman Russ Assault Searchlight Upgrade","description":"The Leman Russ Assault Tank can be equipped with a Searchlight.","maxCount":1,"options":[{"id":"leman-russ-assault-searchlight-option","name":"Searchlight","description":"Add a Searchlight to the vehicle","points":5,"addWargear":"searchlight"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"leman-russ-assault-model","type":"wargear"},{"id":"leman-russ-assault-dozer-blade-upgrade","name":"Leman Russ Assault Dozer Blade Upgrade","description":"The Leman Russ Assault Tank can be equipped with a Dozer Blade.","maxCount":1,"options":[{"id":"leman-russ-assault-dozer-blade-option","name":"Dozer Blade","description":"Add a Dozer Blade to the vehicle","points":5,"addWargear":"dozer-blade"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"leman-russ-assault-model","type":"wargear"},{"id":"leman-russ-strike-turret-weapon-upgrade","name":"Leman Russ Strike Turret Weapon Upgrade","description":"The Leman Russ Strike Tank can replace its Battle Cannon with different turret-mounted weapons.","maxCount":1,"options":[{"id":"leman-russ-strike-gravis-autocannon-option","name":"Gravis Autocannon","description":"Replace Battle Cannon with Gravis Autocannon","points":0,"replaceWeapon":"battlecannon","addWeapon":{"id":"gravis-autocannon","mount":"Turret Mounted"}},{"id":"leman-russ-strike-twin-lascannon-option","name":"Twin Lascannon","description":"Replace Battle Cannon with Twin Lascannon","points":0,"replaceWeapon":"battlecannon","addWeapon":{"id":"twin-lascannon","mount":"Turret Mounted"}},{"id":"leman-russ-strike-vanquisher-cannon-option","name":"Vanquisher Cannon","description":"Replace Battle Cannon with Vanquisher Cannon and Coaxial Heavy Stubber","points":10,"replaceWeapon":"battlecannon","addWeapon":{"id":"vanquisher-cannon","mount":"Turret Mounted"},"addWargear":"coaxial-heavy-stubber"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"leman-russ-strike-model","type":"weapon"},{"id":"leman-russ-strike-hull-weapon-upgrade","name":"Leman Russ Strike Hull Weapon Upgrade","description":"The Leman Russ Strike Tank can replace its Hull Heavy Bolter with different hull-mounted weapons.","maxCount":1,"options":[{"id":"leman-russ-strike-hull-heavy-flamer-option","name":"Heavy Flamer","description":"Replace Hull Heavy Bolter with Heavy Flamer","points":0,"replaceWeapon":"heavy-bolter","addWeapon":{"id":"heavy-flamer","mount":"Hull (Front) Mounted"}},{"id":"leman-russ-strike-hull-multi-laser-option","name":"Multi-Laser","description":"Replace Hull Heavy Bolter with Multi-Laser","points":0,"replaceWeapon":"heavy-bolter","addWeapon":{"id":"multi-laser","mount":"Hull (Front) Mounted"}},{"id":"leman-russ-strike-hull-autocannon-option","name":"Autocannon","description":"Replace Hull Heavy Bolter with Autocannon","points":5,"replaceWeapon":"heavy-bolter","addWeapon":{"id":"autocannon","mount":"Hull (Front) Mounted"}},{"id":"leman-russ-strike-hull-lascannon-option","name":"Lascannon","description":"Replace Hull Heavy Bolter with Lascannon","points":10,"replaceWeapon":"heavy-bolter","addWeapon":{"id":"lascannon","mount":"Hull (Front) Mounted"}}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"leman-russ-strike-model","type":"weapon"},{"id":"leman-russ-strike-pintle-weapon-upgrade","name":"Leman Russ Strike Pintle Weapon Upgrade","description":"The Leman Russ Strike Tank can be equipped with pintle-mounted weapons.","maxCount":1,"options":[{"id":"leman-russ-strike-pintle-heavy-stubber-option","name":"Heavy Stubber","description":"Add a Pintle Heavy Stubber to the vehicle","points":5,"addWeapon":{"id":"heavy-stubber","mount":"Pintle Mounted"}},{"id":"leman-russ-strike-pintle-heavy-flamer-option","name":"Heavy Flamer","description":"Add a Pintle Heavy Flamer to the vehicle","points":10,"addWeapon":{"id":"heavy-flamer","mount":"Pintle Mounted"}},{"id":"leman-russ-strike-pintle-multi-laser-option","name":"Multi-Laser","description":"Add a Pintle Multi-Laser to the vehicle","points":10,"addWeapon":{"id":"multi-laser","mount":"Pintle Mounted"}}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"leman-russ-strike-model","type":"weapon"},{"id":"leman-russ-strike-hunter-killer-missile-upgrade","name":"Leman Russ Strike Hunter-Killer Missile Upgrade","description":"The Leman Russ Strike Tank can be equipped with a Hunter-Killer Missile.","maxCount":1,"options":[{"id":"leman-russ-strike-hunter-killer-missile-option","name":"Hunter-Killer Missile","description":"Add a Turret mounted Hunter-Killer Missile to the vehicle","points":5,"addWeapon":{"id":"hunter-killer-missile","mount":"Turret Mounted"}}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"leman-russ-strike-model","type":"wargear"},{"id":"leman-russ-strike-searchlight-upgrade","name":"Leman Russ Strike Searchlight Upgrade","description":"The Leman Russ Strike Tank can be equipped with a Searchlight.","maxCount":1,"options":[{"id":"leman-russ-strike-searchlight-option","name":"Searchlight","description":"Add a Searchlight to the vehicle","points":5,"addWargear":"searchlight"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"leman-russ-strike-model","type":"wargear"},{"id":"leman-russ-strike-dozer-blade-upgrade","name":"Leman Russ Strike Dozer Blade Upgrade","description":"The Leman Russ Strike Tank can be equipped with a Dozer Blade.","maxCount":1,"options":[{"id":"leman-russ-strike-dozer-blade-option","name":"Dozer Blade","description":"Add a Dozer Blade to the vehicle","points":5,"addWargear":"dozer-blade"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"leman-russ-strike-model","type":"wargear"},{"id":"malcador-infernus-sponson-weapon-upgrade","name":"Malcador Infernus Sponson Weapon Upgrade","description":"The Malcador Infernus can replace its Sponson Multi-lasers with different sponson-mounted weapons.","maxCount":1,"options":[{"id":"malcador-infernus-sponson-heavy-bolter-option","name":"Heavy Bolter","description":"Replace Sponson Multi-lasers with Heavy Bolters","points":0,"replaceWeapon":"multi-laser","addWeapon":{"id":"heavy-bolter","mount":"Sponson Mounted","count":2}},{"id":"malcador-infernus-sponson-heavy-flamer-option","name":"Heavy Flamer","description":"Replace Sponson Multi-lasers with Heavy Flamers","points":0,"replaceWeapon":"multi-laser","addWeapon":{"id":"heavy-flamer","mount":"Sponson Mounted","count":2}},{"id":"malcador-infernus-sponson-autocannon-option","name":"Autocannon","description":"Replace Sponson Multi-lasers with Autocannons","points":10,"replaceWeapon":"multi-laser","addWeapon":{"id":"autocannon","mount":"Sponson Mounted","count":2}},{"id":"malcador-infernus-sponson-lascannon-option","name":"Lascannon","description":"Replace Sponson Multi-lasers with Lascannons","points":20,"replaceWeapon":"multi-laser","addWeapon":{"id":"lascannon","mount":"Sponson Mounted","count":2}}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"malcador-infernus-model","type":"weapon"},{"id":"malcador-infernus-pintle-weapon-upgrade","name":"Malcador Infernus Pintle Weapon Upgrade","description":"The Malcador Infernus can be equipped with pintle-mounted weapons.","maxCount":1,"options":[{"id":"malcador-infernus-heavy-stubber-option","name":"Heavy Stubber","description":"Add a Heavy Stubber to the vehicle","points":5,"addWeapon":{"id":"heavy-stubber","mount":"Pintle Mounted"}},{"id":"malcador-infernus-heavy-flamer-option","name":"Heavy Flamer","description":"Add a Heavy Flamer to the vehicle","points":10,"addWeapon":{"id":"heavy-flamer","mount":"Pintle Mounted"}},{"id":"malcador-infernus-multi-laser-option","name":"Multi-Laser","description":"Add a Multi-Laser to the vehicle","points":10,"addWeapon":{"id":"multi-laser","mount":"Pintle Mounted"}}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"malcador-infernus-model","type":"weapon"},{"id":"malcador-infernus-hunter-killer-missile-upgrade","name":"Malcador Infernus Hunter-Killer Missile Upgrade","description":"The Malcador Infernus can be equipped with a Hunter-Killer Missile.","maxCount":1,"options":[{"id":"malcador-infernus-hunter-killer-missile-option","name":"Hunter-Killer Missile","description":"Add a Hull (Front) mounted Hunter-Killer Missile to the vehicle","points":5,"addWeapon":{"id":"hunter-killer-missile","mount":"Hull (Front) Mounted"}}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"malcador-infernus-model","type":"wargear"},{"id":"malcador-infernus-searchlight-upgrade","name":"Malcador Infernus Searchlight Upgrade","description":"The Malcador Infernus can be equipped with a Searchlight.","maxCount":1,"options":[{"id":"malcador-infernus-searchlight-option","name":"Searchlight","description":"Add a Searchlight to the vehicle","points":5,"addWargear":"searchlight"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"malcador-infernus-model","type":"wargear"},{"id":"malcador-infernus-dozer-blade-upgrade","name":"Malcador Infernus Dozer Blade Upgrade","description":"The Malcador Infernus can be equipped with a Dozer Blade.","maxCount":1,"options":[{"id":"malcador-infernus-dozer-blade-option","name":"Dozer Blade","description":"Add a Dozer Blade to the vehicle","points":5,"addWargear":"dozer-blade"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"malcador-infernus-model","type":"wargear"},{"id":"malcador-infernus-flare-shield-upgrade","name":"Malcador Infernus Flare Shield Upgrade","description":"The Malcador Infernus can be equipped with a Flare Shield.","maxCount":1,"options":[{"id":"malcador-infernus-flare-shield-option","name":"Flare Shield","description":"Add a Flare Shield to the vehicle","points":20,"addWargear":"flare-shield"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"malcador-infernus-model","type":"wargear"},{"id":"valdor-sponson-weapon-upgrade","name":"Valdor Sponson Weapon Upgrade","description":"The Valdor Tank Destroyer can replace its Sponson (Right) Multi-laser with different sponson-mounted weapons.","maxCount":1,"options":[{"id":"valdor-sponson-heavy-bolter-option","name":"Heavy Bolter","description":"Replace Sponson (Right) Multi-laser with Heavy Bolter","points":0,"replaceWeapon":"multi-laser","addWeapon":{"id":"heavy-bolter","mount":"Sponson (Right) Mounted"}},{"id":"valdor-sponson-heavy-flamer-option","name":"Heavy Flamer","description":"Replace Sponson (Right) Multi-laser with Heavy Flamer","points":0,"replaceWeapon":"multi-laser","addWeapon":{"id":"heavy-flamer","mount":"Sponson (Right) Mounted"}},{"id":"valdor-sponson-autocannon-option","name":"Autocannon","description":"Replace Sponson (Right) Multi-laser with Autocannon","points":5,"replaceWeapon":"multi-laser","addWeapon":{"id":"autocannon","mount":"Sponson (Right) Mounted"}},{"id":"valdor-sponson-lascannon-option","name":"Lascannon","description":"Replace Sponson (Right) Multi-laser with Lascannon","points":10,"replaceWeapon":"multi-laser","addWeapon":{"id":"lascannon","mount":"Sponson (Right) Mounted"}}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"valdor-tank-destroyer-model","type":"weapon"},{"id":"valdor-pintle-weapon-upgrade","name":"Valdor Pintle Weapon Upgrade","description":"The Valdor Tank Destroyer can be equipped with pintle-mounted weapons.","maxCount":1,"options":[{"id":"valdor-heavy-stubber-option","name":"Heavy Stubber","description":"Add a Heavy Stubber to the vehicle","points":5,"addWeapon":{"id":"heavy-stubber","mount":"Pintle Mounted"}},{"id":"valdor-heavy-flamer-option","name":"Heavy Flamer","description":"Add a Heavy Flamer to the vehicle","points":10,"addWeapon":{"id":"heavy-flamer","mount":"Pintle Mounted"}},{"id":"valdor-multi-laser-option","name":"Multi-Laser","description":"Add a Multi-Laser to the vehicle","points":10,"addWeapon":{"id":"multi-laser","mount":"Pintle Mounted"}}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"valdor-tank-destroyer-model","type":"weapon"},{"id":"valdor-hunter-killer-missile-upgrade","name":"Valdor Hunter-Killer Missile Upgrade","description":"The Valdor Tank Destroyer can be equipped with a Hunter-Killer Missile.","maxCount":1,"options":[{"id":"valdor-hunter-killer-missile-option","name":"Hunter-Killer Missile","description":"Add a Hull (Front) mounted Hunter-Killer Missile to the vehicle","points":5,"addWeapon":{"id":"hunter-killer-missile","mount":"Hull (Front) Mounted"}}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"valdor-tank-destroyer-model","type":"wargear"},{"id":"valdor-searchlight-upgrade","name":"Valdor Searchlight Upgrade","description":"The Valdor Tank Destroyer can be equipped with a Searchlight.","maxCount":1,"options":[{"id":"valdor-searchlight-option","name":"Searchlight","description":"Add a Searchlight to the vehicle","points":5,"addWargear":"searchlight"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"valdor-tank-destroyer-model","type":"wargear"},{"id":"valdor-dozer-blade-upgrade","name":"Valdor Dozer Blade Upgrade","description":"The Valdor Tank Destroyer can be equipped with a Dozer Blade.","maxCount":1,"options":[{"id":"valdor-dozer-blade-option","name":"Dozer Blade","description":"Add a Dozer Blade to the vehicle","points":5,"addWargear":"dozer-blade"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"valdor-tank-destroyer-model","type":"wargear"},{"id":"valdor-flare-shield-upgrade","name":"Valdor Flare Shield Upgrade","description":"The Valdor Tank Destroyer can be equipped with a Flare Shield.","maxCount":1,"options":[{"id":"valdor-flare-shield-option","name":"Flare Shield","description":"Add a Flare Shield to the vehicle","points":20,"addWargear":"flare-shield"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"valdor-tank-destroyer-model","type":"wargear"},{"id":"stormhammer-hull-front-weapon-upgrade","name":"Stormhammer Hull (Front) Weapon Upgrade","description":"The Stormhammer can replace its Hull (Front) Multi-laser with different weapons.","maxCount":1,"options":[{"id":"stormhammer-hull-front-lascannon-option","name":"Lascannon","description":"Replace Hull (Front) Multi-laser with Lascannon","points":0,"weaponReplacements":[{"replaceWeapon":"multi-laser","replaceMount":"Hull (Front) Mounted","addWeapon":{"id":"lascannon","mount":"Hull (Front) Mounted"}}]}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"stormhammer-model","type":"weapon"},{"id":"stormhammer-hull-side-weapon-upgrade","name":"Stormhammer Hull (Side) Weapon Upgrade","description":"The Stormhammer can replace its Hull (Left) and Hull (Right) Multi-lasers with different weapons.","maxCount":1,"options":[{"id":"stormhammer-hull-side-heavy-bolter-option","name":"Heavy Bolter","description":"Replace Hull (Left) and Hull (Right) Multi-lasers with Heavy Bolters","points":0,"weaponReplacements":[{"replaceWeapon":"multi-laser","replaceMount":"Hull (Left) Mounted","addWeapon":{"id":"heavy-bolter","mount":"Hull (Left) Mounted","count":3}},{"replaceWeapon":"multi-laser","replaceMount":"Hull (Right) Mounted","addWeapon":{"id":"heavy-bolter","mount":"Hull (Right) Mounted","count":3}}]},{"id":"stormhammer-hull-side-heavy-flamer-option","name":"Heavy Flamer","description":"Replace Hull (Left) and Hull (Right) Multi-lasers with Heavy Flamers","points":0,"weaponReplacements":[{"replaceWeapon":"multi-laser","replaceMount":"Hull (Left) Mounted","addWeapon":{"id":"heavy-flamer","mount":"Hull (Left) Mounted","count":3}},{"replaceWeapon":"multi-laser","replaceMount":"Hull (Right) Mounted","addWeapon":{"id":"heavy-flamer","mount":"Hull (Right) Mounted","count":3}}]},{"id":"stormhammer-hull-side-lascannon-option","name":"Lascannon","description":"Replace Hull (Left) and Hull (Right) Multi-lasers with Lascannons","points":50,"weaponReplacements":[{"replaceWeapon":"multi-laser","replaceMount":"Hull (Left) Mounted","addWeapon":{"id":"lascannon","mount":"Hull (Left) Mounted","count":3}},{"replaceWeapon":"multi-laser","replaceMount":"Hull (Right) Mounted","addWeapon":{"id":"lascannon","mount":"Hull (Right) Mounted","count":3}}]}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"stormhammer-model","type":"weapon"},{"id":"stormhammer-pintle-weapon-upgrade","name":"Stormhammer Pintle Weapon Upgrade","description":"The Stormhammer can be equipped with pintle-mounted weapons.","maxCount":1,"options":[{"id":"stormhammer-heavy-stubber-option","name":"Heavy Stubber","description":"Add a Heavy Stubber to the vehicle","points":5,"addWeapon":{"id":"heavy-stubber","mount":"Pintle Mounted"}},{"id":"stormhammer-heavy-flamer-option","name":"Heavy Flamer","description":"Add a Heavy Flamer to the vehicle","points":10,"addWeapon":{"id":"heavy-flamer","mount":"Pintle Mounted"}},{"id":"stormhammer-multi-laser-option","name":"Multi-Laser","description":"Add a Multi-Laser to the vehicle","points":10,"addWeapon":{"id":"multi-laser","mount":"Pintle Mounted"}}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"stormhammer-model","type":"weapon"},{"id":"stormhammer-hunter-killer-missile-upgrade","name":"Stormhammer Hunter-Killer Missile Upgrade","description":"The Stormhammer can be equipped with a Hunter-Killer Missile.","maxCount":1,"options":[{"id":"stormhammer-hunter-killer-missile-option","name":"Hunter-Killer Missile","description":"Add a Turret mounted Hunter-Killer Missile to the vehicle","points":5,"addWeapon":{"id":"hunter-killer-missile","mount":"Turret Mounted"}}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"stormhammer-model","type":"wargear"},{"id":"stormhammer-searchlight-upgrade","name":"Stormhammer Searchlight Upgrade","description":"The Stormhammer can be equipped with a Searchlight.","maxCount":1,"options":[{"id":"stormhammer-searchlight-option","name":"Searchlight","description":"Add a Searchlight to the vehicle","points":5,"addWargear":"searchlight"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"stormhammer-model","type":"wargear"},{"id":"stormhammer-flare-shield-upgrade","name":"Stormhammer Flare Shield Upgrade","description":"The Stormhammer can be equipped with a Flare Shield.","maxCount":1,"options":[{"id":"stormhammer-flare-shield-option","name":"Flare Shield","description":"Add a Flare Shield to the vehicle","points":20,"addWargear":"flare-shield"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"stormhammer-model","type":"wargear"},{"id":"praetor-jump-pack-upgrade","name":"Praetor Jump Pack Upgrade","description":"The Praetor can be equipped with a jump pack for enhanced mobility.","maxCount":1,"options":[{"id":"praetor-jump-pack-option","name":"Jump Pack","description":"Replace the Praetor with a Praetor with Jump Pack","points":20,"replaceModel":{"from":"praetor-model","to":"praetor-jump-pack-model"}}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"praetor-model","type":"model-replacement"},{"id":"legion-officer-wargear-bolt-pistol","name":"Legion Officer Wargear (Bolt Pistol)","description":"Legion officers can replace their bolt pistol with various weapons and wargear.","maxCount":1,"options":[{"id":"bolt-pistol-free-option","name":"Bolt Pistol","description":"Keep the bolt pistol (no change)","points":0,"replaceWeapon":"bolt-pistol","addWeapon":"bolt-pistol"},{"id":"chainsword-free-option","name":"Chainsword","description":"Replace bolt pistol with a chainsword","points":0,"replaceWeapon":"bolt-pistol","addWeapon":"chainsword"},{"id":"bolter-5-option","name":"Bolter","description":"Replace bolt pistol with a bolter","points":5,"replaceWeapon":"bolt-pistol","addWeapon":"bolter"},{"id":"volkite-serpenta-5-option","name":"Volkite Serpenta","description":"Replace bolt pistol with a volkite serpenta","points":5,"replaceWeapon":"bolt-pistol","addWeapon":"volkite-serpenta"},{"id":"hand-flamer-5-option","name":"Hand Flamer","description":"Replace bolt pistol with a hand flamer","points":5,"replaceWeapon":"bolt-pistol","addWeapon":"hand-flamer"},{"id":"plasma-pistol-5-option","name":"Plasma Pistol","description":"Replace bolt pistol with a plasma pistol","points":5,"replaceWeapon":"bolt-pistol","addWeapon":"plasma-pistol"},{"id":"disintegrator-pistol-5-option","name":"Disintegrator Pistol","description":"Replace bolt pistol with a disintegrator pistol","points":5,"replaceWeapon":"bolt-pistol","addWeapon":"disintegrator-pistol"},{"id":"chainaxe-free-option","name":"Chainaxe","description":"Replace bolt pistol with a chainaxe","points":0,"replaceWeapon":"bolt-pistol","addWeapon":"chainaxe"},{"id":"charnabal-sabre-5-option","name":"Charnabal Sabre","description":"Replace bolt pistol with a charnabal sabre","points":5,"replaceWeapon":"bolt-pistol","addWeapon":"charnabal-sabre"},{"id":"power-sword-10-option","name":"Power Sword","description":"Replace bolt pistol with a power sword","points":10,"replaceWeapon":"bolt-pistol","addWeapon":"power-sword"},{"id":"power-axe-10-option","name":"Power Axe","description":"Replace bolt pistol with a power axe","points":10,"replaceWeapon":"bolt-pistol","addWeapon":"power-axe"},{"id":"power-lance-10-option","name":"Power Lance","description":"Replace bolt pistol with a power lance","points":10,"replaceWeapon":"bolt-pistol","addWeapon":"power-lance"},{"id":"power-maul-10-option","name":"Power Maul","description":"Replace bolt pistol with a power maul","points":10,"replaceWeapon":"bolt-pistol","addWeapon":"power-maul"},{"id":"lightning-claw-10-option","name":"Lightning Claw","description":"Replace bolt pistol with a lightning claw","points":10,"replaceWeapon":"bolt-pistol","addWeapon":"lightning-claw"},{"id":"thunder-hammer-15-option","name":"Thunder Hammer","description":"Replace bolt pistol with a thunder hammer","points":15,"replaceWeapon":"bolt-pistol","addWeapon":"thunder-hammer"},{"id":"combat-shield-free-option","name":"Combat Shield","description":"Replace bolt pistol with a combat shield","points":0,"replaceWeapon":"bolt-pistol","addWargear":"combat-shield"},{"id":"boarding-shield-5-option","name":"Boarding Shield","description":"Replace bolt pistol with a boarding shield","points":5,"replaceWeapon":"bolt-pistol","addWargear":"boarding-shield"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"legion-officer-model","targetModelTypes":["legion-officer-model"],"type":"weapon"},{"id":"legion-officer-wargear-bolter","name":"Legion Officer Wargear (Bolter)","description":"Legion officers can replace their bolter with various weapons and wargear.","maxCount":1,"options":[{"id":"bolt-pistol-free-option","name":"Bolt Pistol","description":"Replace bolter with a bolt pistol","points":0,"replaceWeapon":"bolter","addWeapon":"bolt-pistol"},{"id":"chainsword-free-option","name":"Chainsword","description":"Replace bolter with a chainsword","points":0,"replaceWeapon":"bolter","addWeapon":"chainsword"},{"id":"volkite-serpenta-5-option","name":"Volkite Serpenta","description":"Replace bolter with a volkite serpenta","points":5,"replaceWeapon":"bolter","addWeapon":"volkite-serpenta"},{"id":"hand-flamer-5-option","name":"Hand Flamer","description":"Replace bolter with a hand flamer","points":5,"replaceWeapon":"bolter","addWeapon":"hand-flamer"},{"id":"plasma-pistol-5-option","name":"Plasma Pistol","description":"Replace bolter with a plasma pistol","points":5,"replaceWeapon":"bolter","addWeapon":"plasma-pistol"},{"id":"disintegrator-pistol-5-option","name":"Disintegrator Pistol","description":"Replace bolter with a disintegrator pistol","points":5,"replaceWeapon":"bolter","addWeapon":"disintegrator-pistol"},{"id":"chainaxe-free-option","name":"Chainaxe","description":"Replace bolter with a chainaxe","points":0,"replaceWeapon":"bolter","addWeapon":"chainaxe"},{"id":"charnabal-sabre-5-option","name":"Charnabal Sabre","description":"Replace bolter with a charnabal sabre","points":5,"replaceWeapon":"bolter","addWeapon":"charnabal-sabre"},{"id":"power-sword-10-option","name":"Power Sword","description":"Replace bolter with a power sword","points":10,"replaceWeapon":"bolter","addWeapon":"power-sword"},{"id":"power-axe-10-option","name":"Power Axe","description":"Replace bolter with a power axe","points":10,"replaceWeapon":"bolter","addWeapon":"power-axe"},{"id":"power-lance-10-option","name":"Power Lance","description":"Replace bolter with a power lance","points":10,"replaceWeapon":"bolter","addWeapon":"power-lance"},{"id":"power-maul-10-option","name":"Power Maul","description":"Replace bolter with a power maul","points":10,"replaceWeapon":"bolter","addWeapon":"power-maul"},{"id":"lightning-claw-10-option","name":"Lightning Claw","description":"Replace bolter with a lightning claw","points":10,"replaceWeapon":"bolter","addWeapon":"lightning-claw"},{"id":"thunder-hammer-15-option","name":"Thunder Hammer","description":"Replace bolter with a thunder hammer","points":15,"replaceWeapon":"bolter","addWeapon":"thunder-hammer"},{"id":"combat-shield-free-option","name":"Combat Shield","description":"Replace bolter with a combat shield","points":0,"replaceWeapon":"bolter","addWargear":"combat-shield"},{"id":"boarding-shield-5-option","name":"Boarding Shield","description":"Replace bolter with a boarding shield","points":5,"replaceWeapon":"bolter","addWargear":"boarding-shield"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"legion-officer-model","targetModelTypes":["legion-officer-model"],"type":"weapon"},{"id":"legion-terminator-melee-weapons","name":"Legion Terminator Melee Weapons","description":"Legion Terminator models can replace their power weapons with specialized terminator melee weapons.","maxCount":1,"options":[{"id":"lightning-claw-option","name":"Lightning Claw","description":"Replace any power weapon with a lightning claw","points":5,"weaponReplacements":[{"replaceWeapon":"power-sword","addWeapon":"lightning-claw"},{"replaceWeapon":"power-maul","addWeapon":"lightning-claw"},{"replaceWeapon":"power-lance","addWeapon":"lightning-claw"},{"replaceWeapon":"power-axe","addWeapon":"lightning-claw"}]},{"id":"power-fist-option","name":"Power Fist","description":"Replace any power weapon with a power fist","points":10,"weaponReplacements":[{"replaceWeapon":"power-sword","addWeapon":"power-fist"},{"replaceWeapon":"power-maul","addWeapon":"power-fist"},{"replaceWeapon":"power-lance","addWeapon":"power-fist"},{"replaceWeapon":"power-axe","addWeapon":"power-fist"}]},{"id":"chainfist-option","name":"Chainfist","description":"Replace any power weapon with a chainfist","points":10,"weaponReplacements":[{"replaceWeapon":"power-sword","addWeapon":"chainfist"},{"replaceWeapon":"power-maul","addWeapon":"chainfist"},{"replaceWeapon":"power-lance","addWeapon":"chainfist"},{"replaceWeapon":"power-axe","addWeapon":"chainfist"}]},{"id":"thunder-hammer-option","name":"Thunder Hammer","description":"Replace any power weapon with a thunder hammer","points":10,"weaponReplacements":[{"replaceWeapon":"power-sword","addWeapon":"thunder-hammer"},{"replaceWeapon":"power-maul","addWeapon":"thunder-hammer"},{"replaceWeapon":"power-lance","addWeapon":"thunder-hammer"},{"replaceWeapon":"power-axe","addWeapon":"thunder-hammer"}]}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"legion-terminator","targetModelTypes":["legion-terminator"],"type":"weapon"},{"id":"legion-sergeant-melee-weapons","name":"Legion Sergeant Melee Weapons","description":"Legion Sergeant models can replace their bolter or bolt pistol with various melee weapons.","maxCount":1,"options":[{"id":"chainsword-option","name":"Chainsword","description":"Replace bolter or bolt pistol with a chainsword","points":0,"weaponReplacements":[{"replaceWeapon":"bolter","addWeapon":"chainsword"},{"replaceWeapon":"bolt-pistol","addWeapon":"chainsword"}]},{"id":"chainaxe-option","name":"Chainaxe","description":"Replace bolter or bolt pistol with a chainaxe","points":0,"weaponReplacements":[{"replaceWeapon":"bolter","addWeapon":"chainaxe"},{"replaceWeapon":"bolt-pistol","addWeapon":"chainaxe"}]},{"id":"charnabal-sabre-option","name":"Charnabal Sabre","description":"Replace bolter or bolt pistol with a charnabal sabre","points":5,"weaponReplacements":[{"replaceWeapon":"bolter","addWeapon":"charnabal-sabre"},{"replaceWeapon":"bolt-pistol","addWeapon":"charnabal-sabre"}]},{"id":"power-sword-option","name":"Power Sword","description":"Replace bolter or bolt pistol with a power sword","points":10,"weaponReplacements":[{"replaceWeapon":"bolter","addWeapon":"power-sword"},{"replaceWeapon":"bolt-pistol","addWeapon":"power-sword"}]},{"id":"power-axe-option","name":"Power Axe","description":"Replace bolter or bolt pistol with a power axe","points":10,"weaponReplacements":[{"replaceWeapon":"bolter","addWeapon":"power-axe"},{"replaceWeapon":"bolt-pistol","addWeapon":"power-axe"}]},{"id":"power-lance-option","name":"Power Lance","description":"Replace bolter or bolt pistol with a power lance","points":10,"weaponReplacements":[{"replaceWeapon":"bolter","addWeapon":"power-lance"},{"replaceWeapon":"bolt-pistol","addWeapon":"power-lance"}]},{"id":"power-maul-option","name":"Power Maul","description":"Replace bolter or bolt pistol with a power maul","points":10,"weaponReplacements":[{"replaceWeapon":"bolter","addWeapon":"power-maul"},{"replaceWeapon":"bolt-pistol","addWeapon":"power-maul"}]},{"id":"power-fist-option","name":"Power Fist","description":"Replace bolter or bolt pistol with a power fist","points":10,"weaponReplacements":[{"replaceWeapon":"bolter","addWeapon":"power-fist"},{"replaceWeapon":"bolt-pistol","addWeapon":"power-fist"}]},{"id":"lightning-claw-option","name":"Lightning Claw","description":"Replace bolter or bolt pistol with a lightning claw","points":10,"weaponReplacements":[{"replaceWeapon":"bolter","addWeapon":"lightning-claw"},{"replaceWeapon":"bolt-pistol","addWeapon":"lightning-claw"}]},{"id":"thunder-hammer-option","name":"Thunder Hammer","description":"Replace bolter or bolt pistol with a thunder hammer","points":15,"weaponReplacements":[{"replaceWeapon":"bolter","addWeapon":"thunder-hammer"},{"replaceWeapon":"bolt-pistol","addWeapon":"thunder-hammer"}]}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"legion-sergeant","targetModelTypes":["legion-sergeant"],"type":"weapon"},{"id":"legion-pistol-upgrades","name":"Legion Pistol Upgrades","description":"Legion models can exchange their bolt pistol for specialized pistol weapons.","maxCount":1,"options":[{"id":"plasma-pistol-option","name":"Plasma Pistol","description":"Replace bolt pistol with a plasma pistol","points":5,"replaceWeapon":"bolt-pistol","addWeapon":"plasma-pistol"},{"id":"hand-flamer-option","name":"Hand Flamer","description":"Replace bolt pistol with a hand flamer","points":5,"replaceWeapon":"bolt-pistol","addWeapon":"hand-flamer"},{"id":"volkite-serpenta-option","name":"Volkite Serpenta","description":"Replace bolt pistol with a volkite serpenta","points":5,"replaceWeapon":"bolt-pistol","addWeapon":"volkite-serpenta"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"legion-pistol-upgradeable","targetModelTypes":["legion-pistol-upgradeable"],"type":"weapon"},{"id":"legion-combi-weapons","name":"Legion Combi-Weapons","description":"Legion models can exchange their bolter for combi-weapons that combine bolter functionality with specialized secondary weapons.","maxCount":1,"options":[{"id":"combi-bolter-option","name":"Combi-bolter","description":"Replace bolter with a combi-bolter","points":5,"replaceWeapon":"bolter","addWeapon":"combi-bolter"},{"id":"combi-flamer-option","name":"Combi-flamer","description":"Replace bolter with a combi-flamer","points":10,"replaceWeapon":"bolter","addWeapon":"combi-flamer"},{"id":"combi-melta-option","name":"Combi-melta","description":"Replace bolter with a combi-melta","points":10,"replaceWeapon":"bolter","addWeapon":"combi-melta"},{"id":"combi-plasma-option","name":"Combi-plasma","description":"Replace bolter with a combi-plasma","points":10,"replaceWeapon":"bolter","addWeapon":"combi-plasma"},{"id":"combi-volkite-option","name":"Combi-volkite","description":"Replace bolter with a combi-volkite","points":10,"replaceWeapon":"bolter","addWeapon":"combi-volkite"},{"id":"combi-grenade-option","name":"Combi-grenade","description":"Replace bolter with a combi-grenade","points":10,"replaceWeapon":"bolter","addWeapon":"combi-grenade"},{"id":"combi-disintegrator-option","name":"Combi-disintegrator","description":"Replace bolter with a combi-disintegrator","points":10,"replaceWeapon":"bolter","addWeapon":"combi-disintegrator"},{"id":"combi-grav-option","name":"Combi-grav","description":"Replace bolter with a combi-grav","points":10,"replaceWeapon":"bolter","addWeapon":"combi-grav"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"legion-combi-weapon-upgradeable","targetModelTypes":["legion-combi-weapon-upgradeable"],"type":"weapon"},{"id":"legion-special-weapons-add","name":"Legion Special Weapons (Additional)","description":"Legion models can be equipped with additional special weapons without replacing existing equipment.","maxCount":1,"options":[{"id":"flamer-add-option","name":"Flamer","description":"Add a flamer","points":5,"addWeapon":"flamer"},{"id":"plasma-gun-add-option","name":"Plasma Gun","description":"Add a plasma gun","points":10,"addWeapon":"plasma-gun"},{"id":"meltagun-add-option","name":"Meltagun","description":"Add a meltagun","points":15,"addWeapon":"meltagun"},{"id":"volkite-charger-add-option","name":"Volkite Charger","description":"Add a volkite charger","points":5,"addWeapon":"volkite-charger"},{"id":"volkite-caliver-add-option","name":"Volkite Caliver","description":"Add a volkite caliver","points":10,"addWeapon":"volkite-caliver"},{"id":"rotor-cannon-add-option","name":"Rotor Cannon","description":"Add a rotor cannon","points":10,"addWeapon":"rotor-cannon"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"legion-special-weapons-add","targetModelTypes":["legion-special-weapons-add"],"type":"weapon"},{"id":"legion-special-weapons-replace","name":"Legion Special Weapons (Replacement)","description":"Legion models can exchange their bolter for special weapons.","maxCount":1,"options":[{"id":"flamer-replace-option","name":"Flamer","description":"Replace bolter with a flamer","points":5,"replaceWeapon":"bolter","addWeapon":"flamer"},{"id":"plasma-gun-replace-option","name":"Plasma Gun","description":"Replace bolter with a plasma gun","points":10,"replaceWeapon":"bolter","addWeapon":"plasma-gun"},{"id":"meltagun-replace-option","name":"Meltagun","description":"Replace bolter with a meltagun","points":15,"replaceWeapon":"bolter","addWeapon":"meltagun"},{"id":"volkite-charger-replace-option","name":"Volkite Charger","description":"Replace bolter with a volkite charger","points":5,"replaceWeapon":"bolter","addWeapon":"volkite-charger"},{"id":"volkite-caliver-replace-option","name":"Volkite Caliver","description":"Replace bolter with a volkite caliver","points":10,"replaceWeapon":"bolter","addWeapon":"volkite-caliver"},{"id":"rotor-cannon-replace-option","name":"Rotor Cannon","description":"Replace bolter with a rotor cannon","points":10,"replaceWeapon":"bolter","addWeapon":"rotor-cannon"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"legion-special-weapons-replace","targetModelTypes":["legion-special-weapons-replace"],"type":"weapon"},{"id":"legion-equipment","name":"Legion Equipment","description":"Legion models can be equipped with specialized equipment and communication gear.","maxCount":1,"options":[{"id":"nuncio-vox-option","name":"Nuncio-vox","description":"Add a nuncio-vox communication system","points":10,"addWargear":"nuncio-vox"},{"id":"augury-scanner-option","name":"Augury Scanner","description":"Add an augury scanner detection system","points":10,"addWargear":"augury-scanner"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"legion-equipment-upgradeable","targetModelTypes":["legion-equipment-upgradeable"],"type":"wargear"},{"id":"legion-heavy-weapons-add","name":"Legion Heavy Weapons (Additional)","description":"Legion models can be equipped with additional heavy weapons without replacing existing equipment.","maxCount":1,"options":[{"id":"heavy-bolter-add-option","name":"Heavy Bolter","description":"Add a heavy bolter","points":10,"addWeapon":"heavy-bolter"},{"id":"heavy-flamer-add-option","name":"Heavy Flamer","description":"Add a heavy flamer","points":10,"addWeapon":"heavy-flamer"},{"id":"missile-launcher-add-option","name":"Missile Launcher","description":"Add a missile launcher","points":15,"addWeapon":"missile-launcher"},{"id":"volkite-culverin-add-option","name":"Volkite Culverin","description":"Add a volkite culverin","points":15,"addWeapon":"volkite-culverin"},{"id":"autocannon-add-option","name":"Autocannon","description":"Add an autocannon","points":20,"addWeapon":"autocannon"},{"id":"plasma-cannon-add-option","name":"Plasma Cannon","description":"Add a plasma cannon","points":20,"addWeapon":"plasma-cannon"},{"id":"multi-melta-add-option","name":"Multi-melta","description":"Add a multi-melta","points":25,"addWeapon":"multi-melta"},{"id":"lascannon-add-option","name":"Lascannon","description":"Add a lascannon","points":25,"addWeapon":"lascannon"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"legion-heavy-weapons-add","targetModelTypes":["legion-heavy-weapons-add"],"type":"weapon"},{"id":"legion-heavy-weapons-replace","name":"Legion Heavy Weapons (Replacement)","description":"Legion models can exchange their bolter for heavy weapons.","maxCount":1,"options":[{"id":"heavy-bolter-replace-option","name":"Heavy Bolter","description":"Replace bolter with a heavy bolter","points":10,"replaceWeapon":"bolter","addWeapon":"heavy-bolter"},{"id":"heavy-flamer-replace-option","name":"Heavy Flamer","description":"Replace bolter with a heavy flamer","points":10,"replaceWeapon":"bolter","addWeapon":"heavy-flamer"},{"id":"missile-launcher-replace-option","name":"Missile Launcher","description":"Replace bolter with a missile launcher","points":15,"replaceWeapon":"bolter","addWeapon":"missile-launcher"},{"id":"volkite-culverin-replace-option","name":"Volkite Culverin","description":"Replace bolter with a volkite culverin","points":15,"replaceWeapon":"bolter","addWeapon":"volkite-culverin"},{"id":"autocannon-replace-option","name":"Autocannon","description":"Replace bolter with an autocannon","points":20,"replaceWeapon":"bolter","addWeapon":"autocannon"},{"id":"plasma-cannon-replace-option","name":"Plasma Cannon","description":"Replace bolter with a plasma cannon","points":20,"replaceWeapon":"bolter","addWeapon":"plasma-cannon"},{"id":"multi-melta-replace-option","name":"Multi-melta","description":"Replace bolter with a multi-melta","points":25,"replaceWeapon":"bolter","addWeapon":"multi-melta"},{"id":"lascannon-replace-option","name":"Lascannon","description":"Replace bolter with a lascannon","points":25,"replaceWeapon":"bolter","addWeapon":"lascannon"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"legion-heavy-weapons-replace","targetModelTypes":["legion-heavy-weapons-replace"],"type":"weapon"},{"id":"praetor-bolt-pistol-replacements","name":"Praetor Bolt Pistol Replacements","description":"The Praetor can exchange their bolt pistol for specialized weapons.","maxCount":1,"options":[{"id":"paragon-blade-pistol-option","name":"Paragon Blade","description":"Replace bolt pistol with a paragon blade","points":15,"replaceWeapon":"bolt-pistol","addWeapon":"paragon-blade"},{"id":"archaeotech-pistol-pistol-option","name":"Archaeotech Pistol","description":"Replace bolt pistol with an archaeotech pistol","points":15,"replaceWeapon":"bolt-pistol","addWeapon":"archaeotech-pistol"}],"points":null,"requiresUpgrade":"","targetModel":"praetor-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"praetor-bolter-replacements","name":"Praetor Bolter Replacements","description":"The Praetor can exchange their bolter for specialized weapons.","maxCount":1,"options":[{"id":"paragon-blade-bolter-option","name":"Paragon Blade","description":"Replace bolter with a paragon blade","points":15,"replaceWeapon":"bolter","addWeapon":"paragon-blade"},{"id":"archaeotech-pistol-bolter-option","name":"Archaeotech Pistol","description":"Replace bolter with an archaeotech pistol","points":15,"replaceWeapon":"bolter","addWeapon":"archaeotech-pistol"},{"id":"astartes-shotgun-option","name":"Astartes Shotgun","description":"Replace bolter with an astartes shotgun","points":2,"replaceWeapon":"bolter","addWeapon":"astartes-shotgun"},{"id":"volkite-charger-option","name":"Volkite Charger","description":"Replace bolter with a volkite charger","points":2,"replaceWeapon":"bolter","addWeapon":"volkite-charger"}],"points":null,"requiresUpgrade":"","targetModel":"praetor-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"praetor-lightning-claws","name":"Praetor Lightning Claws","description":"The Praetor can exchange both their bolter and bolt pistol for a pair of lightning claws.","maxCount":1,"options":[{"id":"lightning-claws-pair-option","name":"Pair of Lightning Claws","description":"Replace both bolter and bolt pistol with a pair of lightning claws","points":20,"weaponReplacements":[{"replaceWeapon":"bolter","addWeapon":"lightning-claw"},{"replaceWeapon":"bolt-pistol","addWeapon":"lightning-claw"}]}],"points":null,"requiresUpgrade":"","targetModel":"praetor-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"praetor-additional-weapons","name":"Praetor Additional Weapons","description":"The Praetor can take additional weapons without replacing existing equipment.","maxCount":1,"options":[{"id":"melta-bombs-option","name":"Melta Bombs","description":"Add melta bombs","points":5,"addWeapon":"melta-bombs"}],"points":null,"requiresUpgrade":"","targetModel":"praetor-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"praetor-bayonets","name":"Praetor Bayonets","description":"The Praetor can add a bayonet to their bolter if they still have it.","maxCount":1,"options":[{"id":"bayonet-option","name":"Bayonet","description":"Add a bayonet to the bolter","points":1,"addWeapon":"bayonet"},{"id":"chain-bayonet-option","name":"Chain Bayonet","description":"Add a chain bayonet to the bolter","points":2,"addWeapon":"chain-bayonet"}],"points":null,"requiresUpgrade":"","targetModel":"praetor-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"praetor-cyber-familiar","name":"Praetor Cyber-familiar","description":"A Praetor without a jump pack can take a cyber-familiar for tactical assistance.","maxCount":1,"options":[{"id":"cyber-familiar-option","name":"Cyber-familiar","description":"Add a cyber-familiar servo-skull companion","points":10,"addWargear":"cyber-familiar"}],"points":null,"requiresUpgrade":"","targetModel":"praetor-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"terminator-praetor-model-replacement","name":"Terminator Praetor Model Replacement","description":"Replace the Cataphractii Praetor with a Tartaros Praetor for enhanced mobility.","maxCount":1,"options":[{"id":"tartaros-praetor-option","name":"Tartaros Praetor","description":"Replace Cataphractii Praetor with Tartaros Praetor","points":10,"replaceModel":"cataphractii-praetor-model","addModel":"tartaros-praetor-model"}],"points":null,"requiresUpgrade":"","targetModel":"cataphractii-praetor-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"model-replacement"},{"id":"terminator-praetor-power-weapon-options","name":"Terminator Praetor Power Weapon Options","description":"Exchange the power sword for other power weapons at no cost.","maxCount":1,"options":[{"id":"power-axe-option","name":"Power Axe","description":"Replace power sword with power axe","points":0,"replaceWeapon":"power-sword","addWeapon":"power-axe"},{"id":"power-maul-option","name":"Power Maul","description":"Replace power sword with power maul","points":0,"replaceWeapon":"power-sword","addWeapon":"power-maul"},{"id":"power-lance-option","name":"Power Lance","description":"Replace power sword with power lance","points":0,"replaceWeapon":"power-sword","addWeapon":"power-lance"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-terminator"],"type":"weapon"},{"id":"terminator-praetor-combi-bolter-replacements","name":"Terminator Praetor Combi-bolter Replacements","description":"Exchange the combi-bolter for other ranged weapons.","maxCount":1,"options":[{"id":"volkite-charger-combi-option","name":"Volkite Charger","description":"Replace combi-bolter with volkite charger","points":0,"replaceWeapon":"combi-bolter","addWeapon":"volkite-charger"},{"id":"combi-flamer-combi-option","name":"Combi-flamer","description":"Replace combi-bolter with a combi-flamer","points":5,"replaceWeapon":"combi-bolter","addWeapon":"combi-flamer"},{"id":"combi-melta-combi-option","name":"Combi-melta","description":"Replace combi-bolter with a combi-melta","points":5,"replaceWeapon":"combi-bolter","addWeapon":"combi-melta"},{"id":"combi-plasma-combi-option","name":"Combi-plasma","description":"Replace combi-bolter with a combi-plasma","points":5,"replaceWeapon":"combi-bolter","addWeapon":"combi-plasma"},{"id":"combi-volkite-combi-option","name":"Combi-volkite","description":"Replace combi-bolter with a combi-volkite","points":5,"replaceWeapon":"combi-bolter","addWeapon":"combi-volkite"},{"id":"combi-grenade-combi-option","name":"Combi-grenade","description":"Replace combi-bolter with a combi-grenade","points":5,"replaceWeapon":"combi-bolter","addWeapon":"combi-grenade"},{"id":"combi-disintegrator-combi-option","name":"Combi-disintegrator","description":"Replace combi-bolter with a combi-disintegrator","points":5,"replaceWeapon":"combi-bolter","addWeapon":"combi-disintegrator"},{"id":"combi-grav-combi-option","name":"Combi-grav","description":"Replace combi-bolter with a combi-grav","points":5,"replaceWeapon":"combi-bolter","addWeapon":"combi-grav"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-terminator"],"type":"weapon"},{"id":"terminator-praetor-power-weapon-upgrades","name":"Terminator Praetor Power Weapon Upgrades","description":"Exchange any power weapon for premium melee weapons.","maxCount":1,"options":[{"id":"paragon-blade-power-option","name":"Paragon Blade","description":"Replace any power weapon with a paragon blade","points":10,"weaponReplacements":[{"replaceWeapon":"power-sword","addWeapon":"paragon-blade"},{"replaceWeapon":"power-axe","addWeapon":"paragon-blade"},{"replaceWeapon":"power-maul","addWeapon":"paragon-blade"},{"replaceWeapon":"power-lance","addWeapon":"paragon-blade"}]}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-terminator"],"type":"weapon"},{"id":"terminator-praetor-lightning-claws","name":"Terminator Praetor Lightning Claws","description":"Exchange both the combi-bolter and power weapon for a pair of lightning claws.","maxCount":1,"options":[{"id":"lightning-claws-terminator-option","name":"Pair of Lightning Claws","description":"Replace both combi-bolter and any power weapon with a pair of lightning claws","points":5,"weaponReplacements":[{"replaceWeapon":"combi-bolter","addWeapon":"lightning-claw"},{"replaceWeapon":"power-sword","addWeapon":"lightning-claw"}]}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-terminator"],"type":"weapon"},{"id":"saturnine-praetor-weapon-replacements","name":"Saturnine Praetor Weapon Replacements","description":"Exchange the Saturnine War Axe or Saturnine Disruption Fist for a Saturnine Concussion Hammer.","maxCount":1,"options":[{"id":"concussion-hammer-war-axe-option","name":"Saturnine Concussion Hammer (replace War Axe)","description":"Replace Saturnine War Axe with Saturnine Concussion Hammer","points":10,"replaceWeapon":"saturnine-war-axe","addWeapon":"saturnine-concussion-hammer"},{"id":"concussion-hammer-fist-option","name":"Saturnine Concussion Hammer (replace Fist)","description":"Replace Saturnine Disruption Fist with Saturnine Concussion Hammer","points":10,"replaceWeapon":"saturnine-disruption-fist","addWeapon":"saturnine-concussion-hammer"}],"points":null,"requiresUpgrade":"","targetModel":"saturnine-praetor-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"saturnine-praetor-additional-weapons","name":"Saturnine Praetor Additional Weapons","description":"Add additional weapons to the Saturnine Praetor without replacing existing equipment.","maxCount":1,"options":[{"id":"extra-plasma-blaster-option","name":"Extra Plasma Blaster","description":"Add an extra plasma blaster","points":10,"addWeapon":"plasma-blaster"}],"points":null,"requiresUpgrade":"","targetModel":"saturnine-praetor-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"saturnine-praetor-teleportation-upgrade","name":"Saturnine Praetor Teleportation Upgrade","description":"Add a Saturnine Teleportation Transponder for deep strike capability.","maxCount":1,"options":[{"id":"teleportation-transponder-option","name":"Saturnine Teleportation Transponder","description":"Add teleportation transponder for deep strike capability","points":60,"addWargear":"saturnine-teleportation-transponder"}],"points":null,"requiresUpgrade":"","targetModel":"saturnine-praetor-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"centurion-model-replacement","name":"Centurion Model Replacement","description":"Replace the Centurion with a Centurion with Jump Pack for enhanced mobility.","maxCount":1,"options":[{"id":"centurion-jump-pack-option","name":"Centurion with Jump Pack","description":"Replace Centurion with Centurion with Jump Pack","points":20,"replaceModel":"centurion-model","addModel":"centurion-jump-pack-model"}],"points":null,"requiresUpgrade":"","targetModel":"centurion-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"model-replacement"},{"id":"centurion-bolt-pistol-replacements","name":"Centurion Bolt Pistol Replacements","description":"The Centurion can exchange their bolt pistol for specialized weapons.","maxCount":1,"options":[{"id":"paragon-blade-pistol-centurion-option","name":"Paragon Blade","description":"Replace bolt pistol with a paragon blade","points":15,"replaceWeapon":"bolt-pistol","addWeapon":"paragon-blade"},{"id":"archaeotech-pistol-pistol-centurion-option","name":"Archaeotech Pistol","description":"Replace bolt pistol with an archaeotech pistol","points":15,"replaceWeapon":"bolt-pistol","addWeapon":"archaeotech-pistol"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-officer-model"],"type":"weapon"},{"id":"centurion-bolter-replacements","name":"Centurion Bolter Replacements","description":"The Centurion can exchange their bolter for specialized weapons.","maxCount":1,"options":[{"id":"paragon-blade-bolter-centurion-option","name":"Paragon Blade","description":"Replace bolter with a paragon blade","points":15,"replaceWeapon":"bolter","addWeapon":"paragon-blade"},{"id":"archaeotech-pistol-bolter-centurion-option","name":"Archaeotech Pistol","description":"Replace bolter with an archaeotech pistol","points":15,"replaceWeapon":"bolter","addWeapon":"archaeotech-pistol"},{"id":"astartes-shotgun-centurion-option","name":"Astartes Shotgun","description":"Replace bolter with an astartes shotgun","points":2,"replaceWeapon":"bolter","addWeapon":"astartes-shotgun"},{"id":"volkite-charger-centurion-option","name":"Volkite Charger","description":"Replace bolter with a volkite charger","points":2,"replaceWeapon":"bolter","addWeapon":"volkite-charger"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-officer-model"],"type":"weapon"},{"id":"centurion-lightning-claws","name":"Centurion Lightning Claws","description":"The Centurion can exchange both their bolter and bolt pistol for a pair of lightning claws.","maxCount":1,"options":[{"id":"lightning-claws-pair-centurion-option","name":"Pair of Lightning Claws","description":"Replace both bolter and bolt pistol with a pair of lightning claws","points":20,"weaponReplacements":[{"replaceWeapon":"bolter","addWeapon":"lightning-claw"},{"replaceWeapon":"bolt-pistol","addWeapon":"lightning-claw"}]}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-officer-model"],"type":"weapon"},{"id":"centurion-additional-weapons","name":"Centurion Additional Weapons","description":"The Centurion can take additional weapons without replacing existing equipment.","maxCount":1,"options":[{"id":"melta-bombs-centurion-option","name":"Melta Bombs","description":"Add melta bombs","points":5,"addWeapon":"melta-bombs"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-officer-model"],"type":"weapon"},{"id":"centurion-bayonets","name":"Centurion Bayonets","description":"The Centurion can add a bayonet to their bolter if they still have it.","maxCount":1,"options":[{"id":"bayonet-centurion-option","name":"Bayonet","description":"Add a bayonet to the bolter","points":1,"addWeapon":"bayonet"},{"id":"chain-bayonet-centurion-option","name":"Chain Bayonet","description":"Add a chain bayonet to the bolter","points":2,"addWeapon":"chain-bayonet"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-officer-model"],"type":"weapon"},{"id":"centurion-vexilla","name":"Centurion Vexilla","description":"A Centurion without a jump pack can carry a vexilla as a symbol of authority.","maxCount":1,"options":[{"id":"vexilla-centurion-option","name":"Vexilla","description":"Add a vexilla banner","points":5,"addWargear":"vexilla"}],"points":null,"requiresUpgrade":"","targetModel":"centurion-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"centurion-cyber-familiar","name":"Centurion Cyber-familiar","description":"A Centurion without a jump pack can take a cyber-familiar for tactical assistance.","maxCount":1,"options":[{"id":"cyber-familiar-centurion-option","name":"Cyber-familiar","description":"Add a cyber-familiar servo-skull companion","points":10,"addWargear":"cyber-familiar"}],"points":null,"requiresUpgrade":"","targetModel":"centurion-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"terminator-centurion-model-replacement","name":"Terminator Centurion Model Replacement","description":"Replace the Cataphractii Centurion with a Tartaros Centurion for enhanced mobility at no cost.","maxCount":1,"options":[{"id":"tartaros-centurion-option","name":"Tartaros Centurion","description":"Replace Cataphractii Centurion with Tartaros Centurion","points":0,"replaceModel":"cataphractii-centurion-model","addModel":"tartaros-centurion-model"}],"points":null,"requiresUpgrade":"","targetModel":"cataphractii-centurion-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"model-replacement"},{"id":"terminator-centurion-power-weapon-options","name":"Terminator Centurion Power Weapon Options","description":"Exchange the power sword for other power weapons at no cost.","maxCount":1,"options":[{"id":"power-axe-centurion-option","name":"Power Axe","description":"Replace power sword with power axe","points":0,"replaceWeapon":"power-sword","addWeapon":"power-axe"},{"id":"power-maul-centurion-option","name":"Power Maul","description":"Replace power sword with power maul","points":0,"replaceWeapon":"power-sword","addWeapon":"power-maul"},{"id":"power-lance-centurion-option","name":"Power Lance","description":"Replace power sword with power lance","points":0,"replaceWeapon":"power-sword","addWeapon":"power-lance"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-terminator"],"type":"weapon"},{"id":"terminator-centurion-combi-bolter-replacements","name":"Terminator Centurion Combi-bolter Replacements","description":"Exchange the combi-bolter for other ranged weapons.","maxCount":1,"options":[{"id":"volkite-charger-centurion-combi-option","name":"Volkite Charger","description":"Replace combi-bolter with volkite charger","points":0,"replaceWeapon":"combi-bolter","addWeapon":"volkite-charger"},{"id":"combi-flamer-centurion-combi-option","name":"Combi-flamer","description":"Replace combi-bolter with a combi-flamer","points":5,"replaceWeapon":"combi-bolter","addWeapon":"combi-flamer"},{"id":"combi-melta-centurion-combi-option","name":"Combi-melta","description":"Replace combi-bolter with a combi-melta","points":5,"replaceWeapon":"combi-bolter","addWeapon":"combi-melta"},{"id":"combi-plasma-centurion-combi-option","name":"Combi-plasma","description":"Replace combi-bolter with a combi-plasma","points":5,"replaceWeapon":"combi-bolter","addWeapon":"combi-plasma"},{"id":"combi-volkite-centurion-combi-option","name":"Combi-volkite","description":"Replace combi-bolter with a combi-volkite","points":5,"replaceWeapon":"combi-bolter","addWeapon":"combi-volkite"},{"id":"combi-grenade-centurion-combi-option","name":"Combi-grenade","description":"Replace combi-bolter with a combi-grenade","points":5,"replaceWeapon":"combi-bolter","addWeapon":"combi-grenade"},{"id":"combi-disintegrator-centurion-combi-option","name":"Combi-disintegrator","description":"Replace combi-bolter with a combi-disintegrator","points":5,"replaceWeapon":"combi-bolter","addWeapon":"combi-disintegrator"},{"id":"combi-grav-centurion-combi-option","name":"Combi-grav","description":"Replace combi-bolter with a combi-grav","points":5,"replaceWeapon":"combi-bolter","addWeapon":"combi-grav"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-terminator"],"type":"weapon"},{"id":"terminator-centurion-power-weapon-upgrades","name":"Terminator Centurion Power Weapon Upgrades","description":"Exchange any power weapon for premium melee weapons.","maxCount":1,"options":[{"id":"paragon-blade-centurion-power-option","name":"Paragon Blade","description":"Replace any power weapon with a paragon blade","points":10,"weaponReplacements":[{"replaceWeapon":"power-sword","addWeapon":"paragon-blade"},{"replaceWeapon":"power-axe","addWeapon":"paragon-blade"},{"replaceWeapon":"power-maul","addWeapon":"paragon-blade"},{"replaceWeapon":"power-lance","addWeapon":"paragon-blade"}]}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-terminator"],"type":"weapon"},{"id":"terminator-centurion-lightning-claws","name":"Terminator Centurion Lightning Claws","description":"Exchange both the combi-bolter and power weapon for a pair of lightning claws.","maxCount":1,"options":[{"id":"lightning-claws-terminator-centurion-option","name":"Pair of Lightning Claws","description":"Replace both combi-bolter and any power weapon with a pair of lightning claws","points":5,"weaponReplacements":[{"replaceWeapon":"combi-bolter","addWeapon":"lightning-claw"},{"replaceWeapon":"power-sword","addWeapon":"lightning-claw"}]}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-terminator"],"type":"weapon"},{"id":"optae-model-replacement","name":"Optae Model Replacement","description":"Replace the Optae with an Optae with Jump Pack for enhanced mobility.","maxCount":1,"options":[{"id":"optae-jump-pack-option","name":"Optae with Jump Pack","description":"Replace Optae with Optae with Jump Pack","points":20,"replaceModel":"optae-model","addModel":"optae-jump-pack-model"}],"points":null,"requiresUpgrade":"","targetModel":"optae-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"model-replacement"},{"id":"optae-bolter-replacements","name":"Optae Bolter Replacements","description":"The Optae can exchange their bolter for other weapons.","maxCount":1,"options":[{"id":"astartes-shotgun-optae-option","name":"Astartes Shotgun","description":"Replace bolter with an astartes shotgun","points":2,"replaceWeapon":"bolter","addWeapon":"astartes-shotgun"},{"id":"volkite-charger-optae-option","name":"Volkite Charger","description":"Replace bolter with a volkite charger","points":2,"replaceWeapon":"bolter","addWeapon":"volkite-charger"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-sergeant"],"type":"weapon"},{"id":"optae-bolt-pistol-replacements","name":"Optae Bolt Pistol Replacements","description":"The Optae can exchange their bolt pistol for other weapons.","maxCount":1,"options":[{"id":"disintegrator-pistol-optae-option","name":"Disintegrator Pistol","description":"Replace bolt pistol with a disintegrator pistol","points":5,"replaceWeapon":"bolt-pistol","addWeapon":"disintegrator-pistol"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-sergeant"],"type":"weapon"},{"id":"optae-lightning-claws","name":"Optae Lightning Claws","description":"The Optae can exchange both their bolter and bolt pistol for a pair of lightning claws.","maxCount":1,"options":[{"id":"lightning-claws-pair-optae-option","name":"Pair of Lightning Claws","description":"Replace both bolter and bolt pistol with a pair of lightning claws","points":20,"weaponReplacements":[{"replaceWeapon":"bolter","addWeapon":"lightning-claw"},{"replaceWeapon":"bolt-pistol","addWeapon":"lightning-claw"}]}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-sergeant"],"type":"weapon"},{"id":"optae-additional-weapons","name":"Optae Additional Weapons","description":"The Optae can take additional weapons without replacing existing equipment.","maxCount":1,"options":[{"id":"melta-bombs-optae-option","name":"Melta Bombs","description":"Add melta bombs","points":5,"addWeapon":"melta-bombs"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-sergeant"],"type":"weapon"},{"id":"optae-bayonets","name":"Optae Bayonets","description":"The Optae can add a bayonet to their bolter if they still have it.","maxCount":1,"options":[{"id":"bayonet-optae-option","name":"Bayonet","description":"Add a bayonet to the bolter","points":1,"addWeapon":"bayonet"},{"id":"chain-bayonet-optae-option","name":"Chain Bayonet","description":"Add a chain bayonet to the bolter","points":2,"addWeapon":"chain-bayonet"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-sergeant"],"type":"weapon"},{"id":"tactical-squad-additional-legionaries","name":"Additional Legionaries","description":"Add additional Legionaries to the Tactical Squad.","maxCount":10,"options":[{"id":"additional-legionary-option","name":"Additional Legionary","description":"Add one additional Legionary to the squad","points":10,"addModel":"legionary-model"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"model-count"},{"id":"tactical-squad-vexilla","name":"Tactical Squad Vexilla","description":"One Legionary in the unit may have a vexilla selected for it.","maxCount":1,"options":[{"id":"vexilla-legionary-option","name":"Vexilla","description":"Add a vexilla banner to one Legionary","points":10,"addWargear":"vexilla"}],"points":null,"requiresUpgrade":"","targetModel":"legionary-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"tactical-squad-melta-bombs","name":"Tactical Squad Melta Bombs","description":"The Sergeant in this unit may have melta bombs selected for it.","maxCount":1,"options":[{"id":"melta-bombs-sergeant-option","name":"Melta Bombs","description":"Add melta bombs to the Sergeant","points":10,"addWeapon":"melta-bombs"}],"points":null,"requiresUpgrade":"","targetModel":"tactical-sergeant-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"tactical-squad-bayonets","name":"Tactical Squad Bayonets","description":"Any model in this unit with a bolter may have bayonets selected for it.","maxCount":20,"options":[{"id":"bayonet-tactical-option","name":"Bayonet","description":"Add a bayonet to a model with a bolter","points":1,"addWeapon":"bayonet"},{"id":"chain-bayonet-tactical-option","name":"Chain Bayonet","description":"Add a chain bayonet to a model with a bolter","points":2,"addWeapon":"chain-bayonet"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-basic-marine","legion-sergeant"],"type":"weapon"},{"id":"despoiler-squad-additional-legionaries","name":"Additional Despoiler Legionaries","description":"Add additional Despoiler Legionaries to the Despoiler Squad.","maxCount":10,"options":[{"id":"additional-despoiler-legionary-option","name":"Additional Despoiler Legionary","description":"Add one additional Despoiler Legionary to the squad","points":10,"addModel":"despoiler-legionary-model"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"model-count"},{"id":"despoiler-sergeant-lightning-claws","name":"Despoiler Sergeant Lightning Claws","description":"The Despoiler Sergeant may have its bolt pistol and chainsword exchanged for one pair of lightning claws.","maxCount":1,"options":[{"id":"lightning-claws-despoiler-sergeant-option","name":"Pair of Lightning Claws","description":"Replace both bolt pistol and chainsword with a pair of lightning claws","points":10,"weaponReplacements":[{"replaceWeapon":"bolt-pistol","addWeapon":"lightning-claw"},{"replaceWeapon":"chainsword","addWeapon":"lightning-claw"}]}],"points":null,"requiresUpgrade":"","targetModel":"despoiler-sergeant-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"despoiler-sergeant-melta-bombs","name":"Despoiler Sergeant Melta Bombs","description":"The Despoiler Sergeant in this unit may have melta bombs selected for it.","maxCount":1,"options":[{"id":"melta-bombs-despoiler-sergeant-option","name":"Melta Bombs","description":"Add melta bombs to the Despoiler Sergeant","points":10,"addWeapon":"melta-bombs"}],"points":null,"requiresUpgrade":"","targetModel":"despoiler-sergeant-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"despoiler-legionary-chainsword-upgrades","name":"Despoiler Legionary Chainsword Upgrades","description":"For every five models in this unit, one Despoiler Legionary may have its chainsword exchanged for one of the following.","maxCount":4,"options":[{"id":"heavy-chainsword-despoiler-option","name":"Heavy Chainsword","description":"Replace chainsword with heavy chainsword","points":5,"replaceWeapon":"chainsword","addWeapon":"heavy-chainsword"},{"id":"power-weapon-despoiler-option","name":"Power Weapon","description":"Replace chainsword with power weapon","points":10,"replaceWeapon":"chainsword","addWeapon":"power-sword"},{"id":"charnabal-sabre-despoiler-option","name":"Charnabal Sabre","description":"Replace chainsword with charnabal sabre","points":5,"replaceWeapon":"chainsword","addWeapon":"charnabal-sabre"}],"points":null,"requiresUpgrade":"","targetModel":"despoiler-legionary-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"despoiler-legionary-pistol-upgrades","name":"Despoiler Legionary Pistol Upgrades","description":"For every five models in this unit, one Despoiler Legionary may have its bolt pistol exchanged for one item from the Legion Pistols list.","maxCount":4,"options":[{"id":"plasma-pistol-despoiler-option","name":"Plasma Pistol","description":"Replace bolt pistol with plasma pistol","points":5,"replaceWeapon":"bolt-pistol","addWeapon":"plasma-pistol"},{"id":"hand-flamer-despoiler-option","name":"Hand Flamer","description":"Replace bolt pistol with hand flamer","points":5,"replaceWeapon":"bolt-pistol","addWeapon":"hand-flamer"},{"id":"volkite-serpenta-despoiler-option","name":"Volkite Serpenta","description":"Replace bolt pistol with volkite serpenta","points":5,"replaceWeapon":"bolt-pistol","addWeapon":"volkite-serpenta"}],"points":null,"requiresUpgrade":"","targetModel":"despoiler-legionary-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"despoiler-squad-vexilla","name":"Despoiler Squad Vexilla","description":"One Despoiler Legionary in the unit may have a vexilla selected for it.","maxCount":1,"options":[{"id":"vexilla-despoiler-legionary-option","name":"Vexilla","description":"Add a vexilla banner to one Despoiler Legionary","points":10,"addWargear":"vexilla"}],"points":null,"requiresUpgrade":"","targetModel":"despoiler-legionary-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"assault-squad-additional-legionaries","name":"Additional Assault Legionaries","description":"Add additional Assault Legionaries to the Assault Squad.","maxCount":10,"options":[{"id":"additional-assault-legionary-option","name":"Additional Assault Legionary","description":"Add one additional Assault Legionary to the squad","points":12,"addModel":"assault-legionary-model"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"model-count"},{"id":"assault-sergeant-disintegrator-pistol","name":"Assault Sergeant Disintegrator Pistol","description":"The Assault Sergeant may have its bolt pistol exchanged for a disintegrator pistol or one item from the Legion Pistols list.","maxCount":1,"options":[{"id":"disintegrator-pistol-assault-sergeant-option","name":"Disintegrator Pistol","description":"Replace bolt pistol with disintegrator pistol","points":5,"replaceWeapon":"bolt-pistol","addWeapon":"disintegrator-pistol"},{"id":"plasma-pistol-assault-sergeant-option","name":"Plasma Pistol","description":"Replace bolt pistol with plasma pistol","points":5,"replaceWeapon":"bolt-pistol","addWeapon":"plasma-pistol"},{"id":"hand-flamer-assault-sergeant-option","name":"Hand Flamer","description":"Replace bolt pistol with hand flamer","points":5,"replaceWeapon":"bolt-pistol","addWeapon":"hand-flamer"},{"id":"volkite-serpenta-assault-sergeant-option","name":"Volkite Serpenta","description":"Replace bolt pistol with volkite serpenta","points":5,"replaceWeapon":"bolt-pistol","addWeapon":"volkite-serpenta"}],"points":null,"requiresUpgrade":"","targetModel":"assault-sergeant-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"assault-sergeant-lightning-claws","name":"Assault Sergeant Lightning Claws","description":"The Assault Sergeant may have its bolt pistol and chainsword exchanged for one pair of lightning claws.","maxCount":1,"options":[{"id":"lightning-claws-assault-sergeant-option","name":"Pair of Lightning Claws","description":"Replace both bolt pistol and chainsword with a pair of lightning claws","points":10,"weaponReplacements":[{"replaceWeapon":"bolt-pistol","addWeapon":"lightning-claw"},{"replaceWeapon":"chainsword","addWeapon":"lightning-claw"}]}],"points":null,"requiresUpgrade":"","targetModel":"assault-sergeant-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"assault-sergeant-combat-shield-combo","name":"Assault Sergeant Combat Shield Combination","description":"The Assault Sergeant may have its bolt pistol and chainsword, or its combat shield and chainsword, exchanged for one combat shield and chainsword.","maxCount":1,"options":[{"id":"combat-shield-chainsword-assault-sergeant-option","name":"Combat Shield and Chainsword","description":"Replace bolt pistol and chainsword with combat shield and chainsword","points":0,"weaponReplacements":[{"replaceWeapon":"bolt-pistol","addWargear":"combat-shield"}]}],"points":null,"requiresUpgrade":"","targetModel":"assault-sergeant-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"assault-sergeant-melta-bombs","name":"Assault Sergeant Melta Bombs","description":"The Assault Sergeant may have melta bombs selected for it.","maxCount":1,"options":[{"id":"melta-bombs-assault-sergeant-option","name":"Melta Bombs","description":"Add melta bombs to the Assault Sergeant","points":10,"addWeapon":"melta-bombs"}],"points":null,"requiresUpgrade":"","targetModel":"assault-sergeant-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"assault-squad-combat-shields","name":"Assault Squad Combat Shields","description":"Every model in this unit may have its bolt pistol exchanged for a combat shield.","maxCount":20,"options":[{"id":"combat-shield-assault-option","name":"Combat Shield","description":"Replace bolt pistol with combat shield","points":2,"replaceWeapon":"bolt-pistol","addWargear":"combat-shield"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-assault-marine","legion-sergeant"],"type":"weapon"},{"id":"assault-squad-chainaxes","name":"Assault Squad Chainaxes","description":"Any model in this unit may have its chainsword exchanged for one chainaxe for free.","maxCount":20,"options":[{"id":"chainaxe-assault-option","name":"Chainaxe","description":"Replace chainsword with chainaxe","points":0,"replaceWeapon":"chainsword","addWeapon":"chainaxe"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-assault-marine","legion-sergeant"],"type":"weapon"},{"id":"assault-legionary-chainsword-upgrades","name":"Assault Legionary Chainsword Upgrades","description":"For every five models in this unit, one Assault Legionary may have one of the following options selected for it.","maxCount":4,"options":[{"id":"power-weapon-assault-legionary-option","name":"Power Weapon","description":"Have its chainsword exchanged for one power weapon","points":10,"replaceWeapon":"chainsword","addWeapon":"power-sword"},{"id":"charnabal-sabre-assault-legionary-option","name":"Charnabal Sabre","description":"Have its chainsword exchanged for one charnabal sabre","points":5,"replaceWeapon":"chainsword","addWeapon":"charnabal-sabre"},{"id":"heavy-chainsword-assault-legionary-option","name":"Heavy Chainsword","description":"Have its chainsword and bolt pistol, or its combat shield and chainsword, exchanged for one heavy chainsword","points":5,"weaponReplacements":[{"replaceWeapon":"chainsword","addWeapon":"heavy-chainsword"},{"replaceWeapon":"bolt-pistol"}]}],"points":null,"requiresUpgrade":"","targetModel":"assault-legionary-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"assault-legionary-heavy-chainaxes","name":"Assault Legionary Heavy Chainaxes","description":"For every five models in this unit, two Assault Legionaries may have their chainsword exchanged for one heavy chainaxe.","maxCount":8,"options":[{"id":"heavy-chainaxe-assault-legionary-option","name":"Heavy Chainaxe","description":"Replace chainsword with heavy chainaxe","points":5,"replaceWeapon":"chainsword","addWeapon":"heavy-chainaxe"}],"points":null,"requiresUpgrade":"","targetModel":"assault-legionary-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"assault-legionary-pistol-upgrades","name":"Assault Legionary Pistol Upgrades","description":"For every five models in this unit, one Assault Legionary may have its bolt pistol exchanged for one item from the Legion Pistols list.","maxCount":4,"options":[{"id":"plasma-pistol-assault-legionary-option","name":"Plasma Pistol","description":"Replace bolt pistol with plasma pistol","points":5,"replaceWeapon":"bolt-pistol","addWeapon":"plasma-pistol"},{"id":"hand-flamer-assault-legionary-option","name":"Hand Flamer","description":"Replace bolt pistol with hand flamer","points":5,"replaceWeapon":"bolt-pistol","addWeapon":"hand-flamer"},{"id":"volkite-serpenta-assault-legionary-option","name":"Volkite Serpenta","description":"Replace bolt pistol with volkite serpenta","points":5,"replaceWeapon":"bolt-pistol","addWeapon":"volkite-serpenta"}],"points":null,"requiresUpgrade":"","targetModel":"assault-legionary-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"breacher-squad-additional-legionaries","name":"Additional Breacher Legionaries","description":"Add additional Breacher Legionaries to the Breacher Squad.","maxCount":10,"options":[{"id":"additional-breacher-legionary-option","name":"Additional Breacher Legionary","description":"Add one additional Breacher Legionary to the squad","points":12,"addModel":"breacher-legionary-model"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"model-count"},{"id":"breacher-sergeant-melta-bombs","name":"Breacher Sergeant Melta Bombs","description":"The Breacher Sergeant may have melta bombs selected for it.","maxCount":1,"options":[{"id":"melta-bombs-breacher-sergeant-option","name":"Melta Bombs","description":"Add melta bombs to the Breacher Sergeant","points":10,"addWeapon":"melta-bombs"}],"points":null,"requiresUpgrade":"","targetModel":"breacher-sergeant-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"breacher-legionary-special-weapons","name":"Breacher Legionary Special Weapons","description":"For every five models in this unit, one Breacher Legionary may have its bolter exchanged for one of the following.","maxCount":4,"options":[{"id":"graviton-gun-breacher-option","name":"Graviton Gun","description":"Replace bolter with graviton gun","points":10,"replaceWeapon":"bolter","addWeapon":"graviton-gun"},{"id":"lascutter-breacher-option","name":"Lascutter","description":"Replace bolter with lascutter","points":10,"replaceWeapon":"bolter","addWeapon":"lascutter"}],"points":null,"requiresUpgrade":"","targetModel":"breacher-legionary-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"breacher-squad-vexilla","name":"Breacher Squad Vexilla","description":"One Breacher Legionary in the unit may have a vexilla selected for it.","maxCount":1,"options":[{"id":"vexilla-breacher-legionary-option","name":"Vexilla","description":"Add a vexilla banner to one Breacher Legionary","points":10,"addWargear":"vexilla"}],"points":null,"requiresUpgrade":"","targetModel":"breacher-legionary-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"tactical-support-squad-additional-legionaries","name":"Additional Tactical Support Legionaries","description":"Add additional Tactical Support Legionaries to the squad.","maxCount":5,"options":[{"id":"additional-tactical-support-legionary-option","name":"Additional Tactical Support Legionary","description":"Add one additional Tactical Support Legionary to the squad","points":8,"addModel":"tactical-support-legionary-model"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"model-count"},{"id":"tactical-support-mandatory-special-weapons","name":"Mandatory Special Weapons","description":"Every model in this unit must have one item from the Legion Special Weapons list selected for it. Every model in this unit must have the same item selected for it.","maxCount":10,"options":[{"id":"flamer-tactical-support-option","name":"Flamer","description":"Add flamer to model","points":5,"addWeapon":"flamer"},{"id":"plasma-gun-tactical-support-option","name":"Plasma Gun","description":"Add plasma gun to model","points":10,"addWeapon":"plasma-gun"},{"id":"meltagun-tactical-support-option","name":"Meltagun","description":"Add meltagun to model","points":15,"addWeapon":"meltagun"},{"id":"volkite-charger-tactical-support-option","name":"Volkite Charger","description":"Add volkite charger to model","points":5,"addWeapon":"volkite-charger"},{"id":"volkite-caliver-tactical-support-option","name":"Volkite Caliver","description":"Add volkite caliver to model","points":10,"addWeapon":"volkite-caliver"},{"id":"rotor-cannon-tactical-support-option","name":"Rotor Cannon","description":"Add rotor cannon to model","points":10,"addWeapon":"rotor-cannon"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-support-marine","legion-sergeant"],"type":"weapon"},{"id":"tactical-support-sergeant-melta-bombs","name":"Tactical Support Sergeant Melta Bombs","description":"The Sergeant in this unit may have melta bombs selected for it.","maxCount":1,"options":[{"id":"melta-bombs-tactical-support-sergeant-option","name":"Melta Bombs","description":"Add melta bombs to the Sergeant","points":10,"addWeapon":"melta-bombs"}],"points":null,"requiresUpgrade":"","targetModel":"tactical-support-sergeant-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"tactical-support-squad-vexilla","name":"Tactical Support Squad Vexilla","description":"One Legionary in this unit may have a vexilla selected for it.","maxCount":1,"options":[{"id":"vexilla-tactical-support-legionary-option","name":"Vexilla","description":"Add a vexilla banner to one Legionary","points":10,"addWargear":"vexilla"}],"points":null,"requiresUpgrade":"","targetModel":"tactical-support-legionary-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"heavy-support-squad-additional-legionaries","name":"Additional Heavy Support Legionaries","description":"Add additional Heavy Support Legionaries to the squad.","maxCount":5,"options":[{"id":"additional-heavy-support-legionary-option","name":"Additional Heavy Support Legionary","description":"Add one additional Heavy Support Legionary to the squad","points":10,"addModel":"heavy-support-legionary-model"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"model-count"},{"id":"heavy-support-mandatory-heavy-weapons","name":"Mandatory Heavy Weapons","description":"Every model in this unit must have one item from the Legion Heavy Weapons list selected for it. Every model in this unit must have the same item selected for it.","maxCount":10,"options":[{"id":"heavy-bolter-heavy-support-option","name":"Heavy Bolter","description":"Add heavy bolter to model","points":10,"addWeapon":"heavy-bolter"},{"id":"heavy-flamer-heavy-support-option","name":"Heavy Flamer","description":"Add heavy flamer to model","points":10,"addWeapon":"heavy-flamer"},{"id":"autocannon-heavy-support-option","name":"Autocannon","description":"Add autocannon to model","points":20,"addWeapon":"autocannon"},{"id":"missile-launcher-heavy-support-option","name":"Missile Launcher","description":"Add missile launcher to model","points":15,"addWeapon":"missile-launcher"},{"id":"multi-melta-heavy-support-option","name":"Multi-melta","description":"Add multi-melta to model","points":25,"addWeapon":"multi-melta"},{"id":"plasma-cannon-heavy-support-option","name":"Plasma Cannon","description":"Add plasma cannon to model","points":20,"addWeapon":"plasma-cannon"},{"id":"volkite-culverin-heavy-support-option","name":"Volkite Culverin","description":"Add volkite culverin to model","points":15,"addWeapon":"volkite-culverin"},{"id":"lascannon-heavy-support-option","name":"Lascannon","description":"Add lascannon to model","points":25,"addWeapon":"lascannon"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-heavy-support-marine","legion-sergeant"],"type":"weapon"},{"id":"heavy-support-squad-vexilla","name":"Heavy Support Squad Vexilla","description":"One Legionary in this unit may have a vexilla selected for it.","maxCount":1,"options":[{"id":"vexilla-heavy-support-legionary-option","name":"Vexilla","description":"Add a vexilla banner to one Legionary","points":10,"addWargear":"vexilla"}],"points":null,"requiresUpgrade":"","targetModel":"heavy-support-legionary-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"legion-rapier-battery-additional-crews","name":"Additional Rapier Crews","description":"The unit can include up to 3 additional rapier crews (each crew consists of 2 Legionaries and 1 Rapier Carrier).","maxCount":3,"options":[{"id":"additional-legion-rapier-crew-option","name":"Additional Rapier Crew","description":"Add one Rapier Crew (2 Legionaries and 1 Rapier Carrier) to the unit","points":40,"addModels":{"legion-rapier-gunner-model":2,"legion-rapier-carrier-model":1}}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"model-group-count"},{"id":"legion-rapier-carrier-weapon-upgrades","name":"Legion Rapier Carrier Weapon Upgrades","description":"Each Rapier Carrier in this unit may have its Gravis heavy bolter battery exchanged for one of the following.","maxCount":4,"options":[{"id":"laser-destroyer-legion-rapier-option","name":"Laser Destroyer","description":"Replace Gravis heavy bolter battery with laser destroyer","points":25,"replaceWeapon":"gravis-heavy-bolter-battery","addWeapon":"laser-destroyer"},{"id":"graviton-cannon-legion-rapier-option","name":"Graviton Cannon","description":"Replace Gravis heavy bolter battery with graviton cannon","points":20,"replaceWeapon":"gravis-heavy-bolter-battery","addWeapon":"graviton-cannon"},{"id":"quad-launcher-legion-rapier-option","name":"Quad Launcher","description":"Replace Gravis heavy bolter battery with quad launcher","points":20,"replaceWeapon":"gravis-heavy-bolter-battery","addWeapon":"quad-launcher"}],"points":null,"requiresUpgrade":"","targetModel":"legion-rapier-carrier-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"legion-rapier-phosphex-canister-shot","name":"Phosphex Canister Shot","description":"If your Army includes a Siege Breaker Model with the same Faction Trait as the Models in this Unit, any Rapier Carrier with a quad launcher in this Unit may also have phosphex canister shot.","maxCount":4,"options":[{"id":"phosphex-canister-shot-legion-rapier-option","name":"Phosphex Canister Shot","description":"Add phosphex canister shot to a Rapier Carrier with quad launcher","points":15,"addWeapon":"phosphex-canister-shot"}],"points":null,"requiresUpgrade":"quad-launcher-legion-rapier-option","targetModel":"legion-rapier-carrier-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"techmarine-melta-bombs","name":"Techmarine Melta Bombs","description":"This Model may have melta bombs selected for it.","maxCount":1,"options":[{"id":"melta-bombs-techmarine-option","name":"Melta Bombs","description":"Add melta bombs to the Techmarine","points":10,"addWeapon":"melta-bombs"}],"points":null,"requiresUpgrade":"","targetModel":"techmarine-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"techmarine-cyber-familiar","name":"Techmarine Cyber-familiar","description":"This Model may have one cyber-familiar selected for it.","maxCount":1,"options":[{"id":"cyber-familiar-techmarine-option","name":"Cyber-familiar","description":"Add a cyber-familiar to the Techmarine","points":10,"addWargear":"cyber-familiar"}],"points":null,"requiresUpgrade":"","targetModel":"techmarine-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"contemptor-mandatory-weapon-configuration","name":"Mandatory Weapon Configuration","description":"This Model must have one of the following options selected for it.","maxCount":1,"options":[{"id":"gravis-power-fist-combi-bolter-config","name":"Two Options: Gravis power fist and one combi-bolter","description":"Select two weapon options from the available list","points":10,"weaponReplacements":[{"remove":"","add":"gravis-power-fist"},{"remove":"","add":"combi-bolter"}]},{"id":"gravis-chainfist-combi-bolter-config","name":"Two Options: Gravis chainfist and one combi-bolter","description":"Select two weapon options from the available list","points":10,"weaponReplacements":[{"remove":"","add":"gravis-chainfist"},{"remove":"","add":"combi-bolter"}]},{"id":"gravis-bolt-cannon-config","name":"Gravis bolt cannon","description":"Select Gravis bolt cannon","points":0,"addWeapon":"gravis-bolt-cannon"},{"id":"gravis-melta-cannon-config","name":"Gravis melta cannon","description":"Select Gravis melta cannon","points":15,"addWeapon":"gravis-melta-cannon"},{"id":"gravis-autocannon-config","name":"Gravis autocannon","description":"Select Gravis autocannon","points":10,"addWeapon":"gravis-autocannon"},{"id":"gravis-plasma-cannon-config","name":"Gravis plasma cannon","description":"Select Gravis plasma cannon","points":10,"addWeapon":"gravis-plasma-cannon"},{"id":"conversion-beam-cannon-config","name":"Conversion beam cannon","description":"Select conversion beam cannon","points":20,"addWeapon":"conversion-beam-cannon"},{"id":"twin-volkite-culverin-config","name":"Twin volkite culverin","description":"Select twin volkite culverin","points":15,"addWeapon":"twin-volkite-culverin"},{"id":"kheres-assault-cannon-config","name":"Kheres assault cannon","description":"Select Kheres assault cannon","points":15,"addWeapon":"kheres-assault-cannon"},{"id":"twin-lascannon-config","name":"Twin lascannon","description":"Select twin lascannon","points":15,"addWeapon":"twin-lascannon"},{"id":"paired-gravis-power-fists-config","name":"Paired Gravis power fists and two combi-bolters","description":"Select paired power fists configuration","points":5,"weaponReplacements":[{"remove":"","add":"gravis-power-fist"},{"remove":"","add":"gravis-power-fist"},{"remove":"","add":"combi-bolter"},{"remove":"","add":"combi-bolter"}]},{"id":"paired-gravis-chainfists-config","name":"Paired Gravis chainfists and two combi-bolters","description":"Select paired chainfists configuration","points":5,"weaponReplacements":[{"remove":"","add":"gravis-chainfist"},{"remove":"","add":"gravis-chainfist"},{"remove":"","add":"combi-bolter"},{"remove":"","add":"combi-bolter"}]}],"points":null,"requiresUpgrade":"","targetModel":"contemptor-dreadnought-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"contemptor-combi-bolter-replacements","name":"Combi-bolter Replacements","description":"Each of this Model's combi-bolters may be exchanged for one of the following.","maxCount":2,"options":[{"id":"heavy-flamer-contemptor-option","name":"Heavy Flamer","description":"Replace combi-bolter with heavy flamer","points":5,"replaceWeapon":"combi-bolter","addWeapon":"heavy-flamer"},{"id":"plasma-blaster-contemptor-option","name":"Plasma Blaster","description":"Replace combi-bolter with plasma blaster","points":10,"replaceWeapon":"combi-bolter","addWeapon":"plasma-blaster"},{"id":"graviton-gun-contemptor-option","name":"Graviton Gun","description":"Replace combi-bolter with graviton gun","points":10,"replaceWeapon":"combi-bolter","addWeapon":"graviton-gun"},{"id":"meltagun-contemptor-option","name":"Meltagun","description":"Replace combi-bolter with meltagun","points":15,"replaceWeapon":"combi-bolter","addWeapon":"meltagun"}],"points":null,"requiresUpgrade":"","targetModel":"contemptor-dreadnought-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"contemptor-havoc-launcher","name":"Havoc Launcher","description":"This Model may have havoc launcher selected for it.","maxCount":1,"options":[{"id":"havoc-launcher-contemptor-option","name":"Havoc Launcher","description":"Add havoc launcher to the Contemptor","points":5,"addWeapon":"havoc-launcher"}],"points":null,"requiresUpgrade":"","targetModel":"contemptor-dreadnought-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"deredeo-anvilus-autocannon-replacements","name":"Anvilus Autocannon Battery Replacements","description":"This Model may have its Anvilus autocannon battery exchanged for one of the following.","maxCount":1,"options":[{"id":"hellfire-plasma-cannonade-deredeo-option","name":"Hellfire Plasma Cannonade","description":"Replace Anvilus autocannon battery with Hellfire plasma cannonade","points":15,"replaceWeapon":"anvilus-autocannon-battery","addWeapon":"hellfire-plasma-cannonade"},{"id":"arachnus-heavy-lascannon-battery-deredeo-option","name":"Arachnus Heavy Lascannon Battery","description":"Replace Anvilus autocannon battery with Arachnus heavy lascannon battery","points":25,"replaceWeapon":"anvilus-autocannon-battery","addWeapon":"arachnus-heavy-lascannon-battery"},{"id":"volkite-falconet-deredeo-option","name":"Volkite Falconet","description":"Replace Anvilus autocannon battery with Volkite falconet","points":0,"replaceWeapon":"anvilus-autocannon-battery","addWeapon":"volkite-falconet"}],"points":null,"requiresUpgrade":"","targetModel":"deredeo-dreadnought-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"deredeo-aiolos-missile-replacements","name":"Aiolos Missile Launcher Replacements","description":"This Model may have its Aiolos missile launcher exchanged for four Boreas air defence missiles.","maxCount":1,"options":[{"id":"boreas-air-defence-missiles-deredeo-option","name":"Four Boreas Air Defence Missiles","description":"Replace Aiolos missile launcher with four Boreas air defence missiles","points":0,"replaceWeapon":"aiolos-missile-launcher","addWeapon":"boreas-air-defence-missiles"}],"points":null,"requiresUpgrade":"","targetModel":"deredeo-dreadnought-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"deredeo-twin-heavy-bolter-replacements","name":"Twin Heavy Bolter Replacements","description":"This Model may have its twin heavy bolter exchanged for one twin heavy flamer.","maxCount":1,"options":[{"id":"twin-heavy-flamer-deredeo-option","name":"Twin Heavy Flamer","description":"Replace twin heavy bolter with twin heavy flamer","points":0,"replaceWeapon":"twin-heavy-bolter","addWeapon":"twin-heavy-flamer"}],"points":null,"requiresUpgrade":"","targetModel":"deredeo-dreadnought-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"leviathan-mandatory-weapon-configuration","name":"Mandatory Weapon Configuration","description":"This Model must have one of the following options selected for it.","maxCount":1,"options":[{"id":"leviathan-siege-claw-meltagun-config","name":"Two Options: Leviathan siege claw and one meltagun","description":"Select siege claw and meltagun configuration","points":0,"weaponReplacements":[{"remove":"","add":"leviathan-siege-claw"},{"remove":"","add":"meltagun"}]},{"id":"leviathan-siege-drill-meltagun-config","name":"Two Options: Leviathan siege drill and one meltagun","description":"Select siege drill and meltagun configuration","points":10,"weaponReplacements":[{"remove":"","add":"leviathan-siege-drill"},{"remove":"","add":"meltagun"}]},{"id":"grav-flux-bombard-config","name":"Grav-flux bombard","description":"Select grav-flux bombard","points":10,"addWeapon":"grav-flux-bombard"},{"id":"leviathan-storm-cannon-config","name":"Leviathan storm cannon","description":"Select Leviathan storm cannon","points":15,"addWeapon":"leviathan-storm-cannon"},{"id":"cyclonic-melta-lance-config","name":"Cyclonic melta lance","description":"Select cyclonic melta lance","points":20,"addWeapon":"cyclonic-melta-lance"},{"id":"paired-leviathan-siege-claws-config","name":"Paired Leviathan siege claws and two meltaguns","description":"Select paired siege claws configuration","points":5,"weaponReplacements":[{"remove":"","add":"leviathan-siege-claw"},{"remove":"","add":"leviathan-siege-claw"},{"remove":"","add":"meltagun"},{"remove":"","add":"meltagun"}]},{"id":"paired-leviathan-siege-drills-config","name":"Paired Leviathan siege drills and two meltaguns","description":"Select paired siege drills configuration","points":15,"weaponReplacements":[{"remove":"","add":"leviathan-siege-drill"},{"remove":"","add":"leviathan-siege-drill"},{"remove":"","add":"meltagun"},{"remove":"","add":"meltagun"}]}],"points":null,"requiresUpgrade":"","targetModel":"leviathan-dreadnought-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"leviathan-heavy-flamer-replacements","name":"Heavy Flamer Replacements","description":"Both of this Model's heavy flamers may be exchanged for two twin volkite calivers.","maxCount":1,"options":[{"id":"twin-volkite-calivers-leviathan-option","name":"Two Twin Volkite Calivers","description":"Replace both heavy flamers with two twin volkite calivers","points":15,"weaponReplacements":[{"remove":"heavy-flamer","add":"twin-volkite-caliver"},{"remove":"heavy-flamer","add":"twin-volkite-caliver"}]}],"points":null,"requiresUpgrade":"","targetModel":"leviathan-dreadnought-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"leviathan-phosphex-discharger","name":"Phosphex Discharger","description":"This Model may have one phosphex discharger selected for it.","maxCount":1,"options":[{"id":"phosphex-discharger-leviathan-option","name":"Phosphex Discharger","description":"Add phosphex discharger to the Leviathan","points":20,"addWeapon":"phosphex-discharger"}],"points":null,"requiresUpgrade":"","targetModel":"leviathan-dreadnought-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"saturnine-heavy-plasma-bombard-replacements","name":"Heavy Plasma Bombard Replacements","description":"This Model may have its heavy plasma bombard exchanged for one of the following.","maxCount":1,"options":[{"id":"disintegrator-cannon-saturnine-option","name":"Disintegrator Cannon","description":"Replace heavy plasma bombard with disintegrator cannon","points":10,"replaceWeapon":"heavy-plasma-bombard","addWeapon":"disintegrator-cannon"},{"id":"inversion-beamer-saturnine-option","name":"Inversion Beamer","description":"Replace heavy plasma bombard with inversion beamer","points":10,"replaceWeapon":"heavy-plasma-bombard","addWeapon":"inversion-beamer"},{"id":"graviton-pulveriser-saturnine-option","name":"Graviton Pulveriser","description":"Replace heavy plasma bombard with graviton pulveriser","points":10,"replaceWeapon":"heavy-plasma-bombard","addWeapon":"graviton-pulveriser"}],"points":null,"requiresUpgrade":"","targetModel":"saturnine-dreadnought-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"saturnine-disintegrator-cannon-replacements","name":"Disintegrator Cannon Replacements","description":"This Model may have its disintegrator cannon exchanged for one of the following.","maxCount":1,"options":[{"id":"heavy-plasma-bombard-saturnine-option","name":"Heavy Plasma Bombard","description":"Replace disintegrator cannon with heavy plasma bombard","points":0,"replaceWeapon":"disintegrator-cannon","addWeapon":"heavy-plasma-bombard"},{"id":"inversion-beamer-saturnine-cannon-option","name":"Inversion Beamer","description":"Replace disintegrator cannon with inversion beamer","points":0,"replaceWeapon":"disintegrator-cannon","addWeapon":"inversion-beamer"},{"id":"graviton-pulveriser-saturnine-cannon-option","name":"Graviton Pulveriser","description":"Replace disintegrator cannon with graviton pulveriser","points":0,"replaceWeapon":"disintegrator-cannon","addWeapon":"graviton-pulveriser"}],"points":null,"requiresUpgrade":"","targetModel":"saturnine-dreadnought-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"saturnine-photonic-incinerator-replacements","name":"Photonic Incinerator Replacements","description":"Both of this Model's photonic incinerators may be exchanged for one of the following.","maxCount":1,"options":[{"id":"concussive-resonators-saturnine-option","name":"Two Concussive Resonators","description":"Replace both photonic incinerators with two concussive resonators","points":10,"weaponReplacements":[{"remove":"photonic-incinerator","add":"concussive-resonator"},{"remove":"photonic-incinerator","add":"concussive-resonator"}]},{"id":"heavy-particle-shredders-saturnine-option","name":"Two Heavy Particle Shredders","description":"Replace both photonic incinerators with two heavy particle shredders","points":10,"weaponReplacements":[{"remove":"photonic-incinerator","add":"heavy-particle-shredder"},{"remove":"photonic-incinerator","add":"heavy-particle-shredder"}]}],"points":null,"requiresUpgrade":"","targetModel":"saturnine-dreadnought-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"rhino-pintle-mounted-combi-bolter-upgrades","name":"Pintle Mounted Combi-bolter Upgrades","description":"Each of this Model's Pintle Mounted bolters may be exchanged for one Pintle Mounted combi-bolter.","maxCount":2,"options":[{"id":"pintle-mounted-combi-bolter-rhino-option","name":"Pintle Mounted Combi-bolter","description":"Replace Pintle Mounted bolter with Pintle Mounted combi-bolter","points":5,"replaceWeapon":"pintle-mounted-bolter","addWeapon":"pintle-mounted-combi-bolter"}],"points":null,"requiresUpgrade":"","targetModel":"rhino-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"rhino-legion-pintle-weapons","name":"Legion Pintle Weapons","description":"One of this Model's Pintle Mounted bolters may be exchanged for one item from the Legion Pintle Weapons list.","maxCount":1,"options":[{"id":"pintle-mounted-heavy-bolter-rhino-option","name":"Pintle Mounted Heavy Bolter","description":"Replace one Pintle Mounted bolter with Pintle Mounted heavy bolter","points":10,"replaceWeapon":"pintle-mounted-bolter","addWeapon":"pintle-mounted-heavy-bolter"},{"id":"pintle-mounted-heavy-flamer-rhino-option","name":"Pintle Mounted Heavy Flamer","description":"Replace one Pintle Mounted bolter with Pintle Mounted heavy flamer","points":15,"replaceWeapon":"pintle-mounted-bolter","addWeapon":"pintle-mounted-heavy-flamer"},{"id":"pintle-mounted-multi-melta-rhino-option","name":"Pintle Mounted Multi-melta","description":"Replace one Pintle Mounted bolter with Pintle Mounted multi-melta","points":25,"replaceWeapon":"pintle-mounted-bolter","addWeapon":"pintle-mounted-multi-melta"}],"points":null,"requiresUpgrade":"","targetModel":"rhino-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"rhino-additional-equipment","name":"Additional Equipment","description":"This Model may have one of each of the following selected for it.","maxCount":3,"options":[{"id":"searchlights-rhino-option","name":"Searchlights","description":"Add searchlights to the Rhino","points":5,"addWargear":"searchlights"},{"id":"hull-mounted-hunter-killer-missile-rhino-option","name":"One Hull (Front) Mounted Hunter-killer Missile","description":"Add one hull mounted hunter-killer missile","points":10,"addWeapon":"hull-mounted-hunter-killer-missile"},{"id":"dozer-blade-rhino-option","name":"Dozer Blade","description":"Add dozer blade to the Rhino","points":5,"addWargear":"dozer-blade"}],"points":null,"requiresUpgrade":"","targetModel":"rhino-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"termite-combi-bolter-replacements","name":"Combi-bolter Replacements","description":"Both of this Model's combi-bolters may be exchanged for one of the following.","maxCount":1,"options":[{"id":"twin-volkite-chargers-termite-option","name":"Two Pintle Mounted Twin Volkite Chargers","description":"Replace both combi-bolters with two Pintle Mounted twin volkite chargers","points":10,"weaponReplacements":[{"remove":"pintle-mounted-combi-bolter","add":"pintle-mounted-twin-volkite-charger"},{"remove":"pintle-mounted-combi-bolter","add":"pintle-mounted-twin-volkite-charger"}]},{"id":"heavy-flamers-termite-option","name":"Two Pintle Mounted Heavy Flamers","description":"Replace both combi-bolters with two Pintle Mounted heavy flamers","points":5,"weaponReplacements":[{"remove":"pintle-mounted-combi-bolter","add":"pintle-mounted-heavy-flamer"},{"remove":"pintle-mounted-combi-bolter","add":"pintle-mounted-heavy-flamer"}]}],"points":null,"requiresUpgrade":"","targetModel":"termite-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"damocles-pintle-mounted-combi-bolter-upgrades","name":"Pintle Mounted Combi-bolter Upgrades","description":"Each of this Model's Pintle Mounted bolters may be exchanged for one Pintle Mounted combi-bolter.","maxCount":2,"options":[{"id":"pintle-mounted-combi-bolter-damocles-option","name":"Pintle Mounted Combi-bolter","description":"Replace Pintle Mounted bolter with Pintle Mounted combi-bolter","points":5,"replaceWeapon":"pintle-mounted-bolter","addWeapon":"pintle-mounted-combi-bolter"}],"points":null,"requiresUpgrade":"","targetModel":"damocles-command-rhino-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"damocles-legion-pintle-weapons","name":"Legion Pintle Weapons","description":"One of this Model's Pintle Mounted bolters may be exchanged for one item from the Legion Pintle Weapons list.","maxCount":1,"options":[{"id":"pintle-mounted-heavy-bolter-damocles-option","name":"Pintle Mounted Heavy Bolter","description":"Replace one Pintle Mounted bolter with Pintle Mounted heavy bolter","points":10,"replaceWeapon":"pintle-mounted-bolter","addWeapon":"pintle-mounted-heavy-bolter"},{"id":"pintle-mounted-heavy-flamer-damocles-option","name":"Pintle Mounted Heavy Flamer","description":"Replace one Pintle Mounted bolter with Pintle Mounted heavy flamer","points":15,"replaceWeapon":"pintle-mounted-bolter","addWeapon":"pintle-mounted-heavy-flamer"},{"id":"pintle-mounted-multi-melta-damocles-option","name":"Pintle Mounted Multi-melta","description":"Replace one Pintle Mounted bolter with Pintle Mounted multi-melta","points":25,"replaceWeapon":"pintle-mounted-bolter","addWeapon":"pintle-mounted-multi-melta"}],"points":null,"requiresUpgrade":"","targetModel":"damocles-command-rhino-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"damocles-additional-equipment","name":"Additional Equipment","description":"This Model may have one of each of the following selected for it.","maxCount":2,"options":[{"id":"searchlight-damocles-option","name":"Searchlight","description":"Add searchlight to the Damocles Command Rhino","points":5,"addWargear":"searchlights"},{"id":"hull-mounted-hunter-killer-missile-damocles-option","name":"Hull (Front) Mounted Hunter-killer Missile","description":"Add one hull mounted hunter-killer missile","points":10,"addWeapon":"hull-mounted-hunter-killer-missile"}],"points":null,"requiresUpgrade":"","targetModel":"damocles-command-rhino-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"librarian-psychic-disciplines","name":"Psychic Disciplines","description":"This Model may have up to two of the following Psychic Disciplines selected for it.","maxCount":2,"options":[{"id":"biomancy-discipline-option","name":"Biomancy","description":"Select the Biomancy psychic discipline","points":20,"addWargear":"biomancy"},{"id":"pyromancy-discipline-option","name":"Pyromancy","description":"Select the Pyromancy psychic discipline","points":10,"addWargear":"pyromancy"},{"id":"telekinesis-discipline-option","name":"Telekinesis","description":"Select the Telekinesis psychic discipline","points":20,"addWargear":"telekinesis"},{"id":"divination-discipline-option","name":"Divination","description":"Select the Divination psychic discipline","points":20,"addWargear":"divination"},{"id":"thaumaturgy-discipline-option","name":"Thaumaturgy","description":"Select the Thaumaturgy psychic discipline","points":0,"addWargear":"thaumaturgy"},{"id":"telepathy-discipline-option","name":"Telepathy","description":"Select the Telepathy psychic discipline","points":10,"addWargear":"telepathy"}],"points":null,"requiresUpgrade":"","targetModel":"librarian-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"legion-champion-weapon-upgrades","name":"Legion Champion Weapon Upgrades","description":"This Model may have its volkite serpenta exchanged for one combi-melta.","maxCount":1,"options":[{"id":"combi-melta-champion-option","name":"Combi-melta","description":"Replace volkite serpenta with combi-melta","points":10,"replaceWeapon":"volkite-serpenta","addWeapon":"combi-melta"}],"points":null,"requiresUpgrade":"","targetModel":"legion-champion-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"legion-champion-melta-bombs","name":"Melta Bombs","description":"This Model may have melta bombs selected for it.","maxCount":1,"options":[{"id":"melta-bombs-champion-option","name":"Melta Bombs","description":"Add melta bombs to the Legion Champion","points":5,"addWeapon":"melta-bombs"}],"points":null,"requiresUpgrade":"","targetModel":"legion-champion-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"praevian-melta-bombs","name":"Melta Bombs","description":"This Model may have melta bombs selected for it.","maxCount":1,"options":[{"id":"melta-bombs-praevian-option","name":"Melta Bombs","description":"Add melta bombs to the Praevian","points":5,"addWeapon":"melta-bombs"}],"points":null,"requiresUpgrade":"","targetModel":"praevian-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"moritat-weapon-upgrades","name":"Overcharged Weapon Upgrades","description":"This Model may have both its overcharged volkite serpenta exchanged for two overcharged plasma pistols.","maxCount":1,"options":[{"id":"overcharged-plasma-pistols-moritat-option","name":"Two Overcharged Plasma Pistols","description":"Replace both overcharged volkite serpenta with two overcharged plasma pistols","points":10,"weaponReplacements":[{"remove":"overcharged-volkite-serpenta","add":"overcharged-plasma-pistol"},{"remove":"overcharged-volkite-serpenta","add":"overcharged-plasma-pistol"}]}],"points":null,"requiresUpgrade":"","targetModel":"moritat-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"moritat-melta-bombs","name":"Melta Bombs","description":"This Model may have melta bombs selected for it.","maxCount":1,"options":[{"id":"melta-bombs-moritat-option","name":"Melta Bombs","description":"Add melta bombs to the Moritat","points":5,"addWeapon":"melta-bombs"}],"points":null,"requiresUpgrade":"","targetModel":"moritat-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"siege-breaker-pistol-upgrades","name":"Pistol Upgrades","description":"This Model may have its bolt pistol exchanged for a disintegrator pistol or one item from the Legion Pistols list.","maxCount":1,"options":[{"id":"disintegrator-pistol-siege-breaker-option","name":"Disintegrator Pistol","description":"Replace bolt pistol with disintegrator pistol","points":5,"replaceWeapon":"bolt-pistol","addWeapon":"disintegrator-pistol"}],"points":null,"requiresUpgrade":"","targetModel":"siege-breaker-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"siege-breaker-melta-bombs","name":"Melta Bombs","description":"This Model may have melta bombs selected for it.","maxCount":1,"options":[{"id":"melta-bombs-siege-breaker-option","name":"Melta Bombs","description":"Add melta bombs to the Siege Breaker","points":5,"addWeapon":"melta-bombs"}],"points":null,"requiresUpgrade":"","targetModel":"siege-breaker-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"overseer-power-weapon-upgrades","name":"Power Weapon Upgrades","description":"This Model may have its power lash exchanged for one power maul for free.","maxCount":1,"options":[{"id":"power-maul-overseer-option","name":"Power Maul","description":"Replace power lash with power maul","points":0,"replaceWeapon":"power-lash","addWeapon":"power-maul"}],"points":null,"requiresUpgrade":"","targetModel":"overseer-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"overseer-vexilla","name":"Vexilla","description":"This Model may have one vexilla selected for it.","maxCount":1,"options":[{"id":"vexilla-overseer-option","name":"Vexilla","description":"Add vexilla to the Overseer","points":10,"addWargear":"vexilla"}],"points":null,"requiresUpgrade":"","targetModel":"overseer-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"overseer-melta-bombs","name":"Melta Bombs","description":"This Model may have melta bombs selected for it.","maxCount":1,"options":[{"id":"melta-bombs-overseer-option","name":"Melta Bombs","description":"Add melta bombs to the Overseer","points":5,"addWeapon":"melta-bombs"}],"points":null,"requiresUpgrade":"","targetModel":"overseer-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"herald-power-weapon-upgrades","name":"Power Weapon Upgrades","description":"This Model may have its power weapon exchanged for one power fist for +10 Points.","maxCount":1,"options":[{"id":"power-fist-herald-option","name":"Power Fist","description":"Replace power weapon with power fist","points":10,"replaceWeapon":"power-sword","addWeapon":"power-fist"}],"points":null,"requiresUpgrade":"","targetModel":"herald-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"herald-melta-bombs","name":"Melta Bombs","description":"This Model may have melta bombs selected for it.","maxCount":1,"options":[{"id":"melta-bombs-herald-option","name":"Melta Bombs","description":"Add melta bombs to the Herald","points":5,"addWeapon":"melta-bombs"}],"points":null,"requiresUpgrade":"","targetModel":"herald-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"chaplain-melta-bombs","name":"Melta Bombs","description":"This Model may have melta bombs selected for it.","maxCount":1,"options":[{"id":"melta-bombs-chaplain-option","name":"Melta Bombs","description":"Add melta bombs to the Chaplain","points":5,"addWeapon":"melta-bombs"}],"points":null,"requiresUpgrade":"","targetModel":"chaplain-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"praetorian-ranged-weapon-upgrades","name":"Ranged Weapon Upgrades","description":"Any Model in this Unit may have its bolter exchanged for one item from the Legion Combi-weapons list, one item from the Legion Sergeant Melee Weapons list or one of the following.","maxCount":"dependent","options":[{"id":"astartes-shotgun-praetorian-option","name":"Astartes Shotgun","description":"Replace bolter with Astartes shotgun","points":2,"replaceWeapon":"bolter","addWeapon":"astartes-shotgun"},{"id":"disintegrator-rifle-praetorian-option","name":"Disintegrator Rifle","description":"Replace bolter with disintegrator rifle","points":5,"replaceWeapon":"bolter","addWeapon":"disintegrator-rifle"},{"id":"volkite-charger-praetorian-option","name":"Volkite Charger","description":"Replace bolter with volkite charger","points":2,"replaceWeapon":"bolter","addWeapon":"volkite-charger"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-chosen","legion-chosen-champion"],"type":"weapon"},{"id":"praetorian-combat-shield-upgrades","name":"Combat Shield Upgrades","description":"Any Model in this Unit whose bolter has been exchanged for an item from the Legion Sergeant Melee Weapons list may have its bolt pistol exchanged for one combat shield.","maxCount":"dependent","options":[{"id":"combat-shield-praetorian-option","name":"Combat Shield","description":"Replace bolt pistol with combat shield","points":2,"replaceWeapon":"bolt-pistol","addWargear":"combat-shield"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-chosen","legion-chosen-champion"],"type":"wargear"},{"id":"praetorian-champion-disintegrator-pistol","name":"Champion Disintegrator Pistol","description":"The Chosen Champion in this Unit may have its bolt pistol exchanged for one disintegrator pistol.","maxCount":1,"options":[{"id":"disintegrator-pistol-champion-option","name":"Disintegrator Pistol","description":"Replace bolt pistol with disintegrator pistol","points":5,"replaceWeapon":"bolt-pistol","addWeapon":"disintegrator-pistol"}],"points":null,"requiresUpgrade":"","targetModel":"chosen-champion-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"praetorian-lightning-claws","name":"Lightning Claws","description":"Any Model in this Unit may have their bolter and bolt pistol exchanged for one pair of lightning claws.","maxCount":"dependent","options":[{"id":"lightning-claws-praetorian-option","name":"Pair of Lightning Claws","description":"Replace bolter and bolt pistol with pair of lightning claws","points":10,"weaponReplacements":[{"remove":"bolter","add":"lightning-claw"},{"remove":"bolt-pistol","add":"lightning-claw"}]}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-chosen","legion-chosen-champion"],"type":"weapon"},{"id":"praetorian-bayonets","name":"Bayonets","description":"Any Model in this Unit with a bolter may have one of the following selected for it.","maxCount":"dependent","options":[{"id":"bayonet-praetorian-option","name":"Bayonet","description":"Add bayonet to model with bolter","points":1,"addWeapon":"bayonet"},{"id":"chain-bayonet-praetorian-option","name":"Chain Bayonet","description":"Add chain bayonet to model with bolter","points":2,"addWeapon":"chain-bayonet"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-chosen","legion-chosen-champion"],"type":"weapon"},{"id":"praetorian-legion-standard","name":"Legion Standard","description":"One Chosen in this Unit may have one Legion standard selected for it.","maxCount":1,"options":[{"id":"legion-standard-praetorian-option","name":"Legion Standard","description":"Add Legion standard to one Chosen","points":20,"addWargear":"legion-standard"}],"points":null,"requiresUpgrade":"","targetModel":"chosen-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"praetorian-jump-pack-ranged-weapon-upgrades","name":"Ranged Weapon Upgrades","description":"Any Model in this Unit may have its bolter exchanged for one item from the Legion Combi-weapons list, one item from the Legion Sergeant Melee Weapons list or one of the following.","maxCount":"dependent","options":[{"id":"astartes-shotgun-praetorian-jump-pack-option","name":"Astartes Shotgun","description":"Replace bolter with Astartes shotgun","points":2,"replaceWeapon":"bolter","addWeapon":"astartes-shotgun"},{"id":"disintegrator-rifle-praetorian-jump-pack-option","name":"Disintegrator Rifle","description":"Replace bolter with disintegrator rifle","points":5,"replaceWeapon":"bolter","addWeapon":"disintegrator-rifle"},{"id":"volkite-charger-praetorian-jump-pack-option","name":"Volkite Charger","description":"Replace bolter with volkite charger","points":2,"replaceWeapon":"bolter","addWeapon":"volkite-charger"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-chosen-jump-pack","legion-chosen-champion-jump-pack"],"type":"weapon"},{"id":"praetorian-jump-pack-combat-shield-upgrades","name":"Combat Shield Upgrades","description":"Any Model in this Unit whose bolter has been exchanged for an item from the Legion Sergeant Melee Weapons list may have its bolt pistol exchanged for one combat shield.","maxCount":"dependent","options":[{"id":"combat-shield-praetorian-jump-pack-option","name":"Combat Shield","description":"Replace bolt pistol with combat shield","points":2,"replaceWeapon":"bolt-pistol","addWargear":"combat-shield"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-chosen-jump-pack","legion-chosen-champion-jump-pack"],"type":"wargear"},{"id":"praetorian-jump-pack-champion-disintegrator-pistol","name":"Champion Disintegrator Pistol","description":"The Chosen Champion with Jump Pack in this Unit may have its bolt pistol exchanged for one disintegrator pistol.","maxCount":1,"options":[{"id":"disintegrator-pistol-champion-jump-pack-option","name":"Disintegrator Pistol","description":"Replace bolt pistol with disintegrator pistol","points":5,"replaceWeapon":"bolt-pistol","addWeapon":"disintegrator-pistol"}],"points":null,"requiresUpgrade":"","targetModel":"chosen-champion-jump-pack-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"praetorian-jump-pack-lightning-claws","name":"Lightning Claws","description":"Any Model in this Unit may have their bolter and bolt pistol exchanged for one pair of lightning claws.","maxCount":"dependent","options":[{"id":"lightning-claws-praetorian-jump-pack-option","name":"Pair of Lightning Claws","description":"Replace bolter and bolt pistol with pair of lightning claws","points":10,"weaponReplacements":[{"remove":"bolter","add":"lightning-claw"},{"remove":"bolt-pistol","add":"lightning-claw"}]}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-chosen-jump-pack","legion-chosen-champion-jump-pack"],"type":"weapon"},{"id":"praetorian-jump-pack-bayonets","name":"Bayonets","description":"Any Model in this Unit with a bolter may have one of the following selected for it.","maxCount":"dependent","options":[{"id":"bayonet-praetorian-jump-pack-option","name":"Bayonet","description":"Add bayonet to model with bolter","points":1,"addWeapon":"bayonet"},{"id":"chain-bayonet-praetorian-jump-pack-option","name":"Chain Bayonet","description":"Add chain bayonet to model with bolter","points":2,"addWeapon":"chain-bayonet"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-chosen-jump-pack","legion-chosen-champion-jump-pack"],"type":"weapon"},{"id":"praetorian-jump-pack-legion-standard","name":"Legion Standard","description":"One Chosen with Jump Pack in this Unit may have one Legion standard selected for it.","maxCount":1,"options":[{"id":"legion-standard-praetorian-jump-pack-option","name":"Legion Standard","description":"Add Legion standard to one Chosen with Jump Pack","points":20,"addWargear":"legion-standard"}],"points":null,"requiresUpgrade":"","targetModel":"chosen-jump-pack-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"centurion-ranged-weapon-upgrades","name":"Ranged Weapon Upgrades","description":"Any Model in this Unit may have its bolter exchanged for one item from the Legion Combi-weapons list, one item from the Legion Sergeant Melee Weapons list or one of the following.","maxCount":"dependent","options":[{"id":"astartes-shotgun-centurion-option","name":"Astartes Shotgun","description":"Replace bolter with Astartes shotgun","points":2,"replaceWeapon":"bolter","addWeapon":"astartes-shotgun"},{"id":"disintegrator-rifle-centurion-option","name":"Disintegrator Rifle","description":"Replace bolter with disintegrator rifle","points":5,"replaceWeapon":"bolter","addWeapon":"disintegrator-rifle"},{"id":"volkite-charger-centurion-option","name":"Volkite Charger","description":"Replace bolter with volkite charger","points":2,"replaceWeapon":"bolter","addWeapon":"volkite-charger"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-veteran","legion-veteran-champion"],"type":"weapon"},{"id":"centurion-combat-shield-upgrades","name":"Combat Shield Upgrades","description":"Any Model in this Unit whose bolter has been exchanged for an item from the Legion Sergeant Melee Weapons list may have its bolt pistol exchanged for one combat shield.","maxCount":"dependent","options":[{"id":"combat-shield-centurion-option","name":"Combat Shield","description":"Replace bolt pistol with combat shield","points":2,"replaceWeapon":"bolt-pistol","addWargear":"combat-shield"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-veteran","legion-veteran-champion"],"type":"wargear"},{"id":"centurion-champion-disintegrator-pistol","name":"Champion Disintegrator Pistol","description":"The Veteran Champion in this Unit may have its bolt pistol exchanged for one disintegrator pistol.","maxCount":1,"options":[{"id":"disintegrator-pistol-veteran-champion-option","name":"Disintegrator Pistol","description":"Replace bolt pistol with disintegrator pistol","points":5,"replaceWeapon":"bolt-pistol","addWeapon":"disintegrator-pistol"}],"points":null,"requiresUpgrade":"","targetModel":"veteran-champion-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"centurion-lightning-claws","name":"Lightning Claws","description":"Any Model in this Unit may have their bolter and bolt pistol exchanged for one pair of lightning claws.","maxCount":"dependent","options":[{"id":"lightning-claws-centurion-option","name":"Pair of Lightning Claws","description":"Replace bolter and bolt pistol with pair of lightning claws","points":10,"weaponReplacements":[{"remove":"bolter","add":"lightning-claw"},{"remove":"bolt-pistol","add":"lightning-claw"}]}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-veteran","legion-veteran-champion"],"type":"weapon"},{"id":"centurion-bayonets","name":"Bayonets","description":"Any Model in this Unit with a bolter may have one of the following selected for it.","maxCount":"dependent","options":[{"id":"bayonet-centurion-option","name":"Bayonet","description":"Add bayonet to model with bolter","points":1,"addWeapon":"bayonet"},{"id":"chain-bayonet-centurion-option","name":"Chain Bayonet","description":"Add chain bayonet to model with bolter","points":2,"addWeapon":"chain-bayonet"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-veteran","legion-veteran-champion"],"type":"weapon"},{"id":"centurion-vexilla","name":"Vexilla","description":"One Veteran in this Unit may have one Vexilla selected for it.","maxCount":1,"options":[{"id":"vexilla-centurion-option","name":"Vexilla","description":"Add Vexilla to one Veteran","points":10,"addWargear":"vexilla"}],"points":null,"requiresUpgrade":"","targetModel":"veteran-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"centurion-company-standard","name":"Company Standard","description":"One Veteran in this Unit may have one Company standard selected for it.","maxCount":1,"options":[{"id":"company-standard-centurion-option","name":"Company Standard","description":"Add Company standard to one Veteran","points":20,"addWargear":"company-standard"}],"points":null,"requiresUpgrade":"","targetModel":"veteran-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"tartaros-combi-bolter-upgrades","name":"Combi-bolter Upgrades","description":"Any Model in this Unit may have its combi-bolter exchanged for one volkite charger for Free or for one item from the Legion Combi-weapons list.","maxCount":"dependent","options":[{"id":"volkite-charger-tartaros-option","name":"Volkite Charger","description":"Replace combi-bolter with volkite charger","points":0,"replaceWeapon":"combi-bolter","addWeapon":"volkite-charger"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-tartaros-chosen","legion-tartaros-chosen-champion"],"type":"weapon"},{"id":"tartaros-power-weapon-upgrades","name":"Power Weapon Upgrades","description":"Any Model in this Unit may have its power weapon exchanged for one lightning claw.","maxCount":"dependent","options":[{"id":"lightning-claw-tartaros-option","name":"Lightning Claw","description":"Replace power weapon with lightning claw","points":5,"replaceWeapon":"power-weapon","addWeapon":"lightning-claw"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-tartaros-chosen","legion-tartaros-chosen-champion"],"type":"weapon"},{"id":"tartaros-lightning-claws-dual","name":"Dual Lightning Claws","description":"Any Model in this Unit may have its combi-bolter and power weapon exchanged for one pair of lightning claws.","maxCount":"dependent","options":[{"id":"dual-lightning-claws-tartaros-option","name":"Pair of Lightning Claws","description":"Replace combi-bolter and power weapon with pair of lightning claws","points":10,"weaponReplacements":[{"remove":"combi-bolter","add":"lightning-claw"},{"remove":"power-weapon","add":"lightning-claw"}]}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-tartaros-chosen","legion-tartaros-chosen-champion"],"type":"weapon"},{"id":"tartaros-legion-standard","name":"Legion Standard","description":"One Tartaros Chosen in this Unit may have its combi-bolter exchanged for one Legion standard.","maxCount":1,"options":[{"id":"legion-standard-tartaros-option","name":"Legion Standard","description":"Replace combi-bolter with Legion standard","points":20,"replaceWeapon":"combi-bolter","addWargear":"legion-standard"}],"points":null,"requiresUpgrade":"","targetModel":"tartaros-chosen-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"tartaros-champion-grenade-harness","name":"Champion Grenade Harness","description":"The Tartaros Chosen Champion in this Unit may have one grenade harness selected for it.","maxCount":1,"options":[{"id":"grenade-harness-tartaros-champion-option","name":"Grenade Harness","description":"Add grenade harness to Tartaros Chosen Champion","points":5,"addWargear":"grenade-harness"}],"points":null,"requiresUpgrade":"","targetModel":"tartaros-chosen-champion-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"cataphractii-volkite-charger-upgrades","name":"Volkite Charger Upgrades","description":"Any Model in this Unit may have its volkite charger exchanged for one combi-bolter for Free, or for one item from the Legion Combi-weapons list.","maxCount":"dependent","options":[{"id":"combi-bolter-cataphractii-option","name":"Combi-bolter","description":"Replace volkite charger with combi-bolter","points":0,"replaceWeapon":"volkite-charger","addWeapon":"combi-bolter"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-cataphractii-chosen","legion-cataphractii-chosen-champion"],"type":"weapon"},{"id":"cataphractii-power-weapon-upgrades","name":"Power Weapon Upgrades","description":"Any Model in this Unit may have its power weapon exchanged for one item from the Legion Terminator Melee Weapons list.","maxCount":"dependent","options":[],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-cataphractii-chosen","legion-cataphractii-chosen-champion"],"type":"weapon"},{"id":"cataphractii-lightning-claws-dual","name":"Dual Lightning Claws","description":"Any Model in this Unit may have its volkite charger and power weapon exchanged for one pair of lightning claws.","maxCount":"dependent","options":[{"id":"dual-lightning-claws-cataphractii-option","name":"Pair of Lightning Claws","description":"Replace volkite charger and power weapon with pair of lightning claws","points":10,"weaponReplacements":[{"remove":"volkite-charger","add":"lightning-claw"},{"remove":"power-weapon","add":"lightning-claw"}]}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-cataphractii-chosen","legion-cataphractii-chosen-champion"],"type":"weapon"},{"id":"cataphractii-legion-standard","name":"Legion Standard","description":"One Cataphractii Chosen in this Unit may have its volkite charger exchanged for one Legion standard.","maxCount":1,"options":[{"id":"legion-standard-cataphractii-option","name":"Legion Standard","description":"Replace volkite charger with Legion standard","points":20,"replaceWeapon":"volkite-charger","addWargear":"legion-standard"}],"points":null,"requiresUpgrade":"","targetModel":"cataphractii-chosen-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"cataphractii-champion-grenade-harness","name":"Champion Grenade Harness","description":"The Cataphractii Chosen Champion in this Unit may have one grenade harness selected for it.","maxCount":1,"options":[{"id":"grenade-harness-cataphractii-champion-option","name":"Grenade Harness","description":"Add grenade harness to Cataphractii Chosen Champion","points":5,"addWargear":"grenade-harness"}],"points":null,"requiresUpgrade":"","targetModel":"cataphractii-chosen-champion-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"veteran-tactical-ranged-weapon-upgrades","name":"Ranged Weapon Upgrades","description":"Any Model in this Unit may have its bolter exchanged for one item from the Legion Combi-weapons list or one of the following.","maxCount":"dependent","options":[{"id":"astartes-shotgun-veteran-tactical-option","name":"Astartes Shotgun","description":"Replace bolter with Astartes shotgun","points":2,"replaceWeapon":"bolter","addWeapon":"astartes-shotgun"},{"id":"disintegrator-rifle-veteran-tactical-option","name":"Disintegrator Rifle","description":"Replace bolter with disintegrator rifle","points":5,"replaceWeapon":"bolter","addWeapon":"disintegrator-rifle"},{"id":"volkite-charger-veteran-tactical-option","name":"Volkite Charger","description":"Replace bolter with volkite charger","points":2,"replaceWeapon":"bolter","addWeapon":"volkite-charger"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-veteran-tactical","legion-veteran-sergeant"],"type":"weapon"},{"id":"veteran-tactical-special-heavy-weapons","name":"Special and Heavy Weapons","description":"For every five Models in this Unit, one Veteran in this Unit may have its bolter exchanged for one item from the Legion Special Weapons list or one item from the Legion Heavy Weapons list or one of the following.","maxCount":"proportional-5","options":[{"id":"disintegrator-blaster-veteran-tactical-option","name":"Disintegrator Blaster","description":"Replace bolter with disintegrator blaster","points":10,"replaceWeapon":"bolter","addWeapon":"disintegrator-blaster"},{"id":"heavy-disintegrator-veteran-tactical-option","name":"Heavy Disintegrator","description":"Replace bolter with heavy disintegrator","points":15,"replaceWeapon":"bolter","addWeapon":"heavy-disintegrator"}],"points":null,"requiresUpgrade":"","targetModel":"veteran-tactical-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"veteran-tactical-sergeant-melee-upgrades","name":"Sergeant Melee Upgrades","description":"The Veteran Sergeant in this Unit may have its bolter and/or bolt pistol exchanged for one item each from the Legion Sergeant Melee Weapons list.","maxCount":2,"options":[],"points":null,"requiresUpgrade":"","targetModel":"veteran-sergeant-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"veteran-tactical-sergeant-pistol-upgrades","name":"Sergeant Pistol Upgrades","description":"The Veteran Sergeant in this Unit may have its bolt pistol exchanged for one disintegrator pistol or one item from the Legion Pistols list.","maxCount":1,"options":[{"id":"disintegrator-pistol-veteran-sergeant-option","name":"Disintegrator Pistol","description":"Replace bolt pistol with disintegrator pistol","points":5,"replaceWeapon":"bolt-pistol","addWeapon":"disintegrator-pistol"}],"points":null,"requiresUpgrade":"","targetModel":"veteran-sergeant-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"veteran-tactical-vexilla","name":"Vexilla","description":"One Veteran in this Unit may have one vexilla selected for it.","maxCount":1,"options":[{"id":"vexilla-veteran-tactical-option","name":"Vexilla","description":"Add vexilla to one Veteran","points":10,"addWargear":"vexilla"}],"points":null,"requiresUpgrade":"","targetModel":"veteran-tactical-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"veteran-tactical-equipment","name":"Legion Equipment","description":"Up to two Veterans in this Unit may have one item each from the Legion Equipment list selected for them.","maxCount":2,"options":[],"points":null,"requiresUpgrade":"","targetModel":"veteran-tactical-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"veteran-tactical-bayonets","name":"Bayonets","description":"Any Model in this Unit with a bolter may have one of the following selected for it.","maxCount":"dependent","options":[{"id":"bayonet-veteran-tactical-option","name":"Bayonet","description":"Add bayonet to model with bolter","points":1,"addWeapon":"bayonet"},{"id":"chain-bayonet-veteran-tactical-option","name":"Chain Bayonet","description":"Add chain bayonet to model with bolter","points":2,"addWeapon":"chain-bayonet"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-veteran-tactical","legion-veteran-sergeant"],"type":"weapon"},{"id":"veteran-assault-melee-upgrades","name":"Melee Weapon Upgrades","description":"Any Model in this Unit may have its chainsword exchanged for one item from the Legion Sergeant Melee Weapons list.","maxCount":"dependent","options":[],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-assault-veteran","legion-veteran-assault-sergeant"],"type":"weapon"},{"id":"veteran-assault-pistol-shield-upgrades","name":"Pistol and Shield Upgrades","description":"Any Model in this Unit may have its bolt pistol exchanged for one combat shield or one item from the Legion Pistols list.","maxCount":"dependent","options":[{"id":"combat-shield-veteran-assault-option","name":"Combat Shield","description":"Replace bolt pistol with combat shield","points":2,"replaceWeapon":"bolt-pistol","addWargear":"combat-shield"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-assault-veteran","legion-veteran-assault-sergeant"],"type":"wargear"},{"id":"veteran-assault-sergeant-pistol-upgrades","name":"Sergeant Pistol Upgrades","description":"The Veteran Assault Sergeant in this Unit may have its bolt pistol exchanged for one disintegrator pistol.","maxCount":1,"options":[{"id":"disintegrator-pistol-veteran-assault-sergeant-option","name":"Disintegrator Pistol","description":"Replace bolt pistol with disintegrator pistol","points":5,"replaceWeapon":"bolt-pistol","addWeapon":"disintegrator-pistol"}],"points":null,"requiresUpgrade":"","targetModel":"veteran-assault-sergeant-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"veteran-assault-sergeant-melta-bombs","name":"Sergeant Melta Bombs","description":"The Veteran Assault Sergeant in this Unit may have melta bombs selected for it.","maxCount":1,"options":[{"id":"melta-bombs-veteran-assault-sergeant-option","name":"Melta Bombs","description":"Add melta bombs to Veteran Assault Sergeant","points":10,"addWargear":"melta-bombs"}],"points":null,"requiresUpgrade":"","targetModel":"veteran-assault-sergeant-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"veteran-assault-proportional-pistols","name":"Proportional Pistol Upgrades","description":"For every five Models in this Unit, one Assault Veteran in this Unit may have its bolt pistol exchanged for one disintegrator pistol.","maxCount":"proportional-5","options":[{"id":"disintegrator-pistol-veteran-assault-option","name":"Disintegrator Pistol","description":"Replace bolt pistol with disintegrator pistol","points":5,"replaceWeapon":"bolt-pistol","addWeapon":"disintegrator-pistol"}],"points":null,"requiresUpgrade":"","targetModel":"assault-veteran-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"veteran-assault-lightning-claws","name":"Lightning Claws","description":"Any Model in this Unit may have its bolt pistol and chainsword exchanged for one pair of lightning claws.","maxCount":"dependent","options":[{"id":"lightning-claws-veteran-assault-option","name":"Pair of Lightning Claws","description":"Replace bolt pistol and chainsword with pair of lightning claws","points":10,"weaponReplacements":[{"remove":"bolt-pistol","add":"lightning-claw"},{"remove":"chainsword","add":"lightning-claw"}]}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-assault-veteran","legion-veteran-assault-sergeant"],"type":"weapon"},{"id":"veteran-assault-heavy-weapons","name":"Heavy Assault Weapons","description":"For every five Models in this Unit, two Assault Veterans in this Unit may have their chainsword exchanged for one of the following.","maxCount":"proportional-5-double","options":[{"id":"heavy-chainaxe-veteran-assault-option","name":"Heavy Chainaxe","description":"Replace chainsword with heavy chainaxe","points":5,"replaceWeapon":"chainsword","addWeapon":"heavy-chainaxe"},{"id":"heavy-chainsword-veteran-assault-option","name":"Heavy Chainsword","description":"Replace chainsword with heavy chainsword","points":5,"replaceWeapon":"chainsword","addWeapon":"heavy-chainsword"}],"points":null,"requiresUpgrade":"","targetModel":"assault-veteran-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"seeker-kraken-bolter-upgrades","name":"Kraken Bolter Upgrades","description":"Any Model in this Unit may have its kraken bolter exchanged for one item from the Legion Combi-weapons list.","maxCount":"dependent","options":[],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-seeker","legion-seeker-sergeant"],"type":"weapon"},{"id":"seeker-sergeant-melee-upgrades","name":"Sergeant Melee Upgrades","description":"The Seeker Sergeant in this Unit may have its kraken bolter and/or bolt pistol exchanged for one item each from the Legion Sergeant Melee Weapons list.","maxCount":2,"options":[],"points":null,"requiresUpgrade":"","targetModel":"seeker-sergeant-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"seeker-sergeant-pistol-upgrades","name":"Sergeant Pistol Upgrades","description":"The Seeker Sergeant in this Unit may have its bolt pistol exchanged for one disintegrator pistol or one item from the Legion Pistols list.","maxCount":1,"options":[{"id":"disintegrator-pistol-seeker-sergeant-option","name":"Disintegrator Pistol","description":"Replace bolt pistol with disintegrator pistol","points":5,"replaceWeapon":"bolt-pistol","addWeapon":"disintegrator-pistol"}],"points":null,"requiresUpgrade":"","targetModel":"seeker-sergeant-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"seeker-sergeant-melta-bombs","name":"Sergeant Melta Bombs","description":"The Seeker Sergeant in this Unit may have melta bombs selected for it.","maxCount":1,"options":[{"id":"melta-bombs-seeker-sergeant-option","name":"Melta Bombs","description":"Add melta bombs to Seeker Sergeant","points":10,"addWargear":"melta-bombs"}],"points":null,"requiresUpgrade":"","targetModel":"seeker-sergeant-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"seeker-bayonets","name":"Bayonets","description":"Any Model in this Unit with a kraken bolter may have one of the following selected for it.","maxCount":"dependent","options":[{"id":"bayonet-seeker-option","name":"Bayonet","description":"Add bayonet to model with kraken bolter","points":1,"addWeapon":"bayonet"},{"id":"chain-bayonet-seeker-option","name":"Chain Bayonet","description":"Add chain bayonet to model with kraken bolter","points":2,"addWeapon":"chain-bayonet"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-seeker","legion-seeker-sergeant"],"type":"weapon"},{"id":"seeker-equipment","name":"Legion Equipment","description":"Up to two Seekers in this Unit may have one item each from the Legion Equipment list selected for them.","maxCount":2,"options":[],"points":null,"requiresUpgrade":"","targetModel":"seeker-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"cataphractii-terminator-volkite-charger-upgrades","name":"Volkite Charger Upgrades","description":"Any Model in this Unit may have its volkite charger exchanged for one combi-bolter for Free, or for one item from the Legion Combi-weapons list.","maxCount":"dependent","options":[{"id":"combi-bolter-cataphractii-terminator-option","name":"Combi-bolter","description":"Replace volkite charger with combi-bolter","points":0,"replaceWeapon":"volkite-charger","addWeapon":"combi-bolter"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-cataphractii-terminator","legion-cataphractii-terminator-sergeant"],"type":"weapon"},{"id":"cataphractii-terminator-power-weapon-upgrades","name":"Power Weapon Upgrades","description":"Any Model in this Unit may have its power weapon exchanged for one item from the Legion Terminator Melee Weapons list.","maxCount":"dependent","options":[],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-cataphractii-terminator","legion-cataphractii-terminator-sergeant"],"type":"weapon"},{"id":"cataphractii-terminator-lightning-claws-dual","name":"Dual Lightning Claws","description":"Any Model in this Unit may have its volkite charger and power weapon exchanged for one pair of lightning claws.","maxCount":"dependent","options":[{"id":"dual-lightning-claws-cataphractii-terminator-option","name":"Pair of Lightning Claws","description":"Replace volkite charger and power weapon with pair of lightning claws","points":10,"weaponReplacements":[{"remove":"volkite-charger","add":"lightning-claw"},{"remove":"power-weapon","add":"lightning-claw"}]}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-cataphractii-terminator","legion-cataphractii-terminator-sergeant"],"type":"weapon"},{"id":"cataphractii-terminator-sergeant-grenade-harness","name":"Sergeant Grenade Harness","description":"The Cataphractii Terminator Sergeant in this Unit may have one grenade harness selected for it.","maxCount":1,"options":[{"id":"grenade-harness-cataphractii-terminator-sergeant-option","name":"Grenade Harness","description":"Add grenade harness to Cataphractii Terminator Sergeant","points":5,"addWargear":"grenade-harness"}],"points":null,"requiresUpgrade":"","targetModel":"cataphractii-terminator-sergeant-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"cataphractii-terminator-heavy-weapons","name":"Heavy Weapons","description":"For every five Models in this Unit, one Cataphractii Terminator in this Unit may have its volkite charger exchanged for one of the following.","maxCount":"proportional-5","options":[{"id":"heavy-flamer-cataphractii-terminator-option","name":"Heavy Flamer","description":"Replace volkite charger with heavy flamer","points":5,"replaceWeapon":"volkite-charger","addWeapon":"heavy-flamer"},{"id":"reaper-autocannon-cataphractii-terminator-option","name":"Reaper Autocannon","description":"Replace volkite charger with reaper autocannon","points":15,"replaceWeapon":"volkite-charger","addWeapon":"reaper-autocannon"},{"id":"plasma-blaster-cataphractii-terminator-option","name":"Plasma Blaster","description":"Replace volkite charger with plasma blaster","points":10,"replaceWeapon":"volkite-charger","addWeapon":"plasma-blaster"}],"points":null,"requiresUpgrade":"","targetModel":"cataphractii-terminator-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"tartaros-terminator-combi-bolter-upgrades","name":"Combi-bolter Upgrades","description":"Any Model in this Unit may have its combi-bolter exchanged for one volkite charger for Free, or for one item from the Legion Combi-weapons list.","maxCount":"dependent","options":[{"id":"volkite-charger-tartaros-terminator-option","name":"Volkite Charger","description":"Replace combi-bolter with volkite charger","points":0,"replaceWeapon":"combi-bolter","addWeapon":"volkite-charger"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-tartaros-terminator","legion-tartaros-terminator-sergeant"],"type":"weapon"},{"id":"tartaros-terminator-power-weapon-upgrades","name":"Power Weapon Upgrades","description":"Any Model in this Unit may have its power weapon exchanged for one lightning claw.","maxCount":"dependent","options":[{"id":"lightning-claw-tartaros-terminator-option","name":"Lightning Claw","description":"Replace power weapon with lightning claw","points":5,"replaceWeapon":"power-weapon","addWeapon":"lightning-claw"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-tartaros-terminator","legion-tartaros-terminator-sergeant"],"type":"weapon"},{"id":"tartaros-terminator-lightning-claws-dual","name":"Dual Lightning Claws","description":"Any Model in this Unit may have its combi-bolter and power weapon exchanged for one pair of lightning claws.","maxCount":"dependent","options":[{"id":"dual-lightning-claws-tartaros-terminator-option","name":"Pair of Lightning Claws","description":"Replace combi-bolter and power weapon with pair of lightning claws","points":10,"weaponReplacements":[{"remove":"combi-bolter","add":"lightning-claw"},{"remove":"power-weapon","add":"lightning-claw"}]}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-tartaros-terminator","legion-tartaros-terminator-sergeant"],"type":"weapon"},{"id":"tartaros-terminator-sergeant-grenade-harness","name":"Sergeant Grenade Harness","description":"The Tartaros Terminator Sergeant in this Unit may have one grenade harness selected for it.","maxCount":1,"options":[{"id":"grenade-harness-tartaros-terminator-sergeant-option","name":"Grenade Harness","description":"Add grenade harness to Tartaros Terminator Sergeant","points":5,"addWargear":"grenade-harness"}],"points":null,"requiresUpgrade":"","targetModel":"tartaros-terminator-sergeant-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"tartaros-terminator-heavy-weapons","name":"Heavy Weapons","description":"For every five Models in this Unit, one Tartaros Terminator in this Unit may have its combi-bolter exchanged for one of the following.","maxCount":"proportional-5","options":[{"id":"heavy-flamer-tartaros-terminator-option","name":"Heavy Flamer","description":"Replace combi-bolter with heavy flamer","points":5,"replaceWeapon":"combi-bolter","addWeapon":"heavy-flamer"},{"id":"reaper-autocannon-tartaros-terminator-option","name":"Reaper Autocannon","description":"Replace combi-bolter with reaper autocannon","points":15,"replaceWeapon":"combi-bolter","addWeapon":"reaper-autocannon"},{"id":"plasma-blaster-tartaros-terminator-option","name":"Plasma Blaster","description":"Replace combi-bolter with plasma blaster","points":10,"replaceWeapon":"combi-bolter","addWeapon":"plasma-blaster"}],"points":null,"requiresUpgrade":"","targetModel":"tartaros-terminator-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"saturnine-disruption-fist-upgrades","name":"Disruption Fist Upgrades","description":"Any Model in this Unit may have its Saturnine disruption fist exchanged for one plasma bombard for Free, or for one twin heavy disintegrator.","maxCount":"dependent","options":[{"id":"plasma-bombard-saturnine-option","name":"Plasma Bombard","description":"Replace Saturnine disruption fist with plasma bombard","points":0,"replaceWeapon":"saturnine-disruption-fist","addWeapon":"plasma-bombard"},{"id":"twin-heavy-disintegrator-saturnine-option","name":"Twin Heavy Disintegrator","description":"Replace Saturnine disruption fist with twin heavy disintegrator","points":10,"replaceWeapon":"saturnine-disruption-fist","addWeapon":"twin-heavy-disintegrator"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-saturnine-terminator","legion-saturnine-terminator-sergeant"],"type":"weapon"},{"id":"saturnine-plasma-bombard-upgrades","name":"Plasma Bombard Upgrades","description":"Any Model in this Unit may have its plasma bombard exchanged for one twin heavy disintegrator.","maxCount":"dependent","options":[{"id":"twin-heavy-disintegrator-plasma-saturnine-option","name":"Twin Heavy Disintegrator","description":"Replace plasma bombard with twin heavy disintegrator","points":10,"replaceWeapon":"plasma-bombard","addWeapon":"twin-heavy-disintegrator"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-saturnine-terminator","legion-saturnine-terminator-sergeant"],"type":"weapon"},{"id":"saturnine-particle-shredder","name":"Particle Shredder","description":"Any Model in this Unit with a Saturnine disruption fist may have one particle shredder selected for it.","maxCount":"dependent","options":[{"id":"particle-shredder-saturnine-option","name":"Particle Shredder","description":"Add particle shredder to model with Saturnine disruption fist","points":5,"addWeapon":"particle-shredder"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-saturnine-terminator","legion-saturnine-terminator-sergeant"],"type":"weapon"},{"id":"land-raider-carrier-hull-weapon-upgrades","name":"Hull Weapon Upgrades","description":"This Model may have its Hull (Front) Mounted twin heavy bolter exchanged for one of the following.","maxCount":1,"options":[{"id":"twin-heavy-flamer-land-raider-option","name":"Twin Heavy Flamer","description":"Replace Hull (Front) twin heavy bolter with twin heavy flamer","points":0,"weaponReplacements":[{"remove":{"id":"twin-heavy-bolter","mount":"Hull (Front) Mounted"},"add":{"id":"twin-heavy-flamer","mount":"Hull (Front) Mounted"}}]},{"id":"twin-lascannon-land-raider-option","name":"Twin Lascannon","description":"Replace Hull (Front) twin heavy bolter with twin lascannon","points":10,"weaponReplacements":[{"remove":{"id":"twin-heavy-bolter","mount":"Hull (Front) Mounted"},"add":{"id":"twin-lascannon","mount":"Hull (Front) Mounted"}}]}],"points":null,"requiresUpgrade":"","targetModel":"land-raider-carrier-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"land-raider-carrier-pintle-weapons","name":"Pintle Weapons","description":"This Model may have one item from the Legion Pintle Weapons list selected for it.","maxCount":1,"options":[],"points":null,"requiresUpgrade":"","targetModel":"land-raider-carrier-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"land-raider-carrier-hunter-killer-missile","name":"Hunter-Killer Missile","description":"This Model may have one Hull (Front) Mounted hunter-killer missile selected for it.","maxCount":1,"options":[{"id":"hunter-killer-missile-land-raider-option","name":"Hunter-Killer Missile","description":"Add Hull (Front) Mounted hunter-killer missile","points":5,"addWeapon":{"id":"hunter-killer-missile","mount":"Hull (Front) Mounted"}}],"points":null,"requiresUpgrade":"","targetModel":"land-raider-carrier-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"land-raider-carrier-searchlights","name":"Searchlights","description":"This Model may have searchlights selected for it.","maxCount":1,"options":[{"id":"searchlights-land-raider-option","name":"Searchlights","description":"Add searchlights to Land Raider Carrier","points":5,"addWargear":"searchlights"}],"points":null,"requiresUpgrade":"","targetModel":"land-raider-carrier-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"spartan-sponson-weapon-upgrades","name":"Sponson Weapon Upgrades","description":"This Model may have both its Sponson Mounted lascannon arrays exchanged for one of the following.","maxCount":1,"options":[{"id":"laser-destroyers-spartan-option","name":"Two Sponson Mounted Laser Destroyers","description":"Replace both sponson lascannon arrays with laser destroyers","points":0,"weaponReplacements":[{"remove":{"id":"lascannon-array","mount":"Left Sponson Mounted"},"add":{"id":"laser-destroyer","mount":"Left Sponson Mounted"}},{"remove":{"id":"lascannon-array","mount":"Right Sponson Mounted"},"add":{"id":"laser-destroyer","mount":"Right Sponson Mounted"}}]},{"id":"gravis-heavy-bolter-battery-spartan-option","name":"Two Sponson Mounted Gravis Heavy Bolter Battery","description":"Replace both sponson lascannon arrays with Gravis heavy bolter battery","points":0,"weaponReplacements":[{"remove":{"id":"lascannon-array","mount":"Left Sponson Mounted"},"add":{"id":"gravis-heavy-bolter-battery","mount":"Left Sponson Mounted"}},{"remove":{"id":"lascannon-array","mount":"Right Sponson Mounted"},"add":{"id":"gravis-heavy-bolter-battery","mount":"Right Sponson Mounted"}}]}],"points":null,"requiresUpgrade":"","targetModel":"spartan-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"spartan-hull-weapon-upgrades","name":"Hull Weapon Upgrades","description":"This Model may have its Hull (Front) Mounted twin heavy bolter exchanged for one of the following.","maxCount":1,"options":[{"id":"twin-heavy-flamer-spartan-option","name":"Twin Heavy Flamer","description":"Replace Hull (Front) twin heavy bolter with twin heavy flamer","points":0,"weaponReplacements":[{"remove":{"id":"twin-heavy-bolter","mount":"Hull (Front) Mounted"},"add":{"id":"twin-heavy-flamer","mount":"Hull (Front) Mounted"}}]},{"id":"twin-lascannon-spartan-option","name":"Twin Lascannon","description":"Replace Hull (Front) twin heavy bolter with twin lascannon","points":10,"weaponReplacements":[{"remove":{"id":"twin-heavy-bolter","mount":"Hull (Front) Mounted"},"add":{"id":"twin-lascannon","mount":"Hull (Front) Mounted"}}]}],"points":null,"requiresUpgrade":"","targetModel":"spartan-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"spartan-pintle-weapons","name":"Pintle Weapons","description":"This Model may have one item from the Legion Pintle Weapons list selected for it.","maxCount":1,"options":[],"points":null,"requiresUpgrade":"","targetModel":"spartan-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"spartan-hunter-killer-missile","name":"Hunter-Killer Missile","description":"This Model may have one Hull (Front) Mounted hunter-killer missile selected for it.","maxCount":1,"options":[{"id":"hunter-killer-missile-spartan-option","name":"Hunter-Killer Missile","description":"Add Hull (Front) Mounted hunter-killer missile","points":5,"addWeapon":{"id":"hunter-killer-missile","mount":"Hull (Front) Mounted"}}],"points":null,"requiresUpgrade":"","targetModel":"spartan-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"spartan-searchlights","name":"Searchlights","description":"This Model may have searchlights selected for it.","maxCount":1,"options":[{"id":"searchlights-spartan-option","name":"Searchlights","description":"Add searchlights to Spartan","points":5,"addWargear":"searchlights"}],"points":null,"requiresUpgrade":"","targetModel":"spartan-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"recon-sergeant-melee-upgrades","name":"Sergeant Melee Upgrades","description":"The Recon Sergeant in this Unit may have its Astartes shotgun and/or bolt pistol exchanged for one item each from the Legion Sergeant Melee Weapons list.","maxCount":2,"options":[],"points":null,"requiresUpgrade":"","targetModel":"recon-sergeant-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"recon-sergeant-pistol-upgrades","name":"Sergeant Pistol Upgrades","description":"The Recon Sergeant in this Unit may have its bolt pistol exchanged for one item from the Legion Pistols list.","maxCount":1,"options":[],"points":null,"requiresUpgrade":"","targetModel":"recon-sergeant-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"recon-legionary-equipment","name":"Legion Equipment","description":"Up to two Recon Legionaries in this Unit may have one item each from the Legion Equipment list selected for them.","maxCount":2,"options":[],"points":null,"requiresUpgrade":"","targetModel":"recon-legionary-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"recon-nemesis-bolter-upgrades","name":"Nemesis Bolter Upgrades","description":"Any Model in this Unit may have its Astartes shotgun exchanged for one Nemesis bolter.","maxCount":"dependent","options":[{"id":"nemesis-bolter-recon-option","name":"Nemesis Bolter","description":"Replace Astartes shotgun with Nemesis bolter","points":5,"replaceWeapon":"astartes-shotgun","addWeapon":"nemesis-bolter"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-recon-sergeant","legion-recon-legionary"],"type":"weapon"},{"id":"recon-sergeant-melta-bombs","name":"Sergeant Melta Bombs","description":"The Recon Sergeant in this Unit may have melta bombs selected for it.","maxCount":1,"options":[{"id":"melta-bombs-recon-sergeant-option","name":"Melta Bombs","description":"Add melta bombs to Recon Sergeant","points":10,"addWargear":"melta-bombs"}],"points":null,"requiresUpgrade":"","targetModel":"recon-sergeant-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"sabre-centreline-weapon-upgrades","name":"Centreline Weapon Upgrades","description":"This Model may have its Centreline Mounted Anvilus snub autocannon exchanged for one of the following.","maxCount":1,"options":[{"id":"neutron-blaster-sabre-option","name":"Centreline Mounted Neutron Blaster","description":"Replace Centreline Mounted Anvilus snub autocannon with neutron blaster","points":10,"replaceWeapon":"anvilus-snub-autocannon","addWeapon":"neutron-blaster"},{"id":"volkite-saker-sabre-option","name":"Centreline Mounted Volkite Saker","description":"Replace Centreline Mounted Anvilus snub autocannon with volkite saker","points":0,"replaceWeapon":"anvilus-snub-autocannon","addWeapon":"volkite-saker"}],"points":null,"requiresUpgrade":"","targetModel":"sabre-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"sabre-hull-weapon-upgrades","name":"Hull Weapon Upgrades","description":"This Model may have its Hull (Front) Mounted heavy bolter exchanged for one of the following.","maxCount":1,"options":[{"id":"multi-melta-sabre-option","name":"Hull (Front) Mounted Multi-melta","description":"Replace Hull (Front) Mounted heavy bolter with multi-melta","points":25,"replaceWeapon":"heavy-bolter","addWeapon":"multi-melta"},{"id":"volkite-culverin-sabre-option","name":"Hull (Front) Mounted Volkite Culverin","description":"Replace Hull (Front) Mounted heavy bolter with volkite culverin","points":15,"replaceWeapon":"heavy-bolter","addWeapon":"volkite-culverin"},{"id":"heavy-flamer-sabre-option","name":"Hull (Front) Mounted Heavy Flamer","description":"Replace Hull (Front) Mounted heavy bolter with heavy flamer","points":0,"replaceWeapon":"heavy-bolter","addWeapon":"heavy-flamer"}],"points":null,"requiresUpgrade":"","targetModel":"sabre-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"sabre-pintle-weapons","name":"Legion Pintle Weapons","description":"This Model may have one item from the Legion Pintle Weapons list selected for it.","maxCount":1,"options":[],"points":null,"requiresUpgrade":"","targetModel":"sabre-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"sabre-searchlights","name":"Searchlights","description":"This Model may have searchlights selected for it.","maxCount":1,"options":[{"id":"searchlights-sabre-option","name":"Searchlights","description":"Add searchlights to Sabre","points":5,"addWargear":"searchlights"}],"points":null,"requiresUpgrade":"","targetModel":"sabre-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"sabre-missiles","name":"Sabre Missiles","description":"This Model may have up to four Hull (Front) Mounted Sabre missiles selected for it.","maxCount":4,"options":[{"id":"sabre-missile-option","name":"Hull (Front) Mounted Sabre Missile","description":"Add Hull (Front) Mounted Sabre missile","points":5,"addWeapon":"sabre-missile"}],"points":null,"requiresUpgrade":"","targetModel":"sabre-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"outrider-legionary-equipment","name":"Legion Equipment","description":"Up to two Outriders in this Unit may each have one item from the Legion Equipment list selected for them.","maxCount":2,"options":[],"points":null,"requiresUpgrade":"","targetModel":"outrider-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"outrider-sergeant-melee-upgrades","name":"Sergeant Melee Upgrades","description":"The Outrider Sergeant in this Unit may have its chainsword exchanged for one item from the Legion Sergeant Melee Weapons list.","maxCount":1,"options":[],"points":null,"requiresUpgrade":"","targetModel":"outrider-sergeant-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"outrider-pistol-upgrades","name":"Pistol Upgrades","description":"Any Model in this Unit may have its bolt pistol exchanged for one item from the Legion Pistols list.","maxCount":"dependent","options":[],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-outrider-sergeant","legion-outrider"],"type":"weapon"},{"id":"outrider-twin-plasma-gun-upgrades","name":"Twin Plasma Gun Upgrades","description":"All Models in the Unit may have their twin bolter exchanged for one twin plasma gun.","maxCount":"dependent","options":[{"id":"twin-plasma-gun-outrider-option","name":"Twin Plasma Gun","description":"Replace twin bolter with twin plasma gun","points":15,"replaceWeapon":"twin-bolter","addWeapon":"twin-plasma-gun"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-outrider-sergeant","legion-outrider"],"type":"weapon"},{"id":"outrider-astartes-shotgun-upgrades","name":"Astartes Shotgun Upgrades","description":"Any Model in this Unit may have its chainsword exchanged for one Astartes shotgun.","maxCount":"dependent","options":[{"id":"astartes-shotgun-outrider-option","name":"Astartes Shotgun","description":"Replace chainsword with Astartes shotgun","points":0,"replaceWeapon":"chainsword","addWeapon":"astartes-shotgun"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-outrider-sergeant","legion-outrider"],"type":"weapon"},{"id":"land-raider-explorator-pintle-weapons","name":"Legion Pintle Weapons","description":"This Model may have one item from the Legion Pintle Weapons list selected for it.","maxCount":1,"options":[],"points":null,"requiresUpgrade":"","targetModel":"land-raider-explorator-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"land-raider-explorator-hull-weapon-upgrades","name":"Hull Weapon Upgrades","description":"This Model may have one of the following selected for it.","maxCount":1,"options":[{"id":"twin-lascannon-explorator-option","name":"Hull (Front) Mounted Twin Lascannon","description":"Add Hull (Front) Mounted twin lascannon","points":20,"addWeapon":"twin-lascannon"},{"id":"twin-heavy-bolter-explorator-option","name":"Hull (Front) Mounted Twin Heavy Bolter","description":"Add Hull (Front) Mounted twin heavy bolter","points":10,"addWeapon":"twin-heavy-bolter"},{"id":"twin-heavy-flamer-explorator-option","name":"Hull (Front) Mounted Twin Heavy Flamer","description":"Add Hull (Front) Mounted twin heavy flamer","points":10,"addWeapon":"twin-heavy-flamer"}],"points":null,"requiresUpgrade":"","targetModel":"land-raider-explorator-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"land-raider-explorator-hunter-killer-missile","name":"Hunter-Killer Missile","description":"This Model may have one Hull (Front) Mounted hunter-killer missile selected for it.","maxCount":1,"options":[{"id":"hunter-killer-missile-explorator-option","name":"Hull (Front) Mounted Hunter-Killer Missile","description":"Add Hull (Front) Mounted hunter-killer missile","points":0,"addWeapon":"hunter-killer-missile"}],"points":null,"requiresUpgrade":"","targetModel":"land-raider-explorator-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"land-raider-explorator-searchlights","name":"Searchlights","description":"This Model may have searchlights selected for it.","maxCount":1,"options":[{"id":"searchlights-explorator-option","name":"Searchlights","description":"Add searchlights to Land Raider Explorator","points":5,"addWargear":"searchlights"}],"points":null,"requiresUpgrade":"","targetModel":"land-raider-explorator-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"tarantula-turret-weapon-upgrades","name":"Turret Weapon Upgrades","description":"Any Model in this Unit may have its Turret Mounted twin heavy bolter exchanged for one of the following.","maxCount":"dependent","options":[{"id":"twin-lascannon-tarantula-option","name":"Turret Mounted Twin Lascannon","description":"Replace Turret Mounted twin heavy bolter with twin lascannon","points":20,"replaceWeapon":"twin-heavy-bolter","addWeapon":"twin-lascannon"},{"id":"twin-volkite-culverin-tarantula-option","name":"Turret Mounted Twin Volkite Culverin","description":"Replace Turret Mounted twin heavy bolter with twin volkite culverin","points":15,"replaceWeapon":"twin-heavy-bolter","addWeapon":"twin-volkite-culverin"},{"id":"sentry-melta-array-tarantula-option","name":"Turret Mounted Sentry Melta Array","description":"Replace Turret Mounted twin heavy bolter with sentry melta array","points":25,"replaceWeapon":"twin-heavy-bolter","addWeapon":"sentry-melta-array"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-tarantula-sentry-gun"],"type":"weapon"},{"id":"tarantula-missile-upgrades","name":"Missile System Upgrades","description":"Any Model in this Unit may have missile systems added.","maxCount":"dependent","options":[{"id":"hyperios-missile-launcher-tarantula-option","name":"Turret Mounted Hyperios Missile Launcher","description":"Add Turret Mounted Hyperios missile launcher","points":15,"addWeapon":"hyperios-missile-launcher"},{"id":"orias-frag-missiles-tarantula-option","name":"Two Turret Mounted Orias Frag Missiles","description":"Add two Turret Mounted Orias frag missiles","points":15,"addWeapon":"orias-frag-missile","weaponReplacements":[{"addWeapon":"orias-frag-missile"}]}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-tarantula-sentry-gun"],"type":"weapon"},{"id":"storm-eagle-heavy-bolter-upgrades","name":"Heavy Bolter Upgrades","description":"This Model may have its Centreline Mounted twin heavy bolter exchanged for one of the following.","maxCount":1,"options":[{"id":"twin-multi-melta-storm-eagle-option","name":"Centreline Mounted Twin Multi-melta","description":"Replace Centreline Mounted twin heavy bolter with twin multi-melta","points":15,"replaceWeapon":"twin-heavy-bolter","addWeapon":"twin-multi-melta"},{"id":"cyclone-missile-launcher-storm-eagle-option","name":"Centreline Mounted Cyclone Missile Launcher","description":"Replace Centreline Mounted twin heavy bolter with cyclone missile launcher","points":10,"replaceWeapon":"twin-heavy-bolter","addWeapon":"cyclone-missile-launcher"}],"points":null,"requiresUpgrade":"","targetModel":"storm-eagle-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"storm-eagle-tempest-rocket-upgrades","name":"Tempest Rocket Upgrades","description":"This Model may have its Four Centreline Mounted tempest rockets exchanged for one of the following.","maxCount":1,"options":[{"id":"hunter-killer-missiles-storm-eagle-option","name":"Four Centreline Mounted Hunter-Killer Missiles","description":"Replace Four Centreline Mounted tempest rockets with hunter-killer missiles","points":15,"replaceWeapon":"tempest-rocket","addWeapon":"hunter-killer-missile","weaponReplacements":[{"addWeapon":"hunter-killer-missile"},{"addWeapon":"hunter-killer-missile"},{"addWeapon":"hunter-killer-missile"},{"addWeapon":"hunter-killer-missile"}]},{"id":"twin-lascannon-storm-eagle-option","name":"Two Centreline Mounted Twin Lascannon","description":"Replace Four Centreline Mounted tempest rockets with two twin lascannon","points":30,"replaceWeapon":"tempest-rocket","addWeapon":"twin-lascannon","weaponReplacements":[{"addWeapon":"twin-lascannon"},{"addWeapon":"twin-lascannon"}]}],"points":null,"requiresUpgrade":"","targetModel":"storm-eagle-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"fire-raptor-sponson-weapon-upgrades","name":"Sponson Weapon Upgrades","description":"The two Sponson Mounted Gravis heavy bolter batteries can be exchanged for two Sponson Mounted Gravis autocannon batteries.","maxCount":1,"options":[{"id":"gravis-autocannon-battery-fire-raptor-option","name":"Two Sponson Mounted Gravis Autocannon Batteries","description":"Replace two Sponson Mounted Gravis heavy bolter batteries with Gravis autocannon batteries","points":15,"replaceWeapon":"gravis-heavy-bolter-battery","addWeapon":"gravis-autocannon-battery","weaponReplacements":[{"addWeapon":"gravis-autocannon-battery"}]}],"points":null,"requiresUpgrade":"","targetModel":"fire-raptor-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"fire-raptor-rocket-upgrades","name":"Rocket Upgrades","description":"The four Centreline Mounted tempest rockets can all be exchanged for four Centreline Mounted hellstrike missiles.","maxCount":1,"options":[{"id":"hellstrike-missiles-fire-raptor-option","name":"Four Centreline Mounted Hellstrike Missiles","description":"Replace four Centreline Mounted tempest rockets with hellstrike missiles","points":20,"replaceWeapon":"tempest-rocket","addWeapon":"hellstrike-missile","weaponReplacements":[{"addWeapon":"hellstrike-missile"},{"addWeapon":"hellstrike-missile"},{"addWeapon":"hellstrike-missile"},{"addWeapon":"hellstrike-missile"}]}],"points":null,"requiresUpgrade":"","targetModel":"fire-raptor-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"scimitar-augury-scanner-upgrade","name":"Augury Scanner","description":"One Scimitar Hunter in this Unit may have one augury scanner selected for it.","maxCount":1,"options":[{"id":"augury-scanner-scimitar-option","name":"Augury Scanner","description":"Add augury scanner to one Scimitar Hunter","points":10,"addWargear":"augury-scanner"}],"points":null,"requiresUpgrade":"","targetModel":"scimitar-hunter-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"scimitar-sergeant-melee-upgrades","name":"Sergeant Melee Weapon","description":"The Scimitar Sergeant in this Unit may have its chainsword exchanged for one item from the Legion Sergeant Melee Weapons list.","maxCount":1,"options":[{"id":"power-weapon-scimitar-sergeant-option","name":"Power Weapon","description":"Replace chainsword with power weapon","points":10,"replaceWargear":"chainsword","addWargear":"power-weapon"},{"id":"power-fist-scimitar-sergeant-option","name":"Power Fist","description":"Replace chainsword with power fist","points":15,"replaceWargear":"chainsword","addWargear":"power-fist"},{"id":"lightning-claw-scimitar-sergeant-option","name":"Lightning Claw","description":"Replace chainsword with lightning claw","points":10,"replaceWargear":"chainsword","addWargear":"lightning-claw"},{"id":"thunder-hammer-scimitar-sergeant-option","name":"Thunder Hammer","description":"Replace chainsword with thunder hammer","points":20,"replaceWargear":"chainsword","addWargear":"thunder-hammer"}],"points":null,"requiresUpgrade":"","targetModel":"scimitar-sergeant-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"scimitar-pistol-upgrades","name":"Pistol Upgrades","description":"Any Model in this Unit may have its bolt pistol exchanged for one item from the Legion Pistols list.","maxCount":"dependent","options":[{"id":"plasma-pistol-scimitar-option","name":"Plasma Pistol","description":"Replace bolt pistol with plasma pistol","points":5,"replaceWargear":"bolt-pistol","addWargear":"plasma-pistol"},{"id":"hand-flamer-scimitar-option","name":"Hand Flamer","description":"Replace bolt pistol with hand flamer","points":5,"replaceWargear":"bolt-pistol","addWargear":"hand-flamer"},{"id":"inferno-pistol-scimitar-option","name":"Inferno Pistol","description":"Replace bolt pistol with inferno pistol","points":10,"replaceWargear":"bolt-pistol","addWargear":"inferno-pistol"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-scimitar-hunter","legion-scimitar-sergeant"],"type":"wargear"},{"id":"scimitar-heavy-weapon-upgrades","name":"Heavy Weapon Upgrades","description":"Any Model in this Unit may have its heavy bolter exchanged for one of the following.","maxCount":"dependent","options":[{"id":"volkite-culverin-scimitar-option","name":"Volkite Culverin","description":"Replace heavy bolter with volkite culverin","points":5,"replaceWargear":"heavy-bolter","addWeapon":"volkite-culverin"},{"id":"multi-melta-scimitar-option","name":"Multi-melta","description":"Replace heavy bolter with multi-melta","points":15,"replaceWargear":"heavy-bolter","addWeapon":"multi-melta"},{"id":"plasma-cannon-scimitar-option","name":"Plasma Cannon","description":"Replace heavy bolter with plasma cannon","points":10,"replaceWargear":"heavy-bolter","addWeapon":"plasma-cannon"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-scimitar-hunter","legion-scimitar-sergeant"],"type":"weapon"},{"id":"land-speeder-heavy-bolter-upgrades","name":"Heavy Bolter Upgrades","description":"Any Model in this Unit may have its heavy bolter exchanged for one of the following.","maxCount":"dependent","options":[{"id":"heavy-flamer-land-speeder-option","name":"Heavy Flamer","description":"Replace heavy bolter with heavy flamer","points":0,"replaceWargear":"heavy-bolter","addWeapon":"heavy-flamer"},{"id":"havoc-launcher-land-speeder-option","name":"Havoc Launcher","description":"Replace heavy bolter with havoc launcher","points":5,"replaceWargear":"heavy-bolter","addWeapon":"havoc-launcher"},{"id":"multi-melta-land-speeder-option","name":"Multi-melta","description":"Replace heavy bolter with multi-melta","points":20,"replaceWargear":"heavy-bolter","addWeapon":"multi-melta"},{"id":"volkite-culverin-land-speeder-option","name":"Volkite Culverin","description":"Replace heavy bolter with volkite culverin","points":5,"replaceWargear":"heavy-bolter","addWeapon":"volkite-culverin"},{"id":"plasma-cannon-land-speeder-option","name":"Plasma Cannon","description":"Replace heavy bolter with plasma cannon","points":10,"replaceWargear":"heavy-bolter","addWeapon":"plasma-cannon"},{"id":"graviton-gun-land-speeder-option","name":"Graviton Gun","description":"Replace heavy bolter with graviton gun","points":10,"replaceWargear":"heavy-bolter","addWeapon":"graviton-gun"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-land-speeder"],"type":"weapon"},{"id":"land-speeder-augury-scanner-upgrades","name":"Augury Scanner Upgrades","description":"Any Model in this Unit may have its augury scanner exchanged for one of the following.","maxCount":"dependent","options":[{"id":"heavy-flamer-augury-land-speeder-option","name":"Heavy Flamer","description":"Replace augury scanner with heavy flamer","points":0,"replaceWargear":"augury-scanner","addWeapon":"heavy-flamer"},{"id":"heavy-bolter-augury-land-speeder-option","name":"Heavy Bolter","description":"Replace augury scanner with heavy bolter","points":0,"replaceWargear":"augury-scanner","addWeapon":"heavy-bolter"},{"id":"havoc-launcher-augury-land-speeder-option","name":"Havoc Launcher","description":"Replace augury scanner with havoc launcher","points":0,"replaceWargear":"augury-scanner","addWeapon":"havoc-launcher"},{"id":"multi-melta-augury-land-speeder-option","name":"Multi-melta","description":"Replace augury scanner with multi-melta","points":20,"replaceWargear":"augury-scanner","addWeapon":"multi-melta"},{"id":"volkite-culverin-augury-land-speeder-option","name":"Volkite Culverin","description":"Replace augury scanner with volkite culverin","points":5,"replaceWargear":"augury-scanner","addWeapon":"volkite-culverin"},{"id":"plasma-cannon-augury-land-speeder-option","name":"Plasma Cannon","description":"Replace augury scanner with plasma cannon","points":10,"replaceWargear":"augury-scanner","addWeapon":"plasma-cannon"},{"id":"graviton-gun-augury-land-speeder-option","name":"Graviton Gun","description":"Replace augury scanner with graviton gun","points":10,"replaceWargear":"augury-scanner","addWeapon":"graviton-gun"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-land-speeder"],"type":"weapon"},{"id":"land-speeder-hunter-killer-missiles","name":"Hunter-Killer Missiles","description":"Any Model in this Unit may have up to two hunter-killer missiles selected for it.","maxCount":2,"options":[{"id":"hunter-killer-missile-land-speeder-option","name":"Hunter-Killer Missile","description":"Add hunter-killer missile to Land Speeder","points":5,"addWeapon":"hunter-killer-missile"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-land-speeder"],"type":"wargear"},{"id":"javelin-cyclone-missile-launcher-upgrades","name":"Cyclone Missile Launcher Upgrades","description":"Any Model in this Unit may have its cyclone missile launcher exchanged for one of the following.","maxCount":"dependent","options":[{"id":"two-heavy-flamers-javelin-option","name":"Two Heavy Flamers","description":"Replace cyclone missile launcher with two heavy flamers","points":0,"replaceWargear":"cyclone-missile-launcher","addWeapon":"heavy-flamer","weaponReplacements":[{"addWeapon":"heavy-flamer"}]},{"id":"two-heavy-bolters-javelin-option","name":"Two Heavy Bolters","description":"Replace cyclone missile launcher with two heavy bolters","points":0,"replaceWargear":"cyclone-missile-launcher","addWeapon":"heavy-bolter","weaponReplacements":[{"addWeapon":"heavy-bolter"}]},{"id":"two-lascannon-javelin-option","name":"Two Lascannon","description":"Replace cyclone missile launcher with two lascannon","points":5,"replaceWargear":"cyclone-missile-launcher","addWeapon":"lascannon","weaponReplacements":[{"addWeapon":"lascannon"}]},{"id":"two-volkite-culverin-javelin-option","name":"Two Volkite Culverin","description":"Replace cyclone missile launcher with two volkite culverin","points":5,"replaceWargear":"cyclone-missile-launcher","addWeapon":"volkite-culverin","weaponReplacements":[{"addWeapon":"volkite-culverin"}]}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":["legion-javelin"],"type":"weapon"},{"id":"predator-turret-weapon-upgrades","name":"Turret Weapon Upgrades","description":"This Model may have its Turret Mounted Predator cannon exchanged for one of the following.","maxCount":1,"options":[{"id":"flamestorm-cannon-predator-option","name":"Turret Mounted Flamestorm Cannon","description":"Replace Turret Mounted Predator cannon with flamestorm cannon","points":0,"replaceWeapon":"predator-cannon","addWeapon":"flamestorm-cannon"},{"id":"executioner-plasma-destroyer-predator-option","name":"Turret Mounted Executioner Plasma Destroyer","description":"Replace Turret Mounted Predator cannon with executioner plasma destroyer","points":25,"replaceWeapon":"predator-cannon","addWeapon":"executioner-plasma-destroyer"},{"id":"heavy-conversion-beam-cannon-predator-option","name":"Turret Mounted Heavy Conversion Beam Cannon","description":"Replace Turret Mounted Predator cannon with heavy conversion beam cannon","points":30,"replaceWeapon":"predator-cannon","addWeapon":"conversion-beam-cannon"},{"id":"magna-melta-cannon-predator-option","name":"Turret Mounted Magna-melta Cannon","description":"Replace Turret Mounted Predator cannon with magna-melta cannon","points":20,"replaceWeapon":"predator-cannon","addWeapon":"magna-melta-cannon"},{"id":"graviton-cannon-predator-option","name":"Turret Mounted Graviton Cannon","description":"Replace Turret Mounted Predator cannon with graviton cannon","points":20,"replaceWeapon":"predator-cannon","addWeapon":"graviton-cannon"},{"id":"volkite-macro-saker-predator-option","name":"Turret Mounted Volkite Macro-saker","description":"Replace Turret Mounted Predator cannon with volkite macro-saker","points":5,"replaceWeapon":"predator-cannon","addWeapon":"volkite-macro-saker"},{"id":"neutron-blaster-predator-option","name":"Turret Mounted Neutron Blaster","description":"Replace Turret Mounted Predator cannon with neutron blaster","points":15,"replaceWeapon":"predator-cannon","addWeapon":"neutron-blaster"},{"id":"twin-lascannon-predator-option","name":"Turret Mounted Twin Lascannon","description":"Replace Turret Mounted Predator cannon with twin lascannon","points":10,"replaceWeapon":"predator-cannon","addWeapon":"twin-lascannon"}],"points":null,"requiresUpgrade":"","targetModel":"predator-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"predator-sponson-weapon-upgrades","name":"Sponson Weapon Upgrades","description":"This Model may have both Sponson Mounted heavy bolters exchanged for one item from the Legion Sponson Weapons list.","maxCount":1,"options":[{"id":"heavy-flamer-sponson-predator-option","name":"Heavy Flamer Sponsons","description":"Replace both Sponson Mounted heavy bolters with heavy flamer","points":0,"replaceWeapon":"heavy-bolter","addWeapon":"heavy-flamer","weaponReplacements":[{"addWeapon":"heavy-flamer"}]},{"id":"multi-melta-sponson-predator-option","name":"Multi-melta Sponsons","description":"Replace both Sponson Mounted heavy bolters with multi-melta","points":20,"replaceWeapon":"heavy-bolter","addWeapon":"multi-melta","weaponReplacements":[{"addWeapon":"multi-melta"}]},{"id":"plasma-cannon-sponson-predator-option","name":"Plasma Cannon Sponsons","description":"Replace both Sponson Mounted heavy bolters with plasma cannon","points":10,"replaceWeapon":"heavy-bolter","addWeapon":"plasma-cannon","weaponReplacements":[{"addWeapon":"plasma-cannon"}]}],"points":null,"requiresUpgrade":"","targetModel":"predator-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"predator-pintle-weapon-upgrades","name":"Pintle Weapon Upgrades","description":"This Model may have one item from the Legion Pintle Weapons list selected for it.","maxCount":1,"options":[{"id":"heavy-bolter-pintle-predator-option","name":"Heavy Bolter Pintle","description":"Add heavy bolter pintle weapon","points":5,"addWeapon":"heavy-bolter"},{"id":"multi-melta-pintle-predator-option","name":"Multi-melta Pintle","description":"Add multi-melta pintle weapon","points":15,"addWeapon":"multi-melta"}],"points":null,"requiresUpgrade":"","targetModel":"predator-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"predator-wargear-upgrades","name":"Wargear Upgrades","description":"This Model may have one of each of the following selected for it.","maxCount":1,"options":[{"id":"hunter-killer-missile-predator-option","name":"Turret Mounted Hunter-Killer Missile","description":"Add turret mounted hunter-killer missile","points":5,"addWeapon":"hunter-killer-missile"},{"id":"searchlights-predator-option","name":"Searchlights","description":"Add searchlights","points":5,"addWargear":"searchlights"},{"id":"dozer-blade-predator-option","name":"Dozer Blade","description":"Add dozer blade","points":5,"addWargear":"dozer-blade"}],"points":null,"requiresUpgrade":"","targetModel":"predator-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"sicaran-turret-weapon-upgrades","name":"Turret Weapon Upgrades","description":"This Model may have its Turret Mounted twin accelerator autocannon exchanged for one of the following.","maxCount":1,"options":[{"id":"punisher-rotary-cannon-sicaran-option","name":"Turret Mounted Punisher Rotary Cannon","description":"Replace Turret Mounted twin accelerator autocannon with punisher rotary cannon","points":10,"replaceWeapon":"twin-accelerator-autocannon","addWeapon":"punisher-rotary-cannon"},{"id":"omega-plasma-array-sicaran-option","name":"Turret Mounted Omega Plasma Array","description":"Replace Turret Mounted twin accelerator autocannon with omega plasma array","points":25,"replaceWeapon":"twin-accelerator-autocannon","addWeapon":"omega-plasma-array"}],"points":null,"requiresUpgrade":"","targetModel":"sicaran-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"sicaran-sponson-weapon-upgrades","name":"Sponson Weapon Upgrades","description":"This Model may have both Sponson Mounted heavy bolters exchanged for one item from the Legion Sponson Weapons list.","maxCount":1,"options":[{"id":"heavy-flamer-sponson-sicaran-option","name":"Heavy Flamer Sponsons","description":"Replace both Sponson Mounted heavy bolters with heavy flamer","points":0,"replaceWeapon":"heavy-bolter","addWeapon":"heavy-flamer","weaponReplacements":[{"addWeapon":"heavy-flamer"}]},{"id":"multi-melta-sponson-sicaran-option","name":"Multi-melta Sponsons","description":"Replace both Sponson Mounted heavy bolters with multi-melta","points":20,"replaceWeapon":"heavy-bolter","addWeapon":"multi-melta","weaponReplacements":[{"addWeapon":"multi-melta"}]},{"id":"plasma-cannon-sponson-sicaran-option","name":"Plasma Cannon Sponsons","description":"Replace both Sponson Mounted heavy bolters with plasma cannon","points":10,"replaceWeapon":"heavy-bolter","addWeapon":"plasma-cannon","weaponReplacements":[{"addWeapon":"plasma-cannon"}]}],"points":null,"requiresUpgrade":"","targetModel":"sicaran-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"sicaran-pintle-weapon-upgrades","name":"Pintle Weapon Upgrades","description":"This Model may have one item from the Legion Pintle Weapons list selected for it.","maxCount":1,"options":[{"id":"heavy-bolter-pintle-sicaran-option","name":"Heavy Bolter Pintle","description":"Add heavy bolter pintle weapon","points":5,"addWeapon":"heavy-bolter"},{"id":"multi-melta-pintle-sicaran-option","name":"Multi-melta Pintle","description":"Add multi-melta pintle weapon","points":15,"addWeapon":"multi-melta"}],"points":null,"requiresUpgrade":"","targetModel":"sicaran-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"sicaran-wargear-upgrades","name":"Wargear Upgrades","description":"This Model may have one of each of the following selected for it.","maxCount":1,"options":[{"id":"hunter-killer-missile-sicaran-option","name":"Turret Mounted Hunter-Killer Missile","description":"Add turret mounted hunter-killer missile","points":5,"addWeapon":"hunter-killer-missile"},{"id":"searchlights-sicaran-option","name":"Searchlights","description":"Add searchlights","points":5,"addWargear":"searchlights"}],"points":null,"requiresUpgrade":"","targetModel":"sicaran-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"sicaran-venator-sponson-weapon-upgrades","name":"Sponson Weapon Upgrades","description":"This Model may have both Sponson Mounted heavy bolters exchanged for one item from the Legion Sponson Weapons list.","maxCount":1,"options":[{"id":"heavy-flamer-sponson-sicaran-venator-option","name":"Heavy Flamer Sponsons","description":"Replace both Sponson Mounted heavy bolters with heavy flamer","points":0,"replaceWeapon":"heavy-bolter","addWeapon":"heavy-flamer","weaponReplacements":[{"addWeapon":"heavy-flamer"}]},{"id":"multi-melta-sponson-sicaran-venator-option","name":"Multi-melta Sponsons","description":"Replace both Sponson Mounted heavy bolters with multi-melta","points":20,"replaceWeapon":"heavy-bolter","addWeapon":"multi-melta","weaponReplacements":[{"addWeapon":"multi-melta"}]},{"id":"plasma-cannon-sponson-sicaran-venator-option","name":"Plasma Cannon Sponsons","description":"Replace both Sponson Mounted heavy bolters with plasma cannon","points":10,"replaceWeapon":"heavy-bolter","addWeapon":"plasma-cannon","weaponReplacements":[{"addWeapon":"plasma-cannon"}]}],"points":null,"requiresUpgrade":"","targetModel":"sicaran-venator-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"sicaran-venator-pintle-weapon-upgrades","name":"Pintle Weapon Upgrades","description":"This Model may have one item from the Legion Pintle Weapons list selected for it.","maxCount":1,"options":[{"id":"heavy-bolter-pintle-sicaran-venator-option","name":"Heavy Bolter Pintle","description":"Add heavy bolter pintle weapon","points":5,"addWeapon":"heavy-bolter"},{"id":"multi-melta-pintle-sicaran-venator-option","name":"Multi-melta Pintle","description":"Add multi-melta pintle weapon","points":15,"addWeapon":"multi-melta"}],"points":null,"requiresUpgrade":"","targetModel":"sicaran-venator-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"sicaran-venator-wargear-upgrades","name":"Wargear Upgrades","description":"This Model may have one of each of the following selected for it.","maxCount":1,"options":[{"id":"hunter-killer-missile-sicaran-venator-option","name":"Hull (Front) Mounted Hunter-Killer Missile","description":"Add hull (front) mounted hunter-killer missile","points":5,"addWeapon":"hunter-killer-missile"},{"id":"searchlights-sicaran-venator-option","name":"Searchlights","description":"Add searchlights","points":5,"addWargear":"searchlights"}],"points":null,"requiresUpgrade":"","targetModel":"sicaran-venator-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"kratos-turret-weapon-upgrades","name":"Turret Weapon Upgrades","description":"This Model may have its Turret Mounted Kratos battlecannon upgraded or exchanged for one of the following.","maxCount":1,"options":[{"id":"flashburn-shells-kratos-option","name":"Flashburn Shells","description":"Add flashburn shells to Turret Mounted Kratos battlecannon","points":10,"addWeapon":"kratos-battlecannon-flashburn"},{"id":"volkite-cardanelle-kratos-option","name":"Turret Mounted Volkite Cardanelle","description":"Replace Turret Mounted Kratos battlecannon with volkite cardanelle","points":0,"replaceWeapon":"kratos-battlecannon","addWeapon":"volkite-cardanelle"},{"id":"melta-blast-gun-kratos-option","name":"Turret Mounted Melta Blast-gun","description":"Replace Turret Mounted Kratos battlecannon with melta blast-gun","points":30,"replaceWeapon":"kratos-battlecannon","addWeapon":"melta-blast-gun"}],"points":null,"requiresUpgrade":"","targetModel":"kratos-assault-tank-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"kratos-hull-weapon-upgrades","name":"Hull Weapon Upgrades","description":"This Model may have both Hull (Front, Left) and Hull (Front, Right) Mounted heavy bolters exchanged for one of the following pairs.","maxCount":1,"options":[{"id":"volkite-caliver-pair-kratos-option","name":"Volkite Caliver Pair","description":"Replace both Hull heavy bolters with volkite caliver pair","points":5,"replaceWeapon":"heavy-bolter","addWeapon":"volkite-caliver","weaponReplacements":[{"addWeapon":"volkite-caliver"}]},{"id":"autocannon-pair-kratos-option","name":"Autocannon Pair","description":"Replace both Hull heavy bolters with autocannon pair","points":10,"replaceWeapon":"heavy-bolter","addWeapon":"autocannon","weaponReplacements":[{"addWeapon":"autocannon"}]},{"id":"lascannon-pair-kratos-option","name":"Lascannon Pair","description":"Replace both Hull heavy bolters with lascannon pair","points":25,"replaceWeapon":"heavy-bolter","addWeapon":"lascannon","weaponReplacements":[{"addWeapon":"lascannon"}]}],"points":null,"requiresUpgrade":"","targetModel":"kratos-assault-tank-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"kratos-sponson-weapon-upgrades","name":"Sponson Weapon Upgrades","description":"This Model may have both Sponson Mounted heavy bolters exchanged for one item from the Legion Sponson Weapons list.","maxCount":1,"options":[{"id":"heavy-flamer-sponson-kratos-option","name":"Heavy Flamer Sponsons","description":"Replace both Sponson Mounted heavy bolters with heavy flamer","points":0,"replaceWeapon":"heavy-bolter","addWeapon":"heavy-flamer","weaponReplacements":[{"addWeapon":"heavy-flamer"}]},{"id":"multi-melta-sponson-kratos-option","name":"Multi-melta Sponsons","description":"Replace both Sponson Mounted heavy bolters with multi-melta","points":20,"replaceWeapon":"heavy-bolter","addWeapon":"multi-melta","weaponReplacements":[{"addWeapon":"multi-melta"}]},{"id":"plasma-cannon-sponson-kratos-option","name":"Plasma Cannon Sponsons","description":"Replace both Sponson Mounted heavy bolters with plasma cannon","points":10,"replaceWeapon":"heavy-bolter","addWeapon":"plasma-cannon","weaponReplacements":[{"addWeapon":"plasma-cannon"}]}],"points":null,"requiresUpgrade":"","targetModel":"kratos-assault-tank-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"kratos-pintle-weapon-upgrades","name":"Pintle Weapon Upgrades","description":"This Model may have one item from the Legion Pintle Weapons list selected for it.","maxCount":1,"options":[{"id":"heavy-bolter-pintle-kratos-option","name":"Heavy Bolter Pintle","description":"Add heavy bolter pintle weapon","points":5,"addWeapon":"heavy-bolter"},{"id":"multi-melta-pintle-kratos-option","name":"Multi-melta Pintle","description":"Add multi-melta pintle weapon","points":15,"addWeapon":"multi-melta"}],"points":null,"requiresUpgrade":"","targetModel":"kratos-assault-tank-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"kratos-wargear-upgrades","name":"Wargear Upgrades","description":"This Model may have one of each of the following selected for it.","maxCount":1,"options":[{"id":"hunter-killer-missile-kratos-option","name":"Turret Mounted Hunter-Killer Missile","description":"Add turret mounted hunter-killer missile","points":5,"addWeapon":"hunter-killer-missile"},{"id":"searchlights-kratos-option","name":"Searchlights","description":"Add searchlights","points":5,"addWargear":"searchlights"},{"id":"dozer-blade-kratos-option","name":"Dozer Blade","description":"Add dozer blade","points":5,"addWargear":"dozer-blade"}],"points":null,"requiresUpgrade":"","targetModel":"kratos-assault-tank-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"vindicator-demolisher-cannon-upgrades","name":"Demolisher Cannon Upgrades","description":"This Model may have its Centreline Mounted demolisher cannon exchanged for one Centreline Mounted magna laser destroyer.","maxCount":1,"options":[{"id":"magna-laser-destroyer-vindicator-option","name":"Centreline Mounted Magna Laser Destroyer","description":"Replace Centreline Mounted demolisher cannon with magna laser destroyer","points":20,"replaceWeapon":"demolisher-cannon","addWeapon":"magna-laser-destroyer"}],"points":null,"requiresUpgrade":"","targetModel":"vindicator-siege-tank-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"vindicator-pintle-weapon-upgrades","name":"Pintle Weapon Upgrades","description":"This Model may have one item from the Legion Pintle Weapons list selected for it.","maxCount":1,"options":[{"id":"heavy-bolter-pintle-vindicator-option","name":"Heavy Bolter Pintle","description":"Add heavy bolter pintle weapon","points":5,"addWeapon":"heavy-bolter"},{"id":"multi-melta-pintle-vindicator-option","name":"Multi-melta Pintle","description":"Add multi-melta pintle weapon","points":15,"addWeapon":"multi-melta"}],"points":null,"requiresUpgrade":"","targetModel":"vindicator-siege-tank-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"vindicator-wargear-upgrades","name":"Wargear Upgrades","description":"This Model may have one of each of the following selected for it.","maxCount":1,"options":[{"id":"hunter-killer-missile-vindicator-option","name":"Hull (Front) Mounted Hunter-Killer Missile","description":"Add hull (front) mounted hunter-killer missile","points":5,"addWeapon":"hunter-killer-missile"},{"id":"searchlights-vindicator-option","name":"Searchlights","description":"Add searchlights","points":5,"addWargear":"searchlights"},{"id":"dozer-blade-vindicator-option","name":"Dozer Blade","description":"Add dozer blade","points":5,"addWargear":"dozer-blade"}],"points":null,"requiresUpgrade":"","targetModel":"vindicator-siege-tank-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"scorpius-pintle-weapon-upgrades","name":"Pintle Weapon Upgrades","description":"This Model may have one of its Pintle Mounted bolters exchanged for one item from the Legion Pintle Weapons list.","maxCount":1,"options":[{"id":"heavy-bolter-pintle-scorpius-option","name":"Heavy Bolter Pintle","description":"Replace one pintle mounted bolter with heavy bolter","points":5,"replaceWeapon":"pintle-mounted-bolter","addWeapon":"heavy-bolter"},{"id":"multi-melta-pintle-scorpius-option","name":"Multi-melta Pintle","description":"Replace one pintle mounted bolter with multi-melta","points":15,"replaceWeapon":"pintle-mounted-bolter","addWeapon":"multi-melta"}],"points":null,"requiresUpgrade":"","targetModel":"scorpius-missile-tank-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"scorpius-wargear-upgrades","name":"Wargear Upgrades","description":"This Model may have one of each of the following selected for it.","maxCount":1,"options":[{"id":"hunter-killer-missile-scorpius-option","name":"Hull (Front) Mounted Hunter-Killer Missile","description":"Add hull (front) mounted hunter-killer missile","points":5,"addWeapon":"hunter-killer-missile"},{"id":"searchlights-scorpius-option","name":"Searchlights","description":"Add searchlights","points":5,"addWargear":"searchlights"},{"id":"dozer-blade-scorpius-option","name":"Dozer Blade","description":"Add dozer blade","points":5,"addWargear":"dozer-blade"}],"points":null,"requiresUpgrade":"","targetModel":"scorpius-missile-tank-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"arquitor-morbus-shell-upgrades","name":"Morbus Shell Upgrades","description":"If your Army includes a Siege Breaker Model with the same Faction Trait as this Model, this Model's Centreline Mounted Morbus bombard may also have phosphex shells selected for it.","maxCount":1,"options":[{"id":"phosphex-shells-arquitor-option","name":"Phosphex Shells","description":"Add phosphex shells to the Morbus bombard","points":20,"addWeapon":"morbus-phosphex-shell"}],"points":null,"requiresUpgrade":"","targetModel":"arquitor-bombard-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"arquitor-centreline-weapon-upgrades","name":"Centreline Weapon Upgrades","description":"This Model may have its Centreline Mounted Morbus bombard exchanged for one of the following.","maxCount":1,"options":[{"id":"graviton-charge-cannon-arquitor-option","name":"Centreline Mounted Graviton-Charge Cannon","description":"Replace Centreline Mounted Morbus bombard with graviton-charge cannon","points":15,"replaceWeapon":"morbus-he-shell","addWeapon":"graviton-charge-cannon"},{"id":"spicula-rocket-system-arquitor-option","name":"Centreline Mounted Spicula Rocket System","description":"Replace Centreline Mounted Morbus bombard with spicula rocket system","points":15,"replaceWeapon":"morbus-he-shell","addWeapon":"spicula-rocket-system"}],"points":null,"requiresUpgrade":"","targetModel":"arquitor-bombard-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"arquitor-sponson-weapon-upgrades","name":"Sponson Weapon Upgrades","description":"This Model may have both Sponson Mounted heavy bolters exchanged for one of the following.","maxCount":1,"options":[{"id":"autocannon-sponson-arquitor-option","name":"Two Sponson Mounted Autocannon","description":"Replace both sponson mounted heavy bolters with autocannon","points":10,"replaceWeapon":"heavy-bolter","addWeapon":"autocannon"}],"points":null,"requiresUpgrade":"","targetModel":"arquitor-bombard-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"arquitor-pintle-weapon-upgrades","name":"Pintle Weapon Upgrades","description":"This Model may have one item from the Legion Pintle Weapons list selected for it.","maxCount":1,"options":[{"id":"heavy-bolter-pintle-arquitor-option","name":"Heavy Bolter Pintle","description":"Add heavy bolter pintle weapon","points":5,"addWeapon":"heavy-bolter"},{"id":"multi-melta-pintle-arquitor-option","name":"Multi-melta Pintle","description":"Add multi-melta pintle weapon","points":15,"addWeapon":"multi-melta"}],"points":null,"requiresUpgrade":"","targetModel":"arquitor-bombard-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"arquitor-wargear-upgrades","name":"Wargear Upgrades","description":"This Model may have one of each of the following selected for it.","maxCount":1,"options":[{"id":"hunter-killer-missile-arquitor-option","name":"Hull (Front) Mounted Hunter-Killer Missile","description":"Add hull (front) mounted hunter-killer missile","points":5,"addWeapon":"hunter-killer-missile"},{"id":"searchlights-arquitor-option","name":"Searchlights","description":"Add searchlights","points":5,"addWargear":"searchlights"}],"points":null,"requiresUpgrade":"","targetModel":"arquitor-bombard-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"cerberus-sponson-weapon-upgrades","name":"Sponson Weapon Upgrades","description":"This Model may have both Sponson Mounted heavy bolters exchanged for one item from the Legion Sponson Weapons list.","maxCount":1,"options":[{"id":"autocannon-sponson-cerberus-option","name":"Two Sponson Mounted Autocannon","description":"Replace both sponson mounted heavy bolters with autocannon","points":10,"replaceWeapon":"heavy-bolter","addWeapon":"autocannon"}],"points":null,"requiresUpgrade":"","targetModel":"cerberus-heavy-tank-destroyer-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"cerberus-pintle-weapon-upgrades","name":"Pintle Weapon Upgrades","description":"This Model may have one item from the Legion Pintle Mounted Weapons list selected for it.","maxCount":1,"options":[{"id":"heavy-bolter-pintle-cerberus-option","name":"Heavy Bolter Pintle","description":"Add heavy bolter pintle weapon","points":5,"addWeapon":"heavy-bolter"},{"id":"multi-melta-pintle-cerberus-option","name":"Multi-melta Pintle","description":"Add multi-melta pintle weapon","points":15,"addWeapon":"multi-melta"}],"points":null,"requiresUpgrade":"","targetModel":"cerberus-heavy-tank-destroyer-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"cerberus-wargear-upgrades","name":"Wargear Upgrades","description":"This Model may have one of each of the following selected for it.","maxCount":1,"options":[{"id":"hunter-killer-missile-cerberus-option","name":"Hull (Front) Mounted Hunter-Killer Missile","description":"Add hull (front) mounted hunter-killer missile","points":5,"addWeapon":"hunter-killer-missile"},{"id":"searchlights-cerberus-option","name":"Searchlights","description":"Add searchlights","points":5,"addWargear":"searchlights"}],"points":null,"requiresUpgrade":"","targetModel":"cerberus-heavy-tank-destroyer-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"typhon-sponson-weapon-upgrades","name":"Sponson Weapon Upgrades","description":"This Model may have both Sponson Mounted heavy bolters exchanged for one item from the Legion Sponson Weapons list.","maxCount":1,"options":[{"id":"autocannon-sponson-typhon-option","name":"Two Sponson Mounted Autocannon","description":"Replace both sponson mounted heavy bolters with autocannon","points":10,"replaceWeapon":"heavy-bolter","addWeapon":"autocannon"}],"points":null,"requiresUpgrade":"","targetModel":"typhon-heavy-siege-tank-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"typhon-pintle-weapon-upgrades","name":"Pintle Weapon Upgrades","description":"This Model may have one item from the Legion Pintle Mounted Weapons list selected for it.","maxCount":1,"options":[{"id":"heavy-bolter-pintle-typhon-option","name":"Heavy Bolter Pintle","description":"Add heavy bolter pintle weapon","points":5,"addWeapon":"heavy-bolter"},{"id":"multi-melta-pintle-typhon-option","name":"Multi-melta Pintle","description":"Add multi-melta pintle weapon","points":15,"addWeapon":"multi-melta"}],"points":null,"requiresUpgrade":"","targetModel":"typhon-heavy-siege-tank-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"typhon-wargear-upgrades","name":"Wargear Upgrades","description":"This Model may have one of each of the following selected for it.","maxCount":1,"options":[{"id":"hunter-killer-missile-typhon-option","name":"Hull (Front) Mounted Hunter-Killer Missile","description":"Add hull (front) mounted hunter-killer missile","points":5,"addWeapon":"hunter-killer-missile"},{"id":"searchlights-typhon-option","name":"Searchlights","description":"Add searchlights","points":5,"addWargear":"searchlights"}],"points":null,"requiresUpgrade":"","targetModel":"typhon-heavy-siege-tank-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"glaive-hull-weapon-upgrades","name":"Hull Weapon Upgrades","description":"This Model may have its Hull (Front) Mounted twin heavy bolter exchanged for one Hull (Front) Mounted twin heavy flamer.","maxCount":1,"options":[{"id":"twin-heavy-flamer-hull-glaive-option","name":"Hull (Front) Mounted Twin Heavy Flamer","description":"Replace Hull (Front) Mounted twin heavy bolter with twin heavy flamer","points":0,"replaceWeapon":"twin-heavy-bolter","addWeapon":"twin-heavy-flamer"}],"points":null,"requiresUpgrade":"","targetModel":"glaive-super-heavy-special-weapons-tank-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"glaive-sponson-weapon-upgrades","name":"Sponson Weapon Upgrades","description":"This Model may have both Sponson Mounted lascannon arrays exchanged for one of the following.","maxCount":1,"options":[{"id":"laser-destroyers-sponson-glaive-option","name":"Two Sponson Mounted Laser Destroyers","description":"Replace both sponson mounted lascannon arrays with laser destroyers","points":0,"replaceWeapon":"lascannon-array","addWeapon":"laser-destroyer"},{"id":"gravis-heavy-bolter-batteries-sponson-glaive-option","name":"Two Sponson Mounted Gravis Heavy Bolter Batteries","description":"Replace both sponson mounted lascannon arrays with gravis heavy bolter batteries","points":0,"replaceWeapon":"lascannon-array","addWeapon":"gravis-heavy-bolter-battery"}],"points":null,"requiresUpgrade":"","targetModel":"glaive-super-heavy-special-weapons-tank-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"glaive-pintle-weapon-upgrades","name":"Pintle Weapon Upgrades","description":"This Model may have one item from the Legion Pintle Mounted Weapons list selected for it.","maxCount":1,"options":[{"id":"heavy-bolter-pintle-glaive-option","name":"Heavy Bolter Pintle","description":"Add heavy bolter pintle weapon","points":5,"addWeapon":"heavy-bolter"},{"id":"multi-melta-pintle-glaive-option","name":"Multi-melta Pintle","description":"Add multi-melta pintle weapon","points":15,"addWeapon":"multi-melta"}],"points":null,"requiresUpgrade":"","targetModel":"glaive-super-heavy-special-weapons-tank-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"glaive-wargear-upgrades","name":"Wargear Upgrades","description":"This Model may have one of each of the following selected for it.","maxCount":1,"options":[{"id":"hunter-killer-missile-glaive-option","name":"Hull (Front) Mounted Hunter-Killer Missile","description":"Add hull (front) mounted hunter-killer missile","points":5,"addWeapon":"hunter-killer-missile"},{"id":"searchlights-glaive-option","name":"Searchlights","description":"Add searchlights","points":5,"addWargear":"searchlights"}],"points":null,"requiresUpgrade":"","targetModel":"glaive-super-heavy-special-weapons-tank-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"iron-warriors-graviton-crusher-upgrade","name":"Iron Warriors Graviton Crusher","description":"Iron Warriors Champion and Command models may replace their thunder hammer with a graviton crusher.","maxCount":"dependent","options":[{"id":"graviton-crusher-option","name":"Graviton Crusher","description":"Replace thunder hammer with graviton crusher","points":0,"replaceWeapon":"thunder-hammer","addWeapon":"graviton-crusher"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":[],"legionRestriction":"iron-warriors","subTypeRestriction":["Champion","Command"],"requiredWeapons":["thunder-hammer"],"subfaction":"iron-warriors","type":"weapon"},{"id":"perturabo-forgebreaker-upgrade","name":"Forgebreaker Desecrated","description":"Perturabo may have Forgebreaker Desecrated selected for him.","maxCount":1,"options":[{"id":"forgebreaker-desecrated-option","name":"Forgebreaker Desecrated","description":"Replace The Logos Array with Forgebreaker Desecrated","points":35,"replaceWeapon":"logos-array","addWeapon":"forgebreaker-desecrated"}],"points":null,"requiresUpgrade":"","targetModel":"perturabo-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"warsmith-cyber-familiar-upgrade","name":"Cyber-familiar","description":"The Warsmith may have a cyber-familiar selected for him.","maxCount":1,"options":[{"id":"cyber-familiar-option","name":"Cyber-familiar","description":"Add a cyber-familiar to the Warsmith","points":10,"addWargear":"cyber-familiar"}],"points":null,"requiresUpgrade":"","targetModel":"warsmith-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"tyrant-combi-weapon-upgrade","name":"Legion Combi-weapons","description":"Any Tyrant may have their combi-bolter exchanged for one item from the Legion Combi-weapons list.","maxCount":"dependent","options":[{"id":"combi-melta-tyrant-option","name":"Combi-melta","description":"Replace combi-bolter with combi-melta","points":5,"replaceWeapon":"combi-bolter","addWeapon":"combi-melta"},{"id":"combi-plasma-tyrant-option","name":"Combi-plasma","description":"Replace combi-bolter with combi-plasma","points":5,"replaceWeapon":"combi-bolter","addWeapon":"combi-plasma"},{"id":"combi-flamer-tyrant-option","name":"Combi-flamer","description":"Replace combi-bolter with combi-flamer","points":5,"replaceWeapon":"combi-bolter","addWeapon":"combi-flamer"}],"points":null,"requiresUpgrade":"","targetModel":"tyrant-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"siege-master-combi-weapon-upgrade","name":"Legion Combi-weapons","description":"The Siege Master may have their combi-bolter exchanged for one item from the Legion Combi-weapons list.","maxCount":1,"options":[{"id":"combi-melta-siege-master-option","name":"Combi-melta","description":"Replace combi-bolter with combi-melta","points":5,"replaceWeapon":"combi-bolter","addWeapon":"combi-melta"},{"id":"combi-plasma-siege-master-option","name":"Combi-plasma","description":"Replace combi-bolter with combi-plasma","points":5,"replaceWeapon":"combi-bolter","addWeapon":"combi-plasma"},{"id":"combi-flamer-siege-master-option","name":"Combi-flamer","description":"Replace combi-bolter with combi-flamer","points":5,"replaceWeapon":"combi-bolter","addWeapon":"combi-flamer"}],"points":null,"requiresUpgrade":"","targetModel":"siege-master-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"siege-master-omni-scope-upgrade","name":"Omni-scope","description":"The Siege Master may have one omni-scope selected for it.","maxCount":1,"options":[{"id":"omni-scope-option","name":"Omni-scope","description":"Add an omni-scope to the Siege Master","points":10,"addWargear":"omni-scope"}],"points":null,"requiresUpgrade":"","targetModel":"siege-master-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"additional-tyrants-upgrade","name":"Additional Tyrants","description":"The unit may include up to 5 additional Tyrants.","maxCount":5,"options":[{"id":"additional-tyrant-option","name":"Additional Tyrant","description":"Add one Tyrant model to the unit","points":55,"addModel":"tyrant-model"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"model-count"},{"id":"additional-domitar-ferrum-upgrade","name":"Additional Domitar-ferrum","description":"The unit may include up to 5 additional Domitar-ferrum.","maxCount":5,"options":[{"id":"additional-domitar-ferrum-option","name":"Additional Domitar-ferrum","description":"Add one Domitar-ferrum model to the unit","points":135,"addModel":"domitar-ferrum-model"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"model-count"},{"id":"iron-havoc-weapon-replacement-upgrade","name":"Heavy Weapon Options","description":"Every Model in this Unit may have its shrapnel cannon replaced with one of the following options. Every Model in this Unit must have the same option selected for it.","maxCount":1,"options":[{"id":"autocannon-option","name":"Autocannon","description":"Replace shrapnel cannon with autocannon","points":10,"replaceWeapon":"shrapnel-cannon","addWeapon":"autocannon"},{"id":"missile-launcher-option","name":"Missile Launcher","description":"Replace shrapnel cannon with missile launcher","points":5,"replaceWeapon":"shrapnel-cannon","addWeapon":"missile-launcher"},{"id":"lascannon-option","name":"Lascannon","description":"Replace shrapnel cannon with lascannon","points":15,"replaceWeapon":"shrapnel-cannon","addWeapon":"lascannon"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"iron-havoc-equipment-upgrade","name":"Legion Equipment","description":"Up to two Iron Havocs in this Unit may each have one item from the Legion Equipment list.","maxCount":2,"options":[{"id":"melta-bombs-option","name":"Melta Bombs","description":"Add melta bombs to Iron Havoc","points":5,"addWargear":"melta-bombs"},{"id":"nuncio-vox-option","name":"Nuncio-vox","description":"Add nuncio-vox to Iron Havoc","points":10,"addWargear":"nuncio-vox"}],"points":null,"requiresUpgrade":"","targetModel":"iron-havoc-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"iron-havoc-vexilla-upgrade","name":"Vexilla","description":"One Iron Havoc in this Unit may have one vexilla.","maxCount":1,"options":[{"id":"vexilla-option","name":"Vexilla","description":"Add vexilla to Iron Havoc","points":10,"addWargear":"vexilla"}],"points":null,"requiresUpgrade":"","targetModel":"iron-havoc-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"wargear"},{"id":"iron-havoc-sergeant-melee-upgrade","name":"Legion Sergeant Melee Weapons","description":"The Iron Havoc Sergeant may have one item from the Legion Sergeant Melee Weapons list.","maxCount":1,"options":[{"id":"power-weapon-option","name":"Power Weapon","description":"Add power weapon to Iron Havoc Sergeant","points":10,"addWeapon":"power-weapon"},{"id":"power-fist-option","name":"Power Fist","description":"Add power fist to Iron Havoc Sergeant","points":15,"addWeapon":"power-fist"}],"points":null,"requiresUpgrade":"","targetModel":"iron-havoc-sergeant-model","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"weapon"},{"id":"additional-iron-havocs-upgrade","name":"Additional Iron Havocs","description":"The unit may include up to 5 additional Iron Havocs.","maxCount":5,"options":[{"id":"additional-iron-havoc-option","name":"Additional Iron Havoc","description":"Add one Iron Havoc model to the unit","points":25,"addModel":"iron-havoc-model"}],"points":null,"requiresUpgrade":"","targetModel":"","targetModels":"","targetModelType":"","targetModelTypes":[],"type":"model-count"}]`),QR={upgrades:K8},Y8=[{id:"logistical-benefit",name:"Logistical Benefit",description:"The unit has excellent logistical support",effect:"Add one Battlefield Role slot of your choice to the detachment",restrictions:["Cannot add Titan slots","Cannot add slots that would exceed detachment limits"]},{id:"iron-warriors-unfavoured",name:"The Unfavoured",description:"Iron Warriors unit that is considered expendable by their commanders",effect:"The unit gains the Expendable (1) special rule",restrictions:[],subfaction:"iron-warriors"}],JR={primeAdvantages:Y8},X8=JSON.parse(`[{"id":"command-vox","name":"Command Vox","description":"Advanced communication system for coordinating battlefield operations","hasValue":false,"longText":"Command Vox represents an advanced communication system that allows this unit to coordinate battlefield operations with enhanced efficiency. Units with this rule can communicate with other friendly units over greater distances, coordinate complex tactical maneuvers, and relay critical battlefield intelligence. The Command Vox system provides secure, encrypted communications that cannot be easily intercepted by enemy forces, making it essential for command and control operations.","shortText":"This unit has enhanced communication capabilities for battlefield coordination.","type":"wargear"},{"id":"augury-scanner","name":"Augury Scanner","description":"Advanced sensor system for detecting hidden enemies and threats","hasValue":false,"longText":"Augury Scanner represents an advanced sensor system that can detect hidden enemies, concealed threats, and other battlefield hazards that would normally be invisible to standard detection methods. Units with this rule can identify enemy units in cover, detect ambushes, and locate hidden objectives or resources. The Augury Scanner provides enhanced situational awareness and can reveal enemy movements that would otherwise go unnoticed.","shortText":"This unit can detect hidden enemies and threats with advanced sensors.","type":"wargear"},{"id":"auxilia-vexilla","name":"Auxilia Vexilla","description":"Standard bearer carrying the banner of the Solar Auxilia","hasValue":false,"longText":"Auxilia Vexilla represents a standard bearer carrying the banner of the Solar Auxilia. This sacred banner serves as a rallying point for nearby friendly units, providing morale bonuses and tactical coordination. The presence of the banner inspires nearby troops and helps maintain unit cohesion during combat. The Auxilia Vexilla can only be carried by one model in a unit, and its presence provides benefits to the entire formation.","shortText":"This unit carries the banner of the Solar Auxilia, providing morale and tactical bonuses.","type":"wargear"},{"id":"cohorts-vexilla","name":"Cohorts Vexilla","description":"Elite standard bearer carrying the banner of the cohort","hasValue":false,"longText":"Cohorts Vexilla represents an elite standard bearer carrying the sacred banner of the cohort. This prestigious banner is a symbol of the cohort's honor and tradition, providing enhanced morale bonuses and tactical coordination compared to standard banners. The presence of the Cohorts Vexilla inspires nearby troops to greater acts of valor and helps maintain unit cohesion even in the most desperate situations. Only one model in a unit can carry this elite banner.","shortText":"This unit carries the elite banner of the cohort, providing enhanced morale and tactical bonuses.","type":"wargear"},{"id":"artillery-tercio-commander","name":"Artillery Tercio Commander","description":"Special ability to command Artillery Tercio detachments","hasValue":false,"longText":"Artillery Tercio Commander is a special ability that allows this unit to trigger Artillery Tercio detachments. These specialized artillery detachments can only be commanded by units with this ability, representing their specialized training and equipment for coordinating artillery fire support operations. The Artillery Tercio Commander has access to unique tactical options and can coordinate specialized artillery assets for devastating long-range bombardment.","shortText":"This unit can trigger Artillery Tercio detachments.","type":"special-rule"},{"id":"armour-tercio-commander","name":"Armour Tercio Commander","description":"Special ability to command Armour Tercio detachments","hasValue":false,"longText":"Armour Tercio Commander is a special ability that allows this unit to trigger Armour Tercio detachments. These specialized armored detachments can only be commanded by units with this ability, representing their specialized training and equipment for coordinating armored warfare operations. The Armour Tercio Commander has access to unique tactical options and can coordinate specialized armored assets for devastating tank assaults and armored breakthroughs.","shortText":"This unit can trigger Armour Tercio detachments.","type":"special-rule"},{"id":"independent-character","name":"Independent Character","description":"This unit can operate independently and join other units","hasValue":false,"longText":"Independent Character represents units that can operate independently on the battlefield and have the ability to join other units. These characters are typically officers, heroes, or special individuals who can provide leadership and support to nearby units. Independent Characters can move freely around the battlefield and join or leave units as needed, providing tactical flexibility and command bonuses.","shortText":"This unit can operate independently and join other units.","type":"special-rule"},{"id":"stubborn","name":"Stubborn","description":"This unit is particularly difficult to break in combat","hasValue":false,"longText":"Stubborn represents units that are particularly difficult to break in combat, maintaining their resolve even when outnumbered or taking heavy casualties. These units have enhanced morale and are less likely to flee from battle. Stubborn units are often veterans, elite troops, or units with strong leadership who refuse to give ground even in the face of overwhelming odds.","shortText":"This unit is particularly difficult to break in combat.","type":"special-rule"},{"id":"line","name":"Line","description":"This unit can form a defensive line with enhanced capabilities","hasValue":true,"longText":"Line represents the ability of a unit to form a defensive line with enhanced capabilities. Units with this rule can coordinate their defensive efforts, providing mutual support and creating a more effective defensive position. The Line rule allows units to work together to create a cohesive defensive formation that is greater than the sum of its parts. This ability is particularly valuable for infantry units that need to hold ground against enemy assaults.","shortText":"This unit can form a defensive line with enhanced capabilities.","type":"special-rule"},{"id":"pistol","name":"Pistol","description":"This weapon can be used in close combat","hasValue":false,"longText":"Pistol represents weapons that can be used in close combat situations. These weapons are compact and designed for use at very close range, allowing the wielder to fire them even when engaged in melee combat. Pistols are particularly useful for characters and units that may find themselves in close quarters situations.","shortText":"This weapon can be used in close combat.","type":"special-rule"},{"id":"breaching","name":"Breaching","description":"This weapon is particularly effective against armored targets","hasValue":true,"longText":"Breaching represents weapons that are particularly effective against armored targets, fortified positions, and other heavily protected enemies. These weapons have enhanced armor penetration capabilities and can bypass or overcome defensive measures that would stop lesser weapons. Breaching weapons are essential for dealing with heavily armored enemies and fortified positions.","shortText":"This weapon is particularly effective against armored targets.","type":"special-rule"},{"id":"critical-hit","name":"Critical Hit","description":"This weapon has enhanced critical hit capabilities","hasValue":true,"longText":"Critical Hit represents weapons that have enhanced critical hit capabilities, allowing them to cause devastating damage on successful critical hits. These weapons are particularly effective at bypassing armor and causing massive damage when they strike true. Critical Hit weapons are often master-crafted or have special properties that make them more lethal than standard weapons.","shortText":"This weapon has enhanced critical hit capabilities.","type":"special-rule"},{"id":"close-order","name":"Close Order","description":"This model can maintain close formation with other models","hasValue":true,"longText":"Close Order represents the ability of a model to maintain close formation with other models, allowing for enhanced coordination and tactical flexibility. Models with this rule can work together more effectively in tight formations, providing mutual support and creating more cohesive fighting units. This ability is particularly valuable for command models and leaders who need to coordinate with nearby troops.","shortText":"This model can maintain close formation with other models.","type":"special-rule"},{"id":"hold-the-line","name":"Hold the Line","description":"This model can maintain defensive positions with enhanced resolve","hasValue":true,"longText":"Hold the Line represents the ability of a model to maintain defensive positions with enhanced resolve and determination. Models with this rule are particularly effective at holding ground and resisting enemy assaults, even when outnumbered or under heavy pressure. This ability is especially valuable for command models and leaders who need to inspire their troops to stand firm in the face of overwhelming odds.","shortText":"This model can maintain defensive positions with enhanced resolve.","type":"special-rule"},{"id":"deflagrate","name":"Deflagrate","description":"This weapon can cause additional damage through deflagration","hasValue":true,"longText":"Deflagrate represents the ability of a weapon to cause additional damage through deflagration effects. When this weapon successfully wounds a target, it can potentially cause additional damage or effects beyond the normal damage. This ability is particularly effective against certain types of targets and can be devastating when used properly.","shortText":"This weapon can cause additional damage through deflagration.","type":"special-rule"},{"id":"duellists-edge","name":"Duellist's Edge","description":"This weapon provides enhanced capabilities in duels","hasValue":true,"longText":"Duellist's Edge represents the weapon's enhanced capabilities in one-on-one combat situations. Weapons with this rule are particularly effective when used against single targets or in dueling scenarios, providing additional benefits that make them superior choices for close combat against individual opponents.","shortText":"This weapon provides enhanced capabilities in duels.","type":"special-rule"},{"id":"searchlight","name":"Searchlight","description":"Illuminates targets for improved accuracy","hasValue":false,"longText":"A searchlight is a powerful illumination device mounted on vehicles that can light up targets in darkness or poor visibility conditions. This illumination improves targeting accuracy and can reveal hidden enemies. Searchlights are particularly useful in night fighting or in environments with limited visibility.","shortText":"Provides illumination for improved targeting accuracy.","type":"wargear"},{"id":"dozer-blade","name":"Dozer Blade","description":"Reinforced blade for clearing obstacles and terrain","hasValue":false,"longText":"A dozer blade is a reinforced blade mounted on the front of vehicles that allows them to clear obstacles, demolish barricades, and traverse difficult terrain more easily. The blade can be used to push aside debris, clear paths through rubble, or create makeshift ramps. Dozer blades are particularly useful for engineering vehicles and those operating in urban or heavily fortified environments.","shortText":"Allows the vehicle to clear obstacles and difficult terrain.","type":"wargear"},{"id":"flare-shield","name":"Flare Shield","description":"Defensive shield that provides protection against incoming fire","hasValue":false,"longText":"A flare shield is a defensive energy shield that provides protection against incoming fire and attacks. The shield can deflect or absorb damage from various types of weapons, making the vehicle more survivable in combat. Flare shields are advanced defensive systems that represent the pinnacle of protective technology available to vehicle crews.","shortText":"Provides defensive protection against incoming attacks.","type":"wargear"},{"id":"flare-launchers","name":"Flare Launchers","description":"Ranged weapon that can deploy flares to illuminate targets","hasValue":false,"longText":"Flare Launchers represents a ranged weapon that can deploy flares to illuminate targets. Units with this rule can use their weapon to deploy flares, which can be used to illuminate targets or create a temporary beacon. Flare launchers are particularly useful for providing illumination in dark or poorly lit environments, allowing units to see their targets more easily. This ability is particularly valuable for units that operate in low-light conditions or need to provide illumination for other units.","shortText":"This unit can deploy flares to illuminate targets.","type":"wargear"},{"id":"template-hellstorm","name":"Template (Hellstorm)","description":"This weapon can be used to deploy Hellstorm templates","hasValue":false,"longText":"Template (Hellstorm) represents the ability of a weapon to deploy Hellstorm templates. Weapons with this rule can be used to deploy Hellstorm templates, which can be used to create a temporary Hellstorm zone. Hellstorm templates are particularly useful for providing cover and protection from enemy fire. This ability is particularly valuable for units that need to create a temporary Hellstorm zone to protect themselves or other units.","shortText":"This weapon can be used to deploy Hellstorm templates.","type":"special-rule"},{"id":"vanguard","name":"Vanguard","description":"This unit can deploy ahead of the main force","hasValue":false,"longText":"Vanguard represents the ability of a unit to deploy ahead of the main force, allowing them to secure objectives, scout enemy positions, or establish forward positions before the rest of the army arrives. Vanguard units are typically fast-moving, lightly armored troops who excel at reconnaissance and forward operations.","shortText":"This unit can deploy ahead of the main force.","type":"special-rule"},{"id":"implacable-advance","name":"Implacable Advance","description":"This unit can advance steadily despite enemy fire","hasValue":false,"longText":"Implacable Advance represents the ability of a unit to advance steadily toward their objectives despite heavy enemy fire and casualties. These units are particularly determined and can maintain their forward momentum even when taking significant losses.","shortText":"This unit can advance steadily despite enemy fire.","type":"special-rule"},{"id":"officer-of-the-line","name":"Officer of the Line","description":"This unit provides command bonuses to nearby troops","hasValue":false,"longText":"Officer of the Line represents a command officer who provides leadership and tactical bonuses to nearby friendly units. These officers are trained in battlefield command and can coordinate multiple units effectively.","shortText":"This unit provides command bonuses to nearby troops.","type":"special-rule"},{"id":"rapid-fire","name":"Rapid Fire","description":"This weapon can fire multiple shots rapidly","hasValue":false,"longText":"Rapid Fire represents weapons that can fire multiple shots in quick succession, increasing their effectiveness against multiple targets or improving their chances of hitting a single target.","shortText":"This weapon can fire multiple shots rapidly.","type":"special-rule"},{"id":"first-rank-fire-second-rank-fire","name":"First Rank Fire, Second Rank Fire","description":"This unit can coordinate fire between multiple ranks","hasValue":false,"longText":"First Rank Fire, Second Rank Fire represents the ability of a unit to coordinate their fire between multiple ranks, allowing for sustained volleys and improved firepower.","shortText":"This unit can coordinate fire between multiple ranks.","type":"special-rule"},{"id":"bulky","name":"Bulky","description":"This model is particularly large and difficult to transport","hasValue":false,"longText":"Bulky represents models that are particularly large, heavy, or unwieldy, making them difficult to transport or maneuver in certain situations.","shortText":"This model is particularly large and difficult to transport.","type":"special-rule"},{"id":"move-through-cover","name":"Move Through Cover","description":"This unit can move through difficult terrain more easily","hasValue":false,"longText":"Move Through Cover represents the ability of a unit to traverse difficult terrain, obstacles, and cover more easily than standard units.","shortText":"This unit can move through difficult terrain more easily.","type":"special-rule"},{"id":"slow-and-purposeful","name":"Slow and Purposeful","description":"This unit moves slowly but with great determination","hasValue":false,"longText":"Slow and Purposeful represents units that move at a reduced pace but with great determination and purpose, often being more difficult to stop or redirect.","shortText":"This unit moves slowly but with great determination.","type":"special-rule"},{"id":"support-unit","name":"Support Unit","description":"This unit provides support to other friendly units","hasValue":false,"longText":"Support Unit represents units that are designed to provide various forms of support to other friendly units, such as fire support, medical aid, or logistical assistance.","shortText":"This unit provides support to other friendly units.","type":"special-rule"},{"id":"rapier-section","name":"Rapier Section","description":"This unit operates as part of a specialized artillery section","hasValue":false,"longText":"Rapier Section represents units that operate as part of a specialized artillery section, with enhanced coordination and tactical capabilities.","shortText":"This unit operates as part of a specialized artillery section.","type":"special-rule"},{"id":"heedless","name":"Heedless","description":"This unit ignores certain negative effects","hasValue":false,"longText":"Heedless represents units that can ignore certain negative effects, penalties, or restrictions that would normally apply to other units.","shortText":"This unit ignores certain negative effects.","type":"special-rule"},{"id":"bitter-duty","name":"Bitter Duty","description":"This unit performs their duty despite great hardship","hasValue":false,"longText":"Bitter Duty represents units that continue to perform their assigned tasks and duties despite facing great hardship, casualties, or adverse conditions.","shortText":"This unit performs their duty despite great hardship.","type":"special-rule"},{"id":"expendable","name":"Expendable","description":"This unit is considered expendable in tactical calculations","hasValue":false,"longText":"Expendable represents units that are considered expendable in tactical calculations, often being used for dangerous missions or as sacrificial units.","shortText":"This unit is considered expendable in tactical calculations.","type":"special-rule"},{"id":"feel-no-pain","name":"Feel No Pain","description":"This unit can ignore certain wounds or damage","hasValue":false,"longText":"Feel No Pain represents the ability of a unit to ignore or shrug off certain wounds, damage, or injuries that would normally incapacitate other units.","shortText":"This unit can ignore certain wounds or damage.","type":"special-rule"},{"id":"impact","name":"Impact","description":"This unit causes additional damage on charges","hasValue":false,"longText":"Impact represents the ability of a unit to cause additional damage or effects when charging into combat, often due to their size, weight, or momentum.","shortText":"This unit causes additional damage on charges.","type":"special-rule"},{"id":"outflank","name":"Outflank","description":"This unit can deploy from unexpected directions","hasValue":false,"longText":"Outflank represents the ability of a unit to deploy from unexpected directions or positions, allowing them to attack the enemy from the flank or rear.","shortText":"This unit can deploy from unexpected directions.","type":"special-rule"},{"id":"pre-emptive-strike","name":"Pre-emptive Strike","description":"This unit can attack before the enemy","hasValue":false,"longText":"Pre-emptive Strike represents the ability of a unit to launch attacks before the enemy can react, often due to superior speed, reflexes, or tactical positioning.","shortText":"This unit can attack before the enemy.","type":"special-rule"},{"id":"precision-bombardment","name":"Precision Bombardment","description":"This unit can deliver highly accurate artillery fire","hasValue":false,"longText":"Precision Bombardment represents the ability of a unit to deliver highly accurate artillery fire, often with reduced scatter or improved targeting.","shortText":"This unit can deliver highly accurate artillery fire.","type":"special-rule"},{"id":"armoured-warfare","name":"Armoured Warfare","description":"This unit is specialized in armored combat","hasValue":false,"longText":"Armoured Warfare represents units that are specialized in armored combat, with enhanced capabilities when fighting against or alongside other armored units.","shortText":"This unit is specialized in armored combat.","type":"special-rule"},{"id":"auto-repair","name":"Auto-repair","description":"This unit can repair itself automatically","hasValue":false,"longText":"Auto-repair represents the ability of a unit to automatically repair damage or restore functionality without external assistance.","shortText":"This unit can repair itself automatically.","type":"special-rule"},{"id":"light-transport","name":"Light Transport","description":"This unit can transport other units","hasValue":false,"longText":"Light Transport represents units that are designed to transport other units, providing mobility and tactical flexibility.","shortText":"This unit can transport other units.","type":"special-rule"},{"id":"independent-fire","name":"Independent Fire","description":"This unit can fire independently of other units","hasValue":false,"longText":"Independent Fire represents the ability of a unit to fire their weapons independently of other units, without requiring coordination or support.","shortText":"This unit can fire independently of other units.","type":"special-rule"},{"id":"explodes","name":"Explodes","description":"This unit can explode when destroyed","hasValue":false,"longText":"Explodes represents the ability of a unit to cause an explosion when destroyed, potentially damaging nearby units or terrain.","shortText":"This unit can explode when destroyed.","type":"special-rule"},{"id":"suppressive","name":"Suppressive","description":"This weapon can suppress enemy units","hasValue":true,"longText":"Suppressive represents the ability of a weapon to suppress enemy units, reducing their effectiveness or preventing them from taking certain actions.","shortText":"This weapon can suppress enemy units.","type":"special-rule"},{"id":"indirect-fire","name":"Indirect Fire","description":"This weapon can fire over obstacles","hasValue":false,"longText":"Indirect Fire represents the ability of a weapon to fire over obstacles, cover, or terrain that would normally block line of sight.","shortText":"This weapon can fire over obstacles.","type":"special-rule"},{"id":"melta","name":"Melta","description":"This weapon is particularly effective at close range","hasValue":true,"longText":"Melta represents weapons that are particularly effective at close range, often having enhanced damage or armor penetration when used against nearby targets.","shortText":"This weapon is particularly effective at close range.","type":"special-rule"},{"id":"poisoned","name":"Poisoned","description":"This weapon delivers poisoned attacks","hasValue":true,"longText":"Poisoned represents weapons that deliver poisoned attacks, which can cause additional effects or damage over time.","shortText":"This weapon delivers poisoned attacks.","type":"special-rule"},{"id":"pinning","name":"Pinning","description":"This weapon can pin enemy units in place","hasValue":true,"longText":"Pinning represents the ability of a weapon to pin enemy units in place, preventing them from moving or taking certain actions.","shortText":"This weapon can pin enemy units in place.","type":"special-rule"},{"id":"rending","name":"Rending","description":"This weapon can tear through armor","hasValue":true,"longText":"Rending represents weapons that can tear through armor, often having enhanced armor penetration or the ability to bypass certain types of protection.","shortText":"This weapon can tear through armor.","type":"special-rule"},{"id":"shred","name":"Shred","description":"This weapon can shred through targets","hasValue":true,"longText":"Shred represents weapons that can shred through targets, often causing additional damage or having enhanced effectiveness against certain types of enemies.","shortText":"This weapon can shred through targets.","type":"special-rule"},{"id":"template","name":"Template","description":"This weapon uses a template for area effect","hasValue":false,"longText":"Template represents weapons that use a template to determine their area of effect, allowing them to hit multiple targets within a specific area.","shortText":"This weapon uses a template for area effect.","type":"special-rule"},{"id":"armourbane","name":"Armourbane","description":"This weapon is particularly effective against armored targets","hasValue":false,"longText":"Armourbane represents weapons that are particularly effective against armored targets, often having enhanced damage or armor penetration capabilities.","shortText":"This weapon is particularly effective against armored targets.","type":"special-rule"},{"id":"detonation","name":"Detonation","description":"This weapon explodes on impact","hasValue":false,"longText":"Detonation represents weapons that explode on impact, causing area damage or additional effects beyond the initial hit.","shortText":"This weapon explodes on impact.","type":"special-rule"},{"id":"panic","name":"Panic","description":"This weapon can cause panic in enemy units","hasValue":true,"longText":"Panic represents the ability of a weapon to cause panic in enemy units, potentially causing them to flee or lose their effectiveness.","shortText":"This weapon can cause panic in enemy units.","type":"special-rule"},{"id":"heavy","name":"Heavy","description":"This weapon is heavy and difficult to move","hasValue":true,"longText":"Heavy represents weapons that are heavy and difficult to move, often requiring special equipment or reducing the mobility of the unit carrying them.","shortText":"This weapon is heavy and difficult to move.","type":"special-rule"},{"id":"blast","name":"Blast","description":"This weapon causes area damage","hasValue":true,"longText":"Blast represents weapons that cause area damage, affecting multiple targets within a specific radius of the impact point.","shortText":"This weapon causes area damage.","type":"special-rule"},{"id":"ordnance","name":"Ordnance","description":"This weapon is classified as ordnance","hasValue":true,"longText":"Ordnance represents weapons that are classified as heavy artillery or specialized munitions, often having unique rules or restrictions.","shortText":"This weapon is classified as ordnance.","type":"special-rule"},{"id":"stun","name":"Stun","description":"This weapon can stun enemy units","hasValue":true,"longText":"Stun represents the ability of a weapon to stun enemy units, potentially reducing their effectiveness or preventing them from taking certain actions.","shortText":"This weapon can stun enemy units.","type":"special-rule"},{"id":"overload","name":"Overload","description":"This weapon can overload for increased power","hasValue":true,"longText":"Overload represents the ability of a weapon to operate at increased power levels, often at the cost of reliability or safety.","shortText":"This weapon can overload for increased power.","type":"special-rule"},{"id":"barrage","name":"Barrage","description":"This weapon can fire in a barrage pattern","hasValue":true,"longText":"Barrage represents the ability of a weapon to fire in a barrage pattern, covering a large area with multiple shots or projectiles.","shortText":"This weapon can fire in a barrage pattern.","type":"special-rule"},{"id":"limited","name":"Limited","description":"This weapon has limited ammunition","hasValue":true,"longText":"Limited represents weapons that have limited ammunition or uses, restricting how often they can be fired or deployed.","shortText":"This weapon has limited ammunition.","type":"special-rule"},{"id":"shock","name":"Shock","description":"This weapon can cause shock effects","hasValue":true,"longText":"Shock represents the ability of a weapon to cause shock effects, potentially stunning, disorienting, or otherwise affecting enemy units.","shortText":"This weapon can cause shock effects.","type":"special-rule"},{"id":"phage","name":"Phage","description":"Reduce a characteristic for the rest of the battle","shortText":"Reduce the value of the characteristic in brackets by 1 for the rest of the battle after an unsaved wound from this weapon.","longText":"Reduce that value motherfucker","hasValue":true,"type":"special-rule"},{"id":"skyfire","name":"Skyfire","description":"Shooty shooty airplanes","shortText":"A weapon with this special rule hits flyers at its normal to hit roll.","longText":"Zooooooom bang","hasValue":true,"type":"special-rule"},{"id":"rapid-tracking","name":"Rapid Tracking","description":"Not sure what this does","shortText":"Not sure what this does","longText":"Still not sure what this does","hasValue":true,"type":"special-rule"},{"id":"combi","name":"Combi","description":"Secondary weapon system","shortText":"This is a secondary profile that can be fired at the same time as the main system","longText":"Fire them all","hasValue":false,"type":"special-rule"},{"id":"precision","name":"Precision","description":"This weapon can hit specific targets in the heat of battle.","shortText":"Fuck that guy in particular.","longText":"No really, fuck that guy IN PARTICULAR","hasValue":false,"type":"special-rule"},{"id":"shot-selector","name":"Shot Selector","description":"This weapon can fire various kinds of ammo","shortText":"This weapon chooses a special rule to gain before firing","longText":"This weapon can choose one of the following special rules before firing","hasValue":false,"type":"special-rule"},{"id":"reaping-blow","name":"Reaping Blow","description":"This weapon is more effective when fighting multiple opponents","shortText":"This weapon gains +1D4 when fighting multiple opponents.","longText":"This weapon can hit multiple targets at once.","hasValue":false,"type":"special-rule"},{"id":"force","name":"Force","description":"This weapon is more effective when fighting with a force weapon","shortText":"This weapon gains +1D4 when fighting with a force weapon.","longText":"This weapon makes life as a Space Marine more difficult.","hasValue":false,"type":"special-rule"},{"id":"deep-strike","name":"Deep Strike","description":"This unit can be deployed via deep strike","hasValue":false,"longText":"Deep Strike represents the ability of a unit to be deployed via teleportation, drop pods, or other rapid deployment methods. Units with this rule can arrive on the battlefield from reserves using special deployment rules, allowing them to appear in unexpected locations and catch the enemy off guard. Deep Strike units are typically elite forces that can be deployed precisely where they are needed most.","shortText":"This unit can be deployed via deep strike.","type":"special-rule"},{"id":"nuncio-vox","name":"Nuncio-vox","description":"Advanced communications relay system for coordinating orbital support and long-range communications","hasValue":false,"longText":"Nuncio-vox represents an advanced communications relay system that allows units to coordinate orbital support, artillery strikes, and long-range communications with other forces. Units with this equipment can call in precision bombardments, request reinforcements, and coordinate complex tactical maneuvers across vast distances. The Nuncio-vox is a sophisticated piece of equipment that requires specialized training to operate effectively, making it typically available only to officers and specialized communication personnel.","shortText":"This unit has advanced communication capabilities for coordinating support and artillery.","type":"wargear"},{"id":"cyber-familiar","name":"Cyber-familiar","description":"Advanced servo-skull companion that provides tactical assistance and battlefield awareness","hasValue":false,"longText":"Cyber-familiar represents an advanced servo-skull companion that provides tactical assistance and enhanced battlefield awareness to its master. This sophisticated mechanical construct is equipped with advanced sensors, data processing capabilities, and tactical analysis systems that can assist in combat coordination, target identification, and strategic planning. The cyber-familiar hovers near its master, providing real-time battlefield intelligence and tactical recommendations that enhance their combat effectiveness and decision-making abilities.","shortText":"This unit is accompanied by a cyber-familiar that provides tactical assistance and enhanced awareness.","type":"wargear"},{"id":"thermal-diffraction-field","name":"Thermal Diffraction Field","description":"Advanced energy field system that provides enhanced protection against energy-based attacks","hasValue":false,"longText":"Thermal Diffraction Field represents an advanced energy field generator integrated into Saturnine Terminator armour systems. This sophisticated defensive technology creates a localized field that diffracts and disperses incoming energy-based attacks, significantly reducing their effectiveness. The field operates by manipulating thermal and electromagnetic radiation, creating a protective barrier that can deflect las-weapons, plasma bolts, and other energy-based projectiles. This technology is extremely rare and power-intensive, making it available only to the most elite and well-equipped warriors.","shortText":"This unit is protected by a thermal diffraction field that provides enhanced defense against energy weapons.","type":"wargear"},{"id":"saturnine-teleportation-transponder","name":"Saturnine Teleportation Transponder","description":"Ultra-rare teleportation technology that allows precise battlefield deployment via deep strike","hasValue":false,"longText":"Saturnine Teleportation Transponder represents the pinnacle of Mechanicum teleportation technology, integrated into the most advanced patterns of Terminator armour. This extremely rare and valuable piece of equipment creates a localized teleportation field that can transport the wearer and nearby allies directly onto the battlefield with pinpoint accuracy. The transponder synchronizes with orbital or ground-based teleportation arrays, allowing for tactical deployment behind enemy lines or rapid repositioning during critical moments. The technology is so advanced and resource-intensive that only the highest-ranking commanders have access to such equipment.","shortText":"This unit and any unit it has joined can deploy via deep strike using advanced teleportation technology.","type":"wargear"},{"id":"vexilla","name":"Vexilla","description":"A ceremonial banner or standard that serves as a rallying point and symbol of authority on the battlefield","hasValue":false,"longText":"Vexilla represents a ceremonial banner, standard, or heraldic device carried by officers and elite troops to serve as a rallying point for their forces. These elaborately decorated standards bear the colors, symbols, and honors of the unit, serving both practical and morale purposes on the battlefield. The vexilla acts as a visible marker of command presence, helping troops maintain formation and providing inspiration during combat. Beyond its tactical utility, the vexilla represents the pride, tradition, and fighting spirit of the unit, making it a powerful symbol that can boost morale and coordinate battlefield movements.","shortText":"This unit carries a vexilla that serves as a rallying point and symbol of authority.","type":"wargear"},{"id":"biomancy","name":"Biomancy","description":"The psychic discipline of Biomancy focuses on the manipulation of living flesh and biological processes.","hasValue":false,"longText":"Biomancy is one of the most potent and feared psychic disciplines, allowing the practitioner to manipulate living tissue, accelerate healing, enhance physical capabilities, or cause grievous harm through direct biological manipulation. Masters of Biomancy can knit wounds closed with a thought, enhance their own physical prowess to superhuman levels, or cause enemies to suffer catastrophic cellular breakdown. This discipline requires exceptional mental discipline and understanding of biological processes.","shortText":"Psychic discipline focused on biological manipulation and enhancement.","type":"wargear"},{"id":"pyromancy","name":"Pyromancy","description":"The psychic discipline of Pyromancy harnesses the power of fire and heat.","hasValue":false,"longText":"Pyromancy is the psychic discipline that allows the manipulation of fire, heat, and combustion. Practitioners can conjure flames from thin air, project devastating fire-based attacks, control existing fires, or even manipulate the thermal energy within objects and beings. While considered one of the more straightforward psychic disciplines, mastery of Pyromancy requires careful control to prevent the psyker from being consumed by their own flames. The discipline is particularly effective against armored targets and clustered enemies.","shortText":"Psychic discipline focused on fire and thermal manipulation.","type":"wargear"},{"id":"telekinesis","name":"Telekinesis","description":"The psychic discipline of Telekinesis allows the manipulation of matter through mental force.","hasValue":false,"longText":"Telekinesis is perhaps the most versatile of the psychic disciplines, allowing practitioners to manipulate physical matter through the power of thought alone. Masters of Telekinesis can lift and hurl objects with tremendous force, create protective barriers of psychic energy, crush enemies with invisible pressure, or even manipulate the battlefield itself. The discipline requires exceptional mental focus and spatial awareness, as the psyker must maintain precise control over multiple variables simultaneously.","shortText":"Psychic discipline focused on matter manipulation through mental force.","type":"wargear"},{"id":"divination","name":"Divination","description":"The psychic discipline of Divination grants foresight and enhanced perception.","hasValue":false,"longText":"Divination is the psychic discipline that allows practitioners to perceive beyond the normal constraints of time and space. Masters of Divination can glimpse possible futures, detect hidden enemies, enhance their allies' accuracy and reflexes, or even manipulate probability itself. This discipline is highly valued by commanders and strategists, as it provides tactical advantages that can turn the tide of battle. However, peering into the future comes with risks, as the Warp shows not just one possible outcome but countless potential realities.","shortText":"Psychic discipline focused on foresight and enhanced perception.","type":"wargear"},{"id":"thaumaturgy","name":"Thaumaturgy","description":"The fundamental psychic discipline encompassing basic psychic arts and techniques.","hasValue":false,"longText":"Thaumaturgy represents the foundation of all psychic arts, encompassing the basic techniques and principles that underlie more specialized disciplines. Practitioners learn fundamental skills such as psychic communication, basic energy manipulation, mental shielding, and simple matter alteration. While not as dramatic as the specialized disciplines, Thaumaturgy provides essential skills that form the bedrock of psychic training. Most psykers begin their studies with Thaumaturgy before progressing to more advanced disciplines.","shortText":"Fundamental psychic discipline encompassing basic psychic arts.","type":"wargear"},{"id":"telepathy","name":"Telepathy","description":"The psychic discipline of Telepathy focuses on mental communication and mind control.","hasValue":false,"longText":"Telepathy is the psychic discipline that deals with direct mental contact and manipulation of consciousness. Practitioners can communicate across vast distances without speaking, read surface thoughts, implant suggestions or commands, create mental illusions, or even dominate weaker minds completely. While extremely useful for coordination and intelligence gathering, Telepathy is also one of the most ethically questionable disciplines, as it involves direct violation of mental privacy and autonomy. Skilled telepaths must maintain strict mental discipline to avoid being overwhelmed by the thoughts of others.","shortText":"Psychic discipline focused on mental communication and mind control.","type":"wargear"},{"id":"never-back-down","name":"Never Back Down","description":"Champions exemplify the honour of their Legion, fearlessly crossing blades with the greatest warriors their foe has to offer.","hasValue":false,"longText":"Never Back Down represents the unwavering courage and honor code of elite champions who seek out single combat with enemy leaders and heroes. A Model with this Special Rule must take part in a Challenge if able. During the Challenge Sub-Phase, if a Model with this Special Rule is eligible, it must be declared as the Challenger or to accept a Challenge. If more than one Model with this Special Rule is eligible to be the Challenger or to accept a Challenge, the Controlling Player may select which one will be declared as the Challenger or to accept a Challenge. This rule reflects the champion's duty to seek out the enemy's greatest warriors and defeat them in honorable single combat, upholding their Legion's reputation and martial prowess.","shortText":"Must take part in Challenges if able. Must be declared as Challenger when eligible.","type":"special-rule"},{"id":"infiltrate","name":"Infiltrate","description":"This unit can deploy in advanced positions using stealth and reconnaissance skills.","hasValue":true,"longText":"Infiltrate represents the ability of specially trained units to deploy in advanced positions using stealth, reconnaissance skills, and knowledge of terrain. Units with Infiltrate can be deployed in unexpected locations, behind enemy lines, or in concealed positions that provide tactical advantages. The numerical value associated with Infiltrate indicates the unit's proficiency level, with higher values representing greater skill in reconnaissance, stealth movement, and advanced deployment techniques. This ability is particularly valuable for scouts, snipers, and reconnaissance specialists who need to gather intelligence or strike from concealed positions.","shortText":"Can deploy in advanced positions using stealth and reconnaissance skills.","type":"special-rule"},{"id":"anathemata-discipline","name":"Anathemata Discipline","description":"The forbidden psychic discipline of the Anathemata, dealing with the dark powers of the Warp and daemonic entities.","hasValue":false,"longText":"The Anathemata Discipline represents the most forbidden and dangerous form of psychic knowledge, dealing directly with the raw powers of the Warp and the entities that dwell within it. Those who study the Anathemata delve into knowledge that was meant to remain hidden, learning to summon forth the denizens of the Warp and binding them to their cause. This discipline encompasses the darkest arts of daemonology, warp manipulation, and the corruption of reality itself. The practitioners of Anathemata walk a dangerous path, for while they gain tremendous power, they risk their very souls in the process. Many who study these forbidden arts are eventually consumed by the very forces they seek to control.","shortText":"Forbidden psychic discipline dealing with dark Warp powers and daemonic entities.","type":"wargear"},{"id":"anathemata","name":"Anathemata","description":"Bearer of forbidden knowledge and dark secrets that should not be known by mortal minds.","hasValue":false,"longText":"Anathemata represents the state of being marked by forbidden knowledge, having delved into secrets and lore that were meant to remain hidden from mortal understanding. Those who bear the Anathemata trait have studied the darkest aspects of the Warp, learned the true names of daemonic entities, and uncovered truths that can drive lesser minds to madness. This knowledge grants them tremendous power but also marks them as outcasts and heretics in the eyes of their former brothers. The Anathemata is both a blessing and a curse, providing access to abilities beyond normal comprehension while forever separating the bearer from the light of the Emperor.","shortText":"Marked by forbidden knowledge and dark secrets.","type":"special-rule"},{"id":"feel-no-pain","name":"Feel No Pain","description":"This unit has enhanced pain tolerance and damage resistance, allowing it to ignore some wounds.","hasValue":true,"longText":"Feel No Pain represents enhanced damage tolerance, whether through cybernetic augmentation, chemical enhancement, psychic conditioning, or fanatical determination. Models with this special rule can ignore wounds that would normally incapacitate them, continuing to fight despite grievous injuries. The numerical value indicates the dice roll required to ignore each wound suffered - for example, Feel No Pain (5+) means that on a roll of 5 or 6, the wound is ignored. This ability represents everything from advanced medical implants and pain suppressors to psychic numbing and sheer bloody-minded determination to continue fighting regardless of physical damage.","shortText":"Can ignore wounds on specified dice roll.","type":"special-rule"},{"id":"master-of-automata","name":"Master of Automata","description":"This model is skilled in the control and coordination of battle-automata, allowing them to command robotic forces alongside organic troops.","hasValue":false,"longText":"Master of Automata represents specialized training in the control and coordination of battle-automata. Praevians stride to battle flanked by imposing automata, which provide a potent bodyguard as well as allowing the Praevian more direct control over their actions, directing their deadly firepower with a gesture. This Special Rule allows a Praevian to be accompanied by a Unit of Battle-automata. When a Model with this Special Rule is included in a Detachment, one additional Force Organisation Slot is added to that Detachment. This Slot can only be filled with one Castellax Battle Maniple or Castellax Destructor Maniple Unit selected from Liber Mechanicum. When such a Unit is included in this way, its Cybernetica Trait is replaced with 'Bonded Automata', and the Unit can be included even though it does not have the same Faction Trait as the other Units in that Detachment. In addition, a Model with this Special Rule may join a Friendly Unit that includes Models with the Automata Type. If a Model with this Special Rule joins a Unit with the Automata Type, the Leadership and Cool Characteristics of Models in that Unit are not reduced as a result of this, but may be modified by other rules as normal.","shortText":"Can control battle-automata and adds Force Organisation Slot for Mechanicum automata units.","type":"special-rule"},{"id":"firestorm","name":"Firestorm","description":"This model can unleash devastating rapid fire attacks, overwhelming enemies with a storm of shots.","hasValue":false,"longText":"Firestorm represents the ability to unleash devastating rapid fire attacks, typically through dual-wielding specialized weapons or advanced firing techniques. Models with this special rule can generate multiple shots in rapid succession, creating a storm of fire that can overwhelm enemy positions. This ability is particularly associated with lone killers and assassins who specialize in eliminating multiple targets quickly through superior firepower and shooting techniques. The Firestorm ability allows the model to make additional shooting attacks or enhance their existing ranged weapons' effectiveness, representing their mastery of rapid engagement tactics.","shortText":"Can unleash devastating rapid fire attacks with enhanced shooting capability.","type":"special-rule"},{"id":"cognis-signum","name":"Cognis-signum","description":"This advanced targeting cogitator enhances the bearer's ability to direct artillery fire and coordinate heavy weapons attacks.","hasValue":false,"longText":"A cognis-signum is an advanced targeting cogitator that integrates battlefield data streams and weapons telemetry to provide enhanced fire control capabilities. Originally developed by the Mechanicum for artillery coordination, these devices allow the bearer to analyze target trajectories, calculate firing solutions, and coordinate multiple weapon systems with precision. Siege Breakers and other artillery specialists rely on cognis-signums to direct the devastating firepower of heavy weapons batteries, ensuring maximum effectiveness against fortified positions and strategic targets. The device's cogitator spirit processes vast amounts of tactical data, providing real-time targeting adjustments and fire coordination that can mean the difference between a glancing blow and total devastation.","shortText":"Advanced targeting cogitator for artillery fire coordination and weapons guidance.","type":"wargear"},{"id":"master-of-auxilia","name":"Master of Auxilia","description":"This model is skilled in the command and integration of auxiliary forces, allowing them to coordinate non-Legion troops with Legion formations.","hasValue":false,"longText":"Master of Auxilia represents specialized training in the command and integration of auxiliary forces into Legion operations. Overseers often join the ranks of those under their jurisdiction, ensuring their fealty through inspirational words or barbed threats. This expertise allows them to coordinate indentured soldiery, local militia, and allied formations with Legion strike forces, maintaining discipline and effectiveness across diverse military units. Overseers can join some Allied Units without penalty to some Characteristics - specifically, if a Model with this Special Rule joins a Unit with the Solar Auxilia Trait, the Leadership and Cool Characteristics of Models in that Unit are not reduced as a result of this, but may be modified by other rules as normal. This represents their ability to maintain auxiliary unit cohesion while providing Legion-level tactical coordination.","shortText":"Can coordinate auxiliary forces and join Allied units without characteristic penalties.","type":"special-rule"},{"id":"icon-of-allegiance","name":"Icon of Allegiance","description":"This sacred banner represents the highest authority and favor, carried proudly at the forefront of Legion forces to inspire allies and intimidate enemies.","hasValue":false,"longText":"Carried aloft at the forefront of the Legion hosts during the Great Crusade, these sigils denoted that the bearer carried the authority of Emperor himself. Since the outbreak of the Heresy, those who turned against him cast these aside, taking up icons of the Traitor Warmaster instead. A Model with an Icon of Allegiance immediately gains 1 Honour Point each time: That Model is the winner of a Challenge, or That Model is part of a Combat that included at least one enemy Model that does not have the Vehicle Type, of which the Controlling Player is declared the winner. All Honour Points gained by a Model are lost when: That Model is Removed as a Casualty, or That Model is part of a Unit in which any Model gains the Disgraced Tactical Status. During the Decide Victor Step, at the end of the Battle, the Controlling Player of any Models with an Icon of Allegiance scores a number of Victory Points equal to the amount of Honour Points that any one of those Models, selected by the Controlling Player, currently has.","shortText":"Sacred banner that grants Honor Points for victories and converts them to Victory Points at battle end.","type":"wargear"},{"id":"firing-protocols","name":"Firing Protocols","description":"Enhanced targeting and shooting capability when remaining stationary.","hasValue":true,"longText":"Firing Protocols represents the enhanced targeting and shooting capability available to units equipped with advanced targeting systems when they remain stationary. This special rule allows models to achieve superior accuracy and rate of fire by dedicating all their computational resources to targeting rather than movement. The numerical value indicates the level of enhancement, with higher values representing more sophisticated targeting protocols and greater improvements to shooting accuracy and effectiveness.","shortText":"Enhanced targeting and shooting capability when remaining stationary.","type":"special-rule"},{"id":"occulix-targeting-auspex","name":"Occulix Targeting Auspex","description":"Advanced targeting system that allows tracking multiple heavy weapon systems simultaneously.","hasValue":false,"longText":"An occulix targeting auspex is an advanced targeting system that incorporates a potent machine spirit, allowing the wearer to track targets for multiple heavy weapon systems at once, at the cost of mobility. When a Model with an occulix targeting auspex is selected to make a Shooting Attack, if that Model's Unit remained Stationary in the Controlling Player's preceding Movement Phase, that Model gains the Firing Protocols (2) Special Rule until the Shooting Attack is fully resolved. This sophisticated device represents the pinnacle of targeting technology, providing unparalleled accuracy for stationary heavy weapons platforms.","shortText":"Advanced targeting system providing Firing Protocols (2) when stationary.","type":"wargear"},{"id":"assault-vehicle","name":"Assault Vehicle","description":"Vehicle designed for rapid deployment and assault operations, allowing embarked units to assault after disembarking.","hasValue":false,"longText":"An assault vehicle is specifically designed and equipped for rapid deployment and assault operations. These vehicles feature enhanced access points, shock-resistant interiors, and tactical systems that allow embarked units to quickly disembark and immediately engage in close combat. The vehicle's design includes specialized equipment such as assault ramps, stabilized platforms, and communication systems that coordinate the assault. Units disembarking from an assault vehicle are able to maintain their momentum and tactical cohesion, allowing them to charge directly into combat rather than being forced to regroup after disembarkation.","shortText":"Allows embarked units to assault after disembarking.","type":"special-rule"},{"id":"dreadnought-transport","name":"Dreadnought Transport","description":"Specialized transport vehicle designed specifically for deploying dreadnoughts to the battlefield.","hasValue":false,"longText":"Dreadnought Transport represents a specialized transport vehicle that has eschewed the tactical consoles and individual harnesses of standard drop pod patterns, instead relying on the Dreadnought's innate sturdy frame to stabilise it upon impact with the battlefield. These vehicles are specifically designed to transport dreadnoughts and cannot accommodate other unit types. Only one Model may be Embarked on a Model with this Special Rule, and the Embarking Model must have the Walker Type. The Embarked Model cannot have the Bulky (X) Special Rule with a value of greater than Bulky (7). This restriction ensures that only appropriately sized dreadnoughts can be transported safely.","shortText":"Specialized transport for dreadnoughts only, with Walker type and Bulky restrictions.","type":"special-rule"},{"id":"drop-transport","name":"Drop Transport","description":"Flexible transport vehicle capable of carrying various types of units or a single walker to the battlefield.","hasValue":false,"longText":"Drop Transport represents a flexible transport vehicle that utilised a variety of harness and bracing systems, flexible enough to accommodate a number of different occupants, from standard power armoured Legionaries, to the bulkier Terminator-equipped troops, up to even larger combatants such as Contemptor Dreadnoughts or even the Primarchs themselves. These vehicles can transport a variety of Units to the Battlefield. Instead of one of the Units that would normally be eligible to Embark within a Model with this Special Rule, one Model with the Walker Type can instead be Embarked upon it. The Embarked Model cannot have the Bulky (X) Special Rule with a value of greater than Bulky (6). This flexibility makes drop transport vehicles valuable for diverse tactical operations.","shortText":"Flexible transport for various units or single walker, with Bulky (6) limit.","type":"special-rule"},{"id":"heavy-drop-transport","name":"Heavy Drop Transport","description":"Large transport vehicle designed to deliver substantial strike forces directly into enemy territory.","hasValue":false,"longText":"Heavy Drop Transport represents a large transport vehicle that was primarily utilised to deliver large strike forces directly into enemy spacefaring vessels. The vehicle's interior was capable of housing large squads in a variety of configurations and even some of the more bulky Dreadnought chassis. These vehicles can transport large Units to the Battlefield. Instead of one of the Units that would normally be eligible to Embark within a Model with this Special Rule, one Model with the Walker Type can instead be Embarked upon it. The Embarked Model cannot have the Bulky (X) Special Rule with a value of greater than Bulky (7). This enhanced capacity makes heavy drop transport vehicles invaluable for major assault operations.","shortText":"Large transport for substantial forces or single walker, with Bulky (7) limit.","type":"special-rule"},{"id":"automated-fire-protocols","name":"Automated Fire Protocols","description":"Autonomous targeting and engagement systems that operate without direct crew control.","hasValue":false,"longText":"Automated Fire Protocols represents sophisticated targeting and engagement systems that allow the unit to operate autonomously without direct crew control. These systems utilize advanced machine spirits and targeting algorithms to identify, track, and engage enemy targets based on pre-programmed parameters. The automated systems can operate continuously without fatigue or morale concerns, making them ideal for defensive positions and area denial. However, the inflexibility of automated systems means they cannot adapt to rapidly changing tactical situations as effectively as crewed weapons.","shortText":"Autonomous targeting and engagement without crew control.","type":"special-rule"},{"id":"independent-sentries","name":"Independent Sentries","description":"Operates independently without requiring command structure or coordination.","hasValue":false,"longText":"Independent Sentries represents the ability of automated defense systems to operate completely independently of command structures or coordination requirements. These systems are programmed with standing orders and engagement protocols that allow them to function effectively without ongoing tactical direction. Each sentry operates according to its own programming, making independent targeting decisions and threat assessments. This independence allows them to continue functioning even when communication links are severed or command structures are compromised, but also means they cannot be easily redirected or coordinated for complex tactical maneuvers.","shortText":"Operates independently without command structure requirements.","type":"special-rule"},{"id":"expendable","name":"Expendable","description":"This unit is considered expendable and can be sacrificed for tactical advantage.","hasValue":true,"longText":"Expendable represents units that are considered disposable assets, designed to be sacrificed for tactical advantage rather than preserved. These units are often deployed in high-risk situations where their loss is acceptable in exchange for achieving strategic objectives. The numerical value indicates the level of expendability, with higher values representing units that are more readily sacrificed. Expendable units may be deployed in suicidal missions, used as bait to draw enemy fire, or positioned in locations where they are likely to be destroyed but can delay or damage enemy forces.","shortText":"This unit is considered expendable and can be sacrificed for tactical advantage.","type":"special-rule"},{"id":"sire-of-the-iron-warriors","name":"Sire of the Iron Warriors","description":"Perturabo's mastery of the Iron Warriors Legion and his tactical genius.","hasValue":false,"longText":"Sire of the Iron Warriors represents Perturabo's absolute mastery of the Iron Warriors Legion and his unparalleled tactical genius. As the Primarch of the Iron Warriors, Perturabo has complete command over his Legion's forces and can coordinate complex battlefield operations with devastating efficiency. This rule reflects his ability to analyze and deconstruct enemy strategies, adapt to changing battlefield conditions, and execute brutal but effective campaigns that bring worlds to heel.","shortText":"Perturabo's mastery of the Iron Warriors Legion and tactical genius.","type":"special-rule"},{"id":"battlesmith","name":"Battlesmith","description":"Master of technological warfare and siege craft.","hasValue":true,"longText":"Battlesmith represents mastery of technological warfare and siege craft. Units with this rule have extensive knowledge of battlefield technology, allowing them to repair and modify equipment, coordinate complex technological systems, and exploit technological weaknesses in enemy forces. The numerical value indicates the level of expertise, with higher values representing greater mastery of technological warfare.","shortText":"Master of technological warfare and siege craft.","type":"special-rule"},{"id":"breaker","name":"The Breaker","description":"Perturabo's ability to break down and analyze any campaign or strategy.","hasValue":false,"longText":"The Breaker represents Perturabo's unique ability to deconstruct and analyze any campaign or strategy, finding its weaknesses and exploiting them with brutal efficiency. This rule reflects his analytical mind and his capacity to break down complex tactical situations into their component parts, allowing him to identify and exploit the smallest flaws in enemy plans. The Breaker allows Perturabo to adapt to any battlefield situation and turn enemy strengths into weaknesses.","shortText":"Perturabo's ability to break down and analyze any campaign or strategy.","type":"special-rule"},{"id":"eternal-warrior","name":"Eternal Warrior","description":"This unit is nearly impossible to kill through conventional means.","hasValue":true,"longText":"Eternal Warrior represents units that are nearly impossible to kill through conventional means. These units possess extraordinary resilience, regeneration capabilities, or other supernatural protections that make them incredibly difficult to destroy. The numerical value indicates the level of protection, with higher values representing greater resistance to death and destruction. Eternal Warrior units can survive wounds that would kill lesser beings and continue fighting even when severely damaged.","shortText":"This unit is nearly impossible to kill through conventional means.","type":"special-rule"},{"id":"cortex-controller","name":"Cortex Controller","description":"Advanced neural interface system for controlling technological systems.","hasValue":false,"longText":"A cortex controller is an advanced neural interface system that allows the user to directly control and coordinate complex technological systems. This sophisticated device integrates with the user's neural pathways, providing direct mental control over weapons systems, communications networks, and other technological assets. The cortex controller allows for unprecedented coordination and efficiency in technological warfare, enabling the user to manage multiple systems simultaneously with perfect precision.","shortText":"Advanced neural interface system for controlling technological systems.","type":"wargear"},{"id":"servo-arm","name":"Servo-arm","description":"Mechanical arm that provides additional combat capabilities and utility.","hasValue":false,"longText":"A servo-arm is a mechanical appendage that provides additional combat capabilities and utility to its wielder. These sophisticated mechanical arms are equipped with various tools, weapons, or manipulators that can be used for combat, repair work, or other specialized tasks. Servo-arms are commonly used by Techmarines, Warsmiths, and other specialists who require additional mechanical assistance in their duties.","shortText":"Mechanical arm that provides additional combat capabilities and utility.","type":"wargear"},{"id":"omni-scope","name":"Omni-scope","description":"A sophisticated cogitator-slaved optical scanner integrated into modified Terminator armour.","hasValue":false,"longText":"An omni-scope is a sophisticated cogitator-slaved optical scanner integrated into the modified Terminator armour of the squad's Siege Master. The omni-scope allows for precise targeting solutions to be formulated in the blink of an eye. With weapons slaved to this device, the Tyrants of the Iron Warriors are deadly combatants on any battlefield. When a Shooting Attack made by a Unit that includes any Models with an omni-scope inflicts any Hits (excluding Hits from attacks made as Snap Shots), Cover Saving Throws cannot be made against those Hits.","shortText":"A sophisticated cogitator-slaved optical scanner integrated into modified Terminator armour.","type":"wargear"},{"id":"karceri-battle-shield","name":"Karceri Battle Shield","description":"A massive battle shield designed for the Iron Circle automata.","hasValue":false,"longText":"The Karceri Battle Shield is a massive, reinforced shield designed specifically for the Iron Circle automata. It provides exceptional protection and can be used both defensively and offensively in combat.","shortText":"A massive battle shield designed for the Iron Circle automata.","type":"wargear"},{"id":"shield-of-the-iron-tyrant","name":"Shield of the Iron Tyrant","description":"Special rule for Iron Circle automata.","hasValue":false,"longText":"The Shield of the Iron Tyrant represents the protective capabilities and tactical advantages of the Iron Circle automata in battle.","shortText":"Special rule for Iron Circle automata.","type":"special-rule"},{"id":"firestorm","name":"Firestorm","description":"Special rule for Iron Circle automata.","hasValue":false,"longText":"Firestorm represents the devastating firepower and area denial capabilities of the Iron Circle automata.","shortText":"Special rule for Iron Circle automata.","type":"special-rule"},{"id":"ferrum-occularis","name":"Ferrum Occularis","description":"Specialized targeting arrays for Iron Havocs.","hasValue":false,"longText":"In addition to the integrated systems afforded by their power armour, Iron Havoc squads utilise additional, specialised targeting arrays that overlay data feeds, atmospheric influences and predictive target movements based on previous battlefield data to allow them to select targets with exacting precision. Wounds caused by a Model with this Special Rule may ignore Cover Saves. Cover Saves may not be taken against unsaved wounds caused by a Shooting Attack made by a Model with this Special Rule, if the Model with this Special Rule was part of a Unit that remained Stationary in its Controlling Player's previous Movement Phase.","shortText":"Specialized targeting arrays for Iron Havocs.","type":"special-rule"}]`),Pv={specialRules:X8},Q8=JSON.parse(`[{"id":"lasrifle-trooper-model","name":"Lasrifle Trooper","characteristics":{"movement":6,"strength":3,"toughness":3,"initiative":3,"attacks":1,"wounds":1,"weaponSkill":3,"ballisticSkill":3,"leadership":7,"willpower":6,"cool":6,"intelligence":6,"armourSave":5},"description":"Standard infantry troops equipped with lasrifles and basic combat gear.","specialRules":["rapid-fire","first-rank-fire-second-rank-fire"],"specialRuleValues":"","subType":["Light"],"type":"Infantry","upgradeGroups":"","wargear":["flak-armor"],"weapons":["lasrifle","laspistol","frag-grenades"]},{"id":"leman-russ-strike-model","name":"Leman Russ Strike Tank","characteristics":{"movement":10,"ballisticSkill":3,"frontArmour":14,"sideArmour":13,"rearArmour":10,"hullPoints":6,"transportCapacity":null},"description":"A versatile main battle tank armed with a battle cannon for general combat.","specialRules":[],"specialRuleValues":"","subType":["Heavy"],"type":"Vehicle","upgradeGroups":[{"id":"leman-russ-strike-turret-weapon-upgrade-group","name":"Turret Weapon Options","description":"Replace the Battle Cannon with different turret weapons","collapsible":true,"defaultCollapsed":true,"upgrades":["leman-russ-strike-turret-weapon-upgrade"]},{"id":"leman-russ-strike-hull-weapon-upgrade-group","name":"Hull Weapon Options","description":"Replace the Hull Heavy Bolter with different hull weapons","collapsible":true,"defaultCollapsed":true,"upgrades":["leman-russ-strike-hull-weapon-upgrade"]},{"id":"leman-russ-strike-pintle-weapon-upgrade-group","name":"Pintle Weapon Options","description":"Add pintle mounted weapons","collapsible":true,"defaultCollapsed":true,"upgrades":["leman-russ-strike-pintle-weapon-upgrade"]},{"id":"leman-russ-strike-wargear-upgrade-group","name":"Wargear Options","description":"Additional wargear options","collapsible":true,"defaultCollapsed":true,"upgrades":["leman-russ-strike-hunter-killer-missile-upgrade","leman-russ-strike-searchlight-upgrade","leman-russ-strike-dozer-blade-upgrade"]}],"wargear":[],"weapons":[{"id":"battlecannon","mount":"Turret Mounted"},{"id":"heavy-bolter","mount":"Hull (Front) Mounted"}]},{"id":"leman-russ-assault-model","name":"Leman Russ Assault Tank","characteristics":{"movement":10,"ballisticSkill":3,"frontArmour":14,"sideArmour":13,"rearArmour":10,"hullPoints":6,"transportCapacity":null},"description":"A heavily armored assault tank armed with volkite macro-saker for close-range combat.","specialRules":[],"specialRuleValues":"","subType":["Heavy"],"type":"Vehicle","upgradeGroups":[{"id":"leman-russ-assault-turret-weapon-upgrade-group","name":"Turret Weapon Options","description":"Replace the Volkite Macro-saker with different turret weapons","collapsible":true,"defaultCollapsed":true,"upgrades":["leman-russ-assault-turret-weapon-upgrade"]},{"id":"leman-russ-assault-hull-weapon-upgrade-group","name":"Hull Weapon Options","description":"Replace the Hull Heavy Bolter with different hull weapons","collapsible":true,"defaultCollapsed":true,"upgrades":["leman-russ-assault-hull-weapon-upgrade"]},{"id":"leman-russ-assault-pintle-weapon-upgrade-group","name":"Pintle Weapon Options","description":"Add pintle mounted weapons","collapsible":true,"defaultCollapsed":true,"upgrades":["leman-russ-assault-pintle-weapon-upgrade"]},{"id":"leman-russ-assault-wargear-upgrade-group","name":"Wargear Options","description":"Additional wargear options","collapsible":true,"defaultCollapsed":true,"upgrades":["leman-russ-assault-hunter-killer-missile-upgrade","leman-russ-assault-searchlight-upgrade","leman-russ-assault-dozer-blade-upgrade"]}],"wargear":[],"weapons":[{"id":"volkite-macro-saker","mount":"Turret Mounted"},{"id":"heavy-bolter","mount":"Hull (Front) Mounted"}]},{"id":"legatine-marshall-model","name":"Legatine Marshall","characteristics":{"movement":6,"strength":3,"toughness":3,"initiative":4,"attacks":4,"wounds":4,"weaponSkill":5,"ballisticSkill":5,"leadership":10,"willpower":7,"cool":8,"intelligence":7,"armourSave":2,"invulnerableSave":5},"description":"A Legatine Marshall commanding the Legatine Command Section.","specialRules":["line"],"specialRuleValues":{"line":2},"subType":["Command"],"type":"Infantry","upgradeGroups":[{"id":"legatine-marshall-melee-weapons","name":"Melee Weapon Options","description":"Replace the Charnabal Sabre with different melee weapons","collapsible":true,"defaultCollapsed":false,"upgrades":["legatine-marshall-weapon-upgrade"]},{"id":"legatine-marshall-pistol-options","name":"Pistol Options","description":"Replace the Las Pistol with different pistol weapons","collapsible":true,"defaultCollapsed":true,"upgrades":["legatine-marshall-pistol-upgrade"]}],"wargear":[],"weapons":["laspistol","charnabal-sabre","frag-grenades","krak-grenades"]},{"id":"lifeward-model","name":"Lifeward","characteristics":{"movement":6,"strength":3,"toughness":3,"initiative":4,"attacks":2,"wounds":2,"weaponSkill":4,"ballisticSkill":4,"leadership":8,"willpower":6,"cool":8,"intelligence":6,"armourSave":3,"invulnerableSave":5},"description":"A Lifeward bodyguard in the Legatine Command Section.","specialRules":["line"],"specialRuleValues":{"line":2},"subType":["Heavy"],"type":"Infantry","upgradeGroups":[{"id":"lifeward-weapon-upgrade-group","name":"Weapon Options","description":"Replace the Lasrifle with different weapon combinations","collapsible":true,"defaultCollapsed":true,"upgrades":["lifeward-weapon-upgrade","lifeward-bayonet-upgrade","lifeward-blast-charger-upgrade","lifeward-melta-bomb-upgrade"]},{"id":"lifeward-sabre-upgrade-group","name":"Sabre Options","description":"Replace the Charnabal Sabre with different melee weapons","collapsible":true,"defaultCollapsed":true,"upgrades":["lifeward-sabre-upgrade"]},{"id":"lifeward-pistol-options","name":"Pistol Options","description":"Replace the Lasrifle with different pistol weapons","collapsible":true,"defaultCollapsed":true,"upgrades":["lifeward-pistol-upgrade"]},{"id":"lifeward-wargear-options","name":"Wargear Options","description":"Add special wargear to Lifewards","collapsible":true,"defaultCollapsed":true,"upgrades":["lifeward-command-vox-upgrade","lifeward-augury-scanner-upgrade","lifeward-vexilla-upgrade"]}],"wargear":[],"weapons":["lasrifle","frag-grenades","krak-grenades"]},{"id":"auxilia-captain-model","name":"Auxilia Captain","characteristics":{"movement":6,"strength":3,"toughness":3,"initiative":4,"attacks":3,"wounds":3,"weaponSkill":4,"ballisticSkill":4,"leadership":9,"willpower":7,"cool":8,"intelligence":6,"armourSave":3,"invulnerableSave":5},"description":"An Auxilia Captain leading a Tactical Command Section.","specialRules":["line"],"specialRuleValues":{"line":1},"subType":["Command"],"type":"Infantry","upgradeGroups":[{"id":"auxilia-captain-melee-weapons","name":"Melee Weapon Options","description":"Replace the Charnabal Sabre with different melee weapons","collapsible":true,"defaultCollapsed":false,"upgrades":["auxilia-captain-weapon-upgrade"]},{"id":"auxilia-captain-pistol-options","name":"Pistol Options","description":"Replace the Las Pistol with different pistol weapons","collapsible":true,"defaultCollapsed":true,"upgrades":["auxilia-captain-pistol-upgrade"]}],"wargear":[],"weapons":["laspistol","charnabal-sabre","frag-grenades","krak-grenades"]},{"id":"companion-model","name":"Companion","characteristics":{"movement":6,"strength":3,"toughness":3,"initiative":4,"attacks":2,"wounds":2,"weaponSkill":4,"ballisticSkill":4,"leadership":8,"willpower":6,"cool":8,"intelligence":6,"armourSave":4,"invulnerableSave":5},"description":"A Companion in the Tactical Command Section.","specialRules":["line"],"specialRuleValues":{"line":1},"subType":["Heavy"],"type":"Infantry","upgradeGroups":[{"id":"companion-weapon-upgrade-group","name":"Weapon Options","description":"Replace the Lasrifle with different weapon combinations","collapsible":true,"defaultCollapsed":true,"upgrades":["companion-weapon-upgrade"]},{"id":"companion-sabre-upgrade-group","name":"Sabre Options","description":"Replace the Charnabal Sabre with different melee weapons","collapsible":true,"defaultCollapsed":true,"upgrades":["companion-sabre-upgrade"]},{"id":"companion-pistol-options","name":"Pistol Options","description":"Replace the Lasrifle with different pistol weapons","collapsible":true,"defaultCollapsed":true,"upgrades":["companion-pistol-upgrade"]},{"id":"companion-weapon-additions","name":"Weapon Additions","description":"Additional weapons for Companions with Lasrifles","collapsible":true,"defaultCollapsed":true,"upgrades":["companion-bayonet-upgrade","companion-blast-charger-upgrade","companion-melta-bomb-upgrade"]},{"id":"companion-wargear-options","name":"Wargear Options","description":"Wargear options for Companions","collapsible":true,"defaultCollapsed":true,"upgrades":["companion-command-vox-upgrade","companion-augury-scanner-upgrade","companion-vexilla-upgrade"]}],"wargear":[],"weapons":["lasrifle","frag-grenades","krak-grenades"]},{"id":"troop-master-model","name":"Troop Master","characteristics":{"movement":6,"strength":3,"toughness":3,"initiative":3,"attacks":2,"wounds":2,"weaponSkill":4,"ballisticSkill":4,"leadership":8,"willpower":7,"cool":8,"intelligence":7,"armourSave":4,"invulnerableSave":null},"description":"A Troop Master leading a Line Command Section.","specialRules":["close-order"],"specialRuleValues":{"close-order":1},"subType":["Sergeant"],"type":"Infantry","upgradeGroups":[{"id":"troop-master-weapon-upgrade-group","name":"Weapon Options","description":"Replace the Lasrifle with different weapon combinations","collapsible":true,"defaultCollapsed":true,"upgrades":["troop-master-weapon-upgrade"]},{"id":"troop-master-pistol-options","name":"Pistol Options","description":"Replace the Lasrifle with different pistol weapons","collapsible":true,"defaultCollapsed":true,"upgrades":["troop-master-pistol-upgrade"]},{"id":"troop-master-weapon-additions","name":"Weapon Additions","description":"Additional weapons for Troop Masters with Lasrifles","collapsible":true,"defaultCollapsed":true,"upgrades":["troop-master-bayonet-upgrade","troop-master-blast-charger-upgrade","troop-master-melta-bomb-upgrade"]},{"id":"troop-master-wargear-options","name":"Wargear Options","description":"Wargear options for Troop Masters","collapsible":true,"defaultCollapsed":true,"upgrades":["troop-master-command-vox-upgrade","troop-master-augury-scanner-upgrade","troop-master-vexilla-upgrade"]}],"wargear":[],"weapons":["lasrifle","frag-grenades","krak-grenades"]},{"id":"veteran-model","name":"Veteran","characteristics":{"movement":6,"strength":3,"toughness":3,"initiative":3,"attacks":1,"wounds":1,"weaponSkill":3,"ballisticSkill":4,"leadership":7,"willpower":7,"cool":7,"intelligence":6,"armourSave":4,"invulnerableSave":null},"description":"A Veteran in the Line Command Section.","specialRules":[],"specialRuleValues":{},"subType":[],"type":"Infantry","upgradeGroups":[{"id":"veteran-weapon-upgrade-group","name":"Weapon Options","description":"Replace the Lasrifle with different weapon combinations","collapsible":true,"defaultCollapsed":true,"upgrades":["veteran-weapon-upgrade"]},{"id":"veteran-sabre-upgrade-group","name":"Sabre Options","description":"Replace the Charnabal Sabre with different melee weapons","collapsible":true,"defaultCollapsed":true,"upgrades":["veteran-sabre-upgrade"]},{"id":"veteran-pistol-options","name":"Pistol Options","description":"Replace the Lasrifle with different pistol weapons","collapsible":true,"defaultCollapsed":true,"upgrades":["veteran-pistol-upgrade"]},{"id":"veteran-weapon-additions","name":"Weapon Additions","description":"Additional weapons for Veterans with Lasrifles","collapsible":true,"defaultCollapsed":true,"upgrades":["veteran-bayonet-upgrade","veteran-blast-charger-upgrade","veteran-melta-bomb-upgrade"]},{"id":"veteran-wargear-options","name":"Wargear Options","description":"Wargear options for Veterans","collapsible":true,"defaultCollapsed":true,"upgrades":["veteran-command-vox-upgrade","veteran-augury-scanner-upgrade","veteran-vexilla-upgrade"]},{"id":"artillery-veteran-wargear-options","name":"Wargear Options","description":"Wargear options for Artillery Veterans","collapsible":true,"defaultCollapsed":true,"upgrades":["artillery-veteran-command-vox-upgrade","artillery-veteran-augury-scanner-upgrade","artillery-veteran-auxilia-vexilla-upgrade","artillery-veteran-melta-bomb-upgrade"]},{"id":"artillery-veteran-weapon-additions","name":"Weapon Additions","description":"Additional weapons for Artillery Veterans with Lasrifles","collapsible":true,"defaultCollapsed":true,"upgrades":["artillery-veteran-bayonet-upgrade","artillery-veteran-blast-charger-upgrade"]}],"wargear":[],"weapons":["lasrifle","frag-grenades","krak-grenades"]},{"id":"first-prime-model","name":"First Prime","characteristics":{"movement":6,"strength":3,"toughness":3,"initiative":3,"attacks":3,"wounds":2,"weaponSkill":4,"ballisticSkill":4,"leadership":8,"willpower":7,"cool":9,"intelligence":7,"armourSave":4,"invulnerableSave":null},"description":"A First Prime leading a Veletaris Command Section.","specialRules":["hold-the-line"],"specialRuleValues":{"hold-the-line":1},"subType":["Champion","Sergeant"],"type":"Infantry","upgradeGroups":[{"id":"first-prime-weapon-upgrade-group","name":"Weapon Options","description":"Replace the Volkite Charger with different weapon combinations","collapsible":true,"defaultCollapsed":true,"upgrades":["first-prime-weapon-upgrade"]},{"id":"first-prime-tabar-upgrade-group","name":"Tabar Options","description":"Replace the Charnabal Tabar with different melee weapons","collapsible":true,"defaultCollapsed":true,"upgrades":["first-prime-tabar-upgrade"]},{"id":"first-prime-pistol-options","name":"Pistol Options","description":"Replace the Laspistol with different pistol weapons","collapsible":true,"defaultCollapsed":true,"upgrades":["first-prime-pistol-upgrade"]}],"wargear":[],"weapons":["volkite-charger","frag-grenades","krak-grenades"]},{"id":"veletarii-model","name":"Veletarii","characteristics":{"movement":6,"strength":3,"toughness":3,"initiative":3,"attacks":2,"wounds":1,"weaponSkill":4,"ballisticSkill":4,"leadership":7,"willpower":6,"cool":8,"intelligence":6,"armourSave":4,"invulnerableSave":null},"description":"A Veletarii in the Veletaris Command Section.","specialRules":[],"specialRuleValues":{},"subType":[],"type":"Infantry","upgradeGroups":[{"id":"veletarii-weapon-upgrade-group","name":"Weapon Options","description":"Replace the Volkite Charger with different weapon combinations","collapsible":true,"defaultCollapsed":true,"upgrades":["veletarii-weapon-upgrade"]},{"id":"veletarii-wargear-options","name":"Wargear Options","description":"Wargear options for Veletarii","collapsible":true,"defaultCollapsed":true,"upgrades":["veletarii-command-vox-upgrade","veletarii-augury-scanner-upgrade","veletarii-vexilla-upgrade"]}],"wargear":[],"weapons":["volkite-charger","frag-grenades","krak-grenades"]},{"id":"veletarii-vanguard-model","name":"Veletarii Vanguard","characteristics":{"movement":6,"strength":3,"toughness":3,"initiative":3,"attacks":2,"wounds":1,"weaponSkill":4,"ballisticSkill":4,"leadership":7,"willpower":6,"cool":8,"intelligence":6,"armourSave":4,"invulnerableSave":null},"description":"A Veletarii in the Veletaris Vanguard Section.","specialRules":[],"specialRuleValues":{},"subType":[],"type":"Infantry","upgradeGroups":[{"id":"veletaris-vanguard-vox-upgrade-group","name":"Vox Options","description":"Vox options for Veletaris Vanguard Section","collapsible":true,"defaultCollapsed":true,"upgrades":["veletaris-vanguard-vox-upgrade"]},{"id":"veletaris-vanguard-vexilla-upgrade-group","name":"Vexilla Options","description":"Vexilla options for Veletaris Vanguard Section","collapsible":true,"defaultCollapsed":true,"upgrades":["veletaris-vanguard-vexilla-upgrade"]}],"wargear":[],"weapons":["heavy-flamer","frag-grenades","krak-grenades"]},{"id":"veletarii-prime-model","name":"Veletarii Prime","characteristics":{"movement":6,"strength":3,"toughness":3,"initiative":3,"attacks":2,"wounds":1,"weaponSkill":4,"ballisticSkill":4,"leadership":8,"willpower":6,"cool":8,"intelligence":6,"armourSave":4,"invulnerableSave":null},"description":"A Veletarii Prime leading a Veletaris Storm Section.","specialRules":[],"specialRuleValues":{},"subType":["Sergeant"],"type":"Infantry","upgradeGroups":[{"id":"veletarii-prime-weapon-upgrade-group","name":"Weapon Options","description":"Replace the Volkite Charger with different weapon combinations","collapsible":true,"defaultCollapsed":true,"upgrades":["veletarii-prime-weapon-upgrade"]},{"id":"veletarii-prime-tabar-upgrade-group","name":"Tabar Options","description":"Replace the Charnabal Tabar with different melee weapons","collapsible":true,"defaultCollapsed":true,"upgrades":["veletarii-prime-tabar-upgrade"]},{"id":"veletarii-prime-pistol-options","name":"Pistol Options","description":"Replace the Laspistol with different pistol weapons","collapsible":true,"defaultCollapsed":true,"upgrades":["veletarii-prime-pistol-upgrade"]}],"wargear":[],"weapons":["volkite-charger","frag-grenades","krak-grenades"]},{"id":"veletarii-vanguard-prime-model","name":"Veletarii Vanguard Prime","characteristics":{"movement":6,"strength":3,"toughness":3,"initiative":3,"attacks":2,"wounds":1,"weaponSkill":4,"ballisticSkill":4,"leadership":8,"willpower":6,"cool":8,"intelligence":6,"armourSave":4,"invulnerableSave":null},"description":"A Veletarii Prime leading a Veletaris Vanguard Section.","specialRules":[],"specialRuleValues":{},"subType":["Sergeant"],"type":"Infantry","upgradeGroups":[{"id":"veletarii-vanguard-prime-weapon-upgrade-group","name":"Weapon Options","description":"Replace the Heavy Flamer with different weapon combinations","collapsible":true,"defaultCollapsed":true,"upgrades":["veletarii-vanguard-prime-weapon-upgrade"]},{"id":"veletarii-vanguard-prime-tabar-upgrade-group","name":"Tabar Options","description":"Replace the Charnabal Tabar with different melee weapons","collapsible":true,"defaultCollapsed":true,"upgrades":["veletarii-vanguard-prime-tabar-upgrade"]},{"id":"veletarii-vanguard-prime-pistol-options","name":"Pistol Options","description":"Replace the Laspistol with different pistol weapons","collapsible":true,"defaultCollapsed":true,"upgrades":["veletarii-vanguard-prime-pistol-upgrade"]}],"wargear":[],"weapons":["heavy-flamer","frag-grenades","krak-grenades"]},{"id":"auxilia-sergeant-model","name":"Auxilia Sergeant","characteristics":{"movement":6,"strength":3,"toughness":3,"initiative":3,"attacks":1,"wounds":1,"weaponSkill":3,"ballisticSkill":3,"leadership":7,"willpower":6,"cool":7,"intelligence":7,"armourSave":4,"invulnerableSave":null},"description":"An Auxilia Sergeant leading a Lasrifle Section.","specialRules":[],"specialRuleValues":{},"subType":["Sergeant"],"type":"Infantry","upgradeGroups":[{"id":"auxilia-sergeant-weapon-upgrade-group","name":"Weapon Options","description":"Replace the Lasrifle with different weapon combinations","collapsible":true,"defaultCollapsed":true,"upgrades":["auxilia-sergeant-weapon-upgrade"]},{"id":"auxilia-sergeant-pistol-options","name":"Pistol Options","description":"Replace the Lasrifle with different pistol weapons","collapsible":true,"defaultCollapsed":true,"upgrades":["auxilia-sergeant-pistol-upgrade"]},{"id":"auxilia-sergeant-weapon-additions","name":"Weapon Additions","description":"Additional weapons for Auxilia Sergeants with Lasrifles","collapsible":true,"defaultCollapsed":true,"upgrades":["auxilia-sergeant-bayonet-upgrade","auxilia-sergeant-blast-charger-upgrade","auxilia-sergeant-melta-bomb-upgrade"]}],"wargear":[],"weapons":["lasrifle","frag-grenades","krak-grenades"]},{"id":"auxiliary-model","name":"Auxiliary","characteristics":{"movement":6,"strength":3,"toughness":3,"initiative":3,"attacks":1,"wounds":1,"weaponSkill":3,"ballisticSkill":3,"leadership":6,"willpower":6,"cool":6,"intelligence":6,"armourSave":4,"invulnerableSave":null},"description":"An Auxiliary in the Lasrifle Section.","specialRules":[],"specialRuleValues":{},"subType":[],"type":"Infantry","upgradeGroups":[{"id":"auxiliary-weapon-additions","name":"Weapon Additions","description":"Additional weapons for Auxiliaries with Lasrifles","collapsible":true,"defaultCollapsed":true,"upgrades":["auxiliary-bayonet-upgrade","auxiliary-blast-charger-upgrade"]},{"id":"auxiliary-wargear-options","name":"Wargear Options","description":"Wargear options for Auxiliaries","collapsible":true,"defaultCollapsed":true,"upgrades":["auxiliary-vox-upgrade","auxiliary-vexilla-upgrade"]}],"wargear":[],"weapons":["lasrifle","frag-grenades","krak-grenades"]},{"id":"hermes-veletaris-sentinel-model","name":"Hermes Veletaris Sentinel","characteristics":{"movement":8,"strength":5,"toughness":5,"initiative":3,"attacks":1,"wounds":2,"weaponSkill":4,"ballisticSkill":4,"leadership":7,"willpower":6,"cool":9,"intelligence":6,"armourSave":3,"invulnerableSave":null},"description":"A Hermes Veletaris Sentinel in the Hermes Veletaris Squadron.","specialRules":["bulky","implacable-advance","move-through-cover","vanguard"],"specialRuleValues":{"bulky":2,"vanguard":2},"subType":[],"type":"Cavalry","upgradeGroups":[{"id":"hermes-veletaris-sentinel-weapon-upgrade-group","name":"Weapon Options","description":"Replace the Volkite Caliver with different weapon options","collapsible":true,"defaultCollapsed":true,"upgrades":["hermes-veletaris-sentinel-weapon-upgrade"]}],"wargear":[],"weapons":["volkite-caliver","frag-grenades","krak-grenades"]},{"id":"basilisk-model","name":"Basilisk","characteristics":{"movement":10,"ballisticSkill":3,"frontArmour":12,"sideArmour":12,"rearArmour":10,"hullPoints":5,"transportCapacity":null},"description":"A Basilisk Artillery Tank.","specialRules":[],"specialRuleValues":{},"subType":[],"type":"Vehicle","upgradeGroups":[{"id":"basilisk-pintle-weapon-upgrade-group","name":"Pintle Weapon Options","description":"Add pintle-mounted weapons to the vehicle","collapsible":true,"defaultCollapsed":true,"upgrades":["basilisk-pintle-weapon-upgrade"]},{"id":"basilisk-wargear-upgrade-group","name":"Wargear Options","description":"Add various wargear options to the vehicle","collapsible":true,"defaultCollapsed":true,"upgrades":["basilisk-hunter-killer-missile-upgrade","basilisk-dozer-blade-upgrade","basilisk-searchlight-upgrade"]}],"wargear":[],"weapons":[{"id":"earthshaker-cannon","mount":"Centreline Mounted"}]},{"id":"medusa-model","name":"Medusa","characteristics":{"movement":10,"ballisticSkill":3,"frontArmour":12,"sideArmour":12,"rearArmour":10,"hullPoints":5,"transportCapacity":null},"description":"A Medusa Artillery Tank.","specialRules":[],"specialRuleValues":{},"subType":[],"type":"Vehicle","upgradeGroups":[{"id":"medusa-pintle-weapon-upgrade-group","name":"Pintle Weapon Options","description":"Add pintle-mounted weapons to the vehicle","collapsible":true,"defaultCollapsed":true,"upgrades":["medusa-pintle-weapon-upgrade"]},{"id":"medusa-wargear-upgrade-group","name":"Wargear Options","description":"Add various wargear options to the vehicle","collapsible":true,"defaultCollapsed":true,"upgrades":["medusa-hunter-killer-missile-upgrade","medusa-dozer-blade-upgrade","medusa-searchlight-upgrade"]}],"wargear":[],"weapons":[{"id":"medusa-mortar","mount":"Centreline Mounted"}]},{"id":"rapier-gunner-model","name":"Rapier Gunner","characteristics":{"movement":6,"strength":3,"toughness":3,"initiative":3,"attacks":1,"wounds":1,"weaponSkill":3,"ballisticSkill":3,"leadership":6,"willpower":6,"cool":7,"intelligence":6,"armourSave":3,"invulnerableSave":null},"description":"A Rapier Gunner in the Rapier Section.","specialRules":["slow-and-purposeful","support-unit","rapier-section"],"specialRuleValues":{"support-unit":1},"subType":["Sergeant"],"type":"Infantry","upgradeGroups":[],"wargear":[],"weapons":["lasrifle","frag-grenades","krak-grenades"]},{"id":"rapier-carrier-model","name":"Rapier Carrier","characteristics":{"movement":6,"strength":4,"toughness":6,"initiative":1,"attacks":0,"wounds":3,"weaponSkill":1,"ballisticSkill":3,"leadership":6,"willpower":6,"cool":7,"intelligence":1,"armourSave":3,"invulnerableSave":null},"description":"A Rapier Carrier in the Rapier Section.","specialRules":["slow-and-purposeful","support-unit","rapier-section","bulky"],"specialRuleValues":{"support-unit":1,"bulky":4},"subType":[],"type":"Infantry","upgradeGroups":[{"id":"rapier-carrier-weapon-upgrade-group","name":"Weapon Options","description":"Replace the Gravis Multi-Laser Battery with different weapon options","collapsible":true,"defaultCollapsed":true,"upgrades":["rapier-carrier-weapon-upgrade"]}],"wargear":[],"weapons":["gravis-multi-laser-battery"]},{"id":"charonite-ogryn-model","name":"Charonite Ogryn","characteristics":{"movement":7,"strength":5,"toughness":5,"initiative":2,"attacks":4,"wounds":4,"weaponSkill":4,"ballisticSkill":2,"leadership":12,"willpower":6,"cool":10,"intelligence":2,"armourSave":4,"invulnerableSave":null},"description":"A Charonite Ogryn in the Charonite Ogryn Section.","specialRules":["heedless","bitter-duty","bulky","expendable","feel-no-pain","impact"],"specialRuleValues":{"bulky":4,"expendable":2,"feel-no-pain":5,"impact":"A"},"subType":["Skirmish"],"type":"Infantry","upgradeGroups":[],"wargear":[],"weapons":["charonite-claws"]},{"id":"hermes-lead-model","name":"Hermes Lead","characteristics":{"movement":10,"strength":5,"toughness":5,"initiative":3,"attacks":2,"wounds":3,"weaponSkill":4,"ballisticSkill":4,"leadership":8,"willpower":7,"cool":9,"intelligence":7,"armourSave":4,"invulnerableSave":null},"description":"A Hermes Lead in the Hermes Command Section.","specialRules":["bulky","implacable-advance","move-through-cover","outflank","pre-emptive-strike"],"specialRuleValues":{"bulky":2},"subType":["Sergeant","Light"],"type":"Cavalry","upgradeGroups":[{"id":"hermes-lead-weapon-upgrade-group","name":"Weapon Options","description":"Replace the Multi-laser with different weapon options","collapsible":true,"defaultCollapsed":true,"upgrades":["hermes-weapon-upgrade"]}],"wargear":[],"weapons":["multi-laser","frag-grenades","krak-grenades"]},{"id":"hermes-pathfinder-model","name":"Hermes Pathfinder","characteristics":{"movement":10,"strength":5,"toughness":5,"initiative":3,"attacks":1,"wounds":2,"weaponSkill":3,"ballisticSkill":4,"leadership":7,"willpower":6,"cool":8,"intelligence":6,"armourSave":4,"invulnerableSave":null},"description":"A Hermes Pathfinder in the Hermes Command Section.","specialRules":["bulky","implacable-advance","move-through-cover","outflank"],"specialRuleValues":{"bulky":2},"subType":["Light"],"type":"Cavalry","upgradeGroups":[{"id":"hermes-pathfinder-weapon-upgrade-group","name":"Weapon Options","description":"Replace the Multi-laser with different weapon options","collapsible":true,"defaultCollapsed":true,"upgrades":["hermes-pathfinder-weapon-upgrade"]}],"wargear":[],"weapons":["multi-laser","frag-grenades","krak-grenades"]},{"id":"ordnance-master-model","name":"Ordnance Master","characteristics":{"movement":6,"strength":3,"toughness":3,"initiative":3,"attacks":1,"wounds":2,"weaponSkill":4,"ballisticSkill":4,"leadership":8,"willpower":7,"cool":8,"intelligence":7,"armourSave":4,"invulnerableSave":null},"description":"An Ordnance Master in the Artillery Command Section.","specialRules":["precision-bombardment"],"specialRuleValues":"","subType":["Sergeant"],"type":"Infantry","upgradeGroups":[{"id":"ordnance-master-weapon-upgrade-group","name":"Weapon Options","description":"Replace the Lasrifle with different weapon combinations","collapsible":true,"defaultCollapsed":true,"upgrades":["ordnance-master-weapon-upgrade"]},{"id":"ordnance-master-pistol-options","name":"Pistol Options","description":"Replace the Laspistol with different pistol weapons","collapsible":true,"defaultCollapsed":true,"upgrades":["ordnance-master-pistol-upgrade"]},{"id":"ordnance-master-weapon-additions","name":"Weapon Additions","description":"Add bayonet and blast charger options","collapsible":true,"defaultCollapsed":true,"upgrades":["ordnance-master-bayonet-upgrade","ordnance-master-blast-charger-upgrade"]}],"wargear":[],"weapons":["lasrifle","frag-grenades","krak-grenades"]},{"id":"command-tank-model","name":"Command Tank","characteristics":{"movement":10,"ballisticSkill":4,"frontArmour":14,"sideArmour":13,"rearArmour":10,"hullPoints":6,"transportCapacity":null},"description":"A Command Tank in the Armoured Command Section.","specialRules":["armoured-warfare","auto-repair"],"specialRuleValues":{"auto-repair":4},"subType":[],"type":"Vehicle","upgradeGroups":[{"id":"command-tank-turret-weapon-upgrade-group","name":"Turret Weapon Options","description":"Replace the Battlecannon with different turret-mounted weapons","collapsible":true,"defaultCollapsed":true,"upgrades":["command-tank-turret-weapon-upgrade"]},{"id":"command-tank-hull-weapon-upgrade-group","name":"Hull Weapon Options","description":"Replace the Heavy Bolter with different hull-mounted weapons","collapsible":true,"defaultCollapsed":true,"upgrades":["command-tank-hull-weapon-upgrade"]},{"id":"command-tank-pintle-weapon-upgrade-group","name":"Pintle Weapon Options","description":"Add pintle-mounted weapons to the vehicle","collapsible":true,"defaultCollapsed":true,"upgrades":["command-tank-pintle-weapon-upgrade"]},{"id":"command-tank-hunter-killer-missile-upgrade-group","name":"Hunter-Killer Missile","description":"Add a Hunter-Killer Missile to the vehicle","collapsible":true,"defaultCollapsed":true,"upgrades":["command-tank-hunter-killer-missile-upgrade"]},{"id":"command-tank-wargear-upgrade-group","name":"Wargear Options","description":"Add various wargear options to the vehicle","collapsible":true,"defaultCollapsed":true,"upgrades":["command-tank-wargear-upgrade"]}],"wargear":[],"weapons":[{"id":"battlecannon","mount":"Turret Mounted"},{"id":"heavy-bolter","mount":"Hull (Front) Mounted"}]},{"id":"aethon-heavy-sentinel-model","name":"Aethon Heavy Sentinel","characteristics":{"movement":7,"strength":6,"toughness":6,"initiative":3,"attacks":2,"wounds":5,"weaponSkill":3,"ballisticSkill":4,"leadership":9,"willpower":6,"cool":10,"intelligence":2,"armourSave":2,"invulnerableSave":null},"description":"A heavily armed and armored walker designed for heavy support and anti-armor operations.","specialRules":["bulky","slow-and-purposeful"],"specialRuleValues":{"bulky":6},"subType":["Skirmish"],"type":"Walker","upgradeGroups":[{"id":"aethon-heavy-sentinel-multi-laser-upgrade-group","name":"Multi-Laser Replacement","description":"Replace the Multi-Laser with different weapon options","collapsible":true,"defaultCollapsed":true,"upgrades":["aethon-heavy-sentinel-multi-laser-upgrade"]},{"id":"aethon-heavy-sentinel-missile-battery-upgrade-group","name":"Missile Battery Replacement","description":"Replace the Aethon Missile Battery with different weapon options","collapsible":true,"defaultCollapsed":true,"upgrades":["aethon-heavy-sentinel-missile-battery-upgrade"]}],"wargear":[],"weapons":["multi-laser","aethon-missile-battery"]},{"id":"arvus-lighter-model","name":"Arvus Lighter","characteristics":{"movement":18,"ballisticSkill":3,"frontArmour":11,"sideArmour":11,"rearArmour":11,"hullPoints":4,"transportCapacity":12},"description":"A light transport aircraft designed for rapid deployment and extraction.","specialRules":["light-transport"],"specialRuleValues":"","subType":["Transport","Flyer"],"type":"Vehicle","upgradeGroups":[{"id":"arvus-lighter-hull-weapon-upgrade-group","name":"Hull Weapon Options","description":"Add a Hull (Rear) mounted weapon to the vehicle","collapsible":true,"defaultCollapsed":true,"upgrades":["arvus-lighter-hull-weapon-upgrade"]},{"id":"arvus-lighter-wargear-upgrade-group","name":"Wargear Options","description":"Add various wargear options to the vehicle","collapsible":true,"defaultCollapsed":true,"upgrades":["arvus-lighter-wargear-upgrade"]}],"wargear":["searchlights"],"weapons":[]},{"id":"dracosan-model","name":"Dracosan","characteristics":{"movement":12,"ballisticSkill":3,"frontArmour":13,"sideArmour":13,"rearArmour":11,"hullPoints":7,"transportCapacity":22},"description":"A heavily armored transport vehicle designed for troop deployment and battlefield support.","specialRules":["light-transport"],"specialRuleValues":"","subType":["Transport"],"type":"Vehicle","upgradeGroups":[{"id":"dracosan-hull-weapon-upgrade-group","name":"Hull Weapon Options","description":"Replace the Twin Lascannon with different hull-mounted weapons","collapsible":true,"defaultCollapsed":true,"upgrades":["dracosan-hull-weapon-upgrade"]},{"id":"dracosan-pintle-weapon-upgrade-group","name":"Pintle Weapon Options","description":"Add pintle-mounted weapons to the vehicle","collapsible":true,"defaultCollapsed":true,"upgrades":["dracosan-pintle-weapon-upgrade"]},{"id":"dracosan-hunter-killer-missile-upgrade-group","name":"Hunter-Killer Missiles","description":"Add Hull (Front) mounted Hunter-Killer Missiles to the vehicle","collapsible":true,"defaultCollapsed":true,"upgrades":["dracosan-hunter-killer-missile-upgrade"]},{"id":"dracosan-wargear-upgrade-group","name":"Wargear Options","description":"Add various wargear options to the vehicle","collapsible":true,"defaultCollapsed":true,"upgrades":["dracosan-wargear-upgrade"]}],"wargear":[],"weapons":[{"id":"twin-lascannon","mount":"Hull (Front) Mounted"}]},{"id":"hermes-light-sentinel-model","name":"Hermes Light Sentinel","characteristics":{"movement":10,"strength":5,"toughness":5,"initiative":3,"attacks":1,"wounds":2,"weaponSkill":3,"ballisticSkill":3,"leadership":7,"willpower":6,"cool":8,"intelligence":6,"armourSave":4,"invulnerableSave":null},"description":"A fast, lightly armored walker used for reconnaissance and forward observation.","specialRules":["bulky","implacable-advance","move-through-cover","outflank"],"specialRuleValues":{"bulky":2},"subType":["Light"],"type":"Cavalry","upgradeGroups":[{"id":"hermes-light-sentinel-weapon-upgrade-group","name":"Weapon Options","description":"Replace the Multi-Laser with different weapon options","collapsible":true,"defaultCollapsed":true,"upgrades":["hermes-light-sentinel-weapon-upgrade"]}],"wargear":[],"weapons":["multi-laser","frag-grenades","krak-grenades"]},{"id":"primaris-lightning-model","name":"Primaris-Lightning","characteristics":{"movement":26,"ballisticSkill":3,"frontArmour":11,"sideArmour":11,"rearArmour":11,"hullPoints":4,"transportCapacity":null},"description":"A fast strike fighter designed for aerial combat and ground attack missions.","specialRules":[],"specialRuleValues":"","subType":["Flyer"],"type":"Vehicle","upgradeGroups":[],"wargear":[],"weapons":[{"id":"twin-lascannon","mount":"Centreline Mounted"},{"id":"hellstrike-missiles","mount":"Centreline Mounted","count":6}]},{"id":"thunderbolt-model","name":"Thunderbolt","characteristics":{"movement":22,"ballisticSkill":3,"frontArmour":12,"sideArmour":12,"rearArmour":12,"hullPoints":5,"transportCapacity":null},"description":"A heavy fighter aircraft designed for aerial combat and ground attack missions.","specialRules":[],"specialRuleValues":"","subType":["Flyer"],"type":"Vehicle","upgradeGroups":[],"wargear":[],"weapons":[{"id":"twin-lascannon","mount":"Centreline Mounted"},{"id":"gravis-autocannon","mount":"Centreline Mounted","count":2}]},{"id":"malcador-model","name":"Malcador","characteristics":{"movement":12,"ballisticSkill":3,"frontArmour":13,"sideArmour":13,"rearArmour":11,"hullPoints":7,"transportCapacity":null},"description":"A heavy tank designed for battlefield dominance and firepower projection.","specialRules":["independent-fire"],"specialRuleValues":"","subType":[],"type":"Vehicle","upgradeGroups":[{"id":"malcador-turret-weapon-upgrade-group","name":"Turret Weapon Options","description":"Replace the Battlecannon with different turret-mounted weapons","collapsible":true,"defaultCollapsed":true,"upgrades":["malcador-turret-weapon-upgrade"]},{"id":"malcador-hull-weapon-upgrade-group","name":"Hull Weapon Options","description":"Replace the Heavy Bolter with different hull-mounted weapons","collapsible":true,"defaultCollapsed":true,"upgrades":["malcador-hull-weapon-upgrade"]},{"id":"malcador-pintle-weapon-upgrade-group","name":"Pintle Weapon Options","description":"Add pintle-mounted weapons to the vehicle","collapsible":true,"defaultCollapsed":true,"upgrades":["malcador-pintle-weapon-upgrade"]},{"id":"malcador-wargear-upgrade-group","name":"Wargear Options","description":"Add various wargear options to the vehicle","collapsible":true,"defaultCollapsed":true,"upgrades":["malcador-wargear-upgrade"]},{"id":"malcador-sponson-weapon-upgrade-group","name":"Sponson Weapon Options","description":"Replace the Sponson Multi-lasers with different sponson-mounted weapons","collapsible":true,"defaultCollapsed":true,"upgrades":["malcador-sponson-weapon-upgrade"]}],"wargear":[],"weapons":[{"id":"battlecannon","mount":"Hull (Front) Mounted"},{"id":"heavy-bolter","mount":"Hull (Front) Mounted"},{"id":"multi-laser","mount":"Sponson Mounted","count":2}]},{"id":"malcador-infernus-model","name":"Malcador Infernus","characteristics":{"movement":12,"ballisticSkill":3,"frontArmour":13,"sideArmour":13,"rearArmour":10,"hullPoints":7,"transportCapacity":null},"description":"A special weapons tank armed with an infernus cannon and sponson weapons.","specialRules":["explodes"],"specialRuleValues":{"explodes":3},"subType":["Heavy"],"type":"Vehicle","upgradeGroups":[{"id":"malcador-infernus-sponson-weapon-upgrade-group","name":"Sponson Weapon Options","description":"Replace the Sponson Multi-lasers with different sponson weapons","collapsible":true,"defaultCollapsed":true,"upgrades":["malcador-infernus-sponson-weapon-upgrade"]},{"id":"malcador-infernus-pintle-weapon-upgrade-group","name":"Pintle Weapon Options","description":"Add pintle mounted weapons","collapsible":true,"defaultCollapsed":true,"upgrades":["malcador-infernus-pintle-weapon-upgrade"]},{"id":"malcador-infernus-wargear-upgrade-group","name":"Wargear Options","description":"Additional wargear options","collapsible":true,"defaultCollapsed":true,"upgrades":["malcador-infernus-hunter-killer-missile-upgrade","malcador-infernus-searchlight-upgrade","malcador-infernus-dozer-blade-upgrade","malcador-infernus-flare-shield-upgrade"]}],"wargear":[],"weapons":[{"id":"infernus-cannon","mount":"Centreline Mounted"},{"id":"multi-laser","mount":"Sponson Mounted","count":2}]},{"id":"valdor-tank-destroyer-model","name":"Valdor Tank Destroyer","characteristics":{"movement":12,"ballisticSkill":3,"frontArmour":13,"sideArmour":13,"rearArmour":11,"hullPoints":7,"transportCapacity":null},"description":"A specialized tank destroyer armed with a neutron beam laser for anti-armour operations.","specialRules":["explodes"],"specialRuleValues":{"explodes":5},"subType":["Heavy"],"type":"Vehicle","upgradeGroups":[{"id":"valdor-sponson-weapon-upgrade-group","name":"Sponson Weapon Options","description":"Replace the Sponson (Right) Multi-laser with different sponson weapons","collapsible":true,"defaultCollapsed":true,"upgrades":["valdor-sponson-weapon-upgrade"]},{"id":"valdor-pintle-weapon-upgrade-group","name":"Pintle Weapon Options","description":"Add pintle mounted weapons","collapsible":true,"defaultCollapsed":true,"upgrades":["valdor-pintle-weapon-upgrade"]},{"id":"valdor-wargear-upgrade-group","name":"Wargear Options","description":"Additional wargear options","collapsible":true,"defaultCollapsed":true,"upgrades":["valdor-hunter-killer-missile-upgrade","valdor-searchlight-upgrade","valdor-dozer-blade-upgrade","valdor-flare-shield-upgrade"]}],"wargear":[],"weapons":[{"id":"neutron-beam-laser","mount":"Centreline Mounted"},{"id":"multi-laser","mount":"Sponson (Right) Mounted"}]},{"id":"stormhammer-model","name":"Stormhammer","characteristics":{"movement":10,"ballisticSkill":3,"frontArmour":14,"sideArmour":13,"rearArmour":12,"hullPoints":16,"transportCapacity":null},"description":"A super-heavy assault tank armed with multiple weapons for devastating firepower.","specialRules":[],"specialRuleValues":"","subType":["Super-Heavy"],"type":"Vehicle","upgradeGroups":[{"id":"stormhammer-hull-front-weapon-upgrade-group","name":"Hull (Front) Weapon Options","description":"Replace the Hull (Front) Multi-laser with different weapons","collapsible":true,"defaultCollapsed":true,"upgrades":["stormhammer-hull-front-weapon-upgrade"]},{"id":"stormhammer-hull-side-weapon-upgrade-group","name":"Hull (Side) Weapon Options","description":"Replace the Hull (Left) and Hull (Right) Multi-lasers with different weapons","collapsible":true,"defaultCollapsed":true,"upgrades":["stormhammer-hull-side-weapon-upgrade"]},{"id":"stormhammer-pintle-weapon-upgrade-group","name":"Pintle Weapon Options","description":"Add pintle mounted weapons","collapsible":true,"defaultCollapsed":true,"upgrades":["stormhammer-pintle-weapon-upgrade"]},{"id":"stormhammer-wargear-upgrade-group","name":"Wargear Options","description":"Additional wargear options","collapsible":true,"defaultCollapsed":true,"upgrades":["stormhammer-hunter-killer-missile-upgrade","stormhammer-searchlight-upgrade","stormhammer-flare-shield-upgrade"]}],"wargear":[],"weapons":[{"id":"stormhammer-cannon","mount":"Turret Mounted"},{"id":"multi-laser","mount":"Coaxial Mounted"},{"id":"twin-battlecannon","mount":"Hull (Front) Mounted"},{"id":"multi-laser","mount":"Hull (Front) Mounted"},{"id":"multi-laser","mount":"Hull (Left) Mounted","count":3},{"id":"multi-laser","mount":"Hull (Right) Mounted","count":3}]},{"id":"praetor-model","name":"Praetor","characteristics":{"movement":7,"strength":4,"toughness":4,"initiative":5,"attacks":5,"wounds":4,"weaponSkill":6,"ballisticSkill":5,"leadership":10,"willpower":9,"cool":9,"intelligence":9,"armourSave":2,"invulnerableSave":4},"description":"A Praetor, a high-ranking commander of the Legiones Astartes.","specialRules":[],"specialRuleValues":"","subType":["Command"],"type":"Infantry","modelTypes":["legion-officer-model","legion-combi-weapon-upgradeable"],"upgradeGroups":[],"wargear":[],"weapons":["bolter","bolt-pistol","frag-grenades","krak-grenades"]},{"id":"praetor-jump-pack-model","name":"Praetor with Jump Pack","characteristics":{"movement":12,"strength":4,"toughness":4,"initiative":5,"attacks":5,"wounds":4,"weaponSkill":6,"ballisticSkill":5,"leadership":10,"willpower":9,"cool":9,"intelligence":9,"armourSave":2,"invulnerableSave":4},"description":"A Praetor equipped with a jump pack for enhanced mobility.","specialRules":["bulky","deep-strike"],"specialRuleValues":{"bulky":2},"subType":["Command","Antigrav"],"type":"Infantry","modelTypes":["legion-officer-model","legion-combi-weapon-upgradeable"],"upgradeGroups":[],"wargear":[],"weapons":["bolter","bolt-pistol","frag-grenades","krak-grenades"]},{"id":"cataphractii-praetor-model","name":"Cataphractii Praetor","characteristics":{"movement":6,"strength":4,"toughness":5,"initiative":5,"attacks":5,"wounds":5,"weaponSkill":6,"ballisticSkill":5,"leadership":10,"willpower":9,"cool":9,"intelligence":9,"armourSave":2,"invulnerableSave":4},"description":"A Praetor equipped with Cataphractii Terminator armour for maximum protection.","specialRules":["bulky","implacable-advance","slow-and-purposeful"],"specialRuleValues":{"bulky":2},"subType":["Command","Heavy"],"type":"Infantry","modelTypes":["legion-terminator","legion-combi-weapon-upgradeable"],"upgradeGroups":[],"wargear":[],"weapons":["combi-bolter","power-sword","frag-grenades","krak-grenades"]},{"id":"tartaros-praetor-model","name":"Tartaros Praetor","characteristics":{"movement":7,"strength":4,"toughness":5,"initiative":5,"attacks":5,"wounds":5,"weaponSkill":6,"ballisticSkill":5,"leadership":10,"willpower":9,"cool":9,"intelligence":9,"armourSave":2,"invulnerableSave":4},"description":"A Praetor equipped with Tartaros Terminator armour for enhanced mobility.","specialRules":["bulky","implacable-advance"],"specialRuleValues":{"bulky":2},"subType":["Command"],"type":"Infantry","modelTypes":["legion-terminator","legion-combi-weapon-upgradeable"],"upgradeGroups":[],"wargear":[],"weapons":["combi-bolter","power-sword","frag-grenades","krak-grenades"]},{"id":"saturnine-praetor-model","name":"Saturnine Praetor","characteristics":{"movement":5,"strength":4,"toughness":6,"initiative":4,"attacks":4,"wounds":6,"weaponSkill":6,"ballisticSkill":5,"leadership":10,"willpower":9,"cool":9,"intelligence":9,"armourSave":2,"invulnerableSave":4},"description":"A Praetor equipped with the ultra-rare Saturnine Terminator armour for maximum protection and firepower.","specialRules":["bulky","implacable-advance","slow-and-purposeful"],"specialRuleValues":{"bulky":4},"subType":["Command","Heavy"],"type":"Infantry","modelTypes":["legion-terminator"],"upgradeGroups":[],"wargear":["thermal-diffraction-field"],"weapons":["saturnine-war-axe","saturnine-disruption-fist","frag-grenades","krak-grenades"]},{"id":"centurion-model","name":"Centurion","characteristics":{"movement":7,"strength":4,"toughness":4,"initiative":5,"attacks":4,"wounds":3,"weaponSkill":5,"ballisticSkill":5,"leadership":9,"willpower":8,"cool":8,"intelligence":8,"armourSave":2,"invulnerableSave":5},"description":"A Centurion, a mid-ranking officer of the Legiones Astartes with field command authority.","specialRules":[],"specialRuleValues":"","subType":["Command"],"type":"Infantry","modelTypes":["legion-officer-model","legion-combi-weapon-upgradeable"],"upgradeGroups":[],"wargear":[],"weapons":["bolter","bolt-pistol","frag-grenades","krak-grenades"]},{"id":"centurion-jump-pack-model","name":"Centurion with Jump Pack","characteristics":{"movement":12,"strength":4,"toughness":4,"initiative":5,"attacks":4,"wounds":3,"weaponSkill":5,"ballisticSkill":5,"leadership":9,"willpower":8,"cool":8,"intelligence":8,"armourSave":2,"invulnerableSave":5},"description":"A Centurion equipped with a jump pack for enhanced mobility and tactical flexibility.","specialRules":["bulky","deep-strike"],"specialRuleValues":{"bulky":2},"subType":["Command","Antigrav"],"type":"Infantry","modelTypes":["legion-officer-model","legion-combi-weapon-upgradeable"],"upgradeGroups":[],"wargear":[],"weapons":["bolter","bolt-pistol","frag-grenades","krak-grenades"]},{"id":"cataphractii-centurion-model","name":"Cataphractii Centurion","characteristics":{"movement":6,"strength":4,"toughness":5,"initiative":5,"attacks":4,"wounds":4,"weaponSkill":5,"ballisticSkill":5,"leadership":9,"willpower":8,"cool":8,"intelligence":8,"armourSave":2,"invulnerableSave":4},"description":"A Centurion equipped with Cataphractii Terminator armour for enhanced protection.","specialRules":["bulky","implacable-advance","slow-and-purposeful"],"specialRuleValues":{"bulky":2},"subType":["Command","Heavy"],"type":"Infantry","modelTypes":["legion-terminator","legion-combi-weapon-upgradeable"],"upgradeGroups":[],"wargear":[],"weapons":["combi-bolter","power-sword","frag-grenades","krak-grenades"]},{"id":"tartaros-centurion-model","name":"Tartaros Centurion","characteristics":{"movement":7,"strength":4,"toughness":5,"initiative":5,"attacks":4,"wounds":4,"weaponSkill":5,"ballisticSkill":5,"leadership":9,"willpower":8,"cool":8,"intelligence":8,"armourSave":2,"invulnerableSave":5},"description":"A Centurion equipped with Tartaros Terminator armour for enhanced mobility.","specialRules":["bulky","implacable-advance"],"specialRuleValues":{"bulky":2},"subType":["Command"],"type":"Infantry","modelTypes":["legion-terminator","legion-combi-weapon-upgradeable"],"upgradeGroups":[],"wargear":[],"weapons":["combi-bolter","power-sword","frag-grenades","krak-grenades"]},{"id":"optae-model","name":"Optae","characteristics":{"movement":7,"strength":4,"toughness":4,"initiative":5,"attacks":3,"wounds":2,"weaponSkill":5,"ballisticSkill":4,"leadership":9,"willpower":8,"cool":8,"intelligence":8,"armourSave":3,"invulnerableSave":null},"description":"An Optae, a junior officer of the Legiones Astartes responsible for squad-level command.","specialRules":[],"specialRuleValues":"","subType":["Command"],"type":"Infantry","modelTypes":["legion-sergeant"],"upgradeGroups":[],"wargear":[],"weapons":["bolter","bolt-pistol","frag-grenades","krak-grenades"]},{"id":"optae-jump-pack-model","name":"Optae with Jump Pack","characteristics":{"movement":12,"strength":4,"toughness":4,"initiative":5,"attacks":3,"wounds":2,"weaponSkill":5,"ballisticSkill":4,"leadership":9,"willpower":8,"cool":8,"intelligence":8,"armourSave":3,"invulnerableSave":null},"description":"An Optae equipped with a jump pack for enhanced mobility and tactical deployment.","specialRules":["bulky","deep-strike"],"specialRuleValues":{"bulky":2},"subType":["Command","Antigrav"],"type":"Infantry","modelTypes":["legion-sergeant"],"upgradeGroups":[],"wargear":[],"weapons":["bolter","bolt-pistol","frag-grenades","krak-grenades"]},{"id":"legionary-model","name":"Legionary","characteristics":{"movement":7,"strength":4,"toughness":4,"initiative":4,"attacks":1,"wounds":1,"weaponSkill":4,"ballisticSkill":4,"leadership":7,"willpower":7,"cool":7,"intelligence":7,"armourSave":3,"invulnerableSave":null},"description":"A Legionary, a standard Space Marine warrior forming the backbone of the Legiones Astartes.","specialRules":[],"specialRuleValues":"","subType":[],"type":"Infantry","modelTypes":["legion-basic-marine"],"upgradeGroups":[],"wargear":[],"weapons":["bolter","bolt-pistol","frag-grenades","krak-grenades"]},{"id":"tactical-sergeant-model","name":"Tactical Sergeant","characteristics":{"movement":7,"strength":4,"toughness":4,"initiative":4,"attacks":1,"wounds":1,"weaponSkill":4,"ballisticSkill":4,"leadership":8,"willpower":7,"cool":7,"intelligence":7,"armourSave":3,"invulnerableSave":null},"description":"A Tactical Sergeant leading a Tactical Squad with enhanced leadership capabilities.","specialRules":[],"specialRuleValues":"","subType":["Sergeant"],"type":"Infantry","modelTypes":["legion-sergeant","legion-combi-weapon-upgradeable"],"upgradeGroups":[],"wargear":[],"weapons":["bolter","bolt-pistol","frag-grenades","krak-grenades"]},{"id":"despoiler-legionary-model","name":"Despoiler Legionary","characteristics":{"movement":7,"strength":4,"toughness":4,"initiative":4,"attacks":2,"wounds":1,"weaponSkill":4,"ballisticSkill":4,"leadership":7,"willpower":7,"cool":7,"intelligence":7,"armourSave":3,"invulnerableSave":null},"description":"A Despoiler Legionary, a close-quarters specialist trained for boarding actions and assault warfare.","specialRules":[],"specialRuleValues":"","subType":[],"type":"Infantry","modelTypes":["legion-assault-marine"],"upgradeGroups":[],"wargear":[],"weapons":["bolt-pistol","chainsword","frag-grenades","krak-grenades"]},{"id":"despoiler-sergeant-model","name":"Despoiler Sergeant","characteristics":{"movement":7,"strength":4,"toughness":4,"initiative":4,"attacks":2,"wounds":1,"weaponSkill":4,"ballisticSkill":4,"leadership":8,"willpower":7,"cool":7,"intelligence":7,"armourSave":3,"invulnerableSave":null},"description":"A Despoiler Sergeant leading a Despoiler Squad with enhanced leadership and close-quarters expertise.","specialRules":[],"specialRuleValues":"","subType":["Sergeant"],"type":"Infantry","modelTypes":["legion-sergeant"],"upgradeGroups":[],"wargear":[],"weapons":["bolt-pistol","chainsword","frag-grenades","krak-grenades"]},{"id":"assault-legionary-model","name":"Assault Legionary","characteristics":{"movement":12,"strength":4,"toughness":4,"initiative":4,"attacks":2,"wounds":1,"weaponSkill":4,"ballisticSkill":4,"leadership":7,"willpower":7,"cool":7,"intelligence":7,"armourSave":3,"invulnerableSave":null},"description":"An Assault Legionary equipped with a jump pack for rapid deployment and close-quarters assault tactics.","specialRules":["bulky","deep-strike","vanguard"],"specialRuleValues":{"bulky":2,"vanguard":2},"subType":["Antigrav"],"type":"Infantry","modelTypes":["legion-assault-marine"],"upgradeGroups":[],"wargear":[],"weapons":["bolt-pistol","chainsword","frag-grenades","krak-grenades"]},{"id":"assault-sergeant-model","name":"Assault Sergeant","characteristics":{"movement":12,"strength":4,"toughness":4,"initiative":4,"attacks":2,"wounds":1,"weaponSkill":4,"ballisticSkill":4,"leadership":8,"willpower":7,"cool":7,"intelligence":7,"armourSave":3,"invulnerableSave":null},"description":"An Assault Sergeant leading an Assault Squad with jump pack mobility and enhanced leadership capabilities.","specialRules":["bulky","deep-strike","vanguard"],"specialRuleValues":{"bulky":2,"vanguard":2},"subType":["Sergeant","Antigrav"],"type":"Infantry","modelTypes":["legion-sergeant"],"upgradeGroups":[],"wargear":[],"weapons":["bolt-pistol","chainsword","frag-grenades","krak-grenades"]},{"id":"breacher-legionary-model","name":"Breacher Legionary","characteristics":{"movement":7,"strength":4,"toughness":4,"initiative":4,"attacks":1,"wounds":1,"weaponSkill":4,"ballisticSkill":4,"leadership":7,"willpower":7,"cool":7,"intelligence":7,"armourSave":3,"invulnerableSave":5},"description":"A Breacher Legionary equipped with boarding shields and specialized wargear for fortress assault and boarding actions.","specialRules":["line"],"specialRuleValues":{"line":1},"subType":["Heavy"],"type":"Infantry","modelTypes":["legion-breacher-marine"],"upgradeGroups":[],"wargear":["boarding-shield"],"weapons":["bolter","bolt-pistol","frag-grenades","krak-grenades"]},{"id":"breacher-sergeant-model","name":"Breacher Sergeant","characteristics":{"movement":7,"strength":4,"toughness":4,"initiative":4,"attacks":1,"wounds":1,"weaponSkill":4,"ballisticSkill":4,"leadership":8,"willpower":7,"cool":7,"intelligence":7,"armourSave":3,"invulnerableSave":5},"description":"A Breacher Sergeant leading a Breacher Squad with enhanced leadership and specialized boarding assault capabilities.","specialRules":["line"],"specialRuleValues":{"line":1},"subType":["Sergeant","Heavy"],"type":"Infantry","modelTypes":["legion-sergeant","legion-combi-weapon-upgradeable"],"upgradeGroups":[],"wargear":["boarding-shield"],"weapons":["bolter","bolt-pistol","frag-grenades","krak-grenades"]},{"id":"tactical-support-legionary-model","name":"Tactical Support Legionary","characteristics":{"movement":7,"strength":4,"toughness":4,"initiative":4,"attacks":1,"wounds":1,"weaponSkill":4,"ballisticSkill":4,"leadership":7,"willpower":7,"cool":7,"intelligence":7,"armourSave":3,"invulnerableSave":null},"description":"A Tactical Support Legionary specialized in providing fire support with heavy weapons and specialized equipment.","specialRules":[],"specialRuleValues":"","subType":[],"type":"Infantry","modelTypes":["legion-support-marine"],"upgradeGroups":[],"wargear":[],"weapons":["bolt-pistol","frag-grenades","krak-grenades"]},{"id":"tactical-support-sergeant-model","name":"Tactical Support Sergeant","characteristics":{"movement":7,"strength":4,"toughness":4,"initiative":4,"attacks":1,"wounds":1,"weaponSkill":4,"ballisticSkill":4,"leadership":8,"willpower":7,"cool":7,"intelligence":7,"armourSave":3,"invulnerableSave":null},"description":"A Tactical Support Sergeant leading a fire support squad with enhanced leadership and tactical coordination.","specialRules":[],"specialRuleValues":"","subType":["Sergeant"],"type":"Infantry","modelTypes":["legion-sergeant"],"upgradeGroups":[],"wargear":[],"weapons":["bolt-pistol","frag-grenades","krak-grenades"]},{"id":"heavy-support-legionary-model","name":"Heavy Support Legionary","characteristics":{"movement":7,"strength":4,"toughness":4,"initiative":4,"attacks":1,"wounds":1,"weaponSkill":4,"ballisticSkill":4,"leadership":7,"willpower":7,"cool":7,"intelligence":7,"armourSave":3,"invulnerableSave":null},"description":"A Heavy Support Legionary specialized in operating heavy weapons to provide devastating fire support against armored targets.","specialRules":["support-unit"],"specialRuleValues":{"support-unit":1},"subType":[],"type":"Infantry","modelTypes":["legion-heavy-support-marine"],"upgradeGroups":[],"wargear":[],"weapons":["bolt-pistol","frag-grenades","krak-grenades"]},{"id":"heavy-support-sergeant-model","name":"Heavy Support Sergeant","characteristics":{"movement":7,"strength":4,"toughness":4,"initiative":4,"attacks":1,"wounds":1,"weaponSkill":4,"ballisticSkill":4,"leadership":8,"willpower":7,"cool":7,"intelligence":7,"armourSave":3,"invulnerableSave":null},"description":"A Heavy Support Sergeant leading a heavy weapons team with enhanced leadership and tactical coordination for heavy fire support.","specialRules":["support-unit"],"specialRuleValues":{"support-unit":1},"subType":["Sergeant"],"type":"Infantry","modelTypes":["legion-sergeant"],"upgradeGroups":[],"wargear":[],"weapons":["bolt-pistol","frag-grenades","krak-grenades"]},{"id":"legion-rapier-gunner-model","name":"Legion Rapier Gunner","characteristics":{"movement":7,"strength":4,"toughness":4,"initiative":4,"attacks":1,"wounds":1,"weaponSkill":4,"ballisticSkill":4,"leadership":7,"willpower":7,"cool":8,"intelligence":7,"armourSave":3,"invulnerableSave":null},"description":"A Legion Rapier Gunner operating a Rapier Carrier as part of a specialized artillery crew.","specialRules":["rapier-crew","slow-and-purposeful","support-unit"],"specialRuleValues":{"support-unit":1},"subType":["Sergeant"],"type":"Infantry","modelTypes":["legion-rapier-crew"],"upgradeGroups":[],"wargear":[],"weapons":["bolter","bolt-pistol","frag-grenades","krak-grenades"]},{"id":"legion-rapier-carrier-model","name":"Legion Rapier Carrier","characteristics":{"movement":7,"strength":4,"toughness":6,"initiative":1,"attacks":0,"wounds":2,"weaponSkill":1,"ballisticSkill":4,"leadership":1,"willpower":1,"cool":1,"intelligence":1,"armourSave":3,"invulnerableSave":null},"description":"A Legion Rapier Carrier, a semi-automated weapons platform operated by Legionaries for heavy fire support.","specialRules":["rapier-crew","bulky","slow-and-purposeful","support-unit"],"specialRuleValues":{"bulky":3,"support-unit":1},"subType":[],"type":"Infantry","modelTypes":["legion-rapier-platform"],"upgradeGroups":[],"wargear":[],"weapons":["gravis-heavy-bolter-battery"]},{"id":"apothecary-model","name":"Apothecary","characteristics":{"movement":7,"strength":4,"toughness":4,"initiative":4,"attacks":2,"wounds":2,"weaponSkill":4,"ballisticSkill":4,"leadership":7,"willpower":7,"cool":7,"intelligence":8,"armourSave":3,"invulnerableSave":null},"description":"A Legion Apothecary, a specialized medical officer responsible for battlefield healing and gene-seed recovery.","specialRules":["medic"],"specialRuleValues":{"medic":4},"subType":["Specialist"],"type":"Infantry","modelTypes":["legion-apothecary"],"upgradeGroups":[],"wargear":["narthecium"],"weapons":["bolt-pistol","chainsword","frag-grenades","krak-grenades"]},{"id":"techmarine-model","name":"Techmarine","characteristics":{"movement":7,"strength":4,"toughness":4,"initiative":4,"attacks":2,"wounds":2,"weaponSkill":4,"ballisticSkill":4,"leadership":7,"willpower":7,"cool":7,"intelligence":8,"armourSave":2,"invulnerableSave":null},"description":"A Legion Techmarine, a specialist member marked for induction into the Mechanicum, responsible for maintaining wargear and vehicles.","specialRules":["battlesmith"],"specialRuleValues":{"battlesmith":2},"subType":["Specialist"],"type":"Infantry","modelTypes":["legion-techmarine"],"upgradeGroups":[],"wargear":["servo-arm"],"weapons":["bolt-pistol","power-axe","frag-grenades","krak-grenades"]},{"id":"contemptor-dreadnought-model","name":"Contemptor Dreadnought","characteristics":{"movement":8,"strength":7,"toughness":7,"initiative":4,"attacks":4,"wounds":6,"weaponSkill":4,"ballisticSkill":4,"leadership":12,"willpower":7,"cool":10,"intelligence":5,"armourSave":2,"invulnerableSave":5},"description":"A Contemptor Dreadnought, incorporating Dreadnought technologies and arcane systems from the ancient lore of the Legio Cybernetica.","specialRules":["bulky","explodes","implacable-advance"],"specialRuleValues":{"bulky":6,"explodes":5},"subType":[],"type":"Walker","modelTypes":["legion-contemptor-dreadnought"],"upgradeGroups":[],"wargear":[],"weapons":[]},{"id":"deredeo-dreadnought-model","name":"Deredeo Dreadnought","characteristics":{"movement":7,"strength":6,"toughness":7,"initiative":4,"attacks":2,"wounds":6,"weaponSkill":4,"ballisticSkill":4,"leadership":12,"willpower":7,"cool":10,"intelligence":5,"armourSave":2,"invulnerableSave":5},"description":"A Deredeo Dreadnought, a heavy weapons platform designed to combine superior firepower with the flexibility and durability of a Dreadnought chassis.","specialRules":["bulky","explodes"],"specialRuleValues":{"bulky":7,"explodes":5},"subType":["Heavy"],"type":"Walker","modelTypes":["legion-deredeo-dreadnought"],"upgradeGroups":[],"wargear":[],"weapons":["anvilus-autocannon-battery","twin-heavy-bolter","aiolos-missile-launcher"]},{"id":"leviathan-dreadnought-model","name":"Leviathan Dreadnought","characteristics":{"movement":6,"strength":8,"toughness":8,"initiative":4,"attacks":4,"wounds":7,"weaponSkill":4,"ballisticSkill":4,"leadership":12,"willpower":7,"cool":10,"intelligence":5,"armourSave":2,"invulnerableSave":5},"description":"A Leviathan Dreadnought, an alternative development of the Contemptor that places an ultimately lethal strain upon its occupant for the destruction they wrought.","specialRules":["bulky","explodes","implacable-advance"],"specialRuleValues":{"bulky":7,"explodes":5},"subType":["Heavy"],"type":"Walker","modelTypes":["legion-leviathan-dreadnought"],"upgradeGroups":[],"wargear":[],"weapons":["heavy-flamer","heavy-flamer"]},{"id":"saturnine-dreadnought-model","name":"Saturnine Dreadnought","characteristics":{"movement":6,"strength":8,"toughness":8,"initiative":3,"attacks":2,"wounds":8,"weaponSkill":4,"ballisticSkill":4,"leadership":12,"willpower":7,"cool":10,"intelligence":5,"armourSave":2,"invulnerableSave":5},"description":"A Saturnine Dreadnought, an extension of the technology utilized to develop the standardised Saturnine Terminator armour, requiring vast generators to power its potent weaponry.","specialRules":["bulky","explodes"],"specialRuleValues":{"bulky":8,"explodes":4},"subType":["Heavy"],"type":"Walker","modelTypes":["legion-saturnine-dreadnought"],"upgradeGroups":[],"wargear":["thermal-diffraction-field"],"weapons":["disintegrator-cannon","heavy-plasma-bombard","photonic-incinerator","photonic-incinerator"]},{"id":"rhino-model","name":"Rhino","characteristics":{"movement":12,"strength":null,"toughness":null,"initiative":null,"attacks":null,"wounds":null,"weaponSkill":null,"ballisticSkill":4,"leadership":null,"willpower":null,"cool":null,"intelligence":null,"armourSave":null,"invulnerableSave":null,"frontArmor":12,"sideArmor":11,"rearArmor":10,"hullPoints":5},"description":"A Rhino armoured personnel carrier, the most widely used transport in the Imperium, based on ancient STC technology.","specialRules":["light-transport","auto-repair"],"specialRuleValues":{"auto-repair":4},"subType":["Transport"],"type":"Vehicle","modelTypes":["legion-transport-vehicle"],"upgradeGroups":[],"wargear":[],"weapons":["pintle-mounted-bolter","pintle-mounted-bolter"],"transportCapacity":12,"accessPoints":["Side Facings","Rear Facing"]},{"id":"drop-pod-model","name":"Drop Pod","characteristics":{"movement":null,"strength":null,"toughness":null,"initiative":null,"attacks":null,"wounds":null,"weaponSkill":null,"ballisticSkill":2,"leadership":null,"willpower":null,"cool":null,"intelligence":null,"armourSave":null,"invulnerableSave":null,"frontArmor":12,"sideArmor":12,"rearArmor":12,"hullPoints":4},"description":"A Drop Pod, a self-contained orbital descent capsule designed for surprise attacks and combat drops into active war zones.","specialRules":["light-transport","orbital-assault-vehicle","impact-reactive-doors"],"specialRuleValues":{},"subType":["Transport"],"type":"Vehicle","modelTypes":["legion-orbital-assault-vehicle"],"upgradeGroups":[],"wargear":[],"weapons":["pintle-mounted-combi-bolter"],"transportCapacity":10,"accessPoints":["All Facings"]},{"id":"termite-model","name":"Termite","characteristics":{"movement":6,"strength":null,"toughness":null,"initiative":null,"attacks":null,"wounds":null,"weaponSkill":null,"ballisticSkill":4,"leadership":null,"willpower":null,"cool":null,"intelligence":null,"armourSave":null,"invulnerableSave":null,"frontArmor":12,"sideArmor":12,"rearArmor":10,"hullPoints":5},"description":"A Termite assault drill, originally designed for rooting out burrowing xenos species, now used for underground assault operations beneath enemy bastions.","specialRules":["light-transport","deep-strike"],"specialRuleValues":{},"subType":["Transport"],"type":"Vehicle","modelTypes":["legion-underground-assault-vehicle"],"upgradeGroups":[],"wargear":[],"weapons":["pintle-mounted-combi-bolter","pintle-mounted-combi-bolter","centreline-mounted-melta-cutters"],"transportCapacity":12,"accessPoints":["Side Facings"]},{"id":"damocles-command-rhino-model","name":"Damocles Command Rhino","characteristics":{"movement":12,"strength":null,"toughness":null,"initiative":null,"attacks":null,"wounds":null,"weaponSkill":null,"ballisticSkill":4,"leadership":null,"willpower":null,"cool":null,"intelligence":null,"armourSave":null,"invulnerableSave":null,"frontArmor":12,"sideArmor":11,"rearArmor":10,"hullPoints":5},"description":"A Damocles Command Rhino, equipped with advanced communication systems and command equipment to serve as a mobile command and control vehicle.","specialRules":["light-transport","auto-repair","mobile-command-vehicle"],"specialRuleValues":{"auto-repair":5},"subType":["Transport"],"type":"Vehicle","modelTypes":["legion-command-vehicle"],"upgradeGroups":[],"wargear":["command-vox-relay"],"weapons":["pintle-mounted-bolter","pintle-mounted-bolter"],"transportCapacity":6,"accessPoints":["Side Facings","Rear Facing"]},{"id":"librarian-model","name":"Librarian","characteristics":{"movement":7,"weaponSkill":5,"ballisticSkill":5,"strength":4,"toughness":4,"wounds":3,"initiative":5,"attacks":4,"leadership":8,"cool":7,"willpower":9,"intelligence":8,"armourSave":2,"invulnerableSave":5,"frontArmor":null,"sideArmor":null,"rearArmor":null,"hullPoints":null},"description":"A Space Marine Librarian, a battle-psyker who has fused esoteric psychic powers with superhuman physical prowess and tactical acumen.","specialRules":[],"specialRuleValues":{},"subType":["Command"],"type":"Infantry","modelTypes":["legion-psyker","legion-pistol-upgradeable"],"upgradeGroups":[],"wargear":[],"weapons":["force-weapon","bolt-pistol","frag-grenades","krak-grenades"],"transportCapacity":null,"accessPoints":[]},{"id":"legion-champion-model","name":"Legion Champion","characteristics":{"movement":7,"weaponSkill":6,"ballisticSkill":5,"strength":4,"toughness":4,"wounds":3,"initiative":5,"attacks":5,"leadership":8,"cool":8,"willpower":8,"intelligence":8,"armourSave":2,"invulnerableSave":5,"frontArmor":null,"sideArmor":null,"rearArmor":null,"hullPoints":null},"description":"A Legion Champion, chosen from the best blades of the Legion, each champion bears the honour of their chapter or company in battle, and is armed and armoured in the finest panoply of war.","specialRules":["never-back-down"],"specialRuleValues":{},"subType":["Command"],"type":"Infantry","modelTypes":["legion-champion"],"upgradeGroups":[],"wargear":[],"weapons":["paragon-blade","volkite-serpenta","frag-grenades","krak-grenades"],"transportCapacity":null,"accessPoints":[]},{"id":"vigilator-model","name":"Vigilator","characteristics":{"movement":7,"weaponSkill":4,"ballisticSkill":7,"strength":4,"toughness":4,"wounds":3,"initiative":5,"attacks":3,"leadership":9,"cool":8,"willpower":8,"intelligence":8,"armourSave":2,"invulnerableSave":5,"frontArmor":null,"sideArmor":null,"rearArmor":null,"hullPoints":null},"description":"Highly skilled as watchers and hunters among their brethren, Vigilators are the eyes of their Legion on the ground, their wisdom paramount in scouting out the foe's disposition and strength, and determining the best place to strike.","specialRules":["infiltrate"],"specialRuleValues":{"infiltrate":9},"subType":["Command"],"type":"Infantry","modelTypes":["legion-vigilator"],"upgradeGroups":[],"wargear":[],"weapons":["nemesis-rifle","bolt-pistol","frag-grenades","krak-grenades"],"transportCapacity":null,"accessPoints":[]},{"id":"esoterist-model","name":"Esoterist","characteristics":{"movement":7,"weaponSkill":5,"ballisticSkill":5,"strength":4,"toughness":4,"wounds":3,"initiative":5,"attacks":4,"leadership":7,"cool":8,"willpower":10,"intelligence":8,"armourSave":2,"invulnerableSave":5,"frontArmor":null,"sideArmor":null,"rearArmor":null,"hullPoints":null},"description":"A Legion Esoterist, one who has delved into the forbidden lore and dark knowledge of the Warp, gaining tremendous but dangerous power through their study of the Anathemata discipline.","specialRules":["anathemata-discipline"],"specialRuleValues":{},"subType":["Command"],"type":"Infantry","modelTypes":["legion-esoterist"],"upgradeGroups":[],"wargear":["anathemata-discipline"],"weapons":["force-weapon","archaeotech-pistol","frag-grenades","krak-grenades"],"transportCapacity":null,"accessPoints":[]},{"id":"master-of-signals-model","name":"Master of Signals","characteristics":{"movement":7,"weaponSkill":5,"ballisticSkill":5,"strength":4,"toughness":4,"wounds":3,"initiative":5,"attacks":4,"leadership":8,"cool":7,"willpower":7,"intelligence":10,"armourSave":2,"invulnerableSave":5,"frontArmor":null,"sideArmor":null,"rearArmor":null,"hullPoints":null},"description":"A vital link between those desperately fighting and supporting elements of the Legion in battle, the Master of Signals is a strategic and communications specialist carrying a command vox relay, receiving constant positional updates from forces in the vicinity.","specialRules":[],"specialRuleValues":{},"subType":["Command"],"type":"Infantry","modelTypes":["legion-master-of-signals","legion-pistol-upgradeable"],"upgradeGroups":[],"wargear":["command-vox-relay"],"weapons":["bolt-pistol","frag-grenades","krak-grenades"],"transportCapacity":null,"accessPoints":[]},{"id":"praevian-model","name":"Praevian","characteristics":{"movement":7,"weaponSkill":5,"ballisticSkill":5,"strength":4,"toughness":4,"wounds":3,"initiative":5,"attacks":4,"leadership":9,"cool":8,"willpower":8,"intelligence":9,"armourSave":2,"invulnerableSave":5,"frontArmor":null,"sideArmor":null,"rearArmor":null,"hullPoints":null},"description":"Praevians are the keeper of the Legion's bound automata, those soulless machines sworn to the Legion's service and inducted into their ranks as honorary Legionaries after decades of service. Initiated into the rites of the Mechanicum's Cybernetica Tech-arcana, these officers oversee the maintenance and programming of their charges.","specialRules":["battlesmith","feel-no-pain","master-of-automata"],"specialRuleValues":{"battlesmith":1,"feel-no-pain":5},"subType":["Command"],"type":"Infantry","modelTypes":["legion-praevian","legion-pistol-upgradeable"],"upgradeGroups":[],"wargear":["cortex-controller","cyber-familiar"],"weapons":["bolt-pistol","frag-grenades","krak-grenades"],"transportCapacity":null,"accessPoints":[]},{"id":"moritat-model","name":"Moritat","characteristics":{"movement":12,"weaponSkill":4,"ballisticSkill":6,"strength":4,"toughness":4,"wounds":3,"initiative":5,"attacks":3,"leadership":8,"cool":9,"willpower":8,"intelligence":8,"armourSave":2,"invulnerableSave":5,"frontArmor":null,"sideArmor":null,"rearArmor":null,"hullPoints":null},"description":"Said by some to be no less than death incarnate, and by others to be dishonourable murderers with no place in the Imperium's order of battle, moritates are lone killers operating outside the Legion's usual command structures at the behest, or at least sufferance, of its high commanders.","specialRules":["bulky","deep-strike","firestorm"],"specialRuleValues":{"bulky":2},"subType":["Specialist","Antigrav"],"type":"Infantry","modelTypes":["legion-moritat"],"upgradeGroups":[],"wargear":[],"weapons":["overcharged-volkite-serpenta","overcharged-volkite-serpenta","frag-grenades","krak-grenades","rad-grenades"],"transportCapacity":null,"accessPoints":[]},{"id":"siege-breaker-model","name":"Siege Breaker","characteristics":{"movement":7,"weaponSkill":5,"ballisticSkill":5,"strength":4,"toughness":4,"wounds":3,"initiative":5,"attacks":4,"leadership":9,"cool":9,"willpower":8,"intelligence":8,"armourSave":2,"invulnerableSave":5,"frontArmor":null,"sideArmor":null,"rearArmor":null,"hullPoints":null},"description":"The wreckers of cities, the bringers-down of fortress walls and the shatterers of strongholds, Siege Breakers are officers of the Legion whose specialty is precisely applied destruction against strategic targets. Demonstrating an eye for detail, such warriors appraise all data available to them, identifying structural weaknesses and directing the heavy guns under their charge accordingly.","specialRules":[],"specialRuleValues":{},"subType":["Command","Heavy"],"type":"Infantry","modelTypes":["legion-siege-breaker","legion-pistol-upgradeable"],"upgradeGroups":[],"wargear":["cognis-signum","augury-scanner"],"weapons":["bolt-pistol","thunder-hammer","frag-grenades","krak-grenades","phosphex-bombs"],"transportCapacity":null,"accessPoints":[]},{"id":"overseer-model","name":"Overseer","characteristics":{"movement":7,"weaponSkill":5,"ballisticSkill":5,"strength":4,"toughness":4,"wounds":3,"initiative":5,"attacks":4,"leadership":9,"cool":9,"willpower":8,"intelligence":8,"armourSave":2,"invulnerableSave":5,"frontArmor":null,"sideArmor":null,"rearArmor":null,"hullPoints":null},"description":"Overseers allowed for the integration of formations drawn from indentured soldiery into Legion strike forces. In some cases, such an act was carried out in honour of a newly formed alliance or to demonstrate the fealty of such forces to the Legion. In other situations, local militia would be pressed into service, allowing Legions to achieve their objectives at a minimal cost in Legionary lives.","specialRules":["fear","master-of-auxilia"],"specialRuleValues":{"fear":1},"subType":["Command"],"type":"Infantry","modelTypes":["legion-overseer","legion-pistol-upgradeable"],"upgradeGroups":[],"wargear":[],"weapons":["bolt-pistol","power-lash","frag-grenades","krak-grenades"],"transportCapacity":null,"accessPoints":[]},{"id":"herald-model","name":"Herald","characteristics":{"movement":7,"weaponSkill":5,"ballisticSkill":5,"strength":4,"toughness":4,"wounds":3,"initiative":5,"attacks":4,"leadership":9,"cool":9,"willpower":8,"intelligence":8,"armourSave":2,"invulnerableSave":5,"frontArmor":null,"sideArmor":null,"rearArmor":null,"hullPoints":null},"description":"As the wars of the Horus Heresy spread to consume the galaxy, billions fought and died under the banners of warlords they had never seen or heard first-hand, and even among those such as the Legiones Astartes, near-religious fervour became common for those artefacts touched by Primarch, Warmaster or Regent. On warfronts across the galaxy, Heralds stood proud and unwavering at the head of the Legion forces, carrying high icons given as a sign of authority and favour, and all knew that the words and deeds of these emissaries carried the highest authority.","specialRules":["fear"],"specialRuleValues":{"fear":1},"subType":["Command"],"type":"Infantry","modelTypes":["legion-herald"],"upgradeGroups":[],"wargear":["icon-of-allegiance"],"weapons":["power-sword","bolt-pistol","frag-grenades","krak-grenades"],"transportCapacity":null,"accessPoints":[]},{"id":"chaplain-model","name":"Chaplain","characteristics":{"movement":7,"weaponSkill":5,"ballisticSkill":4,"strength":4,"toughness":4,"wounds":3,"initiative":5,"attacks":4,"leadership":9,"cool":10,"willpower":8,"intelligence":7,"armourSave":2,"invulnerableSave":5,"frontArmor":null,"sideArmor":null,"rearArmor":null,"hullPoints":null},"description":"The Chaplain Order, established towards the end of the Great Crusade, was intended to create a cadre of fearsome veteran warriors who would enforce a cohesion of doctrine and belief in the scattered and increasingly idiosyncratic Legions far from Terra. Their was a mortuary symbol of sacrifice graven in the form of an ornate staff, mace or axe: the Crozius Arcanum, which served as both a badge of office and a deadly weapon.","specialRules":[],"specialRuleValues":{},"subType":["Command"],"type":"Infantry","modelTypes":["legion-chaplain","legion-pistol-upgradeable"],"upgradeGroups":[],"wargear":[],"weapons":["bolt-pistol","crozius-arcanum","frag-grenades","krak-grenades"],"transportCapacity":null,"accessPoints":[]},{"id":"chosen-champion-model","name":"Chosen Champion","characteristics":{"movement":7,"weaponSkill":5,"ballisticSkill":4,"strength":4,"toughness":4,"wounds":2,"initiative":4,"attacks":4,"leadership":8,"cool":8,"willpower":7,"intelligence":7,"armourSave":2,"invulnerableSave":null,"frontArmor":null,"sideArmor":null,"rearArmor":null,"hullPoints":null},"description":"Chosen Champions are the leaders of elite Praetorian Command Squads, veteran warriors selected for their exceptional skill and unwavering loyalty to serve as bodyguards for Space Marine commanders and champions.","specialRules":[],"specialRuleValues":{},"subType":["Champion","Sergeant"],"type":"Infantry","modelTypes":["legion-chosen-champion","legion-sergeant-upgradeable","legion-pistol-upgradeable","legion-combi-weapon-upgradeable"],"upgradeGroups":[],"wargear":[],"weapons":["bolter","bolt-pistol","frag-grenades","krak-grenades"],"transportCapacity":null,"accessPoints":[]},{"id":"chosen-model","name":"Chosen","characteristics":{"movement":7,"weaponSkill":5,"ballisticSkill":4,"strength":4,"toughness":4,"wounds":2,"initiative":4,"attacks":3,"leadership":8,"cool":8,"willpower":7,"intelligence":7,"armourSave":2,"invulnerableSave":null,"frontArmor":null,"sideArmor":null,"rearArmor":null,"hullPoints":null},"description":"Chosen are elite warriors selected to serve in Praetorian Command Squads, highly disciplined and worthy warriors entrusted with the finest wargear available to the Legion's rank and file, serving as both bodyguards and standard bearers.","specialRules":[],"specialRuleValues":{},"subType":[],"type":"Infantry","modelTypes":["legion-chosen","legion-sergeant-upgradeable","legion-pistol-upgradeable","legion-combi-weapon-upgradeable"],"upgradeGroups":[],"wargear":[],"weapons":["bolter","bolt-pistol","frag-grenades","krak-grenades"],"transportCapacity":null,"accessPoints":[]},{"id":"chosen-champion-jump-pack-model","name":"Chosen Champion with Jump Pack","characteristics":{"movement":12,"weaponSkill":5,"ballisticSkill":4,"strength":4,"toughness":4,"wounds":2,"initiative":4,"attacks":4,"leadership":8,"cool":8,"willpower":7,"intelligence":7,"armourSave":2,"invulnerableSave":null,"frontArmor":null,"sideArmor":null,"rearArmor":null,"hullPoints":null},"description":"Chosen Champions with Jump Packs lead mobile Praetorian Command Squads, utilizing additional mobility to seek out enemy warlords and champions, descending upon them with the finest weapons available to the Legion armoury.","specialRules":["bulky","deep-strike"],"specialRuleValues":{"bulky":2},"subType":["Champion","Sergeant","Antigrav"],"type":"Infantry","modelTypes":["legion-chosen-champion-jump-pack","legion-sergeant-upgradeable","legion-pistol-upgradeable","legion-combi-weapon-upgradeable"],"upgradeGroups":[],"wargear":[],"weapons":["bolter","bolt-pistol","frag-grenades","krak-grenades"],"transportCapacity":null,"accessPoints":[]},{"id":"chosen-jump-pack-model","name":"Chosen with Jump Pack","characteristics":{"movement":12,"weaponSkill":5,"ballisticSkill":4,"strength":4,"toughness":4,"wounds":2,"initiative":4,"attacks":3,"leadership":8,"cool":8,"willpower":7,"intelligence":7,"armourSave":2,"invulnerableSave":null,"frontArmor":null,"sideArmor":null,"rearArmor":null,"hullPoints":null},"description":"Chosen with Jump Packs are exemplary mobile warriors who provide a martial example for their brethren to aspire to as they strike down their foes, before planting the colours of their Legion over the shattered corpses.","specialRules":["bulky","deep-strike"],"specialRuleValues":{"bulky":2},"subType":["Antigrav"],"type":"Infantry","modelTypes":["legion-chosen-jump-pack","legion-sergeant-upgradeable","legion-pistol-upgradeable","legion-combi-weapon-upgradeable"],"upgradeGroups":[],"wargear":[],"weapons":["bolter","bolt-pistol","frag-grenades","krak-grenades"],"transportCapacity":null,"accessPoints":[]},{"id":"veteran-champion-model","name":"Veteran Champion","characteristics":{"movement":7,"weaponSkill":5,"ballisticSkill":4,"strength":4,"toughness":4,"wounds":2,"initiative":4,"attacks":3,"leadership":8,"cool":8,"willpower":7,"intelligence":7,"armourSave":3,"invulnerableSave":null,"frontArmor":null,"sideArmor":null,"rearArmor":null,"hullPoints":null},"description":"Veteran Champions lead Centurion Command Squads, experienced warriors who have served decades of warfare and provide personal protection as well as fulfilling adjutant and advisory roles for lower-ranking officers.","specialRules":[],"specialRuleValues":{},"subType":["Champion","Sergeant"],"type":"Infantry","modelTypes":["legion-veteran-champion","legion-sergeant-upgradeable","legion-pistol-upgradeable","legion-combi-weapon-upgradeable"],"upgradeGroups":[],"wargear":[],"weapons":["bolter","bolt-pistol","frag-grenades","krak-grenades"],"transportCapacity":null,"accessPoints":[]},{"id":"veteran-model","name":"Veteran","characteristics":{"movement":7,"weaponSkill":5,"ballisticSkill":4,"strength":4,"toughness":4,"wounds":2,"initiative":4,"attacks":3,"leadership":8,"cool":8,"willpower":7,"intelligence":7,"armourSave":3,"invulnerableSave":null,"frontArmor":null,"sideArmor":null,"rearArmor":null,"hullPoints":null},"description":"Veterans are trusted warriors from their company who accompany lower-ranking officers into battle, representing some of the finest unsung units of the Horus Heresy with decades of warfare experience.","specialRules":[],"specialRuleValues":{},"subType":[],"type":"Infantry","modelTypes":["legion-veteran","legion-sergeant-upgradeable","legion-pistol-upgradeable","legion-combi-weapon-upgradeable","legion-equipment-upgradeable"],"upgradeGroups":[],"wargear":[],"weapons":["bolter","bolt-pistol","frag-grenades","krak-grenades"],"transportCapacity":null,"accessPoints":[]},{"id":"tartaros-chosen-champion-model","name":"Tartaros Chosen Champion","characteristics":{"movement":7,"weaponSkill":5,"ballisticSkill":4,"strength":5,"toughness":5,"wounds":2,"initiative":4,"attacks":4,"leadership":8,"cool":8,"willpower":7,"intelligence":7,"armourSave":2,"invulnerableSave":5,"frontArmor":null,"sideArmor":null,"rearArmor":null,"hullPoints":null},"description":"Tartaros Chosen Champions lead elite Terminator command squads when both speed and survivability are required. Clad in the most technologically advanced Terminator armor variant, they provide swift and decisive leadership in the most critical engagements.","specialRules":["bulky","implacable-advance"],"specialRuleValues":{"bulky":2},"subType":["Champion","Sergeant"],"type":"Infantry","modelTypes":["legion-tartaros-chosen-champion","legion-terminator","legion-combi-weapon-upgradeable"],"upgradeGroups":[],"wargear":[],"weapons":["combi-bolter","power-weapon"],"transportCapacity":null,"accessPoints":[]},{"id":"tartaros-chosen-model","name":"Tartaros Chosen","characteristics":{"movement":7,"weaponSkill":5,"ballisticSkill":4,"strength":5,"toughness":5,"wounds":2,"initiative":4,"attacks":3,"leadership":8,"cool":8,"willpower":7,"intelligence":7,"armourSave":2,"invulnerableSave":5,"frontArmor":null,"sideArmor":null,"rearArmor":null,"hullPoints":null},"description":"Tartaros Chosen are elite warriors equipped with the most advanced Terminator armor patterns. They deploy where speed and protection are both required, ensuring that swift blows can be dealt to secure victory in the most demanding engagements.","specialRules":["bulky","implacable-advance"],"specialRuleValues":{"bulky":2},"subType":[],"type":"Infantry","modelTypes":["legion-tartaros-chosen","legion-terminator","legion-combi-weapon-upgradeable"],"upgradeGroups":[],"wargear":[],"weapons":["combi-bolter","power-weapon"],"transportCapacity":null,"accessPoints":[]},{"id":"cataphractii-chosen-champion-model","name":"Cataphractii Chosen Champion","characteristics":{"movement":6,"weaponSkill":5,"ballisticSkill":4,"strength":5,"toughness":5,"wounds":2,"initiative":4,"attacks":4,"leadership":8,"cool":8,"willpower":7,"intelligence":7,"armourSave":2,"invulnerableSave":4,"frontArmor":null,"sideArmor":null,"rearArmor":null,"hullPoints":null},"description":"Cataphractii Chosen Champions lead heavy Terminator command squads, using their sheer bulk and durability to protect the life of their commander. Able to withstand even the most vicious blows and bearing the finest weaponry in the Legion's armoury, they embody the finest qualities of the Legiones Astartes.","specialRules":["bulky","implacable-advance","slow-and-purposeful"],"specialRuleValues":{"bulky":2},"subType":["Champion","Sergeant","Heavy"],"type":"Infantry","modelTypes":["legion-cataphractii-chosen-champion","legion-terminator","legion-combi-weapon-upgradeable"],"upgradeGroups":[],"wargear":[],"weapons":["volkite-charger","power-weapon"],"transportCapacity":null,"accessPoints":[]},{"id":"cataphractii-chosen-model","name":"Cataphractii Chosen","characteristics":{"movement":6,"weaponSkill":5,"ballisticSkill":4,"strength":5,"toughness":5,"wounds":2,"initiative":4,"attacks":3,"leadership":8,"cool":8,"willpower":7,"intelligence":7,"armourSave":2,"invulnerableSave":4,"frontArmor":null,"sideArmor":null,"rearArmor":null,"hullPoints":null},"description":"Cataphractii Chosen are exemplary warriors who embody the finest qualities of the Legiones Astartes, valiantly spearheading assaults into the most hazardous of war zones holding the Legion's banners high. Many veteran Legionaries prefer the familiarity of this earliest mark of Terminator armour.","specialRules":["bulky","implacable-advance","slow-and-purposeful"],"specialRuleValues":{"bulky":2},"subType":["Heavy"],"type":"Infantry","modelTypes":["legion-cataphractii-chosen","legion-terminator","legion-combi-weapon-upgradeable"],"upgradeGroups":[],"wargear":[],"weapons":["volkite-charger","power-weapon"],"transportCapacity":null,"accessPoints":[]},{"id":"veteran-sergeant-model","name":"Veteran Sergeant","characteristics":{"movement":7,"weaponSkill":4,"ballisticSkill":5,"strength":4,"toughness":4,"wounds":2,"initiative":4,"attacks":2,"leadership":8,"cool":8,"willpower":7,"intelligence":7,"armourSave":3,"invulnerableSave":null,"frontArmor":null,"sideArmor":null,"rearArmor":null,"hullPoints":null},"description":"Veteran Sergeants lead experienced tactical squads, warriors who have served since the early days of the Great Crusade and refuse to succumb to the brutality of their methodology of war. They apply deadly firepower where it is required, setting an example to their less-experienced brethren.","specialRules":["line"],"specialRuleValues":{"line":1},"subType":["Sergeant"],"type":"Infantry","modelTypes":["legion-veteran-sergeant","legion-sergeant-upgradeable","legion-pistol-upgradeable","legion-combi-weapon-upgradeable","legion-equipment-upgradeable"],"upgradeGroups":[],"wargear":[],"weapons":["bolter","bolt-pistol","frag-grenades","krak-grenades"],"transportCapacity":null,"accessPoints":[]},{"id":"veteran-tactical-model","name":"Veteran","characteristics":{"movement":7,"weaponSkill":4,"ballisticSkill":5,"strength":4,"toughness":4,"wounds":2,"initiative":4,"attacks":2,"leadership":8,"cool":8,"willpower":7,"intelligence":7,"armourSave":3,"invulnerableSave":null,"frontArmor":null,"sideArmor":null,"rearArmor":null,"hullPoints":null},"description":"Veterans are experienced warriors who form the cadre of tactical squads, those who have served since the early days of the Great Crusade. They refuse to succumb to the brutality of war and are permitted to carry specialist or more dangerous weapons, applying deadly firepower where required.","specialRules":["line"],"specialRuleValues":{"line":1},"subType":[],"type":"Infantry","modelTypes":["legion-veteran-tactical","legion-sergeant-upgradeable","legion-pistol-upgradeable","legion-combi-weapon-upgradeable","legion-equipment-upgradeable"],"upgradeGroups":[],"wargear":[],"weapons":["bolter","bolt-pistol","frag-grenades","krak-grenades"],"transportCapacity":null,"accessPoints":[]},{"id":"veteran-assault-sergeant-model","name":"Veteran Assault Sergeant","characteristics":{"movement":12,"weaponSkill":5,"ballisticSkill":4,"strength":4,"toughness":4,"wounds":2,"initiative":4,"attacks":3,"leadership":8,"cool":8,"willpower":7,"intelligence":7,"armourSave":3,"invulnerableSave":null,"frontArmor":null,"sideArmor":null,"rearArmor":null,"hullPoints":null},"description":"Veteran Assault Sergeants lead exceptional and experienced fighters within the ranks of the Space Marine Legions, elite units to which other warriors aspire to ascend and from which future commanders are drawn. With the pick of the armoury and Warhawk jump packs, they deploy at the spearhead of assaults.","specialRules":["bulky","deep-strike","vanguard"],"specialRuleValues":{"bulky":2,"vanguard":3},"subType":["Sergeant","Antigrav"],"type":"Infantry","modelTypes":["legion-veteran-assault-sergeant","legion-sergeant-upgradeable","legion-pistol-upgradeable","legion-assault-marine"],"upgradeGroups":[],"wargear":[],"weapons":["bolt-pistol","chainsword","frag-grenades","krak-grenades"],"transportCapacity":null,"accessPoints":[]},{"id":"assault-veteran-model","name":"Assault Veteran","characteristics":{"movement":12,"weaponSkill":5,"ballisticSkill":4,"strength":4,"toughness":4,"wounds":2,"initiative":4,"attacks":3,"leadership":8,"cool":8,"willpower":7,"intelligence":7,"armourSave":3,"invulnerableSave":null,"frontArmor":null,"sideArmor":null,"rearArmor":null,"hullPoints":null},"description":"Assault Veterans are exceptional and experienced fighters able to select from a wide variety of killing tools and Warhawk jump packs, allowing them to best leverage their skill at arms. Given a degree of tactical freedom, they seek out the most steadfast foes and break enemy defensive positions.","specialRules":["bulky","deep-strike","vanguard"],"specialRuleValues":{"bulky":2,"vanguard":3},"subType":["Antigrav"],"type":"Infantry","modelTypes":["legion-assault-veteran","legion-sergeant-upgradeable","legion-pistol-upgradeable","legion-assault-marine"],"upgradeGroups":[],"wargear":[],"weapons":["bolt-pistol","chainsword","frag-grenades","krak-grenades"],"transportCapacity":null,"accessPoints":[]},{"id":"seeker-sergeant-model","name":"Seeker Sergeant","characteristics":{"movement":7,"weaponSkill":4,"ballisticSkill":5,"strength":4,"toughness":4,"wounds":1,"initiative":4,"attacks":1,"leadership":8,"cool":8,"willpower":7,"intelligence":7,"armourSave":3,"invulnerableSave":null,"frontArmor":null,"sideArmor":null,"rearArmor":null,"hullPoints":null},"description":"Seeker Sergeants lead specialised sniper units whose principal task is to identify an enemy's command structure and slay them with well-placed shots. The Alpha Legion are said to have first crystallised this tactic, chosen primarily on pure merit as the best shots in their Legion.","specialRules":["infiltrate"],"specialRuleValues":{"infiltrate":9},"subType":["Sergeant","Skirmish"],"type":"Infantry","modelTypes":["legion-seeker-sergeant","legion-sergeant-upgradeable","legion-pistol-upgradeable","legion-combi-weapon-upgradeable","legion-equipment-upgradeable"],"upgradeGroups":[],"wargear":[],"weapons":["kraken-bolter","bolt-pistol","frag-grenades","krak-grenades"],"transportCapacity":null,"accessPoints":[]},{"id":"seeker-model","name":"Seeker","characteristics":{"movement":7,"weaponSkill":4,"ballisticSkill":5,"strength":4,"toughness":4,"wounds":1,"initiative":4,"attacks":1,"leadership":7,"cool":8,"willpower":7,"intelligence":7,"armourSave":3,"invulnerableSave":null,"frontArmor":null,"sideArmor":null,"rearArmor":null,"hullPoints":null},"description":"Seekers are specialised snipers equipped with special issue ammunition to better deal with their chosen victims. They are chosen primarily on pure merit as the best shots in their Legion, tasked with identifying warlords, officers, priests, and demagogues to eliminate with precision fire.","specialRules":["infiltrate"],"specialRuleValues":{"infiltrate":9},"subType":["Skirmish"],"type":"Infantry","modelTypes":["legion-seeker","legion-sergeant-upgradeable","legion-pistol-upgradeable","legion-combi-weapon-upgradeable","legion-equipment-upgradeable"],"upgradeGroups":[],"wargear":[],"weapons":["kraken-bolter","bolt-pistol","frag-grenades","krak-grenades"],"transportCapacity":null,"accessPoints":[]},{"id":"cataphractii-terminator-sergeant-model","name":"Cataphractii Terminator Sergeant","characteristics":{"movement":6,"weaponSkill":4,"ballisticSkill":4,"strength":5,"toughness":5,"wounds":2,"initiative":4,"attacks":3,"leadership":8,"cool":8,"willpower":7,"intelligence":7,"armourSave":2,"invulnerableSave":4,"frontArmor":null,"sideArmor":null,"rearArmor":null,"hullPoints":null},"description":"Cataphractii Terminator Sergeants lead heavy assault squads clad in one of the first issued Tactical Dreadnought Armour patterns. These suits are heavily protected with slablike ceramite pauldrons housing additional shield generators, augmenting the toughness of even a Legiones Astartes warrior.","specialRules":["bulky","implacable-advance","slow-and-purposeful","vanguard"],"specialRuleValues":{"bulky":2,"vanguard":3},"subType":["Sergeant","Heavy"],"type":"Infantry","modelTypes":["legion-cataphractii-terminator-sergeant","legion-terminator","legion-combi-weapon-upgradeable"],"upgradeGroups":[],"wargear":[],"weapons":["volkite-charger","power-weapon"],"transportCapacity":null,"accessPoints":[]},{"id":"cataphractii-terminator-model","name":"Cataphractii Terminator","characteristics":{"movement":6,"weaponSkill":4,"ballisticSkill":4,"strength":5,"toughness":5,"wounds":2,"initiative":4,"attacks":2,"leadership":8,"cool":8,"willpower":7,"intelligence":7,"armourSave":2,"invulnerableSave":4,"frontArmor":null,"sideArmor":null,"rearArmor":null,"hullPoints":null},"description":"Cataphractii Terminators are warriors clad in heavily protected Tactical Dreadnought Armour with slablike ceramite pauldrons and additional shield generators. The armour's design has the unfortunate side effect of overstraining its exoskeleton and slowing the wearer considerably, yet all Legions maintained significant numbers among their ranks.","specialRules":["bulky","implacable-advance","slow-and-purposeful","vanguard"],"specialRuleValues":{"bulky":2,"vanguard":3},"subType":["Heavy"],"type":"Infantry","modelTypes":["legion-cataphractii-terminator","legion-terminator","legion-combi-weapon-upgradeable"],"upgradeGroups":[],"wargear":[],"weapons":["volkite-charger","power-weapon"],"transportCapacity":null,"accessPoints":[]},{"id":"tartaros-terminator-sergeant-model","name":"Tartaros Terminator Sergeant","characteristics":{"movement":7,"weaponSkill":4,"ballisticSkill":4,"strength":5,"toughness":5,"wounds":2,"initiative":4,"attacks":3,"leadership":8,"cool":8,"willpower":7,"intelligence":7,"armourSave":2,"invulnerableSave":5,"frontArmor":null,"sideArmor":null,"rearArmor":null,"hullPoints":null},"description":"Tartaros Terminator Sergeants lead mobile heavy assault squads clad in the ultimate advance in personal armour technology. Perhaps the most advanced form of Terminator armour ever designed, Tartaros armour offers greater durability and protection than power armour while sacrificing none of the latter's mobility.","specialRules":["bulky","implacable-advance","vanguard"],"specialRuleValues":{"bulky":2,"vanguard":3},"subType":["Sergeant"],"type":"Infantry","modelTypes":["legion-tartaros-terminator-sergeant","legion-terminator","legion-combi-weapon-upgradeable"],"upgradeGroups":[],"wargear":[],"weapons":["combi-bolter","power-weapon"],"transportCapacity":null,"accessPoints":[]},{"id":"tartaros-terminator-model","name":"Tartaros Terminator","characteristics":{"movement":7,"weaponSkill":4,"ballisticSkill":4,"strength":5,"toughness":5,"wounds":2,"initiative":4,"attacks":2,"leadership":8,"cool":8,"willpower":7,"intelligence":7,"armourSave":2,"invulnerableSave":5,"frontArmor":null,"sideArmor":null,"rearArmor":null,"hullPoints":null},"description":"Tartaros Terminators are warriors equipped with the most advanced Terminator armour technology. These suits are particularly valuable in heavy close-quarter fighting, such as battles fought in the deep confines of hive cities or in starship boarding actions, where mobility is as crucial as protection.","specialRules":["bulky","implacable-advance","vanguard"],"specialRuleValues":{"bulky":2,"vanguard":3},"subType":[],"type":"Infantry","modelTypes":["legion-tartaros-terminator","legion-terminator","legion-combi-weapon-upgradeable"],"upgradeGroups":[],"wargear":[],"weapons":["combi-bolter","power-weapon"],"transportCapacity":null,"accessPoints":[]},{"id":"saturnine-terminator-sergeant-model","name":"Saturnine Terminator Sergeant","characteristics":{"movement":5,"weaponSkill":4,"ballisticSkill":4,"strength":4,"toughness":6,"wounds":3,"initiative":3,"attacks":2,"leadership":8,"cool":8,"willpower":7,"intelligence":7,"armourSave":2,"invulnerableSave":4,"frontArmor":null,"sideArmor":null,"rearArmor":null,"hullPoints":null},"description":"Saturnine Terminator Sergeants lead ultra-heavy assault squads clad in the most ponderous and advanced Terminator armor. First seen in numbers on the black sands of Isstvan V, this pattern of Saturnine armour was developed by Vulkan and stands bulkier and more ponderous than the more widely-utilised Cataphractii and Tartaros patterns.","specialRules":["bulky","explodes","implacable-advance","slow-and-purposeful"],"specialRuleValues":{"bulky":4,"explodes":6},"subType":["Sergeant","Heavy"],"type":"Infantry","modelTypes":["legion-saturnine-terminator-sergeant","legion-terminator"],"upgradeGroups":[],"wargear":["occulix-targeting-auspex","thermal-diffraction-field"],"weapons":["plasma-bombard","saturnine-disruption-fist"],"transportCapacity":null,"accessPoints":[]},{"id":"saturnine-terminator-model","name":"Saturnine Terminator","characteristics":{"movement":5,"weaponSkill":4,"ballisticSkill":4,"strength":4,"toughness":6,"wounds":3,"initiative":1,"attacks":2,"leadership":8,"cool":8,"willpower":7,"intelligence":7,"armourSave":2,"invulnerableSave":4,"frontArmor":null,"sideArmor":null,"rearArmor":null,"hullPoints":null},"description":"Saturnine Terminators are warriors encased in the most advanced and ponderous Terminator armor ever created. Mounting an array of fearsome energy weapons, combined with complex and potent energy shielding, those warriors capable of wearing such armour see the already legendary resilience of a Legionary improved significantly, allowing them to stride through the fires of battle with impunity.","specialRules":["bulky","explodes","implacable-advance","slow-and-purposeful"],"specialRuleValues":{"bulky":4,"explodes":6},"subType":["Heavy"],"type":"Infantry","modelTypes":["legion-saturnine-terminator","legion-terminator"],"upgradeGroups":[],"wargear":["occulix-targeting-auspex","thermal-diffraction-field"],"weapons":["plasma-bombard","saturnine-disruption-fist"],"transportCapacity":null,"accessPoints":[]},{"id":"land-raider-carrier-model","name":"Land Raider Carrier","characteristics":{"movement":10,"weaponSkill":null,"ballisticSkill":4,"strength":null,"toughness":null,"wounds":null,"initiative":null,"attacks":null,"leadership":null,"cool":null,"willpower":null,"intelligence":null,"armourSave":null,"invulnerableSave":null,"frontArmor":14,"sideArmor":14,"rearArmor":14,"hullPoints":8},"description":"The Land Raider is a masterwork that heralds back to the lost Dark Age of Technology, and since the rediscovery of its STC in the vaults of Mars, several patterns have been established in widespread use varying the balance of its battlefield role from armoured explorer, command and control vehicle, to assault carrier. Despite maintaining many aspects of the original design, some of these variants displeased the Forge Lords that oversaw their production, in particular the assault carrier variants, which were viewed as incorporating aberrant diversions that detracted from the purity of the original template.","specialRules":["assault-vehicle","auto-repair"],"specialRuleValues":{"auto-repair":5},"subType":["Transport"],"type":"Vehicle","modelTypes":["legion-land-raider-carrier","legion-vehicle","legion-transport"],"upgradeGroups":[],"wargear":[],"weapons":[{"id":"twin-lascannon","mount":"Left Sponson Mounted"},{"id":"twin-lascannon","mount":"Right Sponson Mounted"},{"id":"twin-heavy-bolter","mount":"Hull (Front) Mounted"}],"transportCapacity":12,"accessPoints":["Side Facings","Front Facing"]},{"id":"spartan-model","name":"Spartan","characteristics":{"movement":10,"weaponSkill":null,"ballisticSkill":4,"strength":null,"toughness":null,"wounds":null,"initiative":null,"attacks":null,"leadership":null,"cool":null,"willpower":null,"intelligence":null,"armourSave":null,"invulnerableSave":null,"frontArmor":14,"sideArmor":14,"rearArmor":14,"hullPoints":10},"description":"The Spartan is a huge armoured conveyor whose purpose is to carry a large contingent of troops into the heart of the enemy, weathering weapons fire that would be the death of any lesser vehicle. Its armament is potent, with most bearing quad lascannon or laser destroyers, while the Prometheus variant mounts quad heavy bolter arrays to devastate enemy infantry. The Spartan takes pride of place in the armouries of many Legions, although it is far less common than the Land Raider in operations.","specialRules":["assault-vehicle","auto-repair"],"specialRuleValues":{"auto-repair":4},"subType":["Transport"],"type":"Vehicle","modelTypes":["legion-spartan","legion-vehicle","legion-transport"],"upgradeGroups":[],"wargear":[],"weapons":[{"id":"lascannon-array","mount":"Left Sponson Mounted"},{"id":"lascannon-array","mount":"Right Sponson Mounted"},{"id":"twin-heavy-bolter","mount":"Hull (Front) Mounted"}],"transportCapacity":26,"accessPoints":["Side Facings","Front Facing"]},{"id":"dreadnought-drop-pod-model","name":"Dreadnought Drop Pod","characteristics":{"movement":null,"weaponSkill":null,"ballisticSkill":2,"strength":null,"toughness":null,"wounds":null,"initiative":null,"attacks":null,"leadership":null,"cool":null,"willpower":null,"intelligence":null,"armourSave":null,"invulnerableSave":null,"frontArmor":12,"sideArmor":12,"rearArmor":12,"hullPoints":5},"description":"Developed alongside the more common Legion drop pod in general service, specifically designed Dreadnought drop pods are somewhat larger than the standard drop pods of the Legiones Astartes and have a more powerful engine, allowing for a dangerously meteoric descent to the battlefield. This serves to protect their cargo during approach and allow it to strike with unprecedented speed. The stresses involved, however, are such that only the heavily armoured and protected shell of a Dreadnought could hope to survive the descent and impact with the ground without being wrecked or pulverised.","specialRules":["dreadnought-transport","orbital-assault-vehicle","impact-reactive-doors"],"specialRuleValues":{},"subType":["Transport"],"type":"Vehicle","modelTypes":["legion-dreadnought-drop-pod","legion-vehicle","legion-transport"],"upgradeGroups":[],"wargear":[],"weapons":[],"transportCapacity":7,"accessPoints":["All Facings"]},{"id":"dreadclaw-drop-pod-model","name":"Dreadclaw Drop Pod","characteristics":{"movement":15,"weaponSkill":null,"ballisticSkill":4,"strength":null,"toughness":null,"wounds":null,"initiative":null,"attacks":null,"leadership":null,"cool":null,"willpower":null,"intelligence":null,"armourSave":null,"invulnerableSave":null,"frontArmor":12,"sideArmor":12,"rearArmor":12,"hullPoints":5},"description":"The Dreadclaw drop pod serves primarily to insert Legion Space Marine boarding forces onto enemy void craft in the midst of battle. Latching onto the hull of an enemy vessel, a series of melta cutters trigger, blasting a hole through even the thickest armour before its occupants storm forth through its raised aperture. Unlike some earlier boarding craft, the Dreadclaw is also fully capable of operating as an independent dropship. Indeed, many Legions favour using them in this role, dropping from the sky like a flaming comet before disembarking the assault troops contained within.","specialRules":["drop-transport"],"specialRuleValues":{},"subType":["Flyer","Transport"],"type":"Vehicle","modelTypes":["legion-dreadclaw-drop-pod","legion-vehicle","legion-transport","legion-flyer"],"upgradeGroups":[],"wargear":[],"weapons":[],"transportCapacity":12,"accessPoints":["All Facings"]},{"id":"kharybdis-assault-claw-model","name":"Kharybdis Assault Claw","characteristics":{"movement":14,"weaponSkill":null,"ballisticSkill":4,"strength":null,"toughness":null,"wounds":null,"initiative":null,"attacks":null,"leadership":null,"cool":null,"willpower":null,"intelligence":null,"armourSave":null,"invulnerableSave":null,"frontArmor":12,"sideArmor":12,"rearArmor":12,"hullPoints":8},"description":"Employed by many Legions as their primary ship-to-ship assault craft, the Kharybdis is a monstrous drop pod capable of carrying large assault forces through the void and mounting significant firepower to blast a path through defending small craft. The arrival of a flight of these ominous craft, boarding hooks extended as they approach their target, signals the end for the crew of any vessel that dares oppose the Legiones Astartes. Outside of void war, the Kharybdis also serves as a drop ship, capable of both controlled descent and powered take-off from a planetary surface.","specialRules":["heavy-drop-transport"],"specialRuleValues":{},"subType":["Flyer","Transport"],"type":"Vehicle","modelTypes":["legion-kharybdis-assault-claw","legion-vehicle","legion-transport","legion-flyer"],"upgradeGroups":[],"wargear":[],"weapons":[{"id":"kharybdis-missile-launcher","mount":"Turret Mounted"}],"transportCapacity":22,"accessPoints":["All Facings"]},{"id":"recon-sergeant-model","name":"Recon Sergeant","characteristics":{"movement":7,"weaponSkill":4,"ballisticSkill":4,"strength":4,"toughness":4,"wounds":1,"initiative":4,"attacks":1,"leadership":8,"cool":7,"willpower":7,"intelligence":7,"armourSave":3,"invulnerableSave":null,"frontArmor":null,"sideArmor":null,"rearArmor":null,"hullPoints":null},"description":"Recon Sergeants lead reconnaissance squads formed from experienced Space Marines expert in operating behind enemy lines, sudden flanking manoeuvres and infiltration attacks in support of their main force. They serve as the eyes and ears of the Legion in the field, coordinating intelligence gathering and tactical reconnaissance operations.","specialRules":["infiltrate","move-through-cover","support-unit"],"specialRuleValues":{"infiltrate":9,"support-unit":2},"subType":["Sergeant","Skirmish"],"type":"Infantry","modelTypes":["legion-recon-sergeant","legion-sergeant-upgradeable","legion-pistol-upgradeable","legion-equipment-upgradeable"],"upgradeGroups":[],"wargear":[],"weapons":["astartes-shotgun","bolt-pistol","frag-grenades","krak-grenades"],"transportCapacity":null,"accessPoints":[]},{"id":"recon-legionary-model","name":"Recon Legionary","characteristics":{"movement":7,"weaponSkill":4,"ballisticSkill":4,"strength":4,"toughness":4,"wounds":1,"initiative":4,"attacks":1,"leadership":7,"cool":7,"willpower":7,"intelligence":7,"armourSave":3,"invulnerableSave":null,"frontArmor":null,"sideArmor":null,"rearArmor":null,"hullPoints":null},"description":"Recon Legionaries are experienced Space Marines armed and equipped with a variety of specialised wargear including long range weaponry, sensor auspex and stealth gear. They serve the Legion as pickets, saboteurs, raiders and snipers where needed, as well as intelligence gatherers, identifying targets and gathering information on enemy movements and strengths.","specialRules":["infiltrate","move-through-cover","support-unit"],"specialRuleValues":{"infiltrate":9,"support-unit":2},"subType":["Skirmish"],"type":"Infantry","modelTypes":["legion-recon-legionary","legion-equipment-upgradeable"],"upgradeGroups":[],"wargear":[],"weapons":["astartes-shotgun","bolt-pistol","frag-grenades","krak-grenades"],"transportCapacity":null,"accessPoints":[]},{"id":"sabre-model","name":"Sabre","characteristics":{"movement":16,"weaponSkill":null,"ballisticSkill":4,"strength":null,"toughness":null,"wounds":null,"initiative":null,"attacks":null,"leadership":null,"cool":null,"willpower":null,"intelligence":null,"armourSave":null,"invulnerableSave":null,"frontArmor":12,"sideArmor":11,"rearArmor":10,"hullPoints":4},"description":"Fast, rugged and heavily armed, the Sabre serves as a strike tank, attacking key enemy targets and destroying them long before they can pose a threat. Fitted with a number of advanced weapons systems, from rapid fire autocannon to exotic beam weapons, there were few foes that could resist the firepower of these swift hunters. Once the foe is annihilated, the speed of these fleet vehicles allows them to evade any counter-attack and reposition to strike at the vulnerable flanks of the enemy army, keeping the heavy armour suppressed as the Space Marine infantry advances to crush the foes of the Emperor.","specialRules":["outflank"],"specialRuleValues":{},"subType":["Rapid"],"type":"Vehicle","modelTypes":["legion-sabre","legion-vehicle-upgradeable"],"upgradeGroups":[],"wargear":[],"weapons":[{"id":"anvilus-snub-autocannon","mount":"Centreline Mounted"},{"id":"heavy-bolter","mount":"Hull (Front) Mounted"}],"transportCapacity":null,"accessPoints":[]},{"id":"outrider-sergeant-model","name":"Outrider Sergeant","characteristics":{"movement":14,"weaponSkill":4,"ballisticSkill":4,"strength":4,"toughness":4,"wounds":2,"initiative":4,"attacks":1,"leadership":8,"cool":8,"willpower":7,"intelligence":6,"armourSave":3,"invulnerableSave":null,"frontArmor":null,"sideArmor":null,"rearArmor":null,"hullPoints":null},"description":"Outrider Sergeants lead mechanised Space Marine reconnaissance squads who take to the field mounted on ruggedly constructed, all-terrain armoured ground bikes and scramblers. Used for scouting missions as well as rapid encirclement and hit-and-run attacks behind enemy lines, the chief advantage of the Outriders is speed, their bikes enabling them to cover ground far quicker than infantry and go where heavier vehicles cannot.","specialRules":["bulky","vanguard","firestorm","implacable-advance","outflank"],"specialRuleValues":{"bulky":2,"vanguard":1},"subType":["Sergeant"],"type":"Cavalry","modelTypes":["legion-outrider-sergeant","legion-sergeant-upgradeable","legion-pistol-upgradeable","legion-equipment-upgradeable"],"upgradeGroups":[],"wargear":[],"weapons":["twin-bolter","bolt-pistol","chainsword","frag-grenades","krak-grenades"],"transportCapacity":null,"accessPoints":[]},{"id":"outrider-model","name":"Outrider","characteristics":{"movement":14,"weaponSkill":4,"ballisticSkill":4,"strength":4,"toughness":4,"wounds":2,"initiative":4,"attacks":1,"leadership":7,"cool":8,"willpower":7,"intelligence":6,"armourSave":3,"invulnerableSave":null,"frontArmor":null,"sideArmor":null,"rearArmor":null,"hullPoints":null},"description":"Outriders are mechanised Space Marine reconnaissance specialists mounted on ruggedly constructed, all-terrain armoured ground bikes and scramblers. Rather than precision long ranged weaponry, Outriders mount rapid-fire weaponry, destroying their foes in devastating swift attacks. Their bikes enable them to cover ground far quicker than infantry and go where heavier vehicles cannot, making them ideal for scouting missions as well as rapid encirclement and hit-and-run attacks behind enemy lines.","specialRules":["bulky","vanguard","firestorm","implacable-advance","outflank"],"specialRuleValues":{"bulky":2,"vanguard":1},"subType":[],"type":"Cavalry","modelTypes":["legion-outrider","legion-pistol-upgradeable","legion-equipment-upgradeable"],"upgradeGroups":[],"wargear":[],"weapons":["twin-bolter","bolt-pistol","chainsword","frag-grenades","krak-grenades"],"transportCapacity":null,"accessPoints":[]},{"id":"land-raider-explorator-model","name":"Land Raider Explorator","characteristics":{"movement":12,"weaponSkill":null,"ballisticSkill":4,"strength":null,"toughness":null,"wounds":null,"initiative":null,"attacks":null,"leadership":null,"cool":null,"willpower":null,"intelligence":null,"armourSave":null,"invulnerableSave":null,"frontArmor":14,"sideArmor":14,"rearArmor":14,"hullPoints":8},"description":"During the lost days of Mankind's Golden Age, the Land Raider, armoured and equipped for exploration, was used to scout at the most hostile of alien worlds. It was only in later, more warlike times that it would be converted into one of the most potent war machines in the Imperium, and in the Proteus Explorator variant there lingers the influence of its origins. Fitted with a more confined and less accessible transport bay in order to mount an array of scanners and navigational augurs, the Explorator mounts a more focused array of weapons, operating instead as an unmatched pathfinder for any mechanised task force.","specialRules":["auto-repair","outflank"],"specialRuleValues":{"auto-repair":5},"subType":["Transport"],"type":"Vehicle","modelTypes":["legion-land-raider-explorator","legion-vehicle-upgradeable"],"upgradeGroups":[],"wargear":["dozer-blade"],"weapons":[{"id":"twin-lascannon","mount":"Sponson Mounted"},{"id":"twin-lascannon","mount":"Sponson Mounted"}],"transportCapacity":10,"accessPoints":["Side Facings"]},{"id":"tarantula-sentry-gun-model","name":"Tarantula Sentry Gun","characteristics":{"movement":null,"weaponSkill":null,"ballisticSkill":4,"strength":null,"toughness":null,"wounds":null,"initiative":null,"attacks":null,"leadership":null,"cool":null,"willpower":null,"intelligence":null,"armourSave":null,"invulnerableSave":null,"frontArmor":10,"sideArmor":10,"rearArmor":10,"hullPoints":2},"description":"The Space Marine Legions, in particular, make use of Tarantulas in a forward deployment role and see them as entirely disposable assets, often utilising them in the thick of battle to defend a forward position, draw out enemy forces for attack or even to guard a withdrawal or pin an enemy force during a feint. Tarantulas may be dropped into forward positions on the battlelines immediately prior to suspected engagement via hovering servo-carriers or placed by reconnaissance forces under concealment to provide an unpleasant surprise for an attacker.","specialRules":["expendable","infiltrate","automated-fire-protocols","independent-sentries"],"specialRuleValues":{"expendable":3,"infiltrate":9},"subType":[],"type":"Vehicle","modelTypes":["legion-tarantula-sentry-gun","legion-vehicle-upgradeable"],"upgradeGroups":[],"wargear":[],"weapons":[{"id":"twin-heavy-bolter","mount":"Turret Mounted"}],"transportCapacity":null,"accessPoints":[]},{"id":"xiphon-interceptor-model","name":"Xiphon Interceptor","characteristics":{"movement":20,"weaponSkill":null,"ballisticSkill":4,"strength":null,"toughness":null,"wounds":null,"initiative":null,"attacks":null,"leadership":null,"cool":null,"willpower":null,"intelligence":null,"armourSave":null,"invulnerableSave":null,"frontArmor":11,"sideArmor":11,"rearArmor":11,"hullPoints":5},"description":"The Xiphon Interceptor is a void/atmospheric combat craft with an ancient lineage with examples of its predecessors having been found in use by lost human enclaves. The performance of the variants that found use in the Legions generated such extreme gravitic forces in flight that the enhanced physiology of a Space Marine was a prerequisite of a pilot. Although armed with a specific and specialised combination of armaments, the Xiphon's strictly defined combat role as an air-to-air interceptor called for little else.","specialRules":[],"specialRuleValues":{},"subType":["Flyer"],"type":"Vehicle","modelTypes":["legion-xiphon-interceptor"],"upgradeGroups":[],"wargear":[],"weapons":[{"id":"twin-lascannon","mount":"Centreline Mounted"},{"id":"twin-lascannon","mount":"Centreline Mounted"},{"id":"rotary-missile-launcher","mount":"Centreline Mounted"}],"transportCapacity":null,"accessPoints":[]},{"id":"storm-eagle-model","name":"Storm Eagle","characteristics":{"movement":18,"weaponSkill":null,"ballisticSkill":4,"strength":null,"toughness":null,"wounds":null,"initiative":null,"attacks":null,"leadership":null,"cool":null,"willpower":null,"intelligence":null,"armourSave":null,"invulnerableSave":null,"frontArmor":12,"sideArmor":12,"rearArmor":12,"hullPoints":6},"description":"The Storm Eagle is a rugged and durable assault gunship, heavily armed for its size. Despite lacking the speed and maneuverability of true fighters, the Storm Eagle's flexibility makes it a valuable asset for orbital assault deployment, low-level ground attack, long-range transport, orbital shuttle, scout, and interceptor roles.","specialRules":["assault-vehicle"],"specialRuleValues":{},"subType":["Stable","Transport","Flyer"],"type":"Vehicle","modelTypes":["legion-storm-eagle","legion-vehicle-upgradeable"],"upgradeGroups":[],"wargear":[],"weapons":[{"id":"twin-heavy-bolter","mount":"Centreline Mounted"},{"id":"vengeance-launcher","mount":"Centreline Mounted"},{"id":"tempest-rocket","mount":"Centreline Mounted"},{"id":"tempest-rocket","mount":"Centreline Mounted"},{"id":"tempest-rocket","mount":"Centreline Mounted"},{"id":"tempest-rocket","mount":"Centreline Mounted"}],"transportCapacity":16,"accessPoints":["All Facings"]},{"id":"fire-raptor-model","name":"Fire Raptor","characteristics":{"movement":18,"weaponSkill":null,"ballisticSkill":4,"strength":null,"toughness":null,"wounds":null,"initiative":null,"attacks":null,"leadership":null,"cool":null,"willpower":null,"intelligence":null,"armourSave":null,"invulnerableSave":null,"frontArmor":12,"sideArmor":12,"rearArmor":12,"hullPoints":6},"description":"A variant of the Storm Eagle, the Fire Raptor gunship was created with the aim of providing overwhelming aerial firepower to Legiones Astartes assault forces. In addition to twin nose mounted Avenger bolt cannon and an array of rockets or missiles, the Fire Raptor replaces the capacious transport bay of the Storm Eagle with ammunition and targeting cogitators for two independent ball turrets. Each of these sophisticated turrets is equipped with a gyroscopic array and crewed by a dedicated Space Marine gunner, allowing each to strike separate targets with pinpoint precision even while the gunship moves at flank speed.","specialRules":[],"specialRuleValues":{},"subType":["Stable","Flyer"],"type":"Vehicle","modelTypes":["legion-fire-raptor","legion-vehicle-upgradeable"],"upgradeGroups":[],"wargear":[],"weapons":[{"id":"twin-avenger-bolt-cannon","mount":"Centreline Mounted"},{"id":"gravis-heavy-bolter-battery","mount":"Sponson Mounted"},{"id":"gravis-heavy-bolter-battery","mount":"Sponson Mounted"},{"id":"tempest-rocket","mount":"Centreline Mounted"},{"id":"tempest-rocket","mount":"Centreline Mounted"},{"id":"tempest-rocket","mount":"Centreline Mounted"},{"id":"tempest-rocket","mount":"Centreline Mounted"}],"transportCapacity":null,"accessPoints":[]},{"id":"scimitar-hunter-model","name":"Scimitar Hunter","characteristics":{"movement":16,"weaponSkill":4,"ballisticSkill":4,"strength":4,"toughness":4,"wounds":2,"initiative":4,"attacks":1,"leadership":7,"cool":8,"willpower":7,"intelligence":7,"armourSave":3,"invulnerableSave":null,"frontArmor":null,"sideArmor":null,"rearArmor":null,"hullPoints":null},"description":"A Scimitar Hunter is a Space Marine mounted on a sophisticated jetbike, using grav-impellor assisted jet engines for extended low-altitude flight. These craft are more akin to compact aircraft than ground bikes and are able to maintain great speeds for extended periods.","specialRules":["bulky-3","deep-strike"],"specialRuleValues":{},"subType":["Antigrav"],"type":"Cavalry","modelTypes":["legion-scimitar-hunter","legion-cavalry-upgradeable"],"upgradeGroups":[],"wargear":["bolt-pistol","chainsword","heavy-bolter","frag-grenades","krak-grenades"],"weapons":[],"transportCapacity":null,"accessPoints":[]},{"id":"scimitar-sergeant-model","name":"Scimitar Sergeant","characteristics":{"movement":16,"weaponSkill":4,"ballisticSkill":4,"strength":4,"toughness":4,"wounds":2,"initiative":4,"attacks":1,"leadership":8,"cool":8,"willpower":7,"intelligence":7,"armourSave":3,"invulnerableSave":null,"frontArmor":null,"sideArmor":null,"rearArmor":null,"hullPoints":null},"description":"A Scimitar Sergeant leads a jetbike squadron from his sophisticated jetbike, using grav-impellor assisted jet engines for extended low-altitude flight. These craft are more akin to compact aircraft than ground bikes and are able to maintain great speeds for extended periods.","specialRules":["bulky-3","deep-strike"],"specialRuleValues":{},"subType":["Sergeant","Antigrav"],"type":"Cavalry","modelTypes":["legion-scimitar-sergeant","legion-cavalry-upgradeable"],"upgradeGroups":[],"wargear":["bolt-pistol","chainsword","heavy-bolter","frag-grenades","krak-grenades"],"weapons":[],"transportCapacity":null,"accessPoints":[]},{"id":"land-speeder-model","name":"Land Speeder","characteristics":{"movement":16,"weaponSkill":4,"ballisticSkill":4,"strength":4,"toughness":5,"wounds":3,"initiative":4,"attacks":2,"leadership":8,"cool":8,"willpower":7,"intelligence":7,"armourSave":3,"invulnerableSave":null,"frontArmor":null,"sideArmor":null,"rearArmor":null,"hullPoints":null},"description":"Land Speeders are high-speed reconnaissance and rapid-attack skimmers that utilise antigravity technology to achieve extraordinary battlefield mobility and speed. As lightly armoured two-man craft, they rely more on their extreme manoeuvrability and speed for survival than durability, and provide a Space Marine force with a flexible core of rapidly deployable firepower and make for highly able tank hunters and close air support units. As a result, formations of Land Speeders are often called upon to operate as a rapid-reaction force, held in reserve to quickly intercept enemy counter-attacks.","specialRules":["bulky-4","deep-strike","firing-protocols-2"],"specialRuleValues":{},"subType":["Skirmish","Antigrav"],"type":"Cavalry","modelTypes":["legion-land-speeder","legion-cavalry-upgradeable"],"upgradeGroups":[],"wargear":["heavy-bolter","augury-scanner"],"weapons":[],"transportCapacity":null,"accessPoints":[]},{"id":"javelin-model","name":"Javelin","characteristics":{"movement":14,"weaponSkill":4,"ballisticSkill":4,"strength":4,"toughness":6,"wounds":4,"initiative":4,"attacks":2,"leadership":8,"cool":8,"willpower":7,"intelligence":7,"armourSave":3,"invulnerableSave":null,"frontArmor":null,"sideArmor":null,"rearArmor":null,"hullPoints":null},"description":"The Javelin is a fast, durable, and highly customizable anti-grav vehicle, capable of deep striking and providing significant firepower. Its enhanced toughness and wounds make it quite resilient for a Fast Attack choice, while its weapon options allow it to be tailored for anti-infantry or anti-tank roles.","specialRules":["bulky-5","deep-strike","firing-protocols-3"],"specialRuleValues":{},"subType":["Skirmish","Antigrav"],"type":"Cavalry","modelTypes":["legion-javelin","legion-cavalry-upgradeable"],"upgradeGroups":[],"wargear":["heavy-bolter","cyclone-missile-launcher"],"weapons":[],"transportCapacity":null,"accessPoints":[]},{"id":"predator-model","name":"Predator","characteristics":{"movement":12,"weaponSkill":null,"ballisticSkill":4,"strength":null,"toughness":null,"wounds":null,"initiative":null,"attacks":null,"leadership":null,"cool":null,"willpower":null,"intelligence":null,"armourSave":null,"invulnerableSave":null,"frontArmor":13,"sideArmor":12,"rearArmor":10,"hullPoints":5},"description":"Perhaps the best known and most widespread variant of the basic Rhino chassis, the Predator is equipped with superior armour protection and firepower, but sacrificing the Rhino's troop transport capacity entirely. It is an effective and versatile medium tank, with a good balance of speed, firepower and protection and whose robust design can field a wide variety of armament configurations. The standard among these is a rapid-firing turret mounted autocannon, but it is also able to mount a number of deadly energy or flame weapons, allowing it to engage a range of targets, along with defensive sponsons.","specialRules":[],"specialRuleValues":{},"subType":["Stable"],"type":"Vehicle","modelTypes":["legion-predator","legion-vehicle-upgradeable"],"upgradeGroups":[],"wargear":[],"weapons":[{"id":"predator-cannon","mount":"Turret Mounted"},{"id":"heavy-bolter","mount":"Sponson Mounted"},{"id":"heavy-bolter","mount":"Sponson Mounted"}],"transportCapacity":null,"accessPoints":[]},{"id":"sicaran-model","name":"Sicaran","characteristics":{"movement":14,"weaponSkill":null,"ballisticSkill":4,"strength":null,"toughness":null,"wounds":null,"initiative":null,"attacks":null,"leadership":null,"cool":null,"willpower":null,"intelligence":null,"armourSave":null,"invulnerableSave":null,"frontArmor":13,"sideArmor":12,"rearArmor":12,"hullPoints":6},"description":"The Sicaran is a fast, durable tank with excellent firepower options, designed for high-performance armored warfare. Its enhanced speed and durability make it an exceptional choice for the Armour battlefield role, while its weapon options allow it to be tailored for various combat scenarios.","specialRules":[],"specialRuleValues":{},"subType":["Stable"],"type":"Vehicle","modelTypes":["legion-sicaran","legion-vehicle-upgradeable"],"upgradeGroups":[],"wargear":[],"weapons":[{"id":"twin-accelerator-autocannon","mount":"Turret Mounted"},{"id":"heavy-bolter","mount":"Hull (Front) Mounted"},{"id":"heavy-bolter","mount":"Sponson Mounted"},{"id":"heavy-bolter","mount":"Sponson Mounted"}],"transportCapacity":null,"accessPoints":[]},{"id":"sicaran-venator-model","name":"Sicaran Venator","characteristics":{"movement":14,"weaponSkill":null,"ballisticSkill":4,"strength":null,"toughness":null,"wounds":null,"initiative":null,"attacks":null,"leadership":null,"cool":null,"willpower":null,"intelligence":null,"armourSave":null,"invulnerableSave":null,"frontArmor":13,"sideArmor":12,"rearArmor":12,"hullPoints":6},"description":"The Sicaran Venator replaces the turret mounted armaments of the Sicaran with a powerful neutron laser, which, when utilised with the speed and manoeuvrability provided by the advanced chassis and drivetrain of the chassis, results in a formidable tank destroyer weapon. Despite the relative rarity of the vehicles, their capabilities ensured they were ever in great demand as Legion commanders came to rely on their potent combination of durability, speed and firepower to prevail where lesser Predators or Vindicators could not.","specialRules":["explodes-5"],"specialRuleValues":{},"subType":["Stable"],"type":"Vehicle","modelTypes":["legion-sicaran-venator","legion-vehicle-upgradeable"],"upgradeGroups":[],"wargear":[],"weapons":[{"id":"neutron-beam-laser","mount":"Centreline Mounted"},{"id":"heavy-bolter","mount":"Turret Mounted"},{"id":"heavy-bolter","mount":"Sponson Mounted"},{"id":"heavy-bolter","mount":"Sponson Mounted"}],"transportCapacity":null,"accessPoints":[]},{"id":"kratos-assault-tank-model","name":"Kratos Assault Tank","characteristics":{"movement":8,"weaponSkill":null,"ballisticSkill":4,"strength":null,"toughness":null,"wounds":null,"initiative":null,"attacks":null,"leadership":null,"cool":null,"willpower":null,"intelligence":null,"armourSave":null,"invulnerableSave":null,"frontArmor":14,"sideArmor":14,"rearArmor":14,"hullPoints":10},"description":"The Kratos is based on an Ancient Terran pattern, used in large numbers during the Unification of Old Earth. After the Emperor's treaty was signed with the Lords of Mars, the Kratos was redesigned to serve as the spearhead of the Great Crusade, a line-breaker and foe hammer. Though slow, it is all but impervious to enemy weapons fire and its steady advance was the core of many Space Marine victories during the long years of the Great Crusade. In latter years, the Kratos fell out of favour as the Legions embraced a more mobile style of war, though the ancient war engine lost none of its legendary tenacity.","specialRules":[],"specialRuleValues":{},"subType":["Stable"],"type":"Vehicle","modelTypes":["legion-kratos-assault-tank","legion-vehicle-upgradeable"],"upgradeGroups":[],"wargear":[],"weapons":[{"id":"kratos-battlecannon","mount":"Turret Mounted"},{"id":"autocannon","mount":"Co-axial (Kratos battlecannon) Mounted"},{"id":"heavy-bolter","mount":"Hull (Front, Left) Mounted"},{"id":"heavy-bolter","mount":"Hull (Front, Right) Mounted"},{"id":"heavy-bolter","mount":"Sponson Mounted"},{"id":"heavy-bolter","mount":"Sponson Mounted"}],"transportCapacity":null,"accessPoints":[]},{"id":"vindicator-siege-tank-model","name":"Vindicator Siege Tank","characteristics":{"movement":10,"weaponSkill":null,"ballisticSkill":4,"strength":null,"toughness":null,"wounds":null,"initiative":null,"attacks":null,"leadership":null,"cool":null,"willpower":null,"intelligence":null,"armourSave":null,"invulnerableSave":null,"frontArmor":13,"sideArmor":13,"rearArmor":10,"hullPoints":6},"description":"The Vindicator is a dedicated siege tank, heavily armoured and armed with a devastating cannon. It is deployed to breach enemy fortifications and destroy the heaviest enemy vehicles, moving to point-blank range before unleashing a devastating salvo of demolisher shells capable of sundering any armour. These vehicles are especially useful in confined terrain like cities or other enclosed battlefields, where their short range is less of a disadvantage. Its demolisher cannon can smash buildings into broken ruins to forge a path through otherwise impassable obstacles.","specialRules":[],"specialRuleValues":{},"subType":["Stable"],"type":"Vehicle","modelTypes":["legion-vindicator-siege-tank","legion-vehicle-upgradeable"],"upgradeGroups":[],"wargear":[],"weapons":[{"id":"demolisher-cannon","mount":"Centreline Mounted"},{"id":"combi-bolter","mount":"Hull (Front) Mounted"}],"transportCapacity":null,"accessPoints":[]},{"id":"scorpius-missile-tank-model","name":"Scorpius Missile Tank","characteristics":{"movement":10,"weaponSkill":null,"ballisticSkill":4,"strength":null,"toughness":null,"wounds":null,"initiative":null,"attacks":null,"leadership":null,"cool":null,"willpower":null,"intelligence":null,"armourSave":null,"invulnerableSave":null,"frontArmor":12,"sideArmor":11,"rearArmor":10,"hullPoints":5},"description":"The Scorpius was a pattern of armoured vehicle that had entered service during the Great Crusade, having been created at the behest of the Space Wolves Legion to provide indirect fire support for assault actions via its advanced missile launcher systems. Fighting alongside Legion Predators, with which it shares many common armour and drive systems, the Scorpius proved itself well-suited to such high intensity operations and had been approved for service across the entire Legiones Astartes before the outbreak of the Horus Heresy.","specialRules":[],"specialRuleValues":{},"subType":["Stable"],"type":"Vehicle","modelTypes":["legion-scorpius-missile-tank","legion-vehicle-upgradeable"],"upgradeGroups":[],"wargear":[],"weapons":[{"id":"scorpius-missile-launcher","mount":"Turret Mounted"},{"id":"pintle-mounted-bolter","mount":"Pintle Mounted"},{"id":"pintle-mounted-bolter","mount":"Pintle Mounted"}],"transportCapacity":null,"accessPoints":[]},{"id":"arquitor-bombard-model","name":"Arquitor Bombard","characteristics":{"movement":8,"weaponSkill":null,"ballisticSkill":4,"strength":null,"toughness":null,"wounds":null,"initiative":null,"attacks":null,"leadership":null,"cool":null,"willpower":null,"intelligence":null,"armourSave":null,"invulnerableSave":null,"frontArmor":13,"sideArmor":12,"rearArmor":10,"hullPoints":6},"description":"The Arquitor Bombard is an artillery platform designed to operate at the forefront of a Legiones Astartes advance. Built upon a reinforced chassis and equipped with weapon systems that provide brutal short-range firepower, its variants are called upon to break the most stubborn of fortifications or to annihilate massed enemy infantry and armour. As an infantry support platform, the Arquitor lacks the sheer speed of some of the other heavy armour employed by the Legiones Astartes, an intentional feature of the vehicle that keeps it locked in formation with the infantry it supports.","specialRules":[],"specialRuleValues":{},"subType":["Stable"],"type":"Vehicle","modelTypes":["legion-arquitor-bombard","legion-vehicle-upgradeable"],"upgradeGroups":[],"wargear":[],"weapons":[{"id":"morbus-he-shell","mount":"Centreline Mounted"},{"id":"heavy-bolter","mount":"Sponson Mounted"},{"id":"heavy-bolter","mount":"Sponson Mounted"}],"transportCapacity":null,"accessPoints":[]},{"id":"cerberus-heavy-tank-destroyer-model","name":"Cerberus Heavy Tank Destroyer","characteristics":{"movement":10,"weaponSkill":null,"ballisticSkill":4,"strength":null,"toughness":null,"wounds":null,"initiative":null,"attacks":null,"leadership":null,"cool":null,"willpower":null,"intelligence":null,"armourSave":null,"invulnerableSave":null,"frontArmor":14,"sideArmor":14,"rearArmor":13,"hullPoints":12},"description":"The Cerberus is described as mounting a neutron laser battery, requiring sizable atomantic arc-reactors and radiation shielding. Despite proper shielding, each shot floods the interior with exotic radiation, leading to short crew lifespespans and requiring extensive augmetic reconstruction. Despite these drawbacks, the neutron laser is one of the most effective anti-tank weapons available to the Space Marine Legions, capable of damaging even titan-class targets.","specialRules":["explodes"],"specialRuleValues":{"explodes":4},"subType":["Stable"],"type":"Vehicle","modelTypes":["legion-cerberus-heavy-tank-destroyer","legion-vehicle-upgradeable"],"upgradeGroups":[],"wargear":[],"weapons":[{"id":"neutron-laser-battery","mount":"Centreline Mounted"},{"id":"heavy-bolter","mount":"Sponson Mounted"},{"id":"heavy-bolter","mount":"Sponson Mounted"}],"transportCapacity":null,"accessPoints":[]},{"id":"typhon-heavy-siege-tank-model","name":"Typhon Heavy Siege Tank","characteristics":{"movement":10,"weaponSkill":null,"ballisticSkill":4,"strength":null,"toughness":null,"wounds":null,"initiative":null,"attacks":null,"leadership":null,"cool":null,"willpower":null,"intelligence":null,"armourSave":null,"invulnerableSave":null,"frontArmor":14,"sideArmor":14,"rearArmor":13,"hullPoints":12},"description":"The Typhon is a mobile gun platform of prodigious strength and carrying capacity designed to operate a single massive piece of siege artillery  the Dreadhammer cannon. The design itself was created in response to a request for a war machine that could rapidly deploy such fortress-breaking firepower to the battle line at speeds greater than the slow crawl of the Imperial Army's heavy batteries. Many observers have labelled it as little more than an 'upscaled' Vindicator in design, and while in some ways this may be true, few can deny its utterly brutal effectiveness in action.","specialRules":["explodes"],"specialRuleValues":{"explodes":5},"subType":["Stable"],"type":"Vehicle","modelTypes":["legion-typhon-heavy-siege-tank","legion-vehicle-upgradeable"],"upgradeGroups":[],"wargear":[],"weapons":[{"id":"dreadhammer-siege-cannon","mount":"Centreline Mounted"},{"id":"heavy-bolter","mount":"Sponson Mounted"},{"id":"heavy-bolter","mount":"Sponson Mounted"}],"transportCapacity":null,"accessPoints":[]},{"id":"glaive-super-heavy-special-weapons-tank-model","name":"Glaive Super-Heavy Special Weapons Tank","characteristics":{"movement":10,"weaponSkill":null,"ballisticSkill":4,"strength":null,"toughness":null,"wounds":null,"initiative":null,"attacks":null,"leadership":null,"cool":null,"willpower":null,"intelligence":null,"armourSave":null,"invulnerableSave":null,"frontArmor":14,"sideArmor":13,"rearArmor":12,"hullPoints":18},"description":"The Glaive is a super-heavy tank pattern based on the Fellblade, outfitted with a potent volkite carronade, a device of the Mechanicum whose design is said to have originated on Mars during the wars of the Age of Strife. It was not without acrimony that the Forge Lords agreed to the Emperor's demand for a Legion tank to be created that utilised this weapon. The effort of constructing practicable numbers of super-heavy tanks around the volkite carronade is considered well worth the expenditure in resources required, for multiple targets are struck down by its ravening beam before even a portion of its energy is dissipated.","specialRules":[],"specialRuleValues":{},"subType":["Stable"],"type":"Vehicle","modelTypes":["legion-glaive-super-heavy-special-weapons-tank","legion-vehicle-upgradeable"],"upgradeGroups":[],"wargear":[],"weapons":[{"id":"volkite-carronade","mount":"Turret Mounted"},{"id":"twin-heavy-bolter","mount":"Hull (Front) Mounted"},{"id":"lascannon-array","mount":"Sponson Mounted"},{"id":"lascannon-array","mount":"Sponson Mounted"}],"transportCapacity":null,"accessPoints":[]},{"id":"perturabo-model","name":"Perturabo","characteristics":{"movement":7,"weaponSkill":7,"ballisticSkill":7,"strength":6,"toughness":7,"wounds":6,"initiative":5,"attacks":6,"leadership":12,"cool":10,"willpower":10,"intelligence":10,"armourSave":2,"invulnerableSave":4},"description":"Perturabo, Primarch of the Iron Warriors, is a grim warrior and master of technological arcana from Olympia. Taciturn and analytical, he possesses the ability to deconstruct campaigns and find their weaknesses, executing brutal but effective strategies that brought many worlds into the Imperium but left them shattered. After the Dropsite Massacre, Perturabo abandoned his oaths to the Imperium, taking his fallen brother's hammer as a token of allegiance to Horus.","specialRules":["sire-of-the-iron-warriors","bulky","battlesmith","breaker","eternal-warrior"],"specialRuleValues":{"bulky":6,"battlesmith":3,"eternal-warrior":2},"subType":["Unique"],"type":"Paragon","modelTypes":["primarch-model","iron-warriors-model"],"upgradeGroups":[{"id":"perturabo-weapon-upgrade-group","name":"Weapon Options","description":"Perturabo may exchange his weapons","collapsible":true,"defaultCollapsed":false,"upgrades":["perturabo-forgebreaker-upgrade"]}],"wargear":["logos-array","cortex-controller","cognis-signum"],"weapons":["logos-array"]},{"id":"warsmith-model","name":"Warsmith","characteristics":{"movement":6,"weaponSkill":6,"ballisticSkill":5,"strength":4,"toughness":5,"wounds":5,"initiative":5,"attacks":5,"leadership":10,"cool":9,"willpower":9,"intelligence":10,"armourSave":2,"invulnerableSave":4},"description":"The Iron Warriors were widely renowned for their siegecraft and combat-engineering skills. The foremost practitioners of these arts were the Warsmiths, whose knowledge of the workings of war engines and automata was second only to the Magi of the Mechanicum. Raised to such a rank by Perturabo himself, each was a peerless planner and warrior within their Legion.","specialRules":["bulky","battlesmith","implacable-advance","slow-and-purposeful"],"specialRuleValues":{"bulky":2,"battlesmith":2},"subType":["Command","Heavy"],"type":"Infantry","modelTypes":["iron-warriors-model","legion-command-model"],"upgradeGroups":[{"id":"warsmith-wargear-upgrade-group","name":"Wargear Options","description":"The Warsmith may have additional wargear","collapsible":true,"defaultCollapsed":false,"upgrades":["warsmith-cyber-familiar-upgrade"]}],"wargear":["graviton-crusher","combi-grav","servo-arm","cortex-controller","cognis-signum"],"weapons":["graviton-crusher","combi-grav"]},{"id":"tyrant-model","name":"Tyrant","characteristics":{"movement":6,"weaponSkill":4,"ballisticSkill":4,"strength":4,"toughness":5,"wounds":2,"initiative":4,"attacks":2,"leadership":8,"cool":8,"willpower":7,"intelligence":7,"armourSave":2,"invulnerableSave":4},"description":"Clad in Cataphractii plate and unleashing hails of Swarmer or Breaker missiles from their armour mounted rocket launchers, these implacable warriors are fortress-breakers of unparalleled skill.","specialRules":["bulky","implacable-advance","slow-and-purposeful","firing-protocols","support-unit"],"specialRuleValues":{"bulky":2,"firing-protocols":2,"support-unit":1},"subType":["Heavy"],"type":"Infantry","modelTypes":["iron-warriors-model","terminator-model"],"upgradeGroups":[{"id":"tyrant-weapon-upgrade-group","name":"Weapon Options","description":"Any Tyrant may exchange their combi-bolter","collapsible":true,"defaultCollapsed":false,"upgrades":["tyrant-combi-weapon-upgrade"]}],"wargear":["tyrant-rocket-launcher","combi-bolter","power-fist"],"weapons":["tyrant-rocket-launcher","combi-bolter","power-fist"]},{"id":"siege-master-model","name":"Siege Master","characteristics":{"movement":6,"weaponSkill":4,"ballisticSkill":4,"strength":4,"toughness":5,"wounds":2,"initiative":4,"attacks":2,"leadership":9,"cool":8,"willpower":7,"intelligence":7,"armourSave":2,"invulnerableSave":4},"description":"The Siege Master leads the Tyrant Siege Terminator Squad, coordinating their devastating rocket barrages and tactical movements.","specialRules":["bulky","implacable-advance","slow-and-purposeful","firing-protocols","support-unit"],"specialRuleValues":{"bulky":2,"firing-protocols":2,"support-unit":1},"subType":["Sergeant","Heavy"],"type":"Infantry","modelTypes":["iron-warriors-model","terminator-model","sergeant-model"],"upgradeGroups":[{"id":"siege-master-weapon-upgrade-group","name":"Weapon Options","description":"The Siege Master may exchange their combi-bolter","collapsible":true,"defaultCollapsed":false,"upgrades":["siege-master-combi-weapon-upgrade"]},{"id":"siege-master-wargear-upgrade-group","name":"Wargear Options","description":"The Siege Master may have additional wargear","collapsible":true,"defaultCollapsed":false,"upgrades":["siege-master-omni-scope-upgrade"]}],"wargear":["tyrant-rocket-launcher","combi-bolter","power-fist"],"weapons":["tyrant-rocket-launcher","combi-bolter","power-fist"]},{"id":"domitar-ferrum-model","name":"Domitar-ferrum","characteristics":{"movement":7,"weaponSkill":4,"ballisticSkill":4,"strength":7,"toughness":7,"wounds":4,"initiative":3,"attacks":3,"leadership":8,"cool":12,"willpower":5,"intelligence":5,"armourSave":2,"invulnerableSave":5},"description":"Of the most visible fruits of Perturabo's genius, developed after he was unshackled from the Emperor's strict dictates, were the Iron Circle, or the Domitar-Ferrum as they became known, first deployed as a bodyguard for their Primarch after the Battle of Phall, where he judged his own sons had failed him.","specialRules":["shield-of-the-iron-tyrant","bulky","implacable-advance","impact","firestorm"],"specialRuleValues":{"bulky":4,"impact":"A"},"subType":["Heavy"],"type":"Automata","modelTypes":["iron-warriors-model","automata-model"],"upgradeGroups":[],"wargear":["graviton-crusher","twin-shrapnel-cannon","karceri-battle-shield"],"weapons":["graviton-crusher","twin-shrapnel-cannon"]},{"id":"iron-havoc-model","name":"Iron Havoc","characteristics":{"movement":7,"weaponSkill":4,"ballisticSkill":4,"strength":4,"toughness":4,"wounds":1,"initiative":4,"attacks":1,"leadership":7,"cool":7,"willpower":7,"intelligence":7,"armourSave":3,"invulnerableSave":null},"description":"An elite formation of the IVth Legion, renowned for their precision in heavy support and siege warfare.","specialRules":["ferrum-occularis","support-unit"],"specialRuleValues":{"support-unit":1},"subType":[],"type":"Infantry","modelTypes":["iron-warriors-model","heavy-weapon-model"],"upgradeGroups":[{"id":"iron-havoc-weapon-upgrade-group","name":"Weapon Options","description":"Every Iron Havoc may have their shrapnel cannon replaced","collapsible":true,"defaultCollapsed":false,"upgrades":["iron-havoc-weapon-replacement-upgrade"]},{"id":"iron-havoc-equipment-upgrade-group","name":"Equipment Options","description":"Up to two Iron Havocs may have equipment","collapsible":true,"defaultCollapsed":false,"upgrades":["iron-havoc-equipment-upgrade"]},{"id":"iron-havoc-vexilla-upgrade-group","name":"Vexilla Options","description":"One Iron Havoc may have a vexilla","collapsible":true,"defaultCollapsed":false,"upgrades":["iron-havoc-vexilla-upgrade"]}],"wargear":["shrapnel-cannon","bolt-pistol","frag-grenades","krak-grenades"],"weapons":["shrapnel-cannon","bolt-pistol"]},{"id":"iron-havoc-sergeant-model","name":"Iron Havoc Sergeant","characteristics":{"movement":7,"weaponSkill":4,"ballisticSkill":4,"strength":4,"toughness":4,"wounds":1,"initiative":4,"attacks":1,"leadership":8,"cool":7,"willpower":7,"intelligence":7,"armourSave":3,"invulnerableSave":null},"description":"The Iron Havoc Sergeant leads the squad with precision and tactical expertise.","specialRules":["ferrum-occularis","support-unit"],"specialRuleValues":{"support-unit":1},"subType":["Sergeant"],"type":"Infantry","modelTypes":["iron-warriors-model","heavy-weapon-model","sergeant-model"],"upgradeGroups":[{"id":"iron-havoc-sergeant-melee-upgrade-group","name":"Melee Weapon Options","description":"The Iron Havoc Sergeant may have a melee weapon","collapsible":true,"defaultCollapsed":false,"upgrades":["iron-havoc-sergeant-melee-upgrade"]}],"wargear":["shrapnel-cannon","bolt-pistol","frag-grenades","krak-grenades"],"weapons":["shrapnel-cannon","bolt-pistol"]}]`),ep={models:Q8},J8=JSON.parse(`[{"id":"multi-laser","name":"Multi-laser","ap":6,"damage":1,"description":"Rapid-firing laser weapon system.","firepower":3,"profiles":[],"range":36,"rangedStrength":6,"specialRules":["suppressive"],"specialRuleValues":{"suppressive":1},"traits":["Las"],"type":"ranged"},{"id":"power-sword","name":"Power Sword","ap":3,"attackModifier":"A","damage":1,"description":"Elegant energy sword.","initiativeModifier":"I","profiles":[],"specialRules":["breaching"],"specialRuleValues":{"breaching":6},"strengthModifier":"S","traits":["Power"],"type":"melee"},{"id":"power-fist","name":"Power Fist","ap":2,"attackModifier":"A","damage":2,"description":"Heavy powered gauntlet.","initiativeModifier":-3,"profiles":[],"specialRules":[],"specialRuleValues":"","strengthModifier":4,"traits":["Power"],"type":"melee"},{"id":"frag-grenades","name":"Frag Grenades","ap":0,"damage":1,"description":"Anti-personnel grenades.","firepower":1,"profiles":[],"range":8,"rangedStrength":3,"specialRules":["indirect-fire"],"specialRuleValues":"","traits":[],"type":"ranged"},{"id":"krak-grenades","name":"Krak Grenades","ap":2,"damage":2,"description":"Anti-armor grenades.","firepower":1,"profiles":[],"range":8,"rangedStrength":6,"specialRules":[],"specialRuleValues":"","traits":[],"type":"ranged"},{"id":"charnabal-sabre","name":"Charnabal Sabre","ap":null,"attackModifier":"A","damage":1,"description":"Elegant duelling weapon of the Solar Auxilia.","initiativeModifier":1,"profiles":[],"specialRules":["breaching","duellists-edge"],"specialRuleValues":{"breaching":6,"duellists-edge":1},"strengthModifier":"S","traits":["Charnabal"],"type":"melee"},{"id":"paragon-blade","name":"Paragon Blade","ap":2,"attackModifier":"A","damage":1,"description":"A master-crafted blade of exceptional quality.","initiativeModifier":"I","profiles":[],"specialRules":["critical-hit"],"specialRuleValues":{"critical-hit":6},"strengthModifier":"S","traits":[],"type":"melee"},{"id":"graviton-crusher","name":"Graviton Crusher","ap":2,"attackModifier":"A","damage":2,"description":"Iron Warriors legion-specific weapon that can replace thunder hammers for Champion and Command models","initiativeModifier":-2,"profiles":[],"specialRules":["armourbane","shock"],"specialRuleValues":{"shock":"Pinned"},"strengthModifier":4,"traits":["Graviton"],"type":"melee"},{"id":"thunder-hammer","name":"Thunder Hammer","ap":2,"attackModifier":"A","damage":2,"description":"A massive powered hammer.","initiativeModifier":-2,"profiles":[],"specialRules":[],"specialRuleValues":"","strengthModifier":3,"traits":["Power"],"type":"melee"},{"id":"volkite-serpenta","name":"Volkite Serpenta","ap":5,"damage":1,"description":"Compact volkite weapon for close combat.","firepower":2,"profiles":[],"range":10,"rangedStrength":5,"specialRules":["pistol","deflagrate"],"specialRuleValues":{"deflagrate":5},"traits":["Assault","Volkite"],"type":"ranged"},{"id":"plasma-pistol","name":"Plasma Pistol","ap":null,"damage":null,"description":"Compact plasma weapon with multiple firing modes.","firepower":null,"profiles":["plasma-pistol-sustained","plasma-pistol-maximal"],"range":null,"rangedStrength":null,"specialRules":[],"specialRuleValues":"","traits":[],"type":"ranged"},{"id":"plasma-pistol-sustained","name":"Plasma Pistol - Sustained Fire","ap":4,"damage":1,"description":"Sustained Fire mode for Plasma Pistol.","firepower":1,"profiles":[],"range":12,"rangedStrength":6,"specialRules":["pistol","breaching"],"specialRuleValues":{"breaching":6},"traits":["Assault","Plasma"],"type":"ranged-profile"},{"id":"plasma-pistol-maximal","name":"Plasma Pistol - Maximal Fire","ap":4,"damage":1,"description":"Maximal Fire mode for Plasma Pistol.","firepower":1,"profiles":[],"range":12,"rangedStrength":7,"specialRules":["pistol","breaching","overload"],"specialRuleValues":{"breaching":5,"overload":1},"traits":["Assault","Plasma"],"type":"ranged-profile"},{"id":"inferno-pistol","name":"Inferno Pistol","ap":2,"damage":1,"description":"Compact melta weapon for close combat.","firepower":1,"profiles":[],"range":6,"rangedStrength":8,"specialRules":["pistol","melta"],"specialRuleValues":{"melta":6},"traits":["Assault","Melta"],"type":"ranged"},{"id":"archaeotech-pistol","name":"Archaeotech Pistol","ap":4,"damage":2,"description":"Ancient and powerful pistol weapon.","firepower":1,"profiles":[],"range":12,"rangedStrength":6,"specialRules":["pistol","breaching"],"specialRuleValues":{"breaching":3},"traits":["Assault"],"type":"ranged"},{"id":"needle-pistol","name":"Needle Pistol","ap":null,"damage":1,"description":"Compact needle weapon for close combat.","firepower":2,"profiles":[],"range":12,"rangedStrength":2,"specialRules":["poisoned","pistol","pinning"],"specialRuleValues":{"poisoned":3,"pinning":1},"traits":["Assault","Needle"],"type":"ranged"},{"id":"blast-pistol","name":"Blast Pistol","ap":4,"damage":1,"description":"High-powered laser pistol with enhanced penetration.","firepower":2,"profiles":[],"range":9,"rangedStrength":4,"specialRules":["pistol","rending","shred"],"specialRuleValues":{"rending":6,"shred":6},"traits":["Assault","Las"],"type":"ranged"},{"id":"hand-flamer","name":"Hand Flamer","ap":null,"damage":1,"description":"Compact flamer weapon for close combat.","firepower":1,"profiles":[],"range":"Template","rangedStrength":3,"specialRules":["template","pistol"],"specialRuleValues":"","traits":["Assault","Flame"],"type":"ranged"},{"id":"bayonet","name":"Bayonet","ap":5,"attackModifier":"A","damage":1,"description":"Close combat weapon attached to ranged weapon.","initiativeModifier":"I","profiles":[],"specialRules":[],"specialRuleValues":"","strengthModifier":"S","traits":["Bayonet"],"type":"melee"},{"id":"blast-charger","name":"Blast Charger","ap":4,"damage":1,"description":"Enhanced laser weapon attachment.","firepower":1,"profiles":[],"range":18,"rangedStrength":4,"specialRules":["rending","shred"],"specialRuleValues":{"rending":6,"shred":6},"traits":["Las"],"type":"ranged"},{"id":"melta-bomb","name":"Melta Bomb","ap":2,"attackModifier":1,"damage":4,"description":"Explosive anti-armor weapon for close combat.","initiativeModifier":-3,"profiles":[],"specialRules":["armourbane","detonation"],"specialRuleValues":"","strengthModifier":9,"traits":[],"type":"melee"},{"id":"volkite-charger","name":"Volkite Charger","ap":5,"damage":1,"description":"Advanced volkite weapon with deflagration capabilities.","firepower":2,"profiles":[],"range":15,"rangedStrength":5,"specialRules":["deflagrate"],"specialRuleValues":{"deflagrate":5},"traits":["Volkite"],"type":"ranged"},{"id":"charnabal-tabar","name":"Charnabal Tabar","ap":null,"attackModifier":"A","damage":1,"description":"Elite melee weapon with enhanced dueling capabilities.","initiativeModifier":"I","profiles":[],"specialRules":["breaching","duellists-edge"],"specialRuleValues":{"breaching":6,"duellists-edge":1},"strengthModifier":1,"traits":["Charnabal"],"type":"melee"},{"id":"storm-axe","name":"Storm Axe","ap":3,"attackModifier":"A","damage":1,"description":"Powerful melee weapon with enhanced armor penetration.","initiativeModifier":-1,"profiles":[],"specialRules":["breaching","shred"],"specialRuleValues":{"breaching":5,"shred":5},"strengthModifier":2,"traits":["Power"],"type":"melee"},{"id":"volkite-caliver","name":"Volkite Caliver","ap":5,"damage":1,"description":"Advanced volkite weapon with enhanced deflagration capabilities.","firepower":2,"profiles":[],"range":30,"rangedStrength":6,"specialRules":["deflagrate"],"specialRuleValues":{"deflagrate":6},"traits":["Volkite"],"type":"ranged"},{"id":"heavy-flamer","name":"Heavy Flamer","ap":4,"damage":1,"description":"Heavy flamer weapon with template and panic effects.","firepower":1,"profiles":[],"range":"Template","rangedStrength":5,"specialRules":["template","panic"],"specialRuleValues":{"panic":1},"traits":["Flame"],"type":"ranged"},{"id":"hermes-grenade-launcher","name":"Hermes Grenade Launcher","ap":null,"damage":null,"description":"Dual-mode grenade launcher with frag and krak ammunition.","firepower":null,"profiles":["hermes-grenade-launcher-frag","hermes-grenade-launcher-krak"],"range":null,"rangedStrength":null,"specialRules":[],"specialRuleValues":"","traits":[],"type":"ranged"},{"id":"hermes-grenade-launcher-frag","name":"Hermes Grenade Launcher - Frag","ap":6,"damage":1,"description":"Frag ammunition for Hermes Grenade Launcher.","firepower":1,"profiles":[],"range":18,"rangedStrength":3,"specialRules":["blast","stun"],"specialRuleValues":{"blast":3,"stun":1},"traits":[],"type":"ranged-profile"},{"id":"hermes-grenade-launcher-krak","name":"Hermes Grenade Launcher - Krak","ap":4,"damage":2,"description":"Krak ammunition for Hermes Grenade Launcher.","firepower":2,"profiles":[],"range":18,"rangedStrength":7,"specialRules":[],"specialRuleValues":"","traits":[],"type":"ranged-profile"},{"id":"battlecannon","name":"Battlecannon","ap":4,"damage":2,"description":"Powerful tank-mounted cannon with blast and pinning capabilities.","firepower":1,"profiles":[],"range":48,"rangedStrength":8,"specialRules":["heavy","blast","pinning"],"specialRuleValues":{"heavy":"AP","blast":3,"pinning":1},"traits":["Auto"],"type":"ranged"},{"id":"twin-battlecannon","name":"Twin Battlecannon","ap":4,"damage":2,"description":"Powerful tank-mounted cannon with blast and pinning capabilities.","firepower":2,"profiles":[],"range":48,"rangedStrength":8,"specialRules":["heavy","blast","pinning"],"specialRuleValues":{"heavy":"AP","blast":3,"pinning":1},"traits":["Auto"],"type":"ranged"},{"id":"gravis-autocannon","name":"Gravis Autocannon","ap":4,"damage":2,"description":"Heavy autocannon with high rate of fire.","firepower":3,"profiles":[],"range":36,"rangedStrength":8,"specialRules":["heavy","breaching"],"specialRuleValues":{"heavy":"D","breaching":6},"traits":["Auto"],"type":"ranged"},{"id":"twin-lascannon","name":"Twin Lascannon","ap":2,"damage":1,"description":"Twin-linked lascannon with devastating anti-armor capability.","firepower":2,"profiles":[],"range":48,"rangedStrength":9,"specialRules":["heavy","armourbane"],"specialRuleValues":{"heavy":"D"},"traits":["Las"],"type":"ranged"},{"id":"vanquisher-cannon","name":"Vanquisher Cannon","ap":2,"damage":3,"description":"Long-range tank-hunting cannon with exceptional accuracy.","firepower":1,"profiles":[],"range":72,"rangedStrength":10,"specialRules":["heavy","critical-hit"],"specialRuleValues":{"heavy":"D","critical-hit":6},"traits":["Auto"],"type":"ranged"},{"id":"heavy-stubber","name":"Heavy Stubber","ap":6,"damage":1,"description":"Heavy stubber for close-range support.","firepower":3,"profiles":[],"range":24,"rangedStrength":4,"specialRules":[],"specialRuleValues":{},"traits":["Auto"],"type":"ranged"},{"id":"demolisher-cannon","name":"Demolisher Cannon","ap":3,"damage":3,"description":"Short-range demolisher cannon with devastating blast radius.","firepower":1,"profiles":[],"range":24,"rangedStrength":12,"specialRules":["ordnance","blast","stun","breaching"],"specialRuleValues":{"ordnance":"D","blast":3,"stun":1,"breaching":5},"traits":["Auto"],"type":"ranged"},{"id":"executioner-plasma-destroyer","name":"Executioner Plasma Destroyer","ap":null,"damage":null,"description":"Plasma destroyer with two firing modes: sustained fire for area control and maximal fire for maximum damage.","firepower":null,"profiles":["executioner-plasma-destroyer-sustained","executioner-plasma-destroyer-maximal"],"range":null,"rangedStrength":null,"specialRules":["heavy"],"specialRuleValues":{"heavy":"AP"},"traits":["Plasma"],"type":"ranged"},{"id":"executioner-plasma-destroyer-sustained","name":"Executioner Plasma Destroyer - Sustained Fire","ap":4,"damage":1,"description":"Sustained Fire mode for Executioner Plasma Destroyer.","firepower":1,"profiles":[],"range":36,"rangedStrength":8,"specialRules":["blast","breaching"],"specialRuleValues":{"blast":5,"breaching":5},"traits":["Plasma"],"type":"ranged-profile"},{"id":"executioner-plasma-destroyer-maximal","name":"Executioner Plasma Destroyer - Maximal Fire","ap":4,"damage":2,"description":"Maximal Fire mode for Executioner Plasma Destroyer.","firepower":1,"profiles":[],"range":36,"rangedStrength":8,"specialRules":["blast","breaching","overload"],"specialRuleValues":{"blast":5,"breaching":4,"overload":1},"traits":["Plasma"],"type":"ranged-profile"},{"id":"quad-launcher","name":"Quad Launcher","ap":null,"damage":null,"description":"Quad-linked autocannon with high rate of fire.","firepower":null,"profiles":["quad-launcher-frag","quad-launcher-krak"],"range":null,"rangedStrength":null,"specialRules":[],"specialRuleValues":"","traits":[],"type":"ranged"},{"id":"quad-launcher-frag","name":"Quad Launcher - Frag","ap":5,"damage":1,"description":"Frag ammunition for Quad Launcher.","firepower":1,"profiles":[],"range":60,"rangedStrength":5,"specialRules":["blast","barrage","heavy"],"specialRuleValues":{"blast":5,"barrage":2,"heavy":"FP"},"traits":[],"type":"ranged-profile"},{"id":"quad-launcher-krak","name":"Quad Launcher - Krak","ap":4,"damage":1,"description":"Krak ammunition for Quad Launcher.","firepower":4,"profiles":[],"range":36,"rangedStrength":7,"specialRules":["heavy","armourbane"],"specialRuleValues":{"heavy":"D"},"traits":[],"type":"ranged-profile"},{"id":"autocannon","name":"Autocannon","ap":4,"damage":2,"description":"Autocannon with high rate of fire.","firepower":2,"profiles":[],"range":48,"rangedStrength":7,"specialRules":["heavy","breaching"],"specialRuleValues":{"heavy":"FP","breaching":6},"traits":["Auto"],"type":"ranged"},{"id":"volkite-macro-saker","name":"Volkite Macro-Saker","ap":5,"damage":2,"description":"Volkite macro-saker with deflagrate capability.","firepower":8,"profiles":[],"range":45,"rangedStrength":6,"specialRules":["heavy","deflagrate"],"specialRuleValues":{"heavy":"AP","deflagrate":6},"traits":["Volkite"],"type":"ranged"},{"id":"hunter-killer-missile","name":"Hunter-Killer Missile","ap":3,"damage":3,"description":"Single-use anti-tank missile with high accuracy.","firepower":1,"profiles":[],"range":48,"rangedStrength":9,"specialRules":["limited","armourbane"],"specialRuleValues":{"limited":1},"traits":["Missile"],"type":"ranged"},{"id":"charonite-claws","name":"Charonite Claws","ap":3,"attackModifier":"A","damage":2,"description":"Powerful close combat weapon with breaching capability.","initiativeModifier":"I","profiles":[],"specialRules":["breaching"],"specialRuleValues":{"breaching":5},"strengthModifier":2,"traits":["Power"],"type":"melee"},{"id":"earthshaker-cannon","name":"Earthshaker Cannon","ap":4,"damage":2,"description":"Heavy artillery cannon with long range and devastating blast radius.","firepower":1,"profiles":[],"range":240,"rangedStrength":5,"specialRules":["ordnance","blast","barrage","breaching","pinning"],"specialRuleValues":{"blast":5,"barrage":2,"breaching":6,"pinning":1,"ordnance":"RS"},"traits":[],"type":"ranged"},{"id":"medusa-mortar","name":"Medusa Mortar","ap":4,"damage":2,"description":"Heavy mortar with devastating close-range bombardment capability.","firepower":1,"profiles":[],"range":36,"rangedStrength":5,"specialRules":["ordnance","blast","barrage","breaching","pinning"],"specialRuleValues":{"blast":5,"barrage":2,"breaching":5,"pinning":2,"ordnance":"RS"},"traits":[],"type":"ranged"},{"id":"gravis-multi-laser-battery","name":"Gravis Multi-Laser Battery","ap":6,"damage":2,"description":"Heavy multi-laser battery with suppressive fire capability.","firepower":6,"profiles":[],"range":36,"rangedStrength":6,"specialRules":["suppressive"],"specialRuleValues":{"suppressive":1},"traits":["Las"],"type":"ranged"},{"id":"gravis-heavy-bolter-battery","name":"Gravis Heavy Bolter Battery","ap":4,"damage":1,"description":"Heavy bolter battery with breaching capability.","firepower":8,"profiles":[],"range":36,"rangedStrength":5,"specialRules":["suppressive"],"specialRuleValues":{"suppressive":2},"traits":["Bolt"],"type":"ranged"},{"id":"aethon-missile-battery","name":"Aethon Missile Battery","ap":5,"damage":2,"description":"Heavy missile battery with blast and stun capabilities.","firepower":1,"profiles":[],"range":30,"rangedStrength":4,"specialRules":["blast","barrage","stun"],"specialRuleValues":{"blast":5,"barrage":1,"stun":1},"traits":["Missile"],"type":"ranged"},{"id":"melta-lance","name":"Melta Lance","ap":2,"damage":4,"description":"Heavy melta lance with armourbane capability.","firepower":1,"profiles":[],"range":18,"rangedStrength":9,"specialRules":["heavy","armourbane"],"specialRuleValues":{"heavy":"RS"},"traits":["Melta"],"type":"ranged"},{"id":"hunter-killer-missile-battery","name":"Hunter-Killer Missile Battery","ap":3,"damage":3,"description":"Heavy missile battery with blast and stun capabilities.","firepower":2,"profiles":[],"range":48,"rangedStrength":9,"specialRules":["limited","armourbane"],"specialRuleValues":{"limited":2},"traits":["Missile"],"type":"ranged"},{"id":"lascannon","name":"Lascannon","ap":2,"damage":1,"description":"Powerful anti-armor laser weapon.","firepower":1,"profiles":[],"range":48,"rangedStrength":9,"specialRules":["heavy","armourbane"],"specialRuleValues":{"heavy":"D"},"traits":["Las"],"type":"ranged"},{"id":"volkite-culverin","name":"Volkite Culverin","ap":5,"damage":1,"description":"Volkite culverin with deflagrate capability.","firepower":3,"profiles":[],"range":45,"rangedStrength":6,"specialRules":["heavy","deflagrate"],"specialRuleValues":{"heavy":"FP","deflagrate":6},"traits":["Volkite"],"type":"ranged"},{"id":"heavy-incinerator","name":"Heavy Incinerator","ap":4,"damage":1,"description":"Heavy flame weapon unique to Aethon Sentinels","firepower":1,"profiles":[],"range":"Template","rangedStrength":6,"specialRules":["template","panic","shred"],"specialRuleValues":{"panic":1,"shred":4},"traits":["Flame"],"type":"ranged"},{"id":"hellstrike-missiles","name":"Hellstrike Missiles","ap":3,"damage":3,"description":"Heavy guided missiles with armourbane capability.","firepower":1,"profiles":[],"range":48,"rangedStrength":9,"specialRules":["armourbane","limited"],"specialRuleValues":{"limited":1},"traits":["Guided Missile"],"type":"ranged"},{"id":"heavy-bolter","name":"Heavy Bolter","ap":4,"damage":1,"description":"Heavy bolter with sustained fire capability.","firepower":3,"profiles":[],"range":36,"rangedStrength":5,"specialRules":["heavy"],"specialRuleValues":{"heavy":"FP"},"traits":["Bolt"],"type":"ranged"},{"id":"lasrifle","name":"Lasrifle","ap":0,"damage":1,"description":"Standard lasrifle issued to Solar Auxilia troops.","firepower":1,"profiles":[],"range":30,"rangedStrength":3,"specialRules":[],"specialRuleValues":"","traits":["Las"],"type":"ranged"},{"id":"laspistol","name":"Laspistol","ap":null,"damage":1,"description":"Standard laspistol issued to Solar Auxilia troops.","firepower":1,"profiles":[],"range":12,"rangedStrength":3,"specialRules":[],"specialRuleValues":"","traits":["Las"],"type":"ranged"},{"id":"infernus-cannon","name":"Infernus Cannon","ap":3,"damage":2,"description":"Powerful flame weapon mounted on the Malcador Infernus.","firepower":1,"profiles":[],"range":"Template (Hellstorm)","rangedStrength":6,"specialRules":["template-hellstorm","panic","heavy"],"specialRuleValues":{"panic":2,"heavy":"AP"},"traits":["Flame"],"type":"ranged"},{"id":"neutron-beam-laser","name":"Neutron Beam Laser","ap":2,"damage":2,"description":"Standard lasrifle issued to Solar Auxilia troops.","firepower":2,"profiles":[],"range":36,"rangedStrength":10,"specialRules":["armourbane","ordnance","shock"],"specialRuleValues":{"ordnance":"D","shock":"Suppressed"},"traits":["Las"],"type":"ranged"},{"id":"stormhammer-cannon","name":"Stormhammer Cannon","ap":3,"damage":3,"description":"Powerful main cannon mounted on the Stormhammer Super-Heavy Tank.","firepower":1,"profiles":[],"range":72,"rangedStrength":9,"specialRules":["blast","stun"],"specialRuleValues":{"blast":5,"stun":2},"traits":["Auto"],"type":"ranged"},{"id":"astartes-shotgun","name":"Astartes shotgun","type":"ranged","description":"Slug thrower","range":12,"firepower":2,"rangedStrength":4,"ap":null,"damage":1,"specialRules":["stun"],"specialRuleValues":{"stun":0},"traits":["Auto"],"profiles":[]},{"id":"rotor-cannon","name":"Rotor cannon","type":"ranged","description":"Slug thrower","range":24,"firepower":3,"rangedStrength":3,"ap":null,"damage":1,"specialRules":["heavy","suppressive"],"specialRuleValues":{"heavy":"FP","suppressive":1},"traits":["Auto"],"profiles":[]},{"id":"reaper-autocannon","name":"Reaper autocannon","type":"ranged","description":"Slug thrower","range":36,"firepower":2,"rangedStrength":6,"ap":4,"damage":2,"specialRules":["heavy","breaching"],"specialRuleValues":{"heavy":"FP","breaching":6},"traits":["Auto"],"profiles":[]},{"id":"kheres-assault-cannon","name":"Kheres assault cannon","type":"ranged","description":"Slug thrower","range":24,"firepower":5,"rangedStrength":6,"ap":4,"damage":1,"specialRules":["breaching","heavy"],"specialRuleValues":{"heavy":"FP","breaching":6},"traits":["Auto"],"profiles":[]},{"id":"gravis-autocannon-battery","name":"Gravis autocannon battery","type":"ranged","description":"Slug thrower","range":48,"firepower":5,"rangedStrength":8,"ap":4,"damage":2,"specialRules":["breaching","heavy"],"specialRuleValues":{"heavy":"FP","breaching":6},"traits":["Auto"],"profiles":[]},{"id":"predator-cannon","name":"Predator cannon","type":"ranged","description":"Slug thrower","range":48,"firepower":3,"rangedStrength":8,"ap":4,"damage":2,"specialRules":["heavy","breaching"],"specialRuleValues":{"heavy":"FP","breaching":6},"traits":["Auto"],"profiles":[]},{"id":"punisher-rotary-cannon","name":"Punisher rotary cannon","type":"ranged","description":"Slug thrower","range":36,"firepower":8,"rangedStrength":6,"ap":4,"damage":1,"specialRules":["ordnance","suppressive"],"specialRuleValues":{"ordnance":"FP","suppressive":2},"traits":["Auto"],"profiles":[]},{"id":"twin-accelerator-autocannon","name":"Twin accelerator autocannon","type":"ranged","description":"Slug thrower","range":48,"firepower":6,"rangedStrength":7,"ap":4,"damage":2,"specialRules":["breaching","rapid-tracking","skyfire"],"specialRuleValues":{"breaching":6},"traits":["Auto"],"profiles":[]},{"id":"quad-accelerator-autocannon","name":"Quad accelerator autocannon","type":"ranged","description":"Slug thrower","range":48,"firepower":10,"rangedStrength":7,"ap":4,"damage":2,"specialRules":["breaching","skyfire","rapid-tracking"],"specialRuleValues":{"breaching":6},"traits":["Auto"],"profiles":[]},{"id":"fellblade-accelerator-cannon","name":"Fellblade accelerator cannon","type":"ranged","description":"Slug thrower","range":0,"firepower":0,"rangedStrength":0,"ap":0,"damage":0,"specialRules":[],"specialRuleValues":"","traits":["Auto"],"profiles":["fellblade-accelerator-cannon-he-shell","fellblade-accelerator-cannon-ae-shell"]},{"id":"fellblade-accelerator-cannon-he-shell","name":"HE shell","type":"ranged","description":"Slug thrower","range":100,"firepower":1,"rangedStrength":8,"ap":3,"damage":2,"specialRules":["blast","stun"],"specialRuleValues":{"blast":5,"stun":2},"traits":["Auto"],"profiles":[]},{"id":"fellblade-accelerator-cannon-ae-shell","name":"AE shell","type":"ranged","description":"Slug thrower","range":100,"firepower":1,"rangedStrength":12,"ap":2,"damage":3,"specialRules":["blast","ordnance"],"specialRuleValues":{"blast":3,"ordnance":"D"},"traits":["Auto"],"profiles":[]},{"id":"skyreaper-battery","name":"Skyreaper battery","type":"ranged","description":"Slug thrower","range":48,"firepower":6,"rangedStrength":7,"ap":4,"damage":2,"specialRules":["rapid-tracking","skyfire"],"specialRuleValues":{},"traits":["Auto"],"profiles":[]},{"id":"anvilus-autocannon-battery","name":"Anvilus autocannon battery","type":"ranged","description":"Slug thrower","range":48,"firepower":6,"rangedStrength":8,"ap":4,"damage":2,"specialRules":["breaching","rapid-tracking","skyfire"],"specialRuleValues":{"breaching":5},"traits":["Auto"],"profiles":[]},{"id":"anvilus-snub-autocannon","name":"Anvilus snub autocannon","type":"ranged","description":"Slug thrower","range":24,"firepower":3,"rangedStrength":7,"ap":4,"damage":2,"specialRules":["breaching"],"specialRuleValues":{"breaching":5},"traits":["Auto"],"profiles":[]},{"id":"leviathan-storm-cannon","name":"Leviathan storm cannon","type":"ranged","description":"Slug thrower","range":36,"firepower":4,"rangedStrength":7,"ap":4,"damage":2,"specialRules":["heavy","breaching"],"specialRuleValues":{"heavy":"FP","breaching":5},"traits":["Auto"],"profiles":[]},{"id":"kratos-battlecannon","name":"Kratos battlecannon","type":"ranged","description":"Slug thrower","range":0,"firepower":0,"rangedStrength":0,"ap":0,"damage":0,"specialRules":[],"specialRuleValues":"","traits":["Auto"],"profiles":["kratos-battlecannon-he","kratos-battlecannon-ap","kratos-battlecannon-flashburn"]},{"id":"kratos-battlecannon-he","name":"HE shells","type":"ranged-profile","description":"Slug thrower","range":36,"firepower":1,"rangedStrength":8,"ap":4,"damage":1,"specialRules":["ordnance","stun","blast"],"specialRuleValues":{"ordnance":"D","stun":1,"blast":5},"traits":["Auto"],"profiles":[]},{"id":"kratos-battlecannon-ap","name":"AP shells","type":"ranged-profile","description":"Slug thrower","range":36,"firepower":1,"rangedStrength":8,"ap":2,"damage":2,"specialRules":["ordnance","armourbane"],"specialRuleValues":{"ordnance":"D"},"traits":["Auto"],"profiles":[]},{"id":"kratos-battlecannon-flashburn","name":"Flashburn shells","type":"ranged-profile","description":"Slug thrower","range":24,"firepower":1,"rangedStrength":9,"ap":2,"damage":3,"specialRules":["ordnance","armourbane","overload"],"specialRuleValues":{"ordnance":"D","overload":1},"traits":["Auto"],"profiles":[]},{"id":"bolt-pistol","name":"Bolt pistol","type":"ranged","description":"SPESS MEHREEN","range":12,"firepower":1,"rangedStrength":4,"ap":5,"damage":1,"specialRules":["pistol"],"specialRuleValues":"","traits":["Assault","Bolt"],"profiles":[]},{"id":"bolter","name":"Bolter","type":"ranged","description":"SPESS MEHREEN","range":24,"firepower":2,"rangedStrength":4,"ap":5,"damage":1,"specialRules":[],"specialRuleValues":"","traits":["Bolt"],"profiles":[]},{"id":"twin-bolter","name":"Twin bolter","type":"ranged","description":"SPESS MEHREEN","range":24,"firepower":4,"rangedStrength":4,"ap":5,"damage":1,"specialRules":[],"specialRuleValues":"","traits":["Bolt"],"profiles":[]},{"id":"combi-bolter","name":"Combi bolter","type":"ranged","description":"SPESS MEHREEN","range":24,"firepower":4,"rangedStrength":4,"ap":5,"damage":1,"specialRules":[],"specialRuleValues":"","traits":["Bolt"],"profiles":[]},{"id":"kraken-bolter","name":"Kraken bolter","type":"ranged","description":"SPESS MEHREEN","range":30,"firepower":2,"rangedStrength":4,"ap":4,"damage":1,"specialRules":["precision","shot-selector"],"specialRuleValues":{"precision":4},"traits":["Bolt"],"profiles":[]},{"id":"nemesis-bolter","name":"Nemesis bolter","type":"ranged","description":"SPESS MEHREEN","range":48,"firepower":1,"rangedStrength":4,"ap":5,"damage":1,"specialRules":["heavy","breaching","pinning","precision"],"specialRuleValues":{"heavy":"RS","breaching":5,"pinning":1,"precision":4},"traits":["Bolt"],"profiles":[]},{"id":"twin-heavy-bolter","name":"Twin heavy bolter","type":"ranged","description":"SPESS MEHREEN","range":36,"firepower":6,"rangedStrength":5,"ap":4,"damage":1,"specialRules":[],"specialRuleValues":"","traits":["Bolt"],"profiles":[]},{"id":"gravis-bolt-cannon","name":"Gravis bolt cannon","type":"ranged","description":"SPESS MEHREEN","range":36,"firepower":6,"rangedStrength":5,"ap":4,"damage":1,"specialRules":["heavy"],"specialRuleValues":{"heavy":5},"traits":["Bolt"],"profiles":[]},{"id":"twin-avenger-bolt-cannon","name":"Twin avenger bolt cannon","type":"ranged","description":"SPESS MEHREEN","range":36,"firepower":10,"rangedStrength":6,"ap":3,"damage":2,"specialRules":["suppressive"],"specialRuleValues":{"suppressive":2},"traits":["Bolt"],"profiles":[]},{"id":"flamer-secondary","name":"Flamer (secondary)","type":"ranged","description":"SPESS MEHREEN","range":"Template","firepower":1,"rangedStrength":4,"ap":5,"damage":1,"specialRules":["template","panic","limited","combi"],"specialRuleValues":{"panic":1,"limited":1},"traits":["Flame"],"profiles":[]},{"id":"meltagun-secondary","name":"Meltagun (secondary)","type":"ranged","description":"SPESS MEHREEN","range":12,"firepower":1,"rangedStrength":8,"ap":2,"damage":3,"specialRules":["melta","limited","combi"],"specialRuleValues":{"melta":6,"limited":1},"traits":["Melta"],"profiles":[]},{"id":"plasma-gun-secondary","name":"Plasma gun (secondary)","type":"ranged","description":"SPESS MEHREEN","range":24,"firepower":2,"rangedStrength":6,"ap":4,"damage":1,"specialRules":["breaching","limited","combi"],"specialRuleValues":{"breaching":6,"limited":1},"traits":["Plasma"],"profiles":[]},{"id":"volkite-charger-secondary","name":"Volkite charger (secondary)","type":"ranged","description":"SPESS MEHREEN","range":15,"firepower":2,"rangedStrength":5,"ap":5,"damage":1,"specialRules":["deflagrate","combi"],"specialRuleValues":{"deflagrate":5},"traits":["Volkite"],"profiles":[]},{"id":"grenade-launcher-secondary","name":"Grenade launcher (secondary)","type":"ranged","description":"SPESS MEHREEN","range":24,"firepower":1,"rangedStrength":6,"ap":4,"damage":2,"specialRules":["combi"],"specialRuleValues":"","traits":[],"profiles":[]},{"id":"disintegrator-secondary","name":"Disintegrator (secondary)","type":"ranged","description":"SPESS MEHREEN","range":24,"firepower":1,"rangedStrength":4,"ap":3,"damage":2,"specialRules":["overload","limited","combi"],"specialRuleValues":{"overload":1,"limited":1},"traits":["Disintegrator"],"profiles":[]},{"id":"graviton-secondary","name":"Graviton gun (secondary)","type":"ranged","description":"SPESS MEHREEN","range":18,"firepower":1,"rangedStrength":6,"ap":4,"damage":1,"specialRules":["blast","breaching","shock","pinning","limited","combi"],"specialRuleValues":{"blast":3,"breaching":6,"shock":"Pinned","pinning":1,"limited":1},"traits":["Graviton"],"profiles":[]},{"id":"grenade-harness","name":"Grenade harness","type":"ranged","description":"terminator grenade harness","range":6,"firepower":1,"rangedStrength":5,"ap":6,"damage":1,"specialRules":["blast","limited"],"specialRuleValues":{"blast":3,"limited":1},"traits":[],"profiles":[]},{"id":"lascutter","name":"Lascutter","type":"ranged","description":"Weld his face open","range":8,"firepower":1,"rangedStrength":10,"ap":2,"damage":2,"specialRules":["ordnance","armourbane"],"specialRuleValues":{"ordnance":"D"},"traits":[],"profiles":[]},{"id":"flamer","name":"Flamer","type":"ranged","description":"Basic flamer weapon","range":"Template","firepower":1,"rangedStrength":4,"ap":5,"damage":1,"specialRules":["template","panic"],"specialRuleValues":{"panic":1},"traits":["Flame"],"profiles":[]},{"id":"twin-heavy-flamer","name":"Twin heavy flamer","type":"ranged","description":"Double the bbq","range":"Template","firepower":1,"rangedStrength":5,"ap":4,"damage":1,"specialRules":["template","panic"],"specialRuleValues":{},"traits":["Flame"],"profiles":[]},{"id":"flamestorm-cannon","name":"Flamestorm cannon","type":"ranged","description":"Tank flamer","range":"Template","firepower":1,"rangedStrength":6,"ap":4,"damage":2,"specialRules":["template","panic"],"specialRuleValues":{"panic":2},"traits":["Flame"],"profiles":[]},{"id":"photonic-incinerator","name":"Photonic Incinerator","type":"ranged","description":"Photonic incinerator?","range":"Template","firepower":1,"rangedStrength":6,"ap":4,"damage":1,"specialRules":["template","panic"],"specialRuleValues":{"panic":2},"traits":["Assault","Flame"],"profiles":[]},{"id":"lascannon-array","name":"Lascannon array","type":"ranged","description":"Spartan sponson","range":48,"firepower":2,"rangedStrength":9,"ap":2,"damage":3,"specialRules":["armourbane"],"specialRuleValues":{},"traits":["Las"],"profiles":[]},{"id":"arachnus-heavy-lascannon-battery","name":"Arachnus heavy lascannon battery","type":"ranged","description":"Turret lascannon","range":48,"firepower":2,"rangedStrength":9,"ap":2,"damage":4,"specialRules":["heavy","armourbane","skyfire"],"specialRuleValues":{"heavy":"RS"},"traits":["Las"],"profiles":[]},{"id":"laser-destroyer","name":"Laser destroyer","type":"ranged","description":"Heavy artillery laser","range":36,"firepower":2,"rangedStrength":10,"ap":2,"damage":2,"specialRules":["heavy","armourbane"],"specialRuleValues":{"heavy":"D"},"traits":["Las"],"profiles":[]},{"id":"magna-laser-destroyer","name":"Magna Laser Destroyer","type":"ranged","description":"Laser destroyer","range":36,"firepower":2,"rangedStrength":10,"ap":2,"damage":3,"specialRules":["ordnance","armourbane"],"specialRuleValues":{"ordnance":"D"},"traits":["Las"],"profiles":[]},{"id":"neutron-blaster","name":"Neutron blaster","type":"ranged","description":"neutron blaster for sabres","range":24,"firepower":1,"rangedStrength":9,"ap":2,"damage":3,"specialRules":["ordnance","shock","overload"],"specialRuleValues":{"ordnance":"D","shock":"Suppressed","overload":1},"traits":["Las"],"profiles":[]},{"id":"neutron-laser-battery","name":"Neutron laser battery","type":"ranged","description":"Neutron","range":72,"firepower":3,"rangedStrength":10,"ap":2,"damage":3,"specialRules":["ordnance","shock","armourbane","overload"],"specialRuleValues":{"ordnance":"D","shock":"Suppressed","overload":1},"traits":["Las"],"profiles":[]},{"id":"neutron-wave-cannon","name":"Neutron-wave cannon","type":"ranged","description":"Heaviest neutron","range":120,"firepower":2,"rangedStrength":12,"ap":2,"damage":4,"specialRules":["ordnance","armourbane","shock"],"specialRuleValues":{"ordnance":"D","shock":"Stunned"},"traits":["Las"],"profiles":[]},{"id":"turbo-laser-destructor","name":"Turbo-laser destructor","type":"ranged","description":"Turbo","range":96,"firepower":1,"rangedStrength":12,"ap":2,"damage":6,"specialRules":["blast","armourbane"],"specialRuleValues":{"blast":3},"traits":["armourbane"],"profiles":[]},{"id":"chainsword","name":"Chainsword","ap":5,"attackModifier":"A","damage":1,"description":"Description placeholder.","initiativeModifier":1,"profiles":[],"specialRules":["shred"],"specialRuleValues":{"shred":6},"strengthModifier":"S","traits":["Chain"],"type":"melee"},{"id":"heavy-chainaxe","name":"Heavy chainaxe","ap":4,"attackModifier":"A","damage":1,"description":"Description placeholder.","initiativeModifier":-2,"profiles":[],"specialRules":["shred"],"specialRuleValues":{"shred":6},"strengthModifier":3,"traits":["Chain"],"type":"melee"},{"id":"heavy-chainsword","name":"Heavy chainsword","ap":4,"attackModifier":"A","damage":1,"description":"Description placeholder.","initiativeModifier":-1,"profiles":[],"specialRules":["shred"],"specialRuleValues":{"shred":6},"strengthModifier":2,"traits":["Chain"],"type":"melee"},{"id":"chainaxe","name":"Chainaxe","ap":5,"attackModifier":"A","damage":1,"description":"Description placeholder.","initiativeModifier":-1,"profiles":[],"specialRules":["shred"],"specialRuleValues":{"shred":6},"strengthModifier":1,"traits":["Chain"],"type":"melee"},{"id":"chainfist","name":"Chainfist","ap":2,"attackModifier":1,"damage":2,"description":"Description placeholder.","initiativeModifier":-3,"profiles":[],"specialRules":["armourbane","shred"],"specialRuleValues":{"shred":6},"strengthModifier":6,"traits":["Chain"],"type":"melee"},{"id":"gravis-chainfist","name":"Gravis chainfist","ap":2,"attackModifier":"A","damage":3,"description":"Description placeholder.","initiativeModifier":-1,"profiles":[],"specialRules":["armourbane","shred"],"specialRuleValues":{"shred":6},"strengthModifier":4,"traits":["Chain"],"type":"melee"},{"id":"paired-gravis-chainfists","name":"Paired Gravis chainfists","ap":2,"attackModifier":"A","damage":4,"description":"Description placeholder.","initiativeModifier":-1,"profiles":[],"specialRules":["armourbane","shred"],"specialRuleValues":{"shred":6},"strengthModifier":4,"traits":["Chain"],"type":"melee"},{"id":"chain-bayonet","name":"Chain bayonet","ap":5,"attackModifier":"A","damage":1,"description":"Description placeholder.","initiativeModifier":1,"profiles":[],"specialRules":["shred"],"specialRuleValues":{"shred":6},"strengthModifier":"S","traits":["Bayonet","Chain"],"type":"melee"},{"id":"force-sword","name":"Force sword","ap":3,"attackModifier":"A","damage":1,"description":"Description placeholder.","initiativeModifier":1,"profiles":[],"specialRules":["force"],"specialRuleValues":{},"strengthModifier":1,"traits":["Psychic"],"type":"melee"},{"id":"force-axe","name":"Force axe","ap":2,"attackModifier":"A","damage":1,"description":"Description placeholder.","initiativeModifier":-1,"profiles":[],"specialRules":["force"],"specialRuleValues":{},"strengthModifier":2,"traits":["Psychic"],"type":"melee"},{"id":"force-maul","name":"Force maul","ap":3,"attackModifier":"A","damage":1,"description":"Description placeholder.","initiativeModifier":1,"profiles":[],"specialRules":["force"],"specialRuleValues":{},"strengthModifier":3,"traits":["Psychic"],"type":"melee"},{"id":"force-staff","name":"Force staff","ap":4,"attackModifier":"A","damage":1,"description":"Description placeholder.","initiativeModifier":1,"profiles":[],"specialRules":["force"],"specialRuleValues":{},"strengthModifier":2,"traits":["Psychic"],"type":"melee"},{"id":"power-axe","name":"Power axe","ap":3,"attackModifier":"A","damage":1,"description":"Description placeholder.","initiativeModifier":-1,"profiles":[],"specialRules":["breaching"],"specialRuleValues":{"breaching":5},"strengthModifier":1,"traits":["Power"],"type":"melee"},{"id":"power-maul","name":"Power maul","ap":3,"attackModifier":"A","damage":1,"description":"Description placeholder.","initiativeModifier":-1,"profiles":[],"specialRules":["breaching"],"specialRuleValues":{"breaching":6},"strengthModifier":2,"traits":["Power"],"type":"melee"},{"id":"power-lance","name":"Power lance","ap":3,"attackModifier":"A","damage":1,"description":"Description placeholder.","initiativeModifier":1,"profiles":[],"specialRules":["precision"],"specialRuleValues":{"precision":6},"strengthModifier":"S","traits":["Power"],"type":"melee"},{"id":"gravis-power-fist","name":"Gravis power fist","ap":2,"attackModifier":"A","damage":3,"description":"Description placeholder.","initiativeModifier":1,"profiles":[],"specialRules":[],"specialRuleValues":{},"strengthModifier":3,"traits":["Power"],"type":"melee"},{"id":"paired-gravis-power-fists","name":"Paired Gravis power fists","ap":2,"attackModifier":1,"damage":3,"description":"Description placeholder.","initiativeModifier":1,"profiles":[],"specialRules":[],"specialRuleValues":{},"strengthModifier":3,"traits":["Power"],"type":"melee"},{"id":"crozious-arcanum","name":"Crozious Arcanum","ap":3,"attackModifier":"A","damage":2,"description":"Description placeholder.","initiativeModifier":1,"profiles":[],"specialRules":["breaching"],"specialRuleValues":{"breaching":6},"strengthModifier":2,"traits":["Power"],"type":"melee"},{"id":"lightning-claw","name":"Lightning claw","ap":3,"attackModifier":"A","damage":1,"description":"Description placeholder.","initiativeModifier":1,"profiles":[],"specialRules":["rending","breaching"],"specialRuleValues":{"rending":6,"breaching":6},"strengthModifier":"S","traits":["Power"],"type":"melee"},{"id":"pair-of-lightning-claws","name":"Pair of lightning claws","ap":3,"attackModifier":2,"damage":1,"description":"Description placeholder.","initiativeModifier":1,"profiles":[],"specialRules":["rending","breaching"],"specialRuleValues":{"rending":6,"breaching":6},"strengthModifier":"S","traits":["Power"],"type":"melee"},{"id":"saturnine-war-axe","name":"Saturnine war axe","ap":2,"attackModifier":"A","damage":2,"description":"Description placeholder.","initiativeModifier":1,"profiles":[],"specialRules":["reaping-blow"],"specialRuleValues":{"reaping-blow":2},"strengthModifier":1,"traits":["Power"],"type":"melee"},{"id":"saturnine-concussion-hammer","name":"Saturnine concussion hammer","ap":2,"attackModifier":"A","damage":3,"description":"Description placeholder.","initiativeModifier":-3,"profiles":[],"specialRules":["critical-hit"],"specialRuleValues":{"critical-hit":6},"strengthModifier":"x2","traits":["Power"],"type":"melee"},{"id":"saturnine-disruption-fist","name":"Saturnine disruption fist","ap":2,"attackModifier":"A","damage":3,"description":"Description placeholder.","initiativeModifier":-2,"profiles":[],"specialRules":[],"specialRuleValues":{},"strengthModifier":2,"traits":["Power"],"type":"melee"},{"id":"krak-grenades-melee","name":"Krak grenades (Melee)","ap":4,"attackModifier":1,"damage":2,"description":"Description placeholder.","initiativeModifier":-3,"profiles":[],"specialRules":["detonation"],"specialRuleValues":{},"strengthModifier":6,"traits":[],"type":"melee"},{"id":"melta-bombs","name":"Melta bombs","ap":2,"attackModifier":1,"damage":4,"description":"Description placeholder.","initiativeModifier":-3,"profiles":[],"specialRules":["armourbane","detonation"],"specialRuleValues":{},"strengthModifier":9,"traits":[],"type":"melee"},{"id":"leviathan-siege-claw","name":"Leviathan siege claw","ap":2,"attackModifier":"A","damage":3,"description":"Description placeholder.","initiativeModifier":1,"profiles":[],"specialRules":[],"specialRuleValues":{},"strengthModifier":2,"traits":[],"type":"melee"},{"id":"paired-leviathan-siege-claws","name":"Paired Leviathan siege claws","ap":2,"attackModifier":1,"damage":3,"description":"Description placeholder.","initiativeModifier":1,"profiles":[],"specialRules":[],"specialRuleValues":{},"strengthModifier":2,"traits":[],"type":"melee"},{"id":"leviathan-siege-drill","name":"Leviathan siege drill","ap":2,"attackModifier":"A","damage":3,"description":"Description placeholder.","initiativeModifier":-2,"profiles":[],"specialRules":["armourbane"],"specialRuleValues":{},"strengthModifier":4,"traits":[],"type":"melee"},{"id":"paired-leviathan-siege-drills","name":"Paired Leviathan siege drills","ap":2,"attackModifier":"A","damage":4,"description":"Description placeholder.","initiativeModifier":-2,"profiles":[],"specialRules":["armourbane"],"specialRuleValues":{},"strengthModifier":4,"traits":[],"type":"melee"},{"id":"morbus-he-shell","name":"HE","type":"ranged-profile","description":"Heavy HE shell for anti-infantry work","range":36,"firepower":1,"rangedStrength":9,"ap":4,"damage":1,"specialRules":["ordnance","blast","barrage","breaching","pinning"],"specialRuleValues":{"ordnance":"D","blast":5,"barrage":2,"breaching":6,"pinning":1},"traits":[],"profiles":[]},{"id":"morbus-phosphex-shell","name":"Phosphex Shell","type":"ranged-profile","description":"Incendiary Shell","range":24,"firepower":1,"rangedStrength":5,"ap":3,"damage":1,"specialRules":["blast","barrage","poisoned","panic","breaching"],"specialRuleValues":{"blast":5,"barrage":1,"poisoned":3,"panic":3,"breaching":5},"traits":["Phosphex"],"profiles":[]},{"id":"phosphex-canister-shot","name":"Phosphex Canister Shot","type":"ranged-profile","description":"Incendiary canister shot","range":24,"firepower":1,"rangedStrength":5,"ap":3,"damage":1,"specialRules":["blast","barrage","poisoned","panic","breaching"],"specialRuleValues":{"blast":3,"barrage":1,"poisoned":3,"panic":3,"breaching":5},"traits":["Phosphex"],"profiles":[]},{"id":"dreadhammer-siege-cannon","name":"Dreadhammer Siege Cannon","type":"ranged","description":"Heavy siege weapon","range":24,"firepower":1,"rangedStrength":12,"ap":3,"damage":3,"specialRules":["ordnance","blast","breaching","stun"],"specialRuleValues":{"ordnance":"D","blast":5,"breaching":5,"stun":1},"traits":[],"profiles":[]},{"id":"meltagun","name":"Meltagun","type":"ranged","description":"Basic melta gun","range":12,"firepower":1,"rangedStrength":8,"ap":2,"damage":3,"specialRules":["melta"],"specialRuleValues":{"melta":6},"traits":["Melta"],"profiles":[]},{"id":"multi-melta","name":"Multi-melta","type":"ranged","description":"Heavy melta weapon","range":24,"firepower":1,"rangedStrength":8,"ap":2,"damage":3,"specialRules":["heavy","melta"],"specialRuleValues":{"heavy":"RS","melta":8},"traits":["Melta"],"profiles":[]},{"id":"twin-multi-melta","name":"Twin Multi-Melta","type":"ranged","description":"Twin multi-melta","range":24,"firepower":1,"rangedStrength":9,"ap":2,"damage":3,"specialRules":["heavy","melta"],"specialRuleValues":{"heavy":"RS","melta":8},"traits":["Melta"],"profiles":[]},{"id":"gravis-melta-cannon","name":"Gravis Melta Cannon","type":"ranged","description":"Heavier melta cannon","range":24,"firepower":1,"rangedStrength":9,"ap":2,"damage":4,"specialRules":["heavy","melta"],"specialRuleValues":{"heavy":"RS","melta":8},"traits":["Melta"],"profiles":[]},{"id":"magna-melta-cannon","name":"Magna Melta Cannon","type":"ranged","description":"Tank mounted melta","range":36,"firepower":1,"rangedStrength":9,"ap":2,"damage":4,"specialRules":["heavy","melta"],"specialRuleValues":{"heavy":"RS","melta":12},"traits":["Melta"],"profiles":[]},{"id":"cyclonic-melta-lance","name":"Cyclonic Melta Lance","type":"ranged","description":"Leviathan borne melta weapon","range":12,"firepower":3,"rangedStrength":8,"ap":2,"damage":4,"specialRules":["heavy","melta"],"specialRuleValues":{"heavy":"RS","melta":8},"traits":["Melta"],"profiles":[]},{"id":"siege-melta-array","name":"Siege Melta Array","type":"ranged","description":"Siege melta gun","range":12,"firepower":1,"rangedStrength":10,"ap":2,"damage":4,"specialRules":["heavy","blast","melta"],"specialRuleValues":{"heavy":"RS","blast":5,"melta":6},"traits":["Melta"],"profiles":[]},{"id":"melta-cutters","name":"Melta Cutters","type":"ranged","description":"Melta cutters","range":6,"firepower":1,"rangedStrength":8,"ap":2,"damage":3,"specialRules":["heavy","blast","melta"],"specialRuleValues":{"heavy":"RS","blast":3,"melta":3},"traits":["Melta"],"profiles":[]},{"id":"melta-blast-gun","name":"Melta blast-gun","type":"ranged","description":"Boarding melta cannon","range":36,"firepower":2,"rangedStrength":9,"ap":2,"damage":4,"specialRules":["heavy","melta"],"specialRuleValues":{"heavy":"RS","melta":24},"traits":["Melta"],"profiles":[]},{"id":"sentry-melta-array","name":"Sentry Melta Array","type":"ranged","description":"Turret melta weapon","range":18,"firepower":2,"rangedStrength":8,"ap":2,"damage":2,"specialRules":["heavy","melta"],"specialRuleValues":{"heavy":"RS","melta":8},"traits":["Melta"],"profiles":[]},{"id":"frag-missile","name":"Frag","type":"ranged","description":"Frag missile","range":48,"firepower":1,"rangedStrength":4,"ap":6,"damage":1,"specialRules":["heavy","blast"],"specialRuleValues":{"heavy":"RS","blast":3},"traits":["Missile"],"profiles":[]},{"id":"krak-missile","name":"Krak","type":"ranged","description":"krak missile","range":48,"firepower":1,"rangedStrength":8,"ap":3,"damage":1,"specialRules":["heavy"],"specialRuleValues":{"heavy":"D"},"traits":["Missile"],"profiles":[]},{"id":"flak-missile","name":"Flak","type":"ranged","description":"flak missile","range":48,"firepower":1,"rangedStrength":8,"ap":4,"damage":1,"specialRules":["heavy","skyfire"],"specialRuleValues":{"heavy":"D"},"traits":["Missile"],"profiles":[]},{"id":"vengeance-launcher","name":"Vengeance Launcher","type":"ranged","description":"Air launched anti-personnel weapon","range":48,"firepower":1,"rangedStrength":7,"ap":4,"damage":1,"specialRules":["blast"],"specialRuleValues":{"blast":5},"traits":["Missile"],"profiles":[]},{"id":"havoc-launcher","name":"Havoc Launcher","type":"ranged","description":"Multiple rocket launcher mounted on lighter vehicles","range":48,"firepower":1,"rangedStrength":5,"ap":5,"damage":1,"specialRules":["blast","stun"],"specialRuleValues":{"blast":3,"stun":1},"traits":["Missile"],"profiles":[]},{"id":"hellstrike-missile","name":"Hellstrike missile","type":"ranged","description":"Heavy AT missile","range":48,"firepower":1,"rangedStrength":9,"ap":3,"damage":3,"specialRules":["armourbane","limited"],"specialRuleValues":{"limited":1},"traits":["Guided Missile"],"profiles":[]},{"id":"deathstorm-missile-launcher","name":"Deathstorm missile launcher","type":"ranged","description":"Drop pod launch anti-personnel missile","range":18,"firepower":3,"rangedStrength":6,"ap":4,"damage":1,"specialRules":["pinning"],"specialRuleValues":{"pinning":1},"traits":["Missile"],"profiles":[]},{"id":"kharybdis-missile-launcher","name":"Kharybdis Missile Launcher","type":"ranged","description":"Kharybdis missile system","range":18,"firepower":5,"rangedStrength":6,"ap":4,"damage":1,"specialRules":["pinning"],"specialRuleValues":{"pinning":1},"traits":["Missile"],"profiles":[]},{"id":"rotary-missile-launcher","name":"Rotary Missile Launcher","type":"ranged","description":"Xiphon missile","range":48,"firepower":3,"rangedStrength":8,"ap":2,"damage":2,"specialRules":[],"specialRuleValues":{},"traits":["Missile"],"profiles":[]},{"id":"sabre-missile","name":"Sabre Missile","type":"ranged","description":"Sabre one time missile","range":36,"firepower":1,"rangedStrength":7,"ap":4,"damage":2,"specialRules":["breaching","limited"],"specialRuleValues":{"breaching":6,"limited":1},"traits":["Missile"],"profiles":[]},{"id":"tempest-rocket","name":"Tempest Rocket","type":"ranged","description":"Air launched light armour killing missile","range":48,"firepower":1,"rangedStrength":7,"ap":4,"damage":3,"specialRules":["armourbane","limited"],"specialRuleValues":{"limited":1},"traits":["Guided Missile"],"profiles":[]},{"id":"aiolos-missile-launcher","name":"Aiolos Missile Launcher","type":"ranged","description":"Deredeo missile weapon","range":60,"firepower":1,"rangedStrength":6,"ap":4,"damage":1,"specialRules":["heavy","blast","barrage"],"specialRuleValues":{"heavy":"FP","blast":3,"barrage":1},"traits":["Missile"],"profiles":[]},{"id":"boreas-air-defence-missile","name":"Boreas air defence missile","type":"ranged","description":"Anti air deredeo missile","range":48,"firepower":1,"rangedStrength":8,"ap":2,"damage":3,"specialRules":["limited","skyfire","rapid-tracking"],"specialRuleValues":{"limited":1},"traits":["Missile"],"profiles":[]},{"id":"spicula-rocket-system","name":"Spicula rocket system","type":"ranged","description":"missile spam","range":72,"firepower":1,"rangedStrength":7,"ap":4,"damage":1,"specialRules":["blast","barrage","suppressive"],"specialRuleValues":{"blast":7,"barrage":2,"suppressive":1},"traits":["Missile"],"profiles":[]},{"id":"arcus-warheads","name":"Arcus warheads","type":"ranged","description":"Heavy missiles","range":36,"firepower":5,"rangedStrength":8,"ap":2,"damage":2,"specialRules":[],"specialRuleValues":{},"traits":["Missile"],"profiles":[]},{"id":"skyspear-warheads","name":"Skyspear warheads","type":"ranged","description":"Anti air missile","range":36,"firepower":3,"rangedStrength":8,"ap":2,"damage":2,"specialRules":["skyfire","armourbane","rapid-tracking"],"specialRuleValues":{},"traits":["Missile"],"profiles":[]},{"id":"pyrax-warheads","name":"Pyrax warheads","type":"ranged","description":"Suppressive missile","range":36,"firepower":1,"rangedStrength":5,"ap":4,"damage":1,"specialRules":["blast","panic"],"specialRuleValues":{"blast":5,"panic":1},"traits":["Missile"],"profiles":[]},{"id":"neutron-flux-warheads","name":"Neutron-flux warheads","type":"ranged","description":"anti-automata warhead","range":36,"firepower":3,"rangedStrength":7,"ap":4,"damage":1,"specialRules":["shock"],"specialRuleValues":{"shock":"Suppressed"},"traits":["Missile"],"profiles":[]},{"id":"cyclone-frag-missile","name":"Frag","type":"ranged","description":"Frag missile","range":48,"firepower":1,"rangedStrength":4,"ap":6,"damage":1,"specialRules":["heavy","blast"],"specialRuleValues":{"heavy":"RS","blast":5},"traits":["Missile"],"profiles":[]},{"id":"cyclone-krak-missile","name":"Krak","type":"ranged","description":"AT missile","range":48,"firepower":2,"rangedStrength":8,"ap":3,"damage":1,"specialRules":["heavy"],"specialRuleValues":{"heavy":"D"},"traits":["Missile"],"profiles":[]},{"id":"cyclone-flak-missile","name":"Flak","type":"ranged","description":"Anti-Air missile","range":48,"firepower":2,"rangedStrength":8,"ap":4,"damage":1,"specialRules":["heavy","skyfire"],"specialRuleValues":{"heavy":"D"},"traits":["Missile"],"profiles":[]},{"id":"scorpius-missile-launcher","name":"Scorpius missile launcher","type":"ranged","description":"Heavy infantry killer","range":48,"firepower":1,"rangedStrength":8,"ap":4,"damage":1,"specialRules":["heavy","blast","barrage","breaching"],"specialRuleValues":{"heavy":"FP","blast":3,"barrage":2,"breaching":5},"traits":["Missile"],"profiles":[]},{"id":"hyperios-missile-launcher","name":"Hyperios missile launcher","type":"ranged","description":"Anti-air missile","range":48,"firepower":3,"rangedStrength":7,"ap":3,"damage":2,"specialRules":["skyfire","rapid-tracking"],"specialRuleValues":{},"traits":["Missile"],"profiles":[]},{"id":"orias-frag-missile","name":"Orias frag missile","type":"ranged","description":"Orias missile","range":48,"firepower":1,"rangedStrength":6,"ap":5,"damage":1,"specialRules":["barrage","blast","limited"],"specialRuleValues":{"barrage":3,"blast":5,"limited":1},"traits":["Missile"],"profiles":[]},{"id":"overcharged-plasma-pistol","name":"Overcharged plasma pistol","type":"ranged-profile","description":"Plasma shooty shooty","range":12,"firepower":3,"rangedStrength":8,"ap":4,"damage":1,"specialRules":["pistol","breaching","overload"],"specialRuleValues":{"breaching":4,"overload":1},"traits":["Assault","Plasma"],"profiles":[]},{"id":"plasma-gun-sustained-fire","name":"Sustained fire","type":"ranged-profile","description":"Plasma shooty shooty","range":24,"firepower":2,"rangedStrength":6,"ap":4,"damage":1,"specialRules":["breaching"],"specialRuleValues":{"breaching":6},"traits":["Plasma"],"profiles":[]},{"id":"plasma-gun-maximal-fire","name":"Maximal fire","type":"ranged-profile","description":"Plasma shooty shooty","range":24,"firepower":2,"rangedStrength":7,"ap":4,"damage":1,"specialRules":["breaching","overload"],"specialRuleValues":{"breaching":5,"overload":1},"traits":["Plasma"],"profiles":[]},{"id":"twin-plasma-gun-sustained-fire","name":"Sustained fire","type":"ranged-profile","description":"Plasma shooty shooty","range":24,"firepower":2,"rangedStrength":6,"ap":4,"damage":1,"specialRules":["breaching"],"specialRuleValues":{"breaching":5},"traits":["Plasma"],"profiles":[]},{"id":"twin-plasma-gun-maximal-fire","name":"Maximal fire","type":"ranged-profile","description":"Plasma shooty shooty","range":24,"firepower":2,"rangedStrength":7,"ap":4,"damage":1,"specialRules":["breaching","overload"],"specialRuleValues":{"breaching":4},"traits":["Plasma"],"profiles":[]},{"id":"plasma-bombard-sustained-fire","name":"Sustained fire","type":"ranged-profile","description":"Plasma shooty shooty","range":24,"firepower":1,"rangedStrength":6,"ap":4,"damage":1,"specialRules":["blast","barrage","breaching"],"specialRuleValues":{"blast":3,"breaching":6,"barrage":1},"traits":["Plasma"],"profiles":[]},{"id":"plasma-bombard-maximal-fire","name":"Maximal fire","type":"ranged-profile","description":"Plasma shooty shooty","range":24,"firepower":1,"rangedStrength":7,"ap":4,"damage":1,"specialRules":["blast","barrage","breaching","overload"],"specialRuleValues":{"blast":3,"barrage":1,"breaching":5,"overload":2},"traits":["Plasma"],"profiles":[]},{"id":"heavy-plasma-bombard-sustained-fire","name":"Sustained fire","type":"ranged-profile","description":"Plasma shooty shooty","range":36,"firepower":1,"rangedStrength":7,"ap":4,"damage":2,"specialRules":["blast","barrage","breaching"],"specialRuleValues":{"blast":5,"barrage":1,"breaching":6},"traits":["Plasma"],"profiles":[]},{"id":"heavy-plasma-bombard-maximal-fire","name":"Maximal fire","type":"ranged-profile","description":"Plasma shooty shooty","range":36,"firepower":1,"rangedStrength":8,"ap":4,"damage":2,"specialRules":["blast","barrage","breaching","overload"],"specialRuleValues":{"blast":5,"barrage":1,"breaching":5,"overload":1},"traits":["Plasma"],"profiles":[]},{"id":"plasma-cannon-sustained-fire","name":"Sustained fire","type":"ranged-profile","description":"Plasma shooty shooty","range":36,"firepower":1,"rangedStrength":6,"ap":4,"damage":1,"specialRules":["heavy","blast","breaching"],"specialRuleValues":{"heavy":"RS","blast":3,"breaching":6},"traits":["Plasma"],"profiles":[]},{"id":"plasma-cannon-maximal-fire","name":"Maximal fire","type":"ranged-profile","description":"Plasma shooty shooty","range":36,"firepower":1,"rangedStrength":6,"ap":4,"damage":1,"specialRules":["heavy","blast","breaching","overload"],"specialRuleValues":{"heavy":"RS","blast":3,"breaching":5,"overload":2},"traits":["Plasma"],"profiles":[]},{"id":"gravis-plasma-cannon-sustained-fire","name":"Sustained fire","type":"ranged-profile","description":"Plasma shooty shooty","range":36,"firepower":1,"rangedStrength":7,"ap":4,"damage":1,"specialRules":["heavy","blast","breaching"],"specialRuleValues":{"heavy":"RS","blast":5,"breaching":6},"traits":["Plasma"],"profiles":[]},{"id":"gravis-plasma-cannon-maximal-fire","name":"Maximal fire","type":"ranged-profile","description":"Plasma shooty shooty","range":36,"firepower":1,"rangedStrength":7,"ap":4,"damage":2,"specialRules":["heavy","blast","breaching","overload"],"specialRuleValues":{"heavy":"RS","blast":5,"breaching":5,"overload":1},"traits":["Plasma"],"profiles":[]},{"id":"plasma-blaster-sustained-fire","name":"Sustained fire","type":"ranged-profile","description":"Plasma shooty shooty","range":18,"firepower":2,"rangedStrength":7,"ap":4,"damage":1,"specialRules":["breaching"],"specialRuleValues":{"breaching":6},"traits":["Plasma"],"profiles":[]},{"id":"plasma-blaster-maximal-fire","name":"Maximal fire","type":"ranged-profile","description":"Plasma shooty shooty","range":18,"firepower":2,"rangedStrength":8,"ap":4,"damage":1,"specialRules":["breaching","overload"],"specialRuleValues":{"breaching":5,"overload":1},"traits":["Plasma"],"profiles":[]},{"id":"hellfire-plasma-cannonade-sustained-fire","name":"Maximal fire","type":"ranged-profile","description":"Plasma shooty shooty","range":36,"firepower":6,"rangedStrength":6,"ap":4,"damage":1,"specialRules":["heavy","breaching"],"specialRuleValues":{"heavy":"RS","breaching":5},"traits":["Plasma"],"profiles":[]},{"id":"hellfire-plasma-cannonade-maximal-fire","name":"Sustained fire","type":"ranged-profile","description":"Plasma shooty shooty","range":36,"firepower":1,"rangedStrength":7,"ap":4,"damage":2,"specialRules":["heavy","blast","breaching","overload"],"specialRuleValues":{"heavy":"RS","blast":5,"breaching":4,"overload":1},"traits":["Plasma"],"profiles":[]},{"id":"omega-plasma-array-sustained-fire","name":"Maximal fire","type":"ranged-profile","description":"Plasma shooty shooty","range":36,"firepower":6,"rangedStrength":7,"ap":4,"damage":2,"specialRules":["breaching"],"specialRuleValues":{"breaching":5},"traits":["Plasma"],"profiles":[]},{"id":"omega-plasma-array-maximal-fire","name":"Sustained fire","type":"ranged-profile","description":"Plasma shooty shooty","range":36,"firepower":1,"rangedStrength":8,"ap":4,"damage":2,"specialRules":["blast","breaching","overload"],"specialRuleValues":{"blast":5,"overload":1,"breaching":4},"traits":["Plasma"],"profiles":[]},{"id":"plasma-gun","name":"Plasma gun","type":"ranged","description":"Plasma shooty shooty","range":0,"firepower":0,"rangedStrength":0,"ap":0,"damage":0,"specialRules":[],"specialRuleValues":"","traits":["Plasma"],"profiles":["plasma-gun-sustained-fire","plasma-gun-maximal-fire"]},{"id":"twin-plasma-gun","name":"Twin plasma gun","type":"ranged","description":"Plasma shooty shooty","range":0,"firepower":0,"rangedStrength":0,"ap":0,"damage":0,"specialRules":[],"specialRuleValues":"","traits":["Plasma"],"profiles":["twin-plasma-gun-sustained-fire","twin-plasma-gun-maximal-fire"]},{"id":"plasma-bombard","name":"Plasma bombard","type":"ranged","description":"Plasma shooty shooty","range":0,"firepower":0,"rangedStrength":0,"ap":0,"damage":0,"specialRules":[],"specialRuleValues":"","traits":["Plasma"],"profiles":["plasma-bombard-sustained-fire","plasma-bombard-maximal-fire"]},{"id":"heavy-plasma-bombard","name":"Heavy plasma bombard","type":"ranged","description":"Plasma shooty shooty","range":0,"firepower":0,"rangedStrength":0,"ap":0,"damage":0,"specialRules":[],"specialRuleValues":"","traits":["Plasma"],"profiles":["heavy-plasma-bombard-sustained-fire","heavy-plasma-bombard-maximal-fire"]},{"id":"plasma-cannon","name":"Plasma cannon","type":"ranged","description":"Plasma shooty shooty","range":0,"firepower":0,"rangedStrength":0,"ap":0,"damage":0,"specialRules":[],"specialRuleValues":"","traits":["Plasma"],"profiles":["plasma-cannon-sustained-fire","plasma-cannon-maximal-fire"]},{"id":"gravis-plasma-cannon","name":"Gravis plasma cannon","type":"ranged","description":"Plasma shooty shooty","range":0,"firepower":0,"rangedStrength":0,"ap":0,"damage":0,"specialRules":[],"specialRuleValues":"","traits":["Plasma"],"profiles":["gravis-plasma-cannon-sustained-fire","gravis-plasma-cannon-maximal-fire"]},{"id":"hellfire-plasma-cannonade","name":"Hellfire plasma carronade","type":"ranged","description":"Plasma shooty shooty","range":0,"firepower":0,"rangedStrength":0,"ap":0,"damage":0,"specialRules":[],"specialRuleValues":"","traits":["Plasma"],"profiles":["hellfire-plasma-cannonade-sustained-fire","hellfire-plasma-cannonade-maximal-fire"]},{"id":"omega-plasma-array","name":"Omega plasma array","type":"ranged","description":"Plasma shooty shooty","range":0,"firepower":0,"rangedStrength":0,"ap":0,"damage":0,"specialRules":[],"specialRuleValues":"","traits":["Plasma"],"profiles":["omega-plasma-array-sustained-fire","omega-plasma-array-maximal-fire"]},{"id":"rad-grenades","name":"Rad grenades","type":"ranged","description":"Dangerous weapons that hurt those who are impacted permanently","range":8,"firepower":1,"rangedStrength":4,"ap":3,"damage":1,"specialRules":["poisoned","phage"],"specialRuleValues":{"poisoned":2,"phage":"T"},"traits":["Rad"],"profiles":[]},{"id":"concussive-resonator","name":"Concussive resonator","type":"ranged","description":"Damage through sound","range":"Template","firepower":2,"rangedStrength":6,"ap":5,"damage":1,"specialRules":["template","overload","stun"],"specialRuleValues":{"overload":1,"stun":2},"traits":["Assault","Sonic"],"profiles":[]},{"id":"overcharged-volkite-serpenta","name":"Overcharged volkite serpenta","type":"ranged","description":"Overcharged volkite pistol","range":10,"firepower":4,"rangedStrength":6,"ap":5,"damage":1,"specialRules":["pistol","deflagrate","overload"],"specialRuleValues":{"deflagrate":5,"overload":1},"traits":["Assault","Volkite"],"profiles":[]},{"id":"twin-volkite-charger","name":"Twin volkite charger","type":"ranged","description":"Twin volkite chargers","range":15,"firepower":3,"rangedStrength":5,"ap":5,"damage":1,"specialRules":["deflagrate"],"specialRuleValues":{"deflagrate":5},"traits":["Assault","Volkite"],"profiles":[]},{"id":"twin-volkite-caliver","name":"Twin volkite caliver","type":"ranged","description":"Twin calivers","range":30,"firepower":3,"rangedStrength":6,"ap":5,"damage":1,"specialRules":["heavy","deflagrate"],"specialRuleValues":{"heavy":"FP","deflagrate":6},"traits":["Volkite"],"profiles":[]},{"id":"twin-volkite-culverin","name":"Twin volkite culverin","type":"ranged","description":"Twin culverins","range":45,"firepower":6,"rangedStrength":6,"ap":5,"damage":1,"specialRules":["heavy","deflagrate"],"specialRuleValues":{"heavy":"FP","deflagrate":6},"traits":["Volkite"],"profiles":[]},{"id":"volkite-falconet","name":"Volkite falconet","type":"ranged","description":"Heavy volkite weapon","range":45,"firepower":10,"rangedStrength":7,"ap":5,"damage":1,"specialRules":["deflagrate","pinning"],"specialRuleValues":{"deflagrate":7,"pinning":2},"traits":["Volkite"],"profiles":[]},{"id":"volkite-saker","name":"Volkite saker","type":"ranged","description":"Smaller cannon","range":25,"firepower":6,"rangedStrength":6,"ap":5,"damage":1,"specialRules":["deflagrate"],"specialRuleValues":{"deflagrate":6},"traits":["Volkite"],"profiles":[]},{"id":"volkite-carronade","name":"Volkite carronade","type":"ranged","description":"Heaviest volkite cannon","range":45,"firepower":12,"rangedStrength":8,"ap":3,"damage":2,"specialRules":["deflagrate"],"specialRuleValues":{"deflagrate":8},"traits":["Volkite"],"profiles":[]},{"id":"volkite-cardanelle","name":"Volkite carrondate","type":"ranged","description":"Volkite heavy gun","range":45,"firepower":12,"rangedStrength":7,"ap":5,"damage":2,"specialRules":["deflagrate","suppressive"],"specialRuleValues":{"deflagrate":7,"suppressive":1},"traits":["Volkite"],"profiles":[]},{"id":"disintegrator-pistol","name":"Disintegrator pistol","type":"ranged","description":"di","range":12,"firepower":1,"rangedStrength":4,"ap":3,"damage":2,"specialRules":["pistol","overload"],"specialRuleValues":{"overload":1},"traits":["Assault","Disintegrator"],"profiles":[]},{"id":"disintegrator-rifle","name":"Disintegrator rifle","type":"ranged","description":"disintegrator rifle","range":24,"firepower":1,"rangedStrength":4,"ap":3,"damage":2,"specialRules":["overload"],"specialRuleValues":{"overload":1},"traits":["Disintegrator"],"profiles":[]},{"id":"disintegrator-blaster","name":"Disintegrator blaster","type":"ranged","description":"Disintigreator","range":18,"firepower":1,"rangedStrength":5,"ap":2,"damage":2,"specialRules":["overload"],"specialRuleValues":{"overload":1},"traits":["Disintegrator"],"profiles":[]},{"id":"heavy-disintegrator","name":"Heavy disintegrator","type":"ranged","description":"OVERLOAD","range":24,"firepower":1,"rangedStrength":6,"ap":2,"damage":2,"specialRules":["overload"],"specialRuleValues":{"overload":2},"traits":["Disintegrator"],"profiles":[]},{"id":"twin-heavy-disintegrator","name":"Twin Heavy disintegrator","type":"ranged","description":"OVERLOAD","range":24,"firepower":2,"rangedStrength":7,"ap":2,"damage":2,"specialRules":["overload"],"specialRuleValues":{"overload":2},"traits":["Disintegrator"],"profiles":[]},{"id":"disintegrator-cannon","name":"Disintegrator cannon","type":"ranged","description":"OVERLOAD","range":24,"firepower":2,"rangedStrength":9,"ap":2,"damage":3,"specialRules":["overload"],"specialRuleValues":{"overload":2},"traits":["Disintegrator"],"profiles":[]},{"id":"graviton-gun","name":"Graviton fun","type":"ranged","description":"gravity","range":18,"firepower":1,"rangedStrength":8,"ap":3,"damage":1,"specialRules":["blast","breaching","shock","pinning"],"specialRuleValues":{"blast":3,"breaching":6,"shock":"Pinned","pinning":1},"traits":["Graviton"],"profiles":[]},{"id":"graviton-cannon","name":"Graviton cannon","type":"ranged","description":"Gravity","range":36,"firepower":1,"rangedStrength":8,"ap":3,"damage":1,"specialRules":["heavy","blast","breaching","shock","pinning"],"specialRuleValues":{"heavy":"D","blast":3,"breaching":6,"shock":"Pinned","pinning":2},"traits":["Graviton"],"profiles":[]},{"id":"graviton-charge-cannon","name":"Graviton-charge cannon","type":"ranged","description":"gravity","range":24,"firepower":1,"rangedStrength":9,"ap":3,"damage":2,"specialRules":["heavy","blast","barrage","breaching","shock","pinning"],"specialRuleValues":{"heavy":"D","blast":5,"breaching":6,"barrage":1,"shock":"Pinned","pinning":1},"traits":["Graviton"],"profiles":[]},{"id":"grav-flux-bombard","name":"Grav-flux bombard","type":"ranged","description":"gravity","range":18,"firepower":1,"rangedStrength":7,"ap":4,"damage":1,"specialRules":["heavy","blast","breaching","shock","pinning"],"specialRuleValues":{"heavy":"D","blast":5,"shock":"Pinned","breaching":6,"pinning":2},"traits":["Graviton"],"profiles":[]},{"id":"graviton-pulveriser","name":"Graviton pulveriser","type":"ranged","description":"gravity","range":18,"firepower":1,"rangedStrength":9,"ap":3,"damage":3,"specialRules":["heavy","blast","breaching","shock","pinning"],"specialRuleValues":{"heavy":"D","blast":5,"breaching":6,"shock":"Pinned","pinning":3},"traits":["Graviton"],"profiles":[]},{"id":"particle-shredder","name":"Particle shredder","type":"ranged","description":"particle","range":"Template","firepower":1,"rangedStrength":6,"ap":3,"damage":1,"specialRules":["template","breaching","overload"],"specialRuleValues":{"breaching":6,"overload":1},"traits":["Assault","Particle"],"profiles":[]},{"id":"heavy-particle-shredder","name":"Heavy particle shredder","type":"ranged","description":"heavy particles","range":"Template","firepower":1,"rangedStrength":6,"ap":3,"damage":2,"specialRules":["template","breaching","overload"],"specialRuleValues":{"breaching":5,"overload":1},"traits":["Assault","Particle"],"profiles":[]},{"id":"phosphex-bomb","name":"Phosphex bomb","type":"ranged","description":"phos","range":6,"firepower":1,"rangedStrength":5,"ap":3,"damage":1,"specialRules":["blast","poisoned","panic","breaching"],"specialRuleValues":{"blast":3,"poisoned":3,"panic":3,"breaching":5},"traits":["Phosphex"],"profiles":[]},{"id":"phosphex-discharger","name":"Phosphex discharger","type":"ranged","description":"phos","range":18,"firepower":1,"rangedStrength":5,"ap":3,"damage":1,"specialRules":["blast","limited","poisoned","panic","breaching"],"specialRuleValues":{"blast":3,"limited":3,"poisoned":3,"panic":3,"breaching":5},"traits":["Phosphex"],"profiles":[]},{"id":"combi-flamer","name":"Combi-flamer","type":"ranged-profile","description":"A combination weapon with both bolter and flamer capabilities","profiles":["bolter","flamer-secondary"],"specialRules":[],"specialRuleValues":{},"traits":["Bolt","Flame"]},{"id":"combi-melta","name":"Combi-melta","type":"ranged-profile","description":"A combination weapon with both bolter and meltagun capabilities","profiles":["bolter","meltagun-secondary"],"specialRules":[],"specialRuleValues":{},"traits":["Bolt","Melta"]},{"id":"combi-plasma","name":"Combi-plasma","type":"ranged-profile","description":"A combination weapon with both bolter and plasma gun capabilities","profiles":["bolter","plasma-gun-secondary"],"specialRules":[],"specialRuleValues":{},"traits":["Bolt","Plasma"]},{"id":"combi-volkite","name":"Combi-volkite","type":"ranged-profile","description":"A combination weapon with both bolter and volkite charger capabilities","profiles":["bolter","volkite-charger-secondary"],"specialRules":[],"specialRuleValues":{},"traits":["Bolt","Volkite"]},{"id":"combi-grenade","name":"Combi-grenade","type":"ranged-profile","description":"A combination weapon with both bolter and grenade launcher capabilities","profiles":["bolter","grenade-launcher-secondary"],"specialRules":[],"specialRuleValues":{},"traits":["Bolt"]},{"id":"combi-disintegrator","name":"Combi-disintegrator","type":"ranged-profile","description":"A combination weapon with both bolter and disintegrator capabilities","profiles":["bolter","disintegrator-secondary"],"specialRules":[],"specialRuleValues":{},"traits":["Bolt","Disintegrator"]},{"id":"combi-grav","name":"Combi-grav","type":"ranged-profile","description":"A combination weapon with both bolter and graviton gun capabilities","profiles":["bolter","graviton-secondary"],"specialRules":[],"specialRuleValues":{},"traits":["Bolt","Graviton"]},{"id":"nemesis-rifle","name":"Nemesis Rifle","type":"ranged-weapon","description":"Painstakingly crafted to sub-molecular tolerances and meeting the exacting specifications of each Vigilator, each of these masterworks of mechanical technology are calibrated to deliver hardened penetrator rounds with immeasurably little variance between the point of aim and the point of impact.","range":48,"firepower":1,"rateOfShot":6,"armorPenetration":3,"damage":1,"specialRules":["heavy","breaching","pinning","precision"],"specialRuleValues":{"heavy":"D","breaching":5,"pinning":1,"precision":4},"traits":["Bolt"]},{"id":"phosphex-bombs","name":"Phosphex Bombs","description":"Specialized incendiary devices that burn with unquenchable phosphex fire, designed for siege warfare against fortified positions.","range":"8\\"","strength":"4","ap":"2","type":"Assault 1","specialRules":["Crawling Fire","Poisoned (3+)","Gets Hot"],"points":0,"weaponType":"Grenade"},{"id":"power-lash","name":"Power Lash","description":"Many Overseers take a more brutal approach to goading their charges forward into battle, lashing them with barbed whips. These implements are also employed against the overseer's foes, wrapping around limbs before delivering punishing blasts from its disruption field.","range":"+1","strength":"User","ap":"-1","type":"Melee","specialRules":["Breaching (6+)"],"traits":["Power"],"points":0,"weaponType":"Melee Weapon"},{"id":"crozius-arcanum","name":"Crozius Arcanum","description":"A mortuary symbol of sacrifice graven in the form of an ornate staff, mace or axe, the Crozius Arcanum serves as both a badge of office and a deadly weapon for the Chaplain Order.","range":"Melee","strength":"+1","ap":"2","type":"Melee","specialRules":["Master-crafted"],"traits":["Power"],"points":0,"weaponType":"Melee Weapon"},{"id":"logos-array","name":"The Logos Array","description":"Built into the arm systems of the Logos armour, these are custom-built bolt weapons using Olympia's shrapnel bolt technology, improved by Perturabo. They unleash a storm of shot effective even at point-blank range.","type":"ranged-profile","profiles":["logos-array-ranged","logos-array-melee"],"specialRules":[],"specialRuleValues":{},"traits":["Bolt","Assault","Power"]},{"id":"logos-array-ranged","name":"The Logos Array","description":"Built into the arm systems of the Logos armour, these are custom-built bolt weapons using Olympia's shrapnel bolt technology, improved by Perturabo. They unleash a storm of shot effective even at point-blank range.","type":"ranged","range":30,"firepower":6,"rangedStrength":6,"ap":3,"damage":1,"specialRules":["shred","suppressive"],"specialRuleValues":{"shred":4,"suppressive":1},"traits":["Bolt","Assault"]},{"id":"logos-array-melee","name":"The Logos Array","description":"Built into the arm systems of the Logos armour, these are custom-built bolt weapons using Olympia's shrapnel bolt technology, improved by Perturabo. They unleash a storm of shot effective even at point-blank range.","type":"melee","initiativeModifier":1,"attackModifier":2,"strengthModifier":6,"ap":3,"damage":1,"specialRules":["shred"],"specialRuleValues":{"shred":4},"traits":["Power"]},{"id":"forgebreaker-desecrated","name":"Forgebreaker Desecrated","description":"Originally wielded by Primarch Ferrus Manus, this weapon was taken as a trophy by his killer and presented to Perturabo by the Traitor Warmaster. It has become a horrific icon of darkness.","type":"melee","initiativeModifier":-2,"attackModifier":3,"strengthModifier":2,"ap":2,"damage":2,"specialRules":["critical-hit"],"specialRuleValues":{"critical-hit":5},"traits":["Power"]},{"id":"tyrant-rocket-launcher","name":"Tyrant Rocket Launcher","description":"A compact rocket system, based on the design of the cyclone missile launcher, the Tyrant launcher is capable of delivering overwhelming salvos of unguided rockets. The Iron Warriors value the sheer firepower of the Tyrant system over the more controlled destruction of the larger cyclone system.","type":"ranged-profile","profiles":["tyrant-rocket-launcher-swarmer","tyrant-rocket-launcher-breaker"],"specialRules":[],"specialRuleValues":{},"traits":["Missile"]},{"id":"tyrant-rocket-launcher-swarmer","name":"Tyrant Rocket Launcher - Swarmer","description":"A compact rocket system, based on the design of the cyclone missile launcher, the Tyrant launcher is capable of delivering overwhelming salvos of unguided rockets. The Iron Warriors value the sheer firepower of the Tyrant system over the more controlled destruction of the larger cyclone system.","type":"ranged","range":48,"firepower":3,"rangedStrength":5,"ap":6,"damage":1,"specialRules":["heavy","breaching"],"specialRuleValues":{"heavy":"FP","breaching":6},"traits":["Missile"]},{"id":"tyrant-rocket-launcher-breaker","name":"Tyrant Rocket Launcher - Breaker","description":"A compact rocket system, based on the design of the cyclone missile launcher, the Tyrant launcher is capable of delivering overwhelming salvos of unguided rockets. The Iron Warriors value the sheer firepower of the Tyrant system over the more controlled destruction of the larger cyclone system.","type":"ranged","range":48,"firepower":1,"rangedStrength":9,"ap":3,"damage":1,"specialRules":["heavy","armourbane"],"specialRuleValues":{"heavy":"D"},"traits":["Missile"]},{"id":"twin-shrapnel-cannon","name":"Twin Shrapnel Cannon","description":"A devastating twin-linked weapon system designed to unleash barrages of shrapnel at enemy positions.","type":"ranged","range":36,"firepower":4,"rangedStrength":6,"ap":5,"damage":1,"specialRules":["heavy","twin-linked"],"specialRuleValues":{"heavy":"FP"},"traits":["Cannon"]},{"id":"shrapnel-cannon","name":"Shrapnel Cannon","description":"A heavy weapon designed to unleash devastating barrages of shrapnel at enemy positions.","type":"ranged","range":36,"firepower":3,"rangedStrength":5,"ap":5,"damage":1,"specialRules":["pinning","shred"],"specialRuleValues":{"pinning":0,"shred":6},"traits":["Bolt"]}]`),Fc={weapons:J8};class ge{static getSpecialRules(){return Pv.specialRules}static getSpecialRuleById(e){return Pv.specialRules.find(a=>a.id===e)}static getSpecialRulesByIds(e){return Pv.specialRules.filter(a=>e.includes(a.id))}static getModels(){return ep.models}static getModelById(e){return ep.models.find(a=>a.id===e)}static getModelsByType(e){return ep.models.filter(a=>a.type===e)}static getModelsBySubType(e){return ep.models.filter(a=>a.subType.includes(e))}static getModelsByTypeAndSubType(e,a){return ep.models.filter(n=>n.type===e&&n.subType.includes(a))}static getModelsForUnit(e){const a=this.getUnitById(e);if(!a||!a.models)return[];const n=[];return Object.entries(a.models).forEach(([i,l])=>{const d=this.getModelById(i);d&&n.push({model:d,count:l})}),n}static isVehicleModel(e){return e.type==="Vehicle"}static isInfantryModel(e){return e.type==="Infantry"}static getWeapons(){return Fc.weapons}static getWeaponById(e){return Fc.weapons.find(a=>a.id===e)}static getRangedWeapons(){return Fc.weapons.filter(e=>e.type==="ranged")}static getMeleeWeapons(){return Fc.weapons.filter(e=>e.type==="melee")}static getWeaponsByType(e){return Fc.weapons.filter(a=>a.type===e)}static getWeaponsByIds(e){return Fc.weapons.filter(a=>e.includes(a.id))}static getProfileWeapons(e){return e.profiles&&Array.isArray(e.profiles)?this.getWeaponsByIds(e.profiles):[]}static isRangedWeapon(e){return e.type==="ranged"||e.type==="ranged-profile"}static isMeleeWeapon(e){return e.type==="melee"||e.type==="melee-profile"}static getWeaponsForModel(e){const a=this.getModelById(e);if(!a||!a.weapons)return[];if(Array.isArray(a.weapons)&&a.weapons.length>0&&typeof a.weapons[0]=="object"&&"id"in a.weapons[0]){const n=[];return a.weapons.forEach(i=>{const l=this.getWeaponById(i.id);if(l){const d=i.count||1;for(let u=0;u<d;u++)n.push(l)}}),n}else return a.weapons.map(n=>this.getWeaponById(n)).filter(n=>n!==void 0)}static getRangedWeaponsForModel(e){return this.getWeaponsForModel(e).filter(a=>this.isRangedWeapon(a))}static getMeleeWeaponsForModel(e){return this.getWeaponsForModel(e).filter(a=>this.isMeleeWeapon(a))}static getWeaponsForUnit(e){const a=this.getUnitById(e);if(!a||!a.models)return[];const n=[];return Object.entries(a.models).forEach(([i])=>{const l=this.getWeaponsForModel(i);n.push(...l)}),n}static getFactions(){return Ro.factions}static getFactionById(e){return Ro.factions.find(a=>a.id===e)}static getFactionsByType(e){return Ro.factions.filter(a=>a.type===e)}static getFactionsByAllegiance(e){return Ro.factions.filter(a=>a.allegiance===e||a.allegiance==="Universal")}static getFactionsByAllegianceAndType(e,a){return Ro.factions.filter(n=>(n.allegiance===e||n.allegiance==="Universal")&&n.type===a)}static getMainFactions(){return Ro.factions.filter(e=>e.isMainFaction)}static getMainFactionsByAllegiance(e){return Ro.factions.filter(a=>a.isMainFaction&&(a.allegiance===e||a.allegiance==="Universal"))}static getSubFactions(e){return Ro.factions.filter(a=>a.parentFaction===e)}static getSubFactionsByAllegiance(e,a){return Ro.factions.filter(n=>n.parentFaction===e&&(n.allegiance===a||n.allegiance==="Universal"))}static getLegionSubFactions(){return this.getSubFactions("legiones-astartes")}static getLegionSubFactionsByAllegiance(e){return this.getSubFactionsByAllegiance("legiones-astartes",e)}static getRitesOfWar(){return jv.ritesOfWar}static getRiteOfWarById(e){return jv.ritesOfWar.find(a=>a.id===e)}static getRitesOfWarByFaction(e){return jv.ritesOfWar.filter(a=>a.faction===e)}static getBattlefieldRoles(){return XR.battlefieldRoles}static getBattlefieldRoleById(e){return XR.battlefieldRoles.find(a=>a.id===e)}static getDetachments(){return Iv.detachments}static getDetachmentById(e){return Iv.detachments.find(a=>a.id===e)}static getDetachmentsByType(e){return Iv.detachments.filter(a=>a.type===e)}static getPrimaryDetachments(){return this.getDetachmentsByType("Primary")}static getAuxiliaryDetachments(){return this.getDetachmentsByType("Auxiliary")}static getApexDetachments(){return this.getDetachmentsByType("Apex")}static getUniversalDetachments(){return this.getDetachmentsByType("Universal")}static getAlliedDetachments(){return this.getDetachmentsByType("Allied")}static getAvailableDetachments(e){const a=[],n=this.getDetachments();for(const i of n)this.isDetachmentAvailable(i,e)&&a.push(i);return a}static isDetachmentAvailable(e,a){return!(a.detachments.find(i=>i.detachmentId===e.id)||!this.checkDetachmentRequirements(e,a)||!this.checkDetachmentRestrictions(e,a)||!this.checkDetachmentTriggers(e,a))}static checkDetachmentRequirements(e,a){for(const n of e.requirements)switch(n.type){case"faction":if(n.value==="any")continue;if(n.value!==a.faction)return!1;break;case"points":if(a.pointsLimit<n.value)return!1;break;case"detachment":if(n.value==="primary"&&!a.detachments.some(l=>this.getDetachmentById(l.detachmentId)?.type==="Primary"))return!1;break}return!0}static checkDetachmentRestrictions(e,a){if(!e.restrictions)return!0;for(const n of e.restrictions)switch(n.type){case"faction-must-match":if(n.value==="primary-faction"){const i=a.detachments.find(l=>this.getDetachmentById(l.detachmentId)?.type==="Primary");if(i){const l=this.getDetachmentById(i.detachmentId);if(l&&l.faction!==e.faction)return!1}}break;case"faction-must-differ":if(n.value==="primary-faction"){if(e.faction==="universal")continue;const i=a.detachments.find(l=>this.getDetachmentById(l.detachmentId)?.type==="Primary");if(i){const l=this.getDetachmentById(i.detachmentId);if(l&&l.faction===e.faction)return!1}}break;case"max-count":{if(a.detachments.filter(l=>this.getDetachmentById(l.detachmentId)?.type===e.type).length>=n.value)return!1;break}}return!0}static checkDetachmentTriggers(e,a){if(!e.triggers)return!0;for(const n of e.triggers)switch(n.type){case"always-available":return!0;case"command-filled":return this.hasFilledSlot(a,"command");case"high-command-filled":return this.hasFilledSlot(a,"high-command");case"specific-unit":return this.hasSpecificUnitInSlot(a,n.requiredUnitId,n.requiredSlotType);default:return!1}return!1}static hasSpecificUnitInSlot(e,a,n){const i=n==="Command"?"command":"high-command";for(const l of e.detachments)for(const d of l.units){const u=this.getUnitById(d.unitId);if(!u)continue;const h=this.getBattlefieldRoleById(i);if(h&&u.battlefieldRole===h.type&&d.unitId===a)return!0}return!1}static hasFilledSlot(e,a){for(const n of e.detachments){const i=this.getDetachmentById(n.detachmentId);if(i){for(const l of i.slots)if(l.roleId===a&&n.units.filter(u=>this.getUnitById(u.unitId)?.battlefieldRole===l.roleId).length>0)return!0}}return!1}static getUnits(){return Ao.units}static getUnitById(e){return Ao.units.find(a=>a.id===e)}static getUnitsByFaction(e){return Ao.units.filter(a=>a.faction===e)}static getUnitsByAllegiance(e){return Ao.units.filter(a=>a.allegiance===e||a.allegiance==="Universal")}static getUnitsByFactionAndAllegiance(e,a){return Ao.units.filter(n=>n.faction===e&&(n.allegiance===a||n.allegiance==="Universal"))}static getUnitsBySubfaction(e){return Ao.units.filter(a=>a.subfaction===e)}static getUnitsByFactionAndSubfaction(e,a){return Ao.units.filter(n=>n.faction===e&&(!a||n.subfaction===a||!n.subfaction))}static getUnitsByRole(e){return Ao.units.filter(a=>a.battlefieldRole===e)}static getUnitsByRoleAndAllegiance(e,a){return Ao.units.filter(n=>n.battlefieldRole===e&&(n.allegiance===a||n.allegiance==="Universal"))}static getUpgrades(){return QR.upgrades}static getUpgradeById(e){return QR.upgrades.find(a=>a.id===e)}static getUpgradeOptionById(e,a){const n=this.getUpgradeById(e);if(!(!n||!n.options))return n.options.find(i=>i.id===a)}static getUpgradeGroupsForModel(e){return this.getModelById(e)?.upgradeGroups||[]}static getUpgradeGroupById(e){const a=this.getModels();for(const n of a){const i=n.upgradeGroups?.find(l=>l.id===e);if(i)return i}}static getUnitInstanceData(e,a){const n=this.getUnitById(e);if(!n)throw new Error(`Unit not found: ${e}`);const i=JSON.parse(JSON.stringify(n));return a.modelInstanceWeaponChanges&&Object.entries(a.modelInstanceWeaponChanges).forEach(([l,d])=>{const u=this.getModelById(l);if(u){const h=JSON.parse(JSON.stringify(u));Object.values(d).forEach(m=>{m.removed.forEach(y=>{const v=typeof y=="string"?y:y.id,x=h.weapons.findIndex(T=>typeof T=="string"?T===v:T.id===v);x!==-1&&(h.weapons.splice(x,1),console.log(`getUnitInstanceData: Removed weapon ${v} from ${l}`))}),m.added.forEach(y=>{const v=typeof y=="string"?y:y.id;h.weapons.push(v),console.log(`getUnitInstanceData: Added weapon ${v} to ${l}`)})})}}),i}static getModelsForUnitInstance(e,a){if(!this.getUnitById(e))return[];const i=[];return Object.entries(a.models||{}).map(([d,u])=>({modelId:d,count:u})).forEach(d=>{const u=this.getModelById(d.modelId);if(u){const h=JSON.parse(JSON.stringify(u));if(a.modelInstanceWeaponChanges&&a.modelInstanceWeaponChanges[d.modelId]){const m=a.modelInstanceWeaponChanges[d.modelId];Object.values(m).forEach(y=>{y.removed.forEach(v=>{const x=typeof v=="string"?v:v.id,T=h.weapons.findIndex(C=>typeof C=="string"?C===x:C.id===x);T!==-1&&h.weapons.splice(T,1)}),y.added.forEach(v=>{const x=typeof v=="string"?v:v.id;h.weapons.push(x)})})}i.push({model:h,count:d.count})}}),i}static calculateWeaponCounts(e,a){if(!this.getUnitById(e))return{};const i={},l=Object.entries(a.models||{}).map(([d,u])=>({modelId:d,count:u}));return console.log("=== calculateWeaponCounts START ==="),console.log("Unit ID:",e),console.log("Model composition:",l),console.log("Model instance weapon changes:",a.modelInstanceWeaponChanges),l.forEach(d=>{const u=this.getModelById(d.modelId);if(u){console.log(`
--- Processing model ${d.modelId} with count ${d.count} ---`),console.log("Base model weapons:",u.weapons);for(let h=0;h<d.count;h++){console.log(`
  Processing instance ${h}:`);let m=[];if(Array.isArray(u.weapons)&&u.weapons.length>0&&typeof u.weapons[0]=="object"&&"id"in u.weapons[0]?m=[...u.weapons]:m=u.weapons.map(y=>({id:y})),console.log(`  Initial weapons for instance ${h}:`,m),a.modelInstanceWeaponChanges&&a.modelInstanceWeaponChanges[d.modelId]&&a.modelInstanceWeaponChanges[d.modelId][h]){const y=a.modelInstanceWeaponChanges[d.modelId][h];console.log(`  Weapon changes for instance ${h}:`,y);const v=y.removed,x=y.added;for(let T=0;T<Math.max(v.length,x.length);T++){if(T<v.length){const C=v[T],j=typeof C=="string"?C:C.id,E=typeof C=="string"?void 0:C.mount;E?(m=m.filter(M=>!(M.id===j&&M.mount===E)),console.log(`    Removing ${j} with mount ${E}`)):(m=m.filter(M=>M.id!==j),console.log(`    Removing all ${j}`))}if(T<x.length){const C=x[T];typeof C=="string"?m.push({id:C}):m.push(C),console.log(`    Adding ${typeof C=="string"?C:C.id}`)}}}else console.log(`  No weapon changes for instance ${h}`);m.forEach(y=>{const v=y.id,x=y.count||1,T=y.mount,C=T?`${v}-${T}`:v;i[C]||(i[C]={weaponId:v,count:0,mount:T}),i[C].count+=x}),console.log(`  Final weapons for instance ${h}:`,m)}}}),console.log(`
=== Final weapon counts ===`),console.log(i),console.log(`=== calculateWeaponCounts END ===
`),i}static getPrimeAdvantages(){return JR.primeAdvantages}static getPrimeAdvantageById(e){return JR.primeAdvantages.find(a=>a.id===e)}static calculateUnitPoints(e,a,n=[]){let i=e.points*a;for(const l of n)i+=l.points*(l.count||1);return i}static getPrimeSlotsForDetachment(e){const a=this.getDetachmentById(e);return a?a.slots.filter(n=>n.isPrime).map(n=>n.roleId):[]}static getTotalSlotsForRole(e,a){const n=this.getDetachmentById(e);return n?n.slots.filter(i=>i.roleId===a).reduce((i,l)=>i+l.count,0):0}}function g_(t,e){return t.detachments.filter(a=>a.triggeredBy&&a.triggeredBy.unitInstanceId===e)}function Z8(t,e,a,n=1){return g_(t,e.id).length<n}function e$(t,e){return{...t,detachments:t.detachments.filter(a=>!a.triggeredBy||a.triggeredBy.unitInstanceId!==e)}}function tp(t,e){return e.subfaction||t.subfaction}const t$="_card_1uesu_1",a$="_table_1uesu_1",ap={"browser-container":"_browser-container_1uesu_1","browser-header":"_browser-header_1uesu_1","back-to-menu-button":"_back-to-menu-button_1uesu_1","search-section":"_search-section_1uesu_1","search-container":"_search-container_1uesu_1","search-input-wrapper":"_search-input-wrapper_1uesu_1","search-input":"_search-input_1uesu_1","clear-search-button":"_clear-search-button_1uesu_1","search-results":"_search-results_1uesu_1","results-count":"_results-count_1uesu_1","filter-section":"_filter-section_1uesu_1","filter-container":"_filter-container_1uesu_1","filter-label":"_filter-label_1uesu_1","filter-select":"_filter-select_1uesu_1","content-section":"_content-section_1uesu_1","group-container":"_group-container_1uesu_1","group-header":"_group-header_1uesu_1","grid-container":"_grid-container_1uesu_1","grid-2":"_grid-2_1uesu_1","grid-3":"_grid-3_1uesu_1","grid-4":"_grid-4_1uesu_1",card:t$,"card-header":"_card-header_1uesu_1","card-title":"_card-title_1uesu_1","card-badge":"_card-badge_1uesu_1","card-content":"_card-content_1uesu_1","card-description":"_card-description_1uesu_1","card-details":"_card-details_1uesu_1","detail-row":"_detail-row_1uesu_1","detail-label":"_detail-label_1uesu_1","detail-value":"_detail-value_1uesu_1","table-container":"_table-container_1uesu_1",table:a$,"empty-state":"_empty-state_1uesu_1","ui-button":"_ui-button_1uesu_5","ui-button--primary":"_ui-button--primary_1uesu_23","ui-button--disabled":"_ui-button--disabled_1uesu_28","ui-button--secondary":"_ui-button--secondary_1uesu_34","ui-button--success":"_ui-button--success_1uesu_45","ui-button--danger":"_ui-button--danger_1uesu_56","ui-button--warning":"_ui-button--warning_1uesu_67","ui-button--info":"_ui-button--info_1uesu_78","ui-button--sm":"_ui-button--sm_1uesu_90","ui-button--md":"_ui-button--md_1uesu_96","ui-button--lg":"_ui-button--lg_1uesu_102","ui-button--full-width":"_ui-button--full-width_1uesu_116","ui-button--loading":"_ui-button--loading_1uesu_128","button-spin":"_button-spin_1uesu_1"},n$=({children:t,variant:e="primary",size:a="md",disabled:n=!1,onClick:i,type:l="button",className:d="",fullWidth:u=!1,title:h})=>{const m=ap["ui-button"],y=ap[`ui-button--${e}`],v=ap[`ui-button--${a}`],x=u?ap["ui-button--full-width"]:"",T=n?ap["ui-button--disabled"]:"",C=[m,y,v,x,T,d].filter(Boolean).join(" ");return s.jsx("button",{type:l,className:C,onClick:i,disabled:n,title:h,children:t})},r$="_card_3f4ao_1",i$="_table_3f4ao_1",np={"browser-container":"_browser-container_3f4ao_1","browser-header":"_browser-header_3f4ao_1","back-to-menu-button":"_back-to-menu-button_3f4ao_1","search-section":"_search-section_3f4ao_1","search-container":"_search-container_3f4ao_1","search-input-wrapper":"_search-input-wrapper_3f4ao_1","search-input":"_search-input_3f4ao_1","clear-search-button":"_clear-search-button_3f4ao_1","search-results":"_search-results_3f4ao_1","results-count":"_results-count_3f4ao_1","filter-section":"_filter-section_3f4ao_1","filter-container":"_filter-container_3f4ao_1","filter-label":"_filter-label_3f4ao_1","filter-select":"_filter-select_3f4ao_1","content-section":"_content-section_3f4ao_1","group-container":"_group-container_3f4ao_1","group-header":"_group-header_3f4ao_1","grid-container":"_grid-container_3f4ao_1","grid-2":"_grid-2_3f4ao_1","grid-3":"_grid-3_3f4ao_1","grid-4":"_grid-4_3f4ao_1",card:r$,"card-header":"_card-header_3f4ao_1","card-title":"_card-title_3f4ao_1","card-badge":"_card-badge_3f4ao_1","card-content":"_card-content_3f4ao_1","card-description":"_card-description_3f4ao_1","card-details":"_card-details_3f4ao_1","detail-row":"_detail-row_3f4ao_1","detail-label":"_detail-label_3f4ao_1","detail-value":"_detail-value_3f4ao_1","table-container":"_table-container_3f4ao_1",table:i$,"empty-state":"_empty-state_3f4ao_1","ui-card":"_ui-card_3f4ao_5","ui-card--default":"_ui-card--default_3f4ao_15","ui-card--elevated":"_ui-card--elevated_3f4ao_20","ui-card--outlined":"_ui-card--outlined_3f4ao_26","ui-card--transparent":"_ui-card--transparent_3f4ao_32","ui-card--dark":"_ui-card--dark_3f4ao_38","ui-card--padding-none":"_ui-card--padding-none_3f4ao_46","ui-card--padding-sm":"_ui-card--padding-sm_3f4ao_50","ui-card--padding-md":"_ui-card--padding-md_3f4ao_54","ui-card--padding-lg":"_ui-card--padding-lg_3f4ao_58","ui-card--padding-xl":"_ui-card--padding-xl_3f4ao_62","ui-card--interactive":"_ui-card--interactive_3f4ao_67","ui-card--full-width":"_ui-card--full-width_3f4ao_90","ui-card-header":"_ui-card-header_3f4ao_95","ui-card-footer":"_ui-card-footer_3f4ao_109","ui-card-content":"_ui-card-content_3f4ao_119","ui-card-image":"_ui-card-image_3f4ao_128","ui-card--has-image":"_ui-card--has-image_3f4ao_135","ui-card-grid":"_ui-card-grid_3f4ao_140"},ZR=({children:t,variant:e="default",padding:a="md",className:n="",onClick:i,interactive:l=!1,fullWidth:d=!1})=>{const u=np["ui-card"],h=np[`ui-card--${e}`],m=np[`ui-card--padding-${a}`],y=l?np["ui-card--interactive"]:"",v=d?np["ui-card--full-width"]:"",x=[u,h,m,y,v,n].filter(Boolean).join(" ");return s.jsx("div",{className:x,onClick:i,role:i?"button":void 0,tabIndex:i?0:void 0,children:t})},o$=({primaryFactionId:t,onFactionSelected:e,onCancel:a})=>{const[n,i]=w.useState(null),[l,d]=w.useState("faction"),u=ge.getMainFactions().filter(E=>E.id!==t),h=ge.getLegionSubFactions(),m=ge.getDetachmentById("allied-detachment"),y=E=>{i(E),E.id==="legiones-astartes"?d("subFaction"):m&&e(m,E)},v=E=>{m&&e(m,n,E)},x=()=>{l==="subFaction"?d("faction"):a()},T=()=>s.jsxs("div",{children:[s.jsx("h3",{children:"Select Allied Faction"}),s.jsx("p",{children:"Choose the faction for your Allied Detachment. This must be different from your primary faction."}),s.jsx("div",{children:u.map(E=>s.jsxs(ZR,{variant:"default",padding:"lg",interactive:!0,onClick:()=>y(E),children:[s.jsx("h4",{children:E.name}),s.jsx("p",{children:E.description}),s.jsxs("div",{children:[s.jsx("span",{children:"Type:"}),s.jsx("span",{children:E.type})]}),E.specialRules&&s.jsxs("div",{children:[s.jsx("span",{children:"Special Rules:"}),s.jsx("div",{children:E.specialRules.map((M,L)=>s.jsx("span",{children:M},L))})]}),E.id==="legiones-astartes"&&s.jsx("div",{children:s.jsx("span",{children:"Note: You'll need to select a specific Legion"})})]},E.id))})]}),C=()=>s.jsxs("div",{children:[s.jsx("h3",{children:"Select Allied Legion"}),s.jsx("p",{children:"Choose your Allied Space Marine Legion."}),s.jsx("div",{children:h.map(E=>s.jsxs(ZR,{variant:"default",padding:"lg",interactive:!0,onClick:()=>v(E),children:[s.jsx("h4",{children:E.name}),s.jsx("p",{children:E.description}),s.jsxs("div",{children:[s.jsx("span",{children:"Type:"}),s.jsx("span",{children:E.type})]}),E.specialRules&&s.jsxs("div",{children:[s.jsx("span",{children:"Special Rules:"}),s.jsx("div",{children:E.specialRules.map((M,L)=>s.jsx("span",{children:M},L))})]})]},E.id))})]}),j=()=>{switch(l){case"faction":return"Select Allied Faction";case"subFaction":return"Select Allied Legion";default:return"Allied Detachment Setup"}};return s.jsxs("div",{children:[s.jsxs("div",{children:[s.jsx(n$,{variant:"secondary",size:"sm",onClick:x,children:" Back"}),s.jsx("h2",{children:j()})]}),s.jsxs("div",{children:[l==="faction"&&T(),l==="subFaction"&&C()]})]})},s$=({isOpen:t,unitName:e,onConfirm:a,onCancel:n})=>s.jsxs(Ra,{open:t,onClose:n,maxWidth:"sm",fullWidth:!0,children:[s.jsx(ka,{children:s.jsxs(F,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.jsx(C6,{color:"warning"}),s.jsx(O,{variant:"h6",children:"Remove Unit"})]})}),s.jsxs(Aa,{children:[s.jsxs(O,{variant:"body1",children:['Are you sure you want to remove "',e,'"?']}),s.jsx(O,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"This will also remove any detachments that were triggered by this unit."})]}),s.jsxs(Ka,{children:[s.jsx(Ve,{variant:"outlined",onClick:n,children:"Cancel"}),s.jsx(Ve,{variant:"contained",color:"error",onClick:a,children:"Yes, Remove"})]})]}),vS=({detachment:t,armyDetachment:e,armyList:a,onUnitSelected:n,onUnitManagementOpen:i,onUnitSelectionOpen:l})=>{const d=Xa(),u=Jn(d.breakpoints.down("md")),h=Jn(d.breakpoints.down("sm")),[m,y]=w.useState(!1),[v,x]=w.useState(null),[T,C]=w.useState(null),j=D=>{switch(D){case"high-command":return"";case"command":return"";case"troops":return"";case"transport":return"";case"heavy-transport":return"";case"support":return"";case"armour":return"";case"war-engine":return"";case"elite":return"";case"reconnaissance":return"";case"heavy-assault":return"";case"fast-attack":return"";case"retinue":return"";case"paragon":return"";case"lord-of-war":return"";default:return""}},E=(D,U)=>{const P=`${e.id}-${D}-${U}`;return e.units.find(K=>K.slotId===P)},M=(D,U)=>{const P=`${e.id}-${D}-${U}`;return a.detachments.some(K=>K.triggeredBy&&K.triggeredBy.slotId===P&&K.triggeredBy.detachmentId===e.id)},L=(D,U)=>{const P=`${e.id}-${D}-${U}`;return a.detachments.filter(K=>K.triggeredBy&&K.triggeredBy.slotId===P&&K.triggeredBy.detachmentId===e.id)},W=(D,U)=>{const P=`${e.id}-${D}-${U}`,K=E(D,U);if(!!K)i&&K&&i(K,P,e.id);else if(l){const $=ge.getBattlefieldRoleById(D)?.name||"Unknown";l(D,$,e.id,P,t)}},R=(D,U)=>{const P=`${e.id}-${D}-${U}`,K=E(D,U);if(K){const $=ge.getUnitById(K.unitId)?.name||K.unitId;x({slotId:P,unitName:$}),y(!0)}},I=()=>{v&&(n(e.id,v.slotId,""),y(!1),x(null))},N=()=>{y(!1),x(null)},V=D=>{const U=ge.getBattlefieldRoleById(D.roleId),P=E(D.roleId,D.slotIndex),K=!!P,J=M(D.roleId,D.slotIndex),$=L(D.roleId,D.slotIndex),X=D.isCustomSlot;let le="",ie="";K&&P&&(le=ge.getUnitById(P.unitId)?.name||P.unitId,P.primeAdvantages?.some(be=>be.advantageId==="logistical-benefit")&&(ie=" - Added by Logistical Benefit"));const H=K?`${le}${D.isPrime?" (Prime)":""}${J?` - Has triggered ${$.length} detachment${$.length>1?"s":""}`:""}${ie} - Click to remove`:`${U?.name}${D.isPrime?" (Prime)":""}${X?" - Custom slot":""} - Click to add unit`,te=h?32:u?36:40,Q=h?"1.25rem":u?"1.4rem":"1.5rem",ne=h?12:u?14:16;return s.jsx($z,{title:H,arrow:!0,children:s.jsxs(F,{sx:{position:"relative",width:te,height:te,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",border:D.isPrime?"3px solid":"2px solid",borderColor:K?J?"warning.main":"success.main":D.isPrime?"#ffd700":"rgba(255, 255, 255, 0.3)",backgroundColor:K?J?"rgba(255, 152, 0, 0.3)":"rgba(76, 175, 80, 0.3)":D.isPrime?"rgba(255, 215, 0, 0.1)":"rgba(255, 255, 255, 0.05)",boxShadow:K?J?"0 0 12px rgba(255, 152, 0, 0.4)":"0 0 12px rgba(76, 175, 80, 0.4)":D.isPrime?"0 0 8px rgba(255, 215, 0, 0.3)":"none",transform:K?"scale(1.05)":"scale(1)",cursor:"pointer",transition:"all 0.2s ease","&:hover":{transform:"scale(1.1)",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)"}},onClick:()=>W(D.roleId,D.slotIndex),onMouseEnter:()=>C(`${D.roleId}-${D.slotIndex}`),onMouseLeave:()=>C(null),children:[s.jsx(O,{sx:{fontSize:Q,lineHeight:1},children:j(D.roleId)}),D.isPrime&&s.jsx(F,{sx:{position:"absolute",bottom:-2,right:-2,color:"#ffd700",fontSize:"0.75rem",backgroundColor:"rgba(0, 0, 0, 0.8)",borderRadius:"50%",width:ne,height:ne,display:"flex",alignItems:"center",justifyContent:"center",fontWeight:600},children:s.jsx(Zk,{sx:{fontSize:"0.75rem"}})}),X&&s.jsx(F,{sx:{position:"absolute",top:-2,left:-2,color:"warning.main",fontSize:"0.75rem",backgroundColor:"rgba(0, 0, 0, 0.8)",borderRadius:"50%",width:ne,height:ne,display:"flex",alignItems:"center",justifyContent:"center",fontWeight:600},children:s.jsx(Jk,{sx:{fontSize:"0.75rem"}})}),K&&s.jsx(F,{sx:{position:"absolute",top:-2,right:D.isPrime?12:-2,color:"success.main",fontSize:"0.75rem",backgroundColor:"rgba(0, 0, 0, 0.8)",borderRadius:"50%",width:ne,height:ne,display:"flex",alignItems:"center",justifyContent:"center",fontWeight:600},children:s.jsx(O,{sx:{fontSize:"0.5rem",color:"white",fontWeight:600},children:le.split(" ")[0]})}),J&&s.jsx(F,{sx:{position:"absolute",top:-2,left:X?12:-2,color:"warning.main",fontSize:"0.75rem",backgroundColor:"rgba(0, 0, 0, 0.8)",borderRadius:"50%",width:ne,height:ne,display:"flex",alignItems:"center",justifyContent:"center",fontWeight:600},children:$.length>1?s.jsx(O,{sx:{fontSize:"0.5rem",color:"white",fontWeight:600},children:$.length}):s.jsx(f6,{sx:{fontSize:"0.75rem"}})}),T===`${D.roleId}-${D.slotIndex}`&&K&&s.jsx(xt,{size:"small",sx:{position:"absolute",top:-6,right:-6,backgroundColor:"error.main",color:"white",width:20,height:20,opacity:1,transform:"scale(1)",transition:"all 0.2s ease","&:hover":{backgroundColor:"#d32f2f",transform:"scale(1.1)"}},onClick:ye=>{ye.stopPropagation(),R(D.roleId,D.slotIndex)},children:s.jsx(Mr,{sx:{fontSize:"0.75rem"}})})]})},`${D.roleId}-${D.slotIndex}`)},A=[];let _=0;return(e.modifiedSlots.length>0?e.modifiedSlots:t.slots).forEach(D=>{const U=A.find(P=>P.roleId===D.roleId);if(U)for(let P=0;P<D.count;P++)U.slots.push({...D,count:1,slotIndex:_,isCustomSlot:!1}),_++;else{const P={roleId:D.roleId,roleName:ge.getBattlefieldRoleById(D.roleId)?.name||"Unknown",slots:[]};for(let K=0;K<D.count;K++)P.slots.push({...D,count:1,slotIndex:_,isCustomSlot:!1}),_++;A.push(P)}}),s.jsxs(F,{sx:{mt:{xs:2,sm:3}},children:[s.jsx(F,{sx:{display:"flex",flexDirection:"column",gap:{xs:2,sm:3},mb:{xs:2,sm:3}},children:A.map((D,U)=>s.jsxs(F,{sx:{display:"flex",gap:{xs:2,sm:3},py:{xs:1.5,sm:2},px:{xs:2,sm:3},borderBottom:{xs:"1px solid",sm:"none"},borderColor:{xs:"rgba(255, 255, 255, 0.1)",sm:"transparent"},flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"flex-start",sm:"center"},"&:last-child":{borderBottom:"none"}},children:[s.jsx(O,{sx:{minWidth:{xs:"auto",sm:120},fontWeight:600,color:"primary.main",fontSize:{xs:"0.875rem",sm:"1rem"},textTransform:"capitalize",mb:{xs:1,sm:0}},children:D.roleName}),s.jsx(F,{sx:{display:"flex",gap:{xs:.5,sm:1},flexWrap:"wrap",justifyContent:{xs:"center",sm:"flex-start"}},children:D.slots.map(P=>V(P))})]},U))}),s.jsx(s$,{isOpen:m,unitName:v?.unitName||"",onConfirm:I,onCancel:N})]})},l$=({isOpen:t,armyList:e,onAddDetachment:a,onClose:n})=>{const i=Xa(),l=Jn(i.breakpoints.down("md")),[d,u]=w.useState("all"),[h,m]=w.useState(!1),y=ge.getAvailableDetachments(e).filter(M=>M.id!=="crusade-primary"),v=[{id:"all",name:"All Available"},{id:"Auxiliary",name:"Auxiliary"},{id:"Apex",name:"Apex"},{id:"Universal",name:"Universal"},{id:"Allied",name:"Allied"}],x=d==="all"?y:y.filter(M=>M.type===d),T=M=>{M.type==="Allied"?m(!0):(a(M),n())},C=(M,L,W)=>{const R={...M,faction:W?W.id:L.id};a(R),n()},j=M=>{switch(M){case"Auxiliary":return"#4caf50";case"Apex":return"#ff9800";case"Universal":return"#9c27b0";case"Allied":return"#2196f3";default:return"#666"}},E=M=>M.triggers?M.triggers.map(W=>{switch(W.type){case"command-filled":return"Command slot filled";case"high-command-filled":return"High Command slot filled";case"always-available":return"Always available";default:return W.description}}).join(", "):"Always available";return h?s.jsx(o$,{primaryFactionId:e.faction,onFactionSelected:C,onCancel:()=>m(!1)}):s.jsxs(Ra,{open:t,onClose:n,maxWidth:"lg",fullWidth:!0,fullScreen:l,PaperProps:{sx:{maxHeight:l?"100vh":"90vh",height:l?"100vh":"auto"}},children:[s.jsx(ka,{sx:{p:{xs:2,sm:3},pb:{xs:1,sm:2}},children:s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(O,{variant:"h5",component:"h2",children:"Add Detachment"}),s.jsx(xt,{onClick:n,size:l?"medium":"small",sx:{p:{xs:1,sm:.5}},children:s.jsx(Mr,{})})]})}),s.jsx(Aa,{sx:{p:{xs:2,sm:3},pt:{xs:0,sm:1}},children:s.jsxs(pa,{spacing:{xs:2,sm:3},children:[s.jsxs(F,{children:[s.jsx(O,{variant:"subtitle1",gutterBottom:!0,sx:{fontSize:{xs:"1rem",sm:"1.125rem"}},children:"Filter by type:"}),s.jsx(Xk,{value:d,exclusive:!0,onChange:(M,L)=>L&&u(L),size:"small",sx:{flexWrap:"wrap",gap:{xs:.5,sm:0}},children:v.map(M=>s.jsx(lx,{value:M.id,sx:{fontSize:{xs:"0.75rem",sm:"0.875rem"},px:{xs:1,sm:2}},children:M.name},M.id))})]}),s.jsx(F,{children:x.length===0?s.jsx(yt,{variant:"outlined",children:s.jsxs(bt,{sx:{p:{xs:2,sm:3},textAlign:"center"},children:[s.jsx(O,{variant:"body1",color:"text.secondary",gutterBottom:!0,sx:{fontSize:{xs:"0.875rem",sm:"1rem"}},children:"No detachments available for the current army list."}),s.jsx(O,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Add units to Command or High Command slots to unlock more detachments."})]})}):s.jsx(pa,{spacing:{xs:1.5,sm:2},children:x.map(M=>s.jsx(yt,{variant:"outlined",sx:{cursor:"pointer","&:hover":{boxShadow:4},transition:"box-shadow 0.2s ease-in-out"},onClick:()=>T(M),children:s.jsxs(bt,{sx:{p:{xs:2,sm:3}},children:[s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2,flexDirection:{xs:"column",sm:"row"},gap:{xs:1,sm:0}},children:[s.jsx(O,{variant:"h6",component:"h3",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"}},children:M.name}),s.jsx(Ye,{label:M.type,size:"small",sx:{backgroundColor:j(M.type),color:"white",fontWeight:"bold",alignSelf:{xs:"flex-start",sm:"flex-end"}}})]}),s.jsx(O,{variant:"body2",color:"text.secondary",sx:{mb:2,fontSize:{xs:"0.875rem",sm:"1rem"}},children:M.description}),s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,flexDirection:{xs:"column",sm:"row"},gap:{xs:.5,sm:0}},children:[s.jsx(O,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"0.875rem",sm:"1rem"}},children:"Trigger:"}),s.jsx(O,{variant:"body2",sx:{fontSize:{xs:"0.875rem",sm:"1rem"},textAlign:{xs:"center",sm:"left"}},children:E(M)})]}),s.jsx(vS,{detachment:M,armyDetachment:{id:`${M.id}-preview`,detachmentId:M.id,customName:void 0,points:0,baseSlots:M.slots,modifiedSlots:M.slots,primeAdvantages:[],units:[]},armyList:e,onUnitSelected:()=>{}})]})},M.id))})})]})})]})},Wv="heresy-custom-units";class Ur{static saveCustomUnit(e){try{const a=this.getAllCustomUnits();a[e.id]=e,localStorage.setItem(Wv,JSON.stringify(a))}catch(a){throw console.error("Failed to save custom unit:",a),new Error("Failed to save custom unit")}}static getCustomUnit(e){try{return this.getAllCustomUnits()[e]||null}catch(a){return console.error("Failed to get custom unit:",a),null}}static getAllCustomUnits(){try{const e=localStorage.getItem(Wv);return e?JSON.parse(e):{}}catch(e){return console.error("Failed to get custom units:",e),{}}}static getAllCustomUnitMetadata(){try{const e=this.getAllCustomUnits();return Object.values(e).map(a=>({id:a.id,name:a.name,baseUnitId:a.baseUnitId,faction:a.faction,subfaction:a.subfaction,createdAt:a.createdAt,updatedAt:a.updatedAt,description:a.description}))}catch(e){return console.error("Failed to get custom unit metadata:",e),[]}}static deleteCustomUnit(e){try{const a=this.getAllCustomUnits();return a[e]?(delete a[e],localStorage.setItem(Wv,JSON.stringify(a)),!0):!1}catch(a){return console.error("Failed to delete custom unit:",a),!1}}static isNameTaken(e,a){try{const n=this.getAllCustomUnits();return Object.values(n).some(i=>i.name.toLowerCase()===e.toLowerCase()&&i.id!==a)}catch(n){return console.error("Failed to check if name is taken:",n),!1}}static generateId(e){return e.toLowerCase().replace(/[^a-z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")}static createCustomUnitFromArmyUnit(e,a,n,i,l){const d=this.generateId(e),u=new Date().toISOString();return{id:d,name:e,baseUnitId:a.unitId,faction:n,subfaction:i,upgrades:a.upgrades||[],primeAdvantages:a.primeAdvantages,modelInstanceWeaponChanges:a.modelInstanceWeaponChanges,modelInstanceWargearChanges:a.modelInstanceWargearChanges,createdAt:u,updatedAt:u,description:l}}}class Pi{static getMaxCount(e,a){return e.maxCount&&e.maxCount!=="dependent"?e.maxCount:e.maxCount==="dependent"?this.calculateDependentMaxCount(e,a):1}static calculateDependentMaxCount(e,a){const{selectedUpgrades:n,previewModels:i}=a;if(e.requiresUpgrade)return n.find(d=>d.upgradeId===e.requiresUpgrade)?.count||0;if(e.targetModelType)return this.calculateModelBasedMaxCount(e,a);if(e.targetModel)return i[e.targetModel]||0;if(e.requiredWeapons&&e.requiredWeapons.length>0){let l=0;for(const[d,u]of Object.entries(i))if(u>0){const h=this.calculateAvailableWeaponCount(d,e.requiredWeapons,a,e.id);l+=h}return l}return 0}static calculateModelBasedMaxCount(e,a){const{previewModels:n}=a,i=e.targetModelTypes||(e.targetModelType?[e.targetModelType]:[]);if(i.length===0)return 0;let l=0;for(const d of i){const u=n[d]||0;if(!ge.getModelById(d))continue;const m=this.getWeaponRequirements(e);m.length===0?l+=u:l+=this.calculateAvailableWeaponCount(d,m,a,e.id)}return l}static getWeaponRequirements(e){const a=[];return e.options&&e.options.forEach(n=>{if(n.replaceWeapon&&a.push(n.replaceWeapon),n.addWeapon&&this.isWeaponRequirement(n.addWeapon)){const i=this.getRequiredWeaponForAddon(n.addWeapon);i&&a.push(i)}}),[...new Set(a)]}static isWeaponRequirement(e){return["bayonet","blast-charger"].includes(e)}static getRequiredWeaponForAddon(e){return{bayonet:"lasrifle","blast-charger":"lasrifle"}[e]||null}static calculateAvailableWeaponCount(e,a,n,i){const{selectedUpgrades:l,previewModels:d}=n,u=d[e]||0;let h=0;return l.forEach(m=>{if(i&&m.upgradeId===i)return;const y=ge.getUpgradeById(m.upgradeId);if(!y)return;if((y.targetModelTypes||(y.targetModelType?[y.targetModelType]:[])).includes(e)&&m.optionId){const x=y.options?.find(T=>T.id===m.optionId);x&&(x.replaceWeapon&&a.includes(x.replaceWeapon)&&(h+=m.count),x.weaponReplacements&&x.weaponReplacements.forEach(T=>{a.includes(T.replaceWeapon)&&(h+=m.count)}))}}),Math.max(0,u-h)}static isUpgradeAvailable(e,a){const{selectedUpgrades:n}=a;if(e.legionRestriction&&!this.checkLegionRestriction(e,a)||e.subTypeRestriction&&!this.checkSubTypeRestriction(e,a)||e.requiredWeapons&&!this.checkRequiredWeapons(e,a))return!1;if(e.requiresUpgrade){const i=n.find(l=>l.upgradeId===e.requiresUpgrade);return i?i.count>0:!1}return this.hasMutualExclusivity(e)?!this.hasConflictingUpgrade(e,n):!0}static hasMutualExclusivity(e){return["lifeward-vexilla-upgrade","companion-vexilla-upgrade"].includes(e.id)}static hasConflictingUpgrade(e,a){return e.id==="lifeward-vexilla-upgrade"||e.id==="companion-vexilla-upgrade"?a.some(n=>n.upgradeId===e.id&&n.count>0):!1}static getConflictingUpgrades(e){return["lifeward-vexilla-upgrade","companion-vexilla-upgrade"].includes(e)?[e]:[]}static checkLegionRestriction(e,a){if(!e.legionRestriction)return!0;const n=a.legion;return n?n===e.legionRestriction:!1}static checkSubTypeRestriction(e,a){if(!e.subTypeRestriction)return!0;const n=e.targetModelTypes||(e.targetModelType?[e.targetModelType]:[]);if(n.length===0){for(const[i,l]of Object.entries(a.previewModels))if(l>0){const d=ge.getModelById(i);if(d&&d.subType){const u=Array.isArray(d.subType)?d.subType:[d.subType],h=Array.isArray(e.subTypeRestriction)?e.subTypeRestriction:[e.subTypeRestriction];if(u.some(m=>h.includes(m)))return!0}}return!1}for(const i of n){const l=ge.getModelById(i);if(l&&l.subType){const d=Array.isArray(l.subType)?l.subType:[l.subType],u=Array.isArray(e.subTypeRestriction)?e.subTypeRestriction:[e.subTypeRestriction];if(d.some(h=>u.includes(h)))return!0}}return!1}static checkRequiredWeapons(e,a){if(!e.requiredWeapons||e.requiredWeapons.length===0)return!0;const n=e.targetModelTypes||(e.targetModelType?[e.targetModelType]:[]);if(n.length===0){for(const[i,l]of Object.entries(a.previewModels))if(l>0&&this.modelHasRequiredWeaponsWithUpgrades(i,e.requiredWeapons,a))return!0;return!1}for(const i of n)if(this.modelHasRequiredWeaponsWithUpgrades(i,e.requiredWeapons,a))return!0;return!1}static modelHasRequiredWeaponsWithUpgrades(e,a,n){const i=ge.getModelById(e);if(!i)return!1;const d=this.calculateEffectiveWeapons(e,i.weapons||[],n.selectedUpgrades,1).map(u=>u.weaponId);return a.some(u=>d.includes(u))}static validateUpgradeSelection(e,a,n){const i=[],l=ge.getUpgradeById(e);if(!l)return i.push(`Upgrade ${e} not found`),i;const d=this.getMaxCount(l,n);return a>d&&i.push(`Cannot select more than ${d} instances of ${l.name}`),this.isUpgradeAvailable(l,n)||i.push(`${l.name} is not available for selection`),i}static calculateEffectiveWeapons(e,a,n,i){if(n.length===0)return a.map(u=>{const h=typeof u=="string"?u:u.id,m=typeof u=="string"?void 0:u.mount,y=typeof u=="string"?1:u.count||1;return{weaponId:h,count:y,mount:m}});const l=new Map;a.forEach(u=>{const h=typeof u=="string"?u:u.id,m=typeof u=="string"?void 0:u.mount,y=typeof u=="string"?1:u.count||1,v=h;l.set(v,{count:(l.get(v)?.count||0)+y,mount:m})}),n.forEach(u=>{const h=ge.getUpgradeById(u.upgradeId);if(!h)return;const m=h.targetModelTypes||(h.targetModelType?[h.targetModelType]:[]),v=ge.getModelById(e)?.modelTypes||[];if(m.includes(e)||h.targetModel===e||m.some(T=>v.includes(T)))if(u.optionId){const T=h.options?.find(C=>C.id===u.optionId);T&&this.applyWeaponOption(T,l,u.count)}else this.applyWeaponUpgrade(h,l,u.count)});const d=[];return l.forEach((u,h)=>{u.count>0&&d.push({weaponId:h,count:u.count,mount:u.mount})}),d}static applyWeaponOption(e,a,n){if(e.replaceWeapon){const i=e.replaceWeapon,l=a.get(i)||{count:0};a.set(i,{...l,count:Math.max(0,l.count-n)})}if(e.addWeapon){const i=typeof e.addWeapon=="string"?e.addWeapon:e.addWeapon.id,l=typeof e.addWeapon=="string"?void 0:e.addWeapon.mount,d=i,u=a.get(d)||{count:0,mount:l};a.set(d,{...u,count:u.count+n})}e.weaponReplacements&&e.weaponReplacements.forEach(i=>{const l=i.replaceWeapon,d=a.get(l)||{count:0};if(a.set(l,{...d,count:Math.max(0,d.count-n)}),i.addWeapon){const u=typeof i.addWeapon=="string"?i.addWeapon:i.addWeapon.id,h=typeof i.addWeapon=="string"?void 0:i.addWeapon.mount,m=u,y=a.get(m)||{count:0,mount:h};a.set(m,{...y,count:y.count+n})}if(i.withWeapon){const u=typeof i.withWeapon=="string"?i.withWeapon:i.withWeapon.id,h=typeof i.withWeapon=="string"?void 0:i.withWeapon.mount,m=u,y=a.get(m)||{count:0,mount:h};a.set(m,{...y,count:y.count+n})}})}static applyWeaponUpgrade(e,a,n){if(e.replaceWeapon){const i=e.replaceWeapon,l=a.get(i)||{count:0};a.set(i,{...l,count:Math.max(0,l.count-n)})}if(e.addWeapon){const i=typeof e.addWeapon=="string"?e.addWeapon:e.addWeapon.id,l=typeof e.addWeapon=="string"?void 0:e.addWeapon.mount,d=i,u=a.get(d)||{count:0,mount:l};a.set(d,{...u,count:u.count+n})}}static calculateEffectiveWargear(e,a,n){const i=new Map;a.forEach(d=>{i.set(d,(i.get(d)||0)+1)}),n.forEach(d=>{const u=ge.getUpgradeById(d.upgradeId);if(!u)return;const h=u.targetModelTypes||(u.targetModelType?[u.targetModelType]:[]),y=ge.getModelById(e)?.modelTypes||[];if(h.includes(e)||u.targetModel===e||h.some(x=>y.includes(x)))if(d.optionId){const x=u.options?.find(T=>T.id===d.optionId);x&&this.applyWargearOption(x,i,d.count)}else this.applyWargearUpgrade(u,i,d.count)});const l=[];return i.forEach((d,u)=>{if(d>0)for(let h=0;h<d;h++)l.push(u)}),l}static applyWargearOption(e,a,n){if(e.replaceWargear){const i=a.get(e.replaceWargear)||0;a.set(e.replaceWargear,Math.max(0,i-n))}if(e.addWargear){const i=typeof e.addWargear=="string"?e.addWargear:e.addWargear.id,l=a.get(i)||0;a.set(i,l+n)}}static applyWargearUpgrade(e,a,n){if(e.replaceWargear){const i=a.get(e.replaceWargear)||0;a.set(e.replaceWargear,Math.max(0,i-n))}if(e.addWargear){const i=typeof e.addWargear=="string"?e.addWargear:e.addWargear.id,l=a.get(i)||0;a.set(i,l+n)}}}class f_{static replaceTraits(e,a,n){return e.map(i=>this.replaceTrait(i,a,n))}static replaceTrait(e,a,n){return e==="[Allegiance]"?a:e==="[Legiones Astartes]"&&n?this.formatLegionName(n):e}static formatLegionName(e){return{"iron-warriors":"Iron Warriors",ultramarines:"Ultramarines","dark-angels":"Dark Angels","white-scars":"White Scars","space-wolves":"Space Wolves","imperial-fists":"Imperial Fists","blood-angels":"Blood Angels","iron-hands":"Iron Hands","world-eaters":"World Eaters","death-guard":"Death Guard","thousand-sons":"Thousand Sons","luna-wolves":"Luna Wolves","word-bearers":"Word Bearers","alpha-legion":"Alpha Legion","night-lords":"Night Lords",salamanders:"Salamanders","raven-guard":"Raven Guard","emperor-s-children":"Emperor's Children"}[e]||e}static isBracketedTrait(e){return e.startsWith("[")&&e.endsWith("]")}static getBracketedTraits(e){return e.filter(a=>this.isBracketedTrait(a))}static hasBracketedTraits(e){return e.some(a=>this.isBracketedTrait(a))}}const c$=({unit:t,armyUnit:e,selectedUpgrades:a=[],allegiance:n,legion:i})=>{const l=Xa(),d=Jn(l.breakpoints.down("md")),u=e?ge.getModelsForUnitInstance(t.id,e):ge.getModelsForUnit(t.id),m=u.map(({model:E,count:M})=>{const L=Pi.calculateEffectiveWeapons(E.id,E.weapons||[],a,M),W=Pi.calculateEffectiveWargear(E.id,E.wargear||[],a);return{model:{...E,weapons:L.length>0?L.map(I=>({id:I.weaponId,mount:I.mount,count:I.count})):E.weapons,wargear:W},count:M}}),y=(E,M)=>!E||E.length===0?"-":E.map(L=>{const R=ge.getSpecialRuleById(L)?.name||L;return M&&M[L]!==void 0?`${R} (${M[L]})`:R}).join(", "),v=E=>E.some(({model:L})=>L.type==="Vehicle")?s.jsx(Yn,{component:ta,variant:"outlined",children:s.jsxs(Gn,{size:"small",children:[s.jsxs(Xn,{children:[s.jsxs(Pt,{children:[s.jsx(Y,{sx:{p:{xs:1,sm:2},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Model"}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"M"}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"BS"}),s.jsx(Y,{align:"center",colSpan:3,sx:{bgcolor:"primary.main",color:"white",p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Vehicle Armor"}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"HP"}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"TC"})]}),s.jsxs(Pt,{children:[s.jsx(Y,{sx:{p:{xs:1,sm:2}}}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}}}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}}}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"FA"}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"SA"}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"RA"}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}}}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}}})]})]}),s.jsx(Kn,{children:E.map(({model:L,count:W})=>{const R=L.characteristics,I=W>1?`${L.name} x${W}`:L.name;return s.jsxs(Pt,{hover:!0,children:[s.jsx(Y,{sx:{p:{xs:1,sm:2},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:I}),s.jsxs(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:[R.movement,'"']}),s.jsxs(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:[R.ballisticSkill,"+"]}),s.jsxs(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:[R.frontArmour,"+"]}),s.jsxs(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:[R.sideArmour,"+"]}),s.jsxs(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:[R.rearArmour,"+"]}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:R.hullPoints}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:R.transportCapacity||"-"})]},L.id)})})]})}):s.jsx(Yn,{component:ta,variant:"outlined",children:s.jsxs(Gn,{size:"small",children:[s.jsx(Xn,{children:s.jsxs(Pt,{children:[s.jsx(Y,{sx:{p:{xs:1,sm:2},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Model"}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"M"}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"WS"}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"BS"}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"S"}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"T"}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"W"}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"I"}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"A"}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Ld"}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Sv"}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Inv"}),s.jsx(Y,{sx:{p:{xs:1,sm:2},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Special Rules"})]})}),s.jsx(Kn,{children:E.map(({model:L,count:W})=>{const R=L.characteristics,I=W>1?`${L.name} x${W}`:L.name;return s.jsxs(Pt,{hover:!0,children:[s.jsx(Y,{sx:{p:{xs:1,sm:2},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:I}),s.jsxs(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:[R.movement,'"']}),s.jsxs(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:[R.weaponSkill,"+"]}),s.jsxs(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:[R.ballisticSkill,"+"]}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:R.strength}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:R.toughness}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:R.wounds}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:R.initiative}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:R.attacks}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:R.leadership}),s.jsxs(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:[R.armourSave,"+"]}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:R.invulnerableSave?`${R.invulnerableSave}+`:"-"}),s.jsx(Y,{sx:{p:{xs:1,sm:2},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:y(L.specialRules||[])})]},L.id)})})]})}),x=E=>{const M=E.some(({model:W})=>W.type==="Vehicle"),L=new Map;return E.forEach(({model:W,count:R})=>{W.weapons?.forEach(I=>{const N=typeof I=="string"?I:I.id,V=typeof I=="string"?void 0:I.mount,A=typeof I=="string"?1:I.count||1,_=ge.getWeaponById(N),S=V?`${N}-${V}`:N;if(_&&ge.isRangedWeapon(_))if(L.has(S)){const D=L.get(S),U=M?W.name:`${W.name}${R>1?` x${R}`:""}`;D.models.push(U)}else L.set(S,{weaponId:N,models:[M?W.name:`${W.name}${R>1?` x${R}`:""}`],weapon:_,mount:V,weaponCount:A})})}),L.size===0?s.jsx(Ca,{severity:"info",children:"No ranged weapons available."}):s.jsx(Yn,{component:ta,variant:"outlined",children:s.jsxs(Gn,{size:"small",children:[s.jsx(Xn,{children:s.jsxs(Pt,{children:[!M&&s.jsx(Y,{sx:{p:{xs:1,sm:2},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Models"}),M&&s.jsx(Y,{sx:{p:{xs:1,sm:2},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Mount"}),s.jsx(Y,{sx:{p:{xs:1,sm:2},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Weapon"}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Range"}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Firepower"}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"S"}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"AP"}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"D"}),s.jsx(Y,{sx:{p:{xs:1,sm:2},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Special Rules"}),s.jsx(Y,{sx:{p:{xs:1,sm:2},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Traits"})]})}),s.jsx(Kn,{children:Array.from(L.values()).map(({weaponId:W,models:R,weapon:I,weaponCount:N,mount:V},A)=>{if(!I)return s.jsxs(Pt,{hover:!0,children:[!M&&s.jsx(Y,{sx:{p:{xs:1,sm:2},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:R.join(", ")}),M&&s.jsx(Y,{sx:{p:{xs:1,sm:2},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:V||"-"}),s.jsx(Y,{sx:{p:{xs:1,sm:2},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:W}),s.jsx(Y,{colSpan:7,align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Weapon not found"})]},`${W}-${A}`);if(I.profiles&&I.profiles.length>0){const _=[];return _.push(s.jsxs(Pt,{sx:{backgroundColor:"action.hover"},children:[!M&&s.jsx(Y,{rowSpan:I.profiles.length+1,children:R.join(", ")}),M&&s.jsx(Y,{rowSpan:I.profiles.length+1,children:V||"-"}),s.jsxs(Y,{rowSpan:I.profiles.length+1,children:[I.name,N&&N>1?` x${N}`:""]}),s.jsx(Y,{colSpan:7,align:"center",children:s.jsx(O,{variant:"subtitle2",sx:{fontWeight:"bold"},children:"Multiple Profiles"})})]},`${W}-header`)),ge.getProfileWeapons(I).forEach((D,U)=>{if(ge.isRangedWeapon(D)){const P=D;_.push(s.jsxs(Pt,{children:[s.jsx(Y,{sx:{pl:{xs:2,sm:4},p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:s.jsx(O,{variant:"body2",sx:{fontStyle:"italic",fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:P.name})}),s.jsxs(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:[P.range,'"']}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:P.firepower}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:P.rangedStrength}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:P.ap}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:P.damage}),s.jsx(Y,{sx:{p:{xs:1,sm:2},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:y(P.specialRules||[],P.specialRuleValues)}),s.jsx(Y,{sx:{p:{xs:1,sm:2},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:P.traits?.join(", ")||"-"})]},`${W}-${U}`))}}),_}else return s.jsxs(Pt,{hover:!0,children:[!M&&s.jsx(Y,{sx:{p:{xs:1,sm:2},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:R.join(", ")}),M&&s.jsx(Y,{sx:{p:{xs:1,sm:2},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:V||"-"}),s.jsxs(Y,{sx:{p:{xs:1,sm:2},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:[I.name,N&&N>1?` x${N}`:""]}),s.jsxs(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:[I.range,'"']}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:I.firepower}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:I.rangedStrength}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:I.ap}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:I.damage}),s.jsx(Y,{sx:{p:{xs:1,sm:2},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:y(I.specialRules||[],I.specialRuleValues)}),s.jsx(Y,{sx:{p:{xs:1,sm:2},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:I.traits?.join(", ")||"-"})]},`${W}-${A}`)})})]})})},T=E=>{const M=E.some(({model:W})=>W.type==="Vehicle"),L=new Map;return E.forEach(({model:W,count:R})=>{W.weapons?.forEach(I=>{const N=typeof I=="string"?I:I.id,V=typeof I=="string"?void 0:I.mount,A=typeof I=="string"?1:I.count||1,_=ge.getWeaponById(N),S=V?`${N}-${V}`:N;if(_&&!ge.isRangedWeapon(_))if(L.has(S)){const D=L.get(S),U=M?W.name:`${W.name}${R>1?` x${R}`:""}`;D.models.push(U)}else L.set(S,{weaponId:N,models:[M?W.name:`${W.name}${R>1?` x${R}`:""}`],weapon:_,mount:V,weaponCount:A})})}),L.size===0?s.jsx(Ca,{severity:"info",children:"No melee weapons available."}):s.jsx(Yn,{component:ta,variant:"outlined",children:s.jsxs(Gn,{size:"small",children:[s.jsx(Xn,{children:s.jsxs(Pt,{children:[!M&&s.jsx(Y,{sx:{p:{xs:1,sm:2},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Models"}),M&&s.jsx(Y,{sx:{p:{xs:1,sm:2},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Mount"}),s.jsx(Y,{sx:{p:{xs:1,sm:2},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Weapon"}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Attack Modifier"}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Strength Modifier"}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Initiative Modifier"}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"AP"}),s.jsx(Y,{align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"D"}),s.jsx(Y,{sx:{p:{xs:1,sm:2},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Special Rules"}),s.jsx(Y,{sx:{p:{xs:1,sm:2},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Traits"})]})}),s.jsx(Kn,{children:Array.from(L.values()).map(({weaponId:W,models:R,weapon:I,weaponCount:N,mount:V},A)=>{if(!I)return s.jsxs(Pt,{hover:!0,children:[!M&&s.jsx(Y,{children:R.join(", ")}),M&&s.jsx(Y,{children:V||"-"}),s.jsx(Y,{children:W}),s.jsx(Y,{colSpan:7,align:"center",children:"Weapon not found"})]},`${W}-${A}`);if(I.profiles&&I.profiles.length>0){const _=[];return _.push(s.jsxs(Pt,{sx:{backgroundColor:"action.hover"},children:[!M&&s.jsx(Y,{rowSpan:I.profiles.length+1,sx:{p:{xs:1,sm:2},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:R.join(", ")}),M&&s.jsx(Y,{rowSpan:I.profiles.length+1,sx:{p:{xs:1,sm:2},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:V||"-"}),s.jsxs(Y,{rowSpan:I.profiles.length+1,sx:{p:{xs:1,sm:2},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:[I.name,N&&N>1?` x${N}`:""]}),s.jsx(Y,{colSpan:7,align:"center",sx:{p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:s.jsx(O,{variant:"subtitle2",sx:{fontWeight:"bold",fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Multiple Profiles"})})]},`${W}-header`)),ge.getProfileWeapons(I).forEach((D,U)=>{if(ge.isMeleeWeapon(D)){const P=D;_.push(s.jsxs(Pt,{children:[s.jsx(Y,{sx:{pl:4},children:s.jsx(O,{variant:"body2",sx:{fontStyle:"italic"},children:P.name})}),s.jsx(Y,{align:"center",children:P.attackModifier==="A"?"A":`${typeof P.attackModifier=="number"&&P.attackModifier>0?"+":""}${P.attackModifier}`}),s.jsx(Y,{align:"center",children:P.strengthModifier==="S"?"S":`${typeof P.strengthModifier=="number"&&P.strengthModifier>0?"+":""}${P.strengthModifier}`}),s.jsx(Y,{align:"center",children:P.initiativeModifier==="I"?"I":`${typeof P.initiativeModifier=="number"&&P.initiativeModifier>0?"+":""}${P.initiativeModifier}`}),s.jsx(Y,{align:"center",children:P.ap}),s.jsx(Y,{align:"center",children:P.damage}),s.jsx(Y,{children:y(P.specialRules||[],P.specialRuleValues)}),s.jsx(Y,{children:P.traits?.join(", ")||"-"})]},`${W}-${U}`))}}),_}else return s.jsxs(Pt,{hover:!0,children:[!M&&s.jsx(Y,{children:R.join(", ")}),M&&s.jsx(Y,{children:V||"-"}),s.jsxs(Y,{children:[I.name,N&&N>1?` x${N}`:""]}),s.jsx(Y,{align:"center",children:I.attackModifier||"-"}),s.jsx(Y,{align:"center",children:I.strengthModifier||"-"}),s.jsx(Y,{align:"center",children:I.initiativeModifier||"-"}),s.jsx(Y,{align:"center",children:I.ap}),s.jsx(Y,{align:"center",children:I.damage}),s.jsx(Y,{children:y(I.specialRules||[],I.specialRuleValues)}),s.jsx(Y,{children:I.traits?.join(", ")||"-"})]},`${W}-${A}`)})})]})})},C=E=>{const M=new Map;return t.specialRules&&t.specialRules.length>0&&t.specialRules.forEach(L=>{const W=ge.getSpecialRuleById(L),R=L;if(!W||W.type==="special-rule"){const I=t.specialRuleValues?.[L],N=I?`Unit (${I})`:"Unit";M.set(R,{ruleId:L,sources:[N],rule:W,specialRuleValues:t.specialRuleValues})}}),E.forEach(({model:L,count:W})=>{L.specialRules?.forEach(R=>{const I=ge.getSpecialRuleById(R),N=R;if(!I||I.type==="special-rule"){const V=L.specialRuleValues?.[R],A=`${L.name}${W>1?` x${W}`:""}${V?` (${V})`:""}`;M.has(N)?M.get(N).sources.push(A):M.set(N,{ruleId:R,sources:[A],rule:I,specialRuleValues:L.specialRuleValues})}})}),E.forEach(({model:L})=>{L.weapons?.forEach(W=>{const R=typeof W=="string"?W:W.id,I=ge.getWeaponById(R);I&&I.specialRules&&I.specialRules.length>0&&I.specialRules.forEach(N=>{const V=ge.getSpecialRuleById(N),A=N;if(!V||V.type==="special-rule"){const _=I.specialRuleValues?.[N],S=`${I.name} (${L.name})${_?` (${_})`:""}`;M.has(A)?M.get(A).sources.push(S):M.set(A,{ruleId:N,sources:[S],rule:V,specialRuleValues:I.specialRuleValues})}}),I&&I.profiles&&I.profiles.length>0&&ge.getProfileWeapons(I).forEach(V=>{V.specialRules&&V.specialRules.length>0&&V.specialRules.forEach(A=>{const _=ge.getSpecialRuleById(A),S=A;if(!_||_.type==="special-rule"){const D=V.specialRuleValues?.[A],U=`${I.name} - ${V.name} (${L.name})${D?` (${D})`:""}`;M.has(S)?M.get(S).sources.push(U):M.set(S,{ruleId:A,sources:[U],rule:_,specialRuleValues:V.specialRuleValues})}})})})}),M.size===0?s.jsx(Ca,{severity:"info",children:"No special rules available."}):s.jsx(Yn,{component:ta,variant:"outlined",children:s.jsxs(Gn,{size:"small",children:[s.jsx(Xn,{children:s.jsxs(Pt,{children:[s.jsx(Y,{children:"Rule"}),s.jsx(Y,{children:"Description"})]})}),s.jsx(Kn,{children:Array.from(M.values()).map(({ruleId:L,rule:W},R)=>s.jsxs(Pt,{hover:!0,children:[s.jsx(Y,{children:W?.name||L}),s.jsx(Y,{children:W?.shortText||"-"})]},`${L}-${R}`))})]})})},j=E=>{const M=new Map;return E.forEach(({model:L,count:W})=>{L.wargear?.forEach(R=>{const I=ge.getSpecialRuleById(R),N=R;(!I||I.type==="wargear")&&(M.has(N)?M.get(N).models.push(`${L.name}${W>1?` x${W}`:""}`):M.set(N,{wargearId:R,models:[`${L.name}${W>1?` x${W}`:""}`],wargear:I}))})}),M.size===0?s.jsx(Ca,{severity:"info",children:"No wargear available."}):s.jsx(Yn,{component:ta,variant:"outlined",children:s.jsxs(Gn,{size:"small",children:[s.jsx(Xn,{children:s.jsxs(Pt,{children:[s.jsx(Y,{children:"Models"}),s.jsx(Y,{children:"Wargear"}),s.jsx(Y,{children:"Description"})]})}),s.jsx(Kn,{children:Array.from(M.values()).map(({wargearId:L,models:W,wargear:R},I)=>s.jsxs(Pt,{hover:!0,children:[s.jsx(Y,{children:W.join(", ")}),s.jsx(Y,{children:R?.name||L}),s.jsx(Y,{children:R?.shortText||"-"})]},`${L}-${I}`))})]})})};return s.jsxs(F,{sx:{maxWidth:1200,mx:"auto"},children:[s.jsx(yt,{sx:{mb:{xs:2,sm:3}},children:s.jsxs(bt,{sx:{p:{xs:2,sm:3}},children:[s.jsx(O,{variant:"h6",gutterBottom:!0,sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"}},children:"Characteristics"}),v(m)]})}),s.jsx(yt,{sx:{mb:{xs:2,sm:3}},children:s.jsxs(bt,{sx:{p:{xs:2,sm:3}},children:[s.jsx(O,{variant:"h6",gutterBottom:!0,sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"}},children:"Ranged Weapons"}),x(m)]})}),s.jsx(yt,{sx:{mb:{xs:2,sm:3}},children:s.jsxs(bt,{sx:{p:{xs:2,sm:3}},children:[s.jsx(O,{variant:"h6",gutterBottom:!0,sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"}},children:"Melee Weapons"}),T(m)]})}),s.jsx(yt,{sx:{mb:{xs:2,sm:3}},children:s.jsxs(bt,{sx:{p:{xs:2,sm:3}},children:[s.jsx(O,{variant:"h6",gutterBottom:!0,sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"}},children:"Special Rules"}),C(m)]})}),s.jsx(yt,{sx:{mb:{xs:2,sm:3}},children:s.jsxs(bt,{sx:{p:{xs:2,sm:3}},children:[s.jsx(O,{variant:"h6",gutterBottom:!0,sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"}},children:"Wargear"}),j(m)]})}),t.traits&&t.traits.length>0&&s.jsx(yt,{sx:{mb:{xs:2,sm:3}},children:s.jsxs(bt,{sx:{p:{xs:2,sm:3}},children:[s.jsx(O,{variant:"h6",gutterBottom:!0,sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"}},children:"Traits"}),s.jsx(F,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:f_.replaceTraits(t.traits,n||"Universal",i).map((E,M)=>s.jsx(Ye,{label:E,color:"primary",variant:"outlined",size:"small"},M))})]})}),e?.primeAdvantages&&e.primeAdvantages.length>0&&s.jsx(yt,{sx:{mb:{xs:2,sm:3}},children:s.jsxs(bt,{sx:{p:{xs:2,sm:3}},children:[s.jsx(O,{variant:"h6",gutterBottom:!0,sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"}},children:"Prime Advantages"}),s.jsx(F,{sx:{display:"flex",flexDirection:"column",gap:{xs:1,sm:2}},children:e.primeAdvantages.map((E,M)=>s.jsxs(F,{sx:{p:{xs:1.5,sm:2},bgcolor:"warning.light",border:1,borderColor:"warning.main",borderRadius:1},children:[s.jsx(O,{variant:"subtitle2",color:"warning.dark",gutterBottom:!0,sx:{fontSize:{xs:"0.875rem",sm:"1rem"}},children:E.description}),s.jsx(O,{variant:"body2",sx:{fontSize:{xs:"0.875rem",sm:"1rem"}},children:E.effect})]},M))})]})})]})};let d$=class{listeners={};on(e,a){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(a)}emit(e){this.listeners[e]&&this.listeners[e].forEach(a=>a())}off(e,a){this.listeners[e]&&(this.listeners[e]=this.listeners[e].filter(n=>n!==a))}};const Ap=new d$;class rr{static saveCustomUnit(e){try{Ur.saveCustomUnit(e),Ap.emit("customUnitsChanged"),console.log("Custom unit saved and sync triggered:",e.id)}catch(a){throw console.error("Failed to save custom unit:",a),a}}static deleteCustomUnit(e){try{const a=Ur.deleteCustomUnit(e);return a&&(Ap.emit("customUnitsChanged"),console.log("Custom unit deleted and sync triggered:",e)),a}catch(a){return console.error("Failed to delete custom unit:",a),!1}}static updateCustomUnit(e){try{e.updatedAt=new Date().toISOString(),Ur.saveCustomUnit(e),Ap.emit("customUnitsChanged"),console.log("Custom unit updated and sync triggered:",e.id)}catch(a){throw console.error("Failed to update custom unit:",a),a}}static getCustomUnit=Ur.getCustomUnit;static getAllCustomUnits=Ur.getAllCustomUnits;static getAllCustomUnitMetadata=Ur.getAllCustomUnitMetadata;static isNameTaken=Ur.isNameTaken;static generateId=Ur.generateId;static createCustomUnitFromArmyUnit=Ur.createCustomUnitFromArmyUnit}const u$=({isOpen:t,unit:e,faction:a,subfaction:n,onClose:i,onSaved:l})=>{const[d,u]=w.useState(""),[h,m]=w.useState(""),[y,v]=w.useState(!1),[x,T]=w.useState(!1),[C,j]=w.useState("");w.useEffect(()=>{t&&(u(""),m(""),j(""),v(!1))},[t]),w.useEffect(()=>{if(d.trim()){const L=rr.isNameTaken(d.trim());v(L)}else v(!1)},[d]);const E=async()=>{if(!d.trim()){j("Please enter a name for your custom unit");return}if(y){j("A custom unit with this name already exists");return}T(!0),j("");try{const L=rr.createCustomUnitFromArmyUnit(d.trim(),e,a,n,h.trim()||void 0);rr.saveCustomUnit(L),l&&l(L.id),i()}catch(L){j("Failed to save custom unit. Please try again."),console.error("Error saving custom unit:",L)}finally{T(!1)}},M=()=>{i()};return s.jsxs(Ra,{open:t,onClose:M,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{maxHeight:"90vh"}},children:[s.jsx(ka,{children:s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(O,{variant:"h5",component:"h3",children:"Save Custom Unit"}),s.jsx(Ve,{onClick:M,size:"small",sx:{minWidth:"auto",p:1},children:s.jsx(Mr,{})})]})}),s.jsx(Aa,{children:s.jsxs(pa,{spacing:3,children:[s.jsx(Je,{label:"Unit Name *",value:d,onChange:L=>u(L.target.value),placeholder:"Enter a name for your custom unit",error:y,helperText:y?"A custom unit with this name already exists":"",disabled:x,fullWidth:!0}),s.jsx(Je,{label:"Description (Optional)",value:h,onChange:L=>m(L.target.value),placeholder:"Add a description for your custom unit",multiline:!0,rows:3,disabled:x,fullWidth:!0}),s.jsx(yt,{variant:"outlined",children:s.jsxs(bt,{children:[s.jsx(O,{variant:"h6",gutterBottom:!0,children:"Unit Preview"}),s.jsxs(pa,{spacing:1,children:[s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(O,{variant:"body2",color:"text.secondary",children:"Base Unit:"}),s.jsx(O,{variant:"body2",children:e.unitId})]}),s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(O,{variant:"body2",color:"text.secondary",children:"Faction:"}),s.jsx(O,{variant:"body2",children:a})]}),n&&s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(O,{variant:"body2",color:"text.secondary",children:"Subfaction:"}),s.jsx(O,{variant:"body2",children:n})]}),s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(O,{variant:"body2",color:"text.secondary",children:"Upgrades:"}),s.jsx(Ye,{label:`${e.upgrades?.length||0} applied`,size:"small",variant:"outlined",color:e.upgrades?.length>0?"primary":"default"})]}),e.primeAdvantages&&e.primeAdvantages.length>0&&s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(O,{variant:"body2",color:"text.secondary",children:"Prime Advantages:"}),s.jsx(Ye,{label:`${e.primeAdvantages.length} applied`,size:"small",variant:"outlined"})]})]})]})}),C&&s.jsx(Ca,{severity:"error",children:C})]})}),s.jsxs(Ka,{children:[s.jsx(Ve,{onClick:M,disabled:x,children:"Cancel"}),s.jsx(Ve,{variant:"contained",onClick:E,disabled:x||!d.trim()||y,startIcon:s.jsx(Ni,{}),children:x?"Saving...":"Save Custom Unit"})]})]})},xS=({isOpen:t,unit:e,slotId:a,detachmentId:n,armyList:i,onClose:l,onUnitUpdated:d,onDetachmentPrompt:u,onDetachmentRemoved:h,faction:m,subfaction:y,customUnitData:v})=>{const x=Xa(),T=Jn(x.breakpoints.down("md")),[C,j]=w.useState("unit"),[E,M]=w.useState(!1),[L,W]=w.useState(!1),R=()=>{const ae=[];return e.upgrades.forEach(ve=>{ae.push({upgradeId:ve.upgradeId,optionId:ve.optionId,count:ve.count,points:ve.points})}),ae},[I,N]=w.useState(R()),V=ae=>{const ve={...e,upgrades:ae,models:be()};d(a,ve)},[A,_]=w.useState(()=>e.primeAdvantages?.map(ae=>ae.advantageId)||[]);w.useEffect(()=>{_(e.primeAdvantages?.map(ae=>ae.advantageId)||[])},[e.primeAdvantages]),w.useEffect(()=>{C==="prime"&&!Oe()&&j("unit")},[C,e.slotId]);const[S,D]=w.useState({}),[U,P]=w.useState({}),K=ge.getUnitById(e.unitId);if(!t||!K)return null;const J=a.split("-"),$=J[J.length-2],X=parseInt(J[J.length-1]),le=$==="command"||$==="high-command",ie=K.specialRules?.find(ae=>ae==="officer-of-the-line"),H=ie&&K.specialRuleValues?.["officer-of-the-line"]||1,te=g_(i,e.id),Q=te.length,ne=()=>I.reduce((ae,ve)=>ae+ve.points*ve.count,0),ye=K.points+ne(),be=()=>{const ae={...e.models};return I.forEach(ve=>{const De=ge.getUpgradeById(ve.upgradeId);if(De){if(De.type==="model-count"&&De.targetModel){const He=ae[De.targetModel]||0;ae[De.targetModel]=He+ve.count}if(De.type==="model-group-count"&&De.targetModels&&Object.entries(De.targetModels).forEach(([He,se])=>{const ee=ae[He]||0;ae[He]=ee+se*ve.count}),De.type==="model-replacement"&&ve.optionId){const He=De.options?.find(se=>se.id===ve.optionId);if(He?.replaceModel){const{from:se,to:ee}=He.replaceModel,Se=ae[se]||0;ae[se]&&delete ae[se],Se>0&&(ae[ee]=(ae[ee]||0)+Se)}}}}),ae},oe=be(),_e=ae=>ge.getUpgradeGroupsForModel(ae),Me=ae=>ge.getUpgrades().filter(De=>De.subfaction===ae),Oe=()=>{const ae=i.detachments.find(Se=>Se.id===n);if(!ae)return!1;const ve=ae.modifiedSlots.length>0?ae.modifiedSlots:ae.baseSlots;let De,He;if(a===n){const Se=ve[0];return Se?Se.isPrime:!1}const se=a.split("-");se.length>=3?se[0]===n||se.slice(0,-2).join("-")===n?(De=se[se.length-2],He=parseInt(se[se.length-1],10)):(De=se[0],He=parseInt(se[1],10)):(De=a,He=0),isNaN(He)&&(He=0);let ee=0;for(const Se of ve)if(Se.roleId===De)for(let pe=0;pe<Se.count;pe++){if(ee===He)return Se.isPrime;ee++}else ee+=Se.count;return!1},qe=()=>{u&&Z8(i,e,a,H)&&(u($,X,n),l())},Qe=ae=>{h&&h(ae)};return s.jsxs(s.Fragment,{children:[s.jsxs(Ra,{open:t,onClose:l,maxWidth:"lg",fullWidth:!0,fullScreen:T,PaperProps:{sx:{maxHeight:T?"100vh":"90vh",height:T?"100vh":"auto",minHeight:T?"100vh":"60vh"}},children:[s.jsx(ka,{sx:{p:{xs:2,sm:3},pb:{xs:1,sm:2}},children:s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(O,{variant:T?"h6":"h5",component:"h3",sx:{fontSize:{xs:"1.125rem",sm:"1.5rem"}},children:v?`${v.name} (${K.name})`:`${K.name} Management`}),s.jsx(xt,{onClick:l,size:T?"medium":"small",sx:{p:{xs:1,sm:.5}},children:s.jsx(Mr,{})})]})}),s.jsxs(Aa,{sx:{p:{xs:2,sm:3},pt:{xs:0,sm:1}},children:[s.jsx(yt,{sx:{mb:{xs:2,sm:3}},children:s.jsxs(bt,{sx:{p:{xs:2,sm:3}},children:[s.jsxs(F,{sx:{display:"flex",gap:{xs:1,sm:2},flexWrap:"wrap",flexDirection:{xs:"column",sm:"row"}},children:[s.jsxs(F,{sx:{flex:1,minWidth:{xs:"auto",sm:120}},children:[s.jsx(O,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"0.875rem",sm:"1rem"}},children:"Base Points"}),s.jsx(O,{variant:"h6",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"}},children:K.points})]}),s.jsxs(F,{sx:{flex:1,minWidth:{xs:"auto",sm:120}},children:[s.jsx(O,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"0.875rem",sm:"1rem"}},children:"Upgrade Points"}),s.jsx(O,{variant:"h6",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"}},children:ne()})]}),s.jsxs(F,{sx:{flex:1,minWidth:{xs:"auto",sm:120}},children:[s.jsx(O,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"0.875rem",sm:"1rem"}},children:"Total Points"}),s.jsx(O,{variant:"h6",color:"primary",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"}},children:ye})]})]}),ie&&s.jsxs(Ca,{severity:"info",sx:{mt:2},children:[" Officer of the Line - Can trigger up to ",H," ","detachment",H>1?"s":"","."]}),v&&s.jsxs(F,{sx:{mt:2,p:{xs:1.5,sm:2},bgcolor:"grey.50",borderRadius:1},children:[s.jsxs(O,{variant:"subtitle2",sx:{display:"flex",alignItems:"center",mb:1,fontSize:{xs:"0.875rem",sm:"1rem"}},children:[s.jsx(Jk,{sx:{mr:1}}),"Custom Unit Details"]}),s.jsxs(F,{sx:{display:"flex",flexWrap:"wrap",gap:{xs:1,sm:2},flexDirection:{xs:"column",sm:"row"}},children:[s.jsx(F,{sx:{flex:"1 1 200px"},children:s.jsxs(O,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"0.875rem",sm:"1rem"}},children:["Name: ",v.name]})}),s.jsx(F,{sx:{flex:"1 1 200px"},children:s.jsxs(O,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"0.875rem",sm:"1rem"}},children:["Faction:"," ",ge.getFactionById(v.faction)?.name||v.faction]})}),v.subfaction&&s.jsx(F,{sx:{flex:"1 1 200px"},children:s.jsxs(O,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"0.875rem",sm:"1rem"}},children:["Subfaction:"," ",ge.getFactionById(v.subfaction)?.name||v.subfaction]})}),s.jsx(F,{sx:{flex:"1 1 200px"},children:s.jsxs(O,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"0.875rem",sm:"1rem"}},children:["Created:"," ",new Date(v.createdAt).toLocaleDateString()]})}),s.jsx(F,{sx:{flex:"1 1 200px"},children:s.jsxs(O,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"0.875rem",sm:"1rem"}},children:["Modified:"," ",new Date(v.updatedAt).toLocaleDateString()]})})]})]})]})}),s.jsx(F,{sx:{borderBottom:1,borderColor:"divider",mb:{xs:1.5,sm:2}},children:s.jsxs(Gk,{value:C,onChange:(ae,ve)=>j(ve),variant:T?"scrollable":"standard",scrollButtons:T?"auto":!1,sx:{"& .MuiTab-root":{fontSize:{xs:"0.875rem",sm:"1rem"},minHeight:{xs:"48px",sm:"56px"},minWidth:{xs:"auto",sm:"auto"}}},children:[s.jsx(Cl,{label:"Unit Details",value:"unit"}),s.jsx(Cl,{label:"Upgrades",value:"upgrades"}),Oe()&&s.jsx(Cl,{label:"Prime Advantages",value:"prime"}),le&&s.jsx(Cl,{label:`Detachments (${Q}/${H})`,value:"detachments"}),s.jsx(Cl,{label:"Custom Units",value:"custom"})]})}),s.jsxs(F,{sx:{mt:{xs:1.5,sm:2}},children:[C==="unit"&&s.jsxs(F,{children:[s.jsx(O,{variant:"h6",gutterBottom:!0,children:"Unit Details"}),s.jsx(O,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"View detailed information about this unit including characteristics, weapons, and special rules."}),s.jsx(yt,{sx:{mb:2},children:s.jsxs(bt,{sx:{py:2},children:[s.jsxs(F,{sx:{display:"flex",alignItems:"center",gap:2,mb:1},children:[s.jsx(O,{variant:"h6",sx:{flex:1},children:K.name}),s.jsx(Ye,{label:K.battlefieldRole,color:"primary",size:"small",variant:"outlined"})]}),s.jsxs(F,{sx:{display:"flex",flexWrap:"wrap",gap:3,mb:1},children:[s.jsx(F,{children:s.jsxs(O,{variant:"body2",color:"text.secondary",component:"span",children:["Size:"," ",Object.values(K.models).reduce((ae,ve)=>ae+ve,0)," ","models"]})}),s.jsx(F,{children:s.jsxs(O,{variant:"body2",color:"text.secondary",component:"span",children:["Base: ",K.points," pts"]})}),s.jsx(F,{children:s.jsxs(O,{variant:"body2",color:"primary",component:"span",sx:{fontWeight:"medium"},children:["Total: ",ye," pts"]})})]}),K.description&&s.jsx(O,{variant:"body2",color:"text.secondary",children:K.description})]})}),s.jsx(c$,{unit:K,armyUnit:{...e,models:oe},selectedUpgrades:I,allegiance:i.allegiance,legion:tp(i,i.detachments.find(ae=>ae.id===n))})]}),C==="upgrades"&&s.jsxs(F,{children:[s.jsx(O,{variant:"h6",gutterBottom:!0,children:"Unit Upgrades"}),s.jsx(O,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Configure upgrades for this unit. Available upgrades depend on the unit's models and current configuration."}),K.upgrades&&K.upgrades.length>0&&s.jsx(yt,{sx:{mb:3},children:s.jsxs(bt,{children:[s.jsx(O,{variant:"h6",gutterBottom:!0,children:"Unit-Level Upgrades"}),s.jsx(pa,{spacing:2,children:K.upgrades.map(ae=>{const ve=ge.getUpgradeById(ae);if(!ve)return null;const De=i.detachments.find(pe=>pe.id===n),He={selectedUpgrades:I,previewModels:oe,baseUnitData:K,allegiance:i.allegiance,legion:De?tp(i,De):void 0},se=Pi.getMaxCount(ve,He),ee=Pi.isUpgradeAvailable(ve,He),Se=I.filter(pe=>pe.upgradeId===ve.id).reduce((pe,je)=>pe+je.count,0);return s.jsx(yt,{sx:{mb:2},children:s.jsxs(bt,{children:[s.jsx(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:s.jsxs(F,{sx:{flex:1},children:[s.jsx(O,{variant:"subtitle1",gutterBottom:!0,children:ve.name}),s.jsx(O,{variant:"body2",color:"text.secondary",sx:{mb:1},children:ve.description}),ve.options&&ve.options.length>0?s.jsx(pa,{spacing:1,children:ve.options.map(pe=>{const je=I.filter(we=>we.upgradeId===ve.id&&we.optionId===pe.id).reduce((we,Ee)=>we+Ee.count,0);return s.jsx(yt,{sx:{mb:1},children:s.jsx(bt,{sx:{py:1,px:1},children:s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs(F,{children:[s.jsx(O,{variant:"body2",fontWeight:"medium",children:pe.name}),s.jsx(O,{variant:"body2",color:"text.secondary",children:pe.description}),s.jsxs(O,{variant:"body2",color:"primary",children:[pe.points," points each"]})]}),s.jsxs(F,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.jsx(xt,{size:"small",disabled:!ee||je<=0,onClick:()=>{const we=[...I],Ee=we.findIndex(rt=>rt.upgradeId===ve.id&&rt.optionId===pe.id);Ee>=0&&(we[Ee].count>1?we[Ee].count--:we.splice(Ee,1)),N(we),V(we)},children:s.jsx(fs,{})}),s.jsx(O,{variant:"body2",sx:{minWidth:30,textAlign:"center"},children:je}),s.jsx(xt,{size:"small",disabled:!ee||je>=se,onClick:()=>{const we=[...I],Ee=we.findIndex(rt=>rt.upgradeId===ve.id&&rt.optionId===pe.id);Ee>=0?we[Ee].count++:we.push({upgradeId:ve.id,optionId:pe.id,count:1,points:pe.points}),N(we),V(we)},children:s.jsx(ko,{})})]})]})})},pe.id)})}):s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs(O,{variant:"body2",color:"primary",children:[ve.maxCount==="dependent"?"Variable":ve.maxCount||1," ","available"]}),s.jsxs(F,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.jsx(xt,{size:"small",disabled:!ee||Se<=0,onClick:()=>{const pe=[...I],je=pe.findIndex(we=>we.upgradeId===ve.id);je>=0&&(pe[je].count>1?pe[je].count--:pe.splice(je,1)),N(pe),V(pe)},children:s.jsx(fs,{})}),s.jsx(O,{variant:"body2",sx:{minWidth:30,textAlign:"center"},children:Se}),s.jsx(xt,{size:"small",disabled:!ee||Se>=se,onClick:()=>{const pe=[...I],je=pe.findIndex(we=>we.upgradeId===ve.id);je>=0?pe[je].count++:pe.push({upgradeId:ve.id,count:1,points:0}),N(pe),V(pe)},children:s.jsx(ko,{})})]})]})]})}),!ee&&s.jsx(Ca,{severity:"warning",sx:{mt:1},children:"This upgrade is not currently available."})]})},ve.id)})})]})}),(()=>{const ae=i.detachments.find(se=>se.id===n),ve=ae?tp(i,ae):void 0;if(!ve)return null;const He=Me(ve).filter(se=>{const ee={selectedUpgrades:I,previewModels:oe,baseUnitData:K,allegiance:i.allegiance,legion:ve};return Pi.isUpgradeAvailable(se,ee)});return He.length===0?null:s.jsx(yt,{sx:{mb:3},children:s.jsxs(bt,{children:[s.jsxs(O,{variant:"h6",gutterBottom:!0,children:[f_.replaceTrait("[Legiones Astartes]",i.allegiance,ve)," ","Upgrades"]}),s.jsx(pa,{spacing:2,children:He.map(se=>{const ee=Pi.getMaxCount(se,{selectedUpgrades:I,previewModels:oe,baseUnitData:K,allegiance:i.allegiance,legion:ve}),Se=I.filter(pe=>pe.upgradeId===se.id).reduce((pe,je)=>pe+je.count,0);return s.jsx(yt,{sx:{mb:2},children:s.jsx(bt,{children:s.jsx(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:s.jsxs(F,{sx:{flex:1},children:[s.jsx(O,{variant:"subtitle1",gutterBottom:!0,children:se.name}),s.jsx(O,{variant:"body2",color:"text.secondary",sx:{mb:1},children:se.description}),se.options&&se.options.length>0?s.jsx(pa,{spacing:1,children:se.options.map(pe=>{const je=I.filter(we=>we.upgradeId===se.id&&we.optionId===pe.id).reduce((we,Ee)=>we+Ee.count,0);return s.jsx(yt,{sx:{mb:1},children:s.jsx(bt,{sx:{py:1,px:1},children:s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs(F,{children:[s.jsx(O,{variant:"body2",fontWeight:"medium",children:pe.name}),s.jsx(O,{variant:"body2",color:"text.secondary",children:pe.description}),s.jsxs(O,{variant:"body2",color:"primary",children:[pe.points," points"]})]}),s.jsxs(F,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.jsx(xt,{size:"small",disabled:je===0,onClick:()=>{const we=[...I],Ee=we.findIndex(rt=>rt.upgradeId===se.id&&rt.optionId===pe.id);Ee>=0&&(we[Ee].count>1?we[Ee].count--:we.splice(Ee,1)),N(we),V(we)},children:s.jsx(fs,{})}),s.jsx(O,{variant:"body2",sx:{minWidth:30,textAlign:"center"},children:je}),s.jsx(xt,{size:"small",disabled:je>=ee,onClick:()=>{const we=[...I],Ee=we.findIndex(rt=>rt.upgradeId===se.id&&rt.optionId===pe.id);Ee>=0?we[Ee].count++:we.push({upgradeId:se.id,optionId:pe.id,count:1,points:pe.points}),N(we),V(we)},children:s.jsx(ko,{})})]})]})})},pe.id)})}):s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs(O,{variant:"body2",color:"primary",children:[se.maxCount==="dependent"?"Variable":se.maxCount||1," ","available"]}),s.jsxs(F,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.jsx(xt,{size:"small",disabled:Se===0,onClick:()=>{const pe=[...I],je=pe.findIndex(we=>we.upgradeId===se.id);je>=0&&(pe[je].count>1?pe[je].count--:pe.splice(je,1)),N(pe),V(pe)},children:s.jsx(fs,{})}),s.jsx(O,{variant:"body2",sx:{minWidth:30,textAlign:"center"},children:Se}),s.jsx(xt,{size:"small",disabled:Se>=ee,onClick:()=>{const pe=[...I],je=pe.findIndex(we=>we.upgradeId===se.id);je>=0?pe[je].count++:pe.push({upgradeId:se.id,count:1,points:0}),N(pe),V(pe)},children:s.jsx(ko,{})})]})]})]})})})},se.id)})})]})})})(),K.modelUpgrades&&Object.keys(K.modelUpgrades).length>0&&s.jsx(yt,{children:s.jsxs(bt,{children:[s.jsx(O,{variant:"h6",gutterBottom:!0,children:"Model-Level Upgrades"}),s.jsx(pa,{spacing:1,children:Object.entries(K.modelUpgrades).map(([ae,ve])=>{const De=ge.getModelById(ae),He=oe[ae]||0;if(!De||He===0)return null;const se=S[ae]||!1,ee=_e(ae),Se=ve.filter(je=>ge.getUpgradeById(je)!==void 0),pe=ve.filter(je=>!ge.getUpgradeById(je)&&ge.getUpgradeGroupById&&ge.getUpgradeGroupById(je));return ee.length===0&&Se.length===0&&pe.length===0?null:s.jsxs(ai,{expanded:se,onChange:()=>D(je=>({...je,[ae]:!se})),sx:{"&:before":{display:"none"},border:1,borderColor:"secondary.main",bgcolor:"secondary.50"},children:[s.jsx(ri,{expandIcon:s.jsx(ii,{}),children:s.jsxs(O,{variant:"subtitle1",children:[De.name," (",He," models)"]})}),s.jsx(ni,{children:s.jsxs(pa,{spacing:1,children:[ee.map(je=>{if(!je)return null;const we=U[je.id]||!1;return s.jsxs(ai,{expanded:we,onChange:()=>P(Ee=>({...Ee,[je.id]:!we})),sx:{"&:before":{display:"none"},border:1,borderColor:"grey.300",bgcolor:"white"},children:[s.jsx(ri,{expandIcon:s.jsx(ii,{}),children:s.jsx(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:s.jsx(O,{variant:"body2",fontWeight:"medium",children:je.name})})}),s.jsxs(ni,{children:[s.jsx(O,{variant:"body2",color:"text.secondary",sx:{mb:2},children:je.description}),s.jsx(pa,{spacing:1,children:je.upgrades.map(Ee=>{const rt=ge.getUpgradeById(Ee);if(!rt)return null;const Mt=i.detachments.find(Ue=>Ue.id===n),Gt={selectedUpgrades:I,previewModels:{[ae]:He},baseUnitData:K,allegiance:i.allegiance,legion:Mt?tp(i,Mt):void 0},mt=Pi.getMaxCount(rt,Gt),$e=Pi.isUpgradeAvailable(rt,Gt),Ge=I.filter(Ue=>Ue.upgradeId===rt.id).reduce((Ue,ct)=>Ue+ct.count,0);return s.jsxs(F,{sx:{p:2,border:1,borderColor:"primary.main",borderRadius:1,bgcolor:"primary.50"},children:[s.jsx(O,{variant:"body2",fontWeight:"medium",gutterBottom:!0,children:rt.name}),s.jsx(O,{variant:"body2",color:"text.secondary",sx:{mb:1},children:rt.description}),rt.options&&rt.options.length>0?s.jsx(pa,{spacing:1,children:rt.options.map(Ue=>{const ct=I.filter(Fe=>Fe.upgradeId===rt.id&&Fe.optionId===Ue.id).reduce((Fe,Wt)=>Fe+Wt.count,0);return s.jsx(F,{sx:{p:1,border:1,borderColor:"secondary.main",borderRadius:1,bgcolor:"secondary.50"},children:s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs(F,{children:[s.jsx(O,{variant:"body2",fontWeight:"medium",children:Ue.name}),s.jsx(O,{variant:"body2",color:"text.secondary",children:Ue.description}),s.jsxs(O,{variant:"body2",color:"primary",children:[Ue.points," ","points each"]})]}),s.jsxs(F,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.jsx(xt,{size:"small",disabled:!$e||ct<=0,onClick:()=>{const Fe=[...I],Wt=Fe.findIndex(oa=>oa.upgradeId===rt.id&&oa.optionId===Ue.id);Wt>=0&&(Fe[Wt].count>1?Fe[Wt].count--:Fe.splice(Wt,1)),N(Fe),V(Fe)},children:s.jsx(fs,{})}),s.jsx(O,{variant:"body2",sx:{minWidth:30,textAlign:"center"},children:ct}),s.jsx(xt,{size:"small",disabled:!$e||ct>=mt,onClick:()=>{const Fe=[...I],Wt=Fe.findIndex(oa=>oa.upgradeId===rt.id&&oa.optionId===Ue.id);Wt>=0?Fe[Wt].count++:Fe.push({upgradeId:rt.id,optionId:Ue.id,count:1,points:Ue.points}),N(Fe),V(Fe)},children:s.jsx(ko,{})})]})]})},Ue.id)})}):s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs(O,{variant:"body2",color:"primary",children:[rt.maxCount==="dependent"?"Variable":rt.maxCount||1," ","available"]}),s.jsxs(F,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.jsx(xt,{size:"small",disabled:!$e||Ge<=0,onClick:()=>{const Ue=[...I],ct=Ue.findIndex(Fe=>Fe.upgradeId===rt.id);ct>=0&&(Ue[ct].count>1?Ue[ct].count--:Ue.splice(ct,1)),N(Ue),V(Ue)},children:s.jsx(fs,{})}),s.jsx(O,{variant:"body2",sx:{minWidth:30,textAlign:"center"},children:Ge}),s.jsx(xt,{size:"small",disabled:!$e||Ge>=mt,onClick:()=>{const Ue=[...I],ct=Ue.findIndex(Fe=>Fe.upgradeId===rt.id);ct>=0?Ue[ct].count++:Ue.push({upgradeId:rt.id,count:1,points:0}),N(Ue),V(Ue)},children:s.jsx(ko,{})})]})]}),!$e&&s.jsx(Ca,{severity:"warning",sx:{mt:1},children:"This upgrade is not currently available."})]},rt.id)})})]})]},je.id)}),Se.map(je=>{const we=ge.getUpgradeById(je);if(!we)return null;const Ee=i.detachments.find(Ge=>Ge.id===n),rt={selectedUpgrades:I,previewModels:{[ae]:He},baseUnitData:K,allegiance:i.allegiance,legion:Ee?tp(i,Ee):void 0},Mt=Pi.getMaxCount(we,rt),Gt=Pi.isUpgradeAvailable(we,rt),mt=I.filter(Ge=>Ge.upgradeId===we.id).reduce((Ge,Ue)=>Ge+Ue.count,0),$e=U[we.id]||!1;return s.jsxs(ai,{expanded:$e,onChange:()=>P(Ge=>({...Ge,[we.id]:!$e})),sx:{"&:before":{display:"none"},border:1,borderColor:"grey.300",bgcolor:"white"},children:[s.jsx(ri,{expandIcon:s.jsx(ii,{}),children:s.jsx(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:s.jsx(O,{variant:"body2",fontWeight:"medium",children:we.name})})}),s.jsxs(ni,{children:[s.jsx(O,{variant:"body2",color:"text.secondary",sx:{mb:2},children:we.description}),we.options&&we.options.length>0?s.jsx(pa,{spacing:1,children:we.options.map(Ge=>{const Ue=I.filter(ct=>ct.upgradeId===we.id&&ct.optionId===Ge.id).reduce((ct,Fe)=>ct+Fe.count,0);return s.jsx(F,{sx:{p:1,border:1,borderColor:"secondary.main",borderRadius:1,bgcolor:"secondary.50"},children:s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs(F,{children:[s.jsx(O,{variant:"body2",fontWeight:"medium",children:Ge.name}),s.jsx(O,{variant:"body2",color:"text.secondary",children:Ge.description}),s.jsxs(O,{variant:"body2",color:"primary",children:[Ge.points," ","points each"]})]}),s.jsxs(F,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.jsx(xt,{size:"small",disabled:!Gt||Ue<=0,onClick:()=>{const ct=[...I],Fe=ct.findIndex(Wt=>Wt.upgradeId===we.id&&Wt.optionId===Ge.id);Fe>=0&&(ct[Fe].count>1?ct[Fe].count--:ct.splice(Fe,1)),N(ct),V(ct)},children:s.jsx(fs,{})}),s.jsx(O,{variant:"body2",sx:{minWidth:30,textAlign:"center"},children:Ue}),s.jsx(xt,{size:"small",disabled:!Gt||Ue>=Mt,onClick:()=>{const ct=[...I],Fe=ct.findIndex(Wt=>Wt.upgradeId===we.id&&Wt.optionId===Ge.id);Fe>=0?ct[Fe].count++:ct.push({upgradeId:we.id,optionId:Ge.id,count:1,points:Ge.points}),N(ct),V(ct)},children:s.jsx(ko,{})})]})]})},Ge.id)})}):s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs(O,{variant:"body2",color:"primary",children:[we.maxCount==="dependent"?"Variable":we.maxCount||1," ","available"]}),s.jsxs(F,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.jsx(xt,{size:"small",disabled:!Gt||mt<=0,onClick:()=>{const Ge=[...I],Ue=Ge.findIndex(ct=>ct.upgradeId===we.id);Ue>=0&&(Ge[Ue].count>1?Ge[Ue].count--:Ge.splice(Ue,1)),N(Ge),V(Ge)},children:s.jsx(fs,{})}),s.jsx(O,{variant:"body2",sx:{minWidth:30,textAlign:"center"},children:mt}),s.jsx(xt,{size:"small",disabled:!Gt||mt>=Mt,onClick:()=>{const Ge=[...I],Ue=Ge.findIndex(ct=>ct.upgradeId===we.id);Ue>=0?Ge[Ue].count++:Ge.push({upgradeId:we.id,count:1,points:0}),N(Ge),V(Ge)},children:s.jsx(ko,{})})]})]}),!Gt&&s.jsx(Ca,{severity:"warning",sx:{mt:1},children:"This upgrade is not currently available."})]})]},we.id)})]})})]},ae)})})]})}),(!K.upgrades||K.upgrades.length===0)&&(!K.modelUpgrades||Object.keys(K.modelUpgrades).length===0)&&s.jsx(Ca,{severity:"info",children:"No upgrades available for this unit."})]}),C==="prime"&&s.jsxs(F,{children:[s.jsx(O,{variant:"h6",gutterBottom:!0,children:"Prime Advantages"}),s.jsx(O,{variant:"body2",color:"text.secondary",sx:{mb:2},children:Oe()?"This unit is in a prime slot and can be assigned prime advantages.":"This unit is not in a prime slot, but you can still view available prime advantages."}),(()=>{const ae=ge.getPrimeAdvantages(),ve=i.detachments.find(ee=>ee.id===n),De=ve?.faction||i.faction,He=ve?.subfaction||i.subfaction,se=ae.filter(ee=>{const Se=ge.getUnitById(e.unitId);if(!Se||ee.faction&&ee.faction!==De||ee.subfaction&&ee.subfaction!==He)return!1;if(ee.restrictions){for(const pe of ee.restrictions)if(pe.includes("Troops")&&Se.battlefieldRole!=="Troops"||pe.includes("Command")&&Se.battlefieldRole!=="Command"||pe.includes("High Command")&&Se.battlefieldRole!=="High Command")return!1}return!0});return s.jsxs(pa,{spacing:2,children:[se.map(ee=>{const Se=e.primeAdvantages?.some(je=>je.advantageId===ee.id)||!1,pe=ee.id==="logistical-benefit";return s.jsx(yt,{variant:Se?"elevation":"outlined",elevation:Se?4:1,sx:{cursor:"pointer",borderColor:Se?"primary.main":void 0,"&:hover":{borderColor:"primary.main",boxShadow:2}},onClick:()=>{if(Se){const je=A.filter(Ee=>Ee!==ee.id);_(je);let we={...e,primeAdvantages:e.primeAdvantages.filter(Ee=>Ee.advantageId!==ee.id)};ee.id==="iron-warriors-unfavoured"&&(we={...we,specialRules:(we.specialRules||[]).filter(Ee=>Ee!=="expendable"),specialRuleValues:{...we.specialRuleValues||{}}},delete we.specialRuleValues.expendable),d(a,we)}else{const je=[...A,ee.id];_(je);const we={advantageId:ee.id,slotId:a,description:ee.description,effect:ee.effect,...pe&&{slotModification:{roleId:"troops",count:1}}};let Ee={...e,primeAdvantages:[...e.primeAdvantages||[],we]};ee.id==="iron-warriors-unfavoured"&&(Ee={...Ee,specialRules:[...Ee.specialRules||[],"expendable"],specialRuleValues:{...Ee.specialRuleValues||{},expendable:1}}),d(a,Ee)}},children:s.jsxs(bt,{children:[s.jsxs(F,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[s.jsx(O,{variant:"h6",component:"h4",children:ee.name}),Se&&s.jsx(Ye,{label:"Selected",color:"primary",size:"small",variant:"filled"})]}),s.jsx(O,{variant:"body2",color:"text.secondary",sx:{mb:1},children:ee.description}),s.jsxs(O,{variant:"body2",sx:{mb:1},children:[s.jsx("strong",{children:"Effect:"})," ",ee.effect]}),ee.restrictions&&ee.restrictions.length>0&&s.jsxs(O,{variant:"body2",color:"warning.main",sx:{fontSize:"0.875rem"},children:[s.jsx("strong",{children:"Restrictions:"})," ",ee.restrictions.join(", ")]}),pe&&Se&&s.jsxs(F,{sx:{mt:2,p:2,bgcolor:"background.paper",borderRadius:1},children:[s.jsx(O,{variant:"subtitle2",gutterBottom:!0,children:"Slot Configuration"}),s.jsxs(F,{sx:{display:"flex",alignItems:"center",gap:2},children:[s.jsx(O,{variant:"body2",children:"Add slot for:"}),s.jsx(bn,{size:"small",sx:{minWidth:120},children:s.jsx(cn,{value:e.primeAdvantages?.find(we=>we.advantageId==="logistical-benefit")?.slotModification?.roleId||"troops",onClick:je=>{je.stopPropagation()},onChange:je=>{const we=je.target.value,Ee=e.primeAdvantages?.map(Mt=>Mt.advantageId==="logistical-benefit"?{...Mt,slotModification:{...Mt.slotModification,roleId:we}}:Mt)||[],rt={...e,primeAdvantages:Ee};d(a,rt)},children:ge.getBattlefieldRoles().map(je=>s.jsx(Sa,{value:je.id,children:je.name},je.id))})})]})]})]})},ee.id)}),se.length===0&&s.jsx(Ca,{severity:"info",children:"No prime advantages available for this unit type."})]})})()]}),C==="detachments"&&le&&s.jsxs(F,{children:[s.jsx(O,{variant:"h6",gutterBottom:!0,children:"Triggered Detachments"}),s.jsxs(O,{variant:"body2",color:"text.secondary",sx:{mb:2},children:["This unit can trigger ",H," detachment",H>1?"s":"","."]}),te.length>0?s.jsx(pa,{spacing:2,children:te.map(ae=>{const ve=ge.getDetachmentById(ae.detachmentId);return s.jsx(yt,{children:s.jsxs(bt,{children:[s.jsx(O,{variant:"h6",children:ve?.name||ae.detachmentId}),s.jsx(O,{variant:"body2",color:"text.secondary",children:ve?.description}),s.jsx(F,{sx:{mt:1},children:s.jsx(Ye,{label:`${ae.units.length} units`,size:"small",variant:"outlined"})}),s.jsx(Ve,{variant:"outlined",color:"error",size:"small",onClick:()=>Qe(ae.detachmentId),sx:{mt:1},children:"Remove Detachment"})]})},ae.detachmentId)})}):s.jsx(Ca,{severity:"info",children:"No detachments triggered by this unit."}),Q<H&&s.jsx(F,{sx:{mt:2},children:s.jsx(Ve,{variant:"contained",color:"primary",onClick:qe,children:"Add Detachment"})})]}),C==="custom"&&s.jsxs(F,{children:[s.jsx(O,{variant:"h6",gutterBottom:!0,children:"Custom Units"}),s.jsx(O,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Save this unit configuration as a custom unit for future use, or manage your existing custom units."}),s.jsx(yt,{sx:{mb:3},children:s.jsxs(bt,{children:[s.jsx(O,{variant:"h6",gutterBottom:!0,children:"Current Unit Configuration"}),s.jsxs(pa,{spacing:2,children:[s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(O,{variant:"body2",color:"text.secondary",children:"Base Unit:"}),s.jsx(O,{variant:"body2",children:K.name})]}),s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(O,{variant:"body2",color:"text.secondary",children:"Faction:"}),s.jsx(O,{variant:"body2",children:ge.getFactionById(m)?.name||m})]}),y&&s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(O,{variant:"body2",color:"text.secondary",children:"Subfaction:"}),s.jsx(O,{variant:"body2",children:ge.getFactionById(y)?.name||y})]}),s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(O,{variant:"body2",color:"text.secondary",children:"Upgrades Applied:"}),s.jsx(Ye,{label:`${e.upgrades.length} upgrades`,size:"small",variant:"outlined",color:e.upgrades.length>0?"primary":"default"})]}),s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(O,{variant:"body2",color:"text.secondary",children:"Total Points:"}),s.jsx(O,{variant:"body2",fontWeight:"medium",children:ye})]})]}),v?s.jsxs(F,{sx:{mt:2},children:[s.jsxs(Ca,{severity:"info",sx:{mb:2},children:[s.jsxs(O,{variant:"body2",children:["This is a custom unit:"," ",s.jsx("strong",{children:v.name})]}),s.jsxs(O,{variant:"body2",sx:{mt:1},children:["Last modified:"," ",new Date(v.updatedAt).toLocaleDateString()]})]}),s.jsxs(pa,{spacing:2,children:[s.jsx(Ve,{variant:"contained",color:"primary",startIcon:s.jsx(Ni,{}),onClick:()=>{const ae={...e,upgrades:I,models:oe},ve=Ur.getCustomUnit(v.id);if(ve){const De={...ve,upgrades:I,modelInstanceWeaponChanges:ae.modelInstanceWeaponChanges,modelInstanceWargearChanges:ae.modelInstanceWargearChanges,updatedAt:new Date().toISOString()};Ur.saveCustomUnit(De),d(a,ae),W(!0),setTimeout(()=>W(!1),3e3)}},fullWidth:!0,children:"Overwrite Custom Unit"}),s.jsx(Ve,{variant:"outlined",color:"primary",startIcon:s.jsx(Ni,{}),onClick:()=>M(!0),fullWidth:!0,children:"Save as New Custom Unit"})]}),L&&s.jsxs(Ca,{severity:"success",sx:{mt:2},children:['Custom unit "',v.name,'" has been updated successfully!']})]}):s.jsx(F,{sx:{mt:2},children:s.jsx(Ve,{variant:"contained",color:"primary",startIcon:s.jsx(Ni,{}),onClick:()=>M(!0),fullWidth:!0,children:"Save as Custom Unit"})})]})})]})]})]}),s.jsx(Ka,{sx:{p:{xs:2,sm:3},pt:{xs:0,sm:1}},children:s.jsx(Ve,{onClick:l,size:T?"large":"medium",sx:{width:{xs:"100%",sm:"auto"}},children:"Close"})})]}),s.jsx(u$,{isOpen:E,unit:{...e,upgrades:I,models:oe},faction:m,subfaction:y,onClose:()=>M(!1),onSaved:ae=>{console.log("Custom unit saved with ID:",ae),M(!1)}})]})},p$=({isOpen:t,roleId:e,roleName:a,armyList:n,detachment:i,onUnitSelected:l,onClose:d})=>{const u=Xa(),h=Jn(u.breakpoints.down("md")),[m,y]=w.useState("base"),[v,x]=w.useState([]),[T,C]=w.useState([]);w.useEffect(()=>{if(!t)return;const W=ge.getUnits(),R=n.faction,I=n.allegiance,N=ge.getBattlefieldRoleById(e);if(!N){x([]);return}const A=i.slots.find(S=>S.roleId===e)?.allowedUnits,_=W.filter(S=>{if(A&&A.length>0){if(!A.includes(S.id))return!1}else if(S.battlefieldRole!==N.type)return!1;if(S.allegiance!=="Universal"&&S.allegiance!==I)return!1;if(S.faction&&S.faction!=="universal"){if(S.faction===R)return S.subfaction?S.subfaction===n.subfaction:!0;const D=ge.getFactionById(R);return D?.parentFaction===S.faction||ge.getFactionById(S.faction)?.isMainFaction&&D?.parentFaction===S.faction?S.subfaction?S.subfaction===n.subfaction:!0:!1}return!0});x(_)},[t,e,n.faction,n.allegiance,i.slots]),w.useEffect(()=>{if(!t)return;const W=Ur.getAllCustomUnits(),R=n.faction,I=n.allegiance,N=ge.getBattlefieldRoleById(e);if(!N){C([]);return}const A=i.slots.find(S=>S.roleId===e)?.allowedUnits,_=Object.values(W).filter(S=>{const D=ge.getUnitById(S.baseUnitId);if(!D)return!1;if(A&&A.length>0){if(!A.includes(D.id))return!1}else if(D.battlefieldRole!==N.type)return!1;if(D.allegiance!=="Universal"&&D.allegiance!==I)return!1;if(S.faction&&S.faction!=="universal"){if(S.faction===R)return S.subfaction?S.subfaction===n.subfaction:!0;const U=ge.getFactionById(R);return U?.parentFaction===S.faction||ge.getFactionById(S.faction)?.isMainFaction&&U?.parentFaction===S.faction?S.subfaction?S.subfaction===n.subfaction:!0:!1}return!0});C(_)},[t,e,n.faction,n.allegiance,i.slots]);const j=W=>{l(W)},E=W=>{l(`custom:${W.id}`)},M=W=>W.points,L=W=>{const R=ge.getUnitById(W.baseUnitId);if(!R)return 0;const I=W.upgrades.reduce((N,V)=>N+V.points*V.count,0);return R.points+I};return t?s.jsxs(Ra,{open:t,onClose:d,maxWidth:"md",fullWidth:!0,fullScreen:h,PaperProps:{sx:{maxHeight:h?"100vh":"80vh",height:h?"100vh":"auto"}},children:[s.jsx(ka,{sx:{p:{xs:2,sm:3},pb:{xs:1,sm:2}},children:s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs(O,{variant:"h6",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"}},children:["Select ",a," Unit"]}),s.jsx(xt,{onClick:d,size:h?"medium":"small",sx:{p:{xs:1,sm:.5}},children:s.jsx(Mr,{})})]})}),s.jsxs(Aa,{sx:{p:{xs:2,sm:3},pt:{xs:0,sm:1}},children:[s.jsx(F,{sx:{borderBottom:1,borderColor:"divider",mb:{xs:1.5,sm:2}},children:s.jsxs(Gk,{value:m,onChange:(W,R)=>y(R),variant:"fullWidth",sx:{"& .MuiTab-root":{fontSize:{xs:"0.875rem",sm:"1rem"},minHeight:{xs:"48px",sm:"56px"}}},children:[s.jsx(Cl,{label:`Base Units (${v.length})`,value:"base"}),s.jsx(Cl,{label:`Custom Units (${T.length})`,value:"custom"})]})}),s.jsxs(F,{sx:{mt:{xs:1.5,sm:2}},children:[m==="base"&&s.jsx(F,{children:v.length>0?s.jsx(F,{sx:{display:"flex",flexDirection:"column",gap:{xs:1.5,sm:2}},children:v.map(W=>s.jsx(F,{children:s.jsx(yt,{sx:{cursor:"pointer","&:hover":{boxShadow:4},transition:"box-shadow 0.2s ease-in-out"},onClick:()=>j(W.id),children:s.jsxs(bt,{sx:{p:{xs:2,sm:3}},children:[s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:1,flexDirection:{xs:"column",sm:"row"},gap:{xs:1,sm:0}},children:[s.jsx(O,{variant:"h6",component:"h3",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"}},children:W.name}),s.jsxs(F,{sx:{display:"flex",gap:1,flexWrap:"wrap",justifyContent:{xs:"flex-start",sm:"flex-end"}},children:[s.jsx(Ye,{label:`${M(W)} pts`,color:"primary",size:"small"}),W.faction&&W.faction!=="universal"&&s.jsx(Ye,{label:W.faction==="legiones-astartes"?"Legion":W.faction,color:"secondary",size:"small"}),W.legionSpecific&&W.legionSpecific.length>0&&s.jsx(Ye,{label:"Legion-specific",color:"warning",size:"small"})]})]}),s.jsx(O,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"0.875rem",sm:"1rem"}},children:W.description})]})})},W.id))}):s.jsx(yt,{children:s.jsx(bt,{sx:{p:{xs:2,sm:3},textAlign:"center"},children:s.jsxs(O,{variant:"body1",color:"text.secondary",sx:{fontSize:{xs:"0.875rem",sm:"1rem"}},children:["No ",a," units available for your faction."]})})})}),m==="custom"&&s.jsx(F,{children:T.length>0?s.jsx(F,{sx:{display:"flex",flexDirection:"column",gap:{xs:1.5,sm:2}},children:T.map(W=>{const R=ge.getUnitById(W.baseUnitId);return s.jsx(F,{children:s.jsx(yt,{sx:{cursor:"pointer","&:hover":{boxShadow:4},transition:"box-shadow 0.2s ease-in-out"},onClick:()=>E(W),children:s.jsxs(bt,{sx:{p:{xs:2,sm:3}},children:[s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:1,flexDirection:{xs:"column",sm:"row"},gap:{xs:1,sm:0}},children:[s.jsxs(F,{children:[s.jsx(O,{variant:"h6",component:"h3",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"}},children:W.name}),s.jsx(Ye,{label:"Custom",color:"info",size:"small",sx:{mt:.5}})]}),s.jsxs(F,{sx:{display:"flex",gap:1,flexWrap:"wrap",justifyContent:{xs:"flex-start",sm:"flex-end"}},children:[s.jsx(Ye,{label:`${L(W)} pts`,color:"primary",size:"small"}),s.jsx(Ye,{label:`Based on: ${R?.name||W.baseUnitId}`,color:"secondary",size:"small"}),W.upgrades.length>0&&s.jsx(Ye,{label:`${W.upgrades.length} upgrade${W.upgrades.length!==1?"s":""}`,color:"success",size:"small"}),W.primeAdvantages&&W.primeAdvantages.length>0&&s.jsx(Ye,{label:`${W.primeAdvantages.length} prime advantage${W.primeAdvantages.length!==1?"s":""}`,color:"warning",size:"small"})]})]}),s.jsx(O,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"0.875rem",sm:"1rem"}},children:W.description||R?.description||"Custom unit configuration"})]})})},W.id)})}):s.jsx(yt,{children:s.jsx(bt,{sx:{p:{xs:2,sm:3},textAlign:"center"},children:s.jsxs(O,{variant:"body1",color:"text.secondary",sx:{fontSize:{xs:"0.875rem",sm:"1rem"}},children:["No custom ",a," units available for your faction."]})})})})]})]})]}):null},h$=({isOpen:t,roleId:e,slotIndex:a,armyList:n,triggeringDetachmentId:i,onClose:l,onDetachmentSelected:d})=>{const u=Xa(),h=Jn(u.breakpoints.down("md")),y=(()=>{const T=ge.getDetachments(),C=n.faction,j=ge.getFactionById(C),E=j?.parentFaction==="legiones-astartes",M=n.detachments.find(I=>I.id===i),L=M?`${M.id}-${e}-${a}`:"",W=M?.units.find(I=>I.slotId===L),R=W?ge.getUnitById(W.unitId):null;return T.filter(I=>{if(e==="command"){if(I.type!=="Auxiliary")return!1}else if(e==="high-command"){if(I.type!=="Apex"&&I.type!=="Auxiliary")return!1}else return!1;if(I.triggers&&I.triggers.length>0){let N=!1;for(const V of I.triggers)if(V.type==="command-filled"&&(e==="command"||e==="high-command")){N=!0;break}else if(V.type==="high-command-filled"&&e==="high-command"){N=!0;break}else if(V.type==="specific-unit"){let A=!0,_=!0;if(V.requiredUnitId&&R&&(A=V.requiredUnitId===R.id),V.requiredSlotType){const S=V.requiredSlotType==="Command"?"command":"high-command";_=S===e||e==="high-command"&&S==="command"}if(A&&_){N=!0;break}}else if(V.type==="always-available"){N=!0;break}if(!N)return!1}if(I.triggers&&I.triggers.some(N=>N.type==="specific-unit")){const N=I.triggers.find(V=>V.type==="specific-unit");if(N){if(N.requiredUnitId&&!R||N.requiredUnitId&&R&&N.requiredUnitId!==R.id)return!1;if(N.requiredSlotType){const V=N.requiredSlotType==="Command"?"command":"high-command";if(!(V===e||e==="high-command"&&V==="command"))return!1}}}if(I.faction&&I.faction!=="universal")return!!(I.faction===C||j?.parentFaction===I.faction||E&&I.faction==="legiones-astartes"||R&&R.faction===I.faction);if(I.requirements&&I.requirements.length>0){for(const N of I.requirements)if(N.type==="detachment"){if(N.value==="primary"&&!n.detachments.some(A=>ge.getDetachmentById(A.detachmentId)?.type==="Primary"))return!1}else if(N.type==="faction"&&N.value==="any")continue}if(I.restrictions&&I.restrictions.length>0){for(const N of I.restrictions)if(N.type==="faction-must-match"){if(N.value==="primary-faction"&&I.faction!==C)return!1}else if(N.type==="faction-must-differ"){if(N.value==="primary-faction"&&I.faction===C)return!1}else if(N.type==="max-count"){const V=n.detachments.filter(_=>_.detachmentId===I.id).length,A=typeof N.value=="number"?N.value:parseInt(N.value,10);if(V>=A)return!1}}return!0})})(),v=ge.getBattlefieldRoleById(e)?.name||"Command",x=e==="high-command"?"Apex or Auxiliary":"Auxiliary";return s.jsxs(Ra,{open:t,onClose:l,maxWidth:"md",fullWidth:!0,fullScreen:h,PaperProps:{sx:{maxHeight:h?"100vh":"90vh",height:h?"100vh":"auto"}},children:[s.jsx(ka,{sx:{p:{xs:2,sm:3},pb:{xs:1,sm:2}},children:s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs(O,{variant:h?"h6":"h5",component:"h3",sx:{fontSize:{xs:"1.125rem",sm:"1.5rem"}},children:["Add ",x," Detachment"]}),s.jsx(xt,{onClick:l,size:h?"medium":"small",sx:{p:{xs:1,sm:.5}},children:s.jsx(Mr,{})})]})}),s.jsx(Aa,{sx:{p:{xs:2,sm:3},pt:{xs:0,sm:1}},children:s.jsxs(pa,{spacing:{xs:2,sm:3},children:[s.jsxs(O,{variant:"body1",color:"text.secondary",sx:{fontSize:{xs:"0.875rem",sm:"1rem"},textAlign:{xs:"center",sm:"left"}},children:["You've filled a ",v," slot! You can now add a"," ",x.toLowerCase()," detachment to your force."]}),y.length>0?s.jsx(pa,{spacing:{xs:1.5,sm:2},children:y.map(T=>s.jsx(yt,{variant:"outlined",sx:{cursor:"pointer","&:hover":{boxShadow:4},transition:"box-shadow 0.2s ease-in-out"},onClick:()=>{d(T),l()},children:s.jsxs(bt,{sx:{p:{xs:2,sm:3}},children:[s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2,flexDirection:{xs:"column",sm:"row"},gap:{xs:1,sm:0}},children:[s.jsx(O,{variant:"h6",component:"h3",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"}},children:T.name}),s.jsx(Ye,{label:T.type,size:"small",color:"primary",variant:"outlined",sx:{alignSelf:{xs:"flex-start",sm:"flex-end"}}})]}),s.jsx(O,{variant:"body2",color:"text.secondary",sx:{mb:2,fontSize:{xs:"0.875rem",sm:"1rem"}},children:T.description}),s.jsx(F,{sx:{display:"flex",flexWrap:"wrap",gap:1,justifyContent:{xs:"flex-start",sm:"flex-start"}},children:T.slots.map((C,j)=>s.jsx(Ye,{label:`${C.count}x ${ge.getBattlefieldRoleById(C.roleId)?.name}${C.isPrime?" ":""}`,size:"small",variant:"outlined",color:C.isPrime?"warning":"default",sx:{fontSize:{xs:"0.75rem",sm:"0.875rem"}}},j))})]})},T.id))}):s.jsx(yt,{variant:"outlined",children:s.jsx(bt,{sx:{p:{xs:2,sm:3},textAlign:"center"},children:s.jsxs(O,{variant:"body1",color:"text.secondary",sx:{fontSize:{xs:"0.875rem",sm:"1rem"}},children:["No ",x.toLowerCase()," detachments available for your faction."]})})})]})}),s.jsx(Ka,{sx:{p:{xs:2,sm:3},pt:{xs:0,sm:1}},children:s.jsx(Ve,{onClick:l,size:h?"large":"medium",sx:{width:{xs:"100%",sm:"auto"}},children:"Skip for now"})})]})},qc="customDetachments",rp="customDetachmentsMetadata";class Eo{static generateId(e){return e.toLowerCase().replace(/[^a-z0-9]/g,"-")}static saveCustomDetachment(e){try{const a=localStorage.getItem(qc),n=a?JSON.parse(a):{};n[e.id]=e,localStorage.setItem(qc,JSON.stringify(n)),this.updateMetadata(e),console.log("Custom detachment saved:",e.id)}catch(a){console.error("Error saving custom detachment:",a)}}static getCustomDetachment(e){try{const a=localStorage.getItem(qc);return(a?JSON.parse(a):{})[e]||null}catch(a){return console.error("Error loading custom detachment:",a),null}}static getAllCustomDetachments(){try{const e=localStorage.getItem(qc),a=e?JSON.parse(e):{};return Object.values(a)}catch(e){return console.error("Error loading all custom detachments:",e),[]}}static getAllCustomDetachmentMetadata(){try{const e=localStorage.getItem(rp),a=e?JSON.parse(e):{};return Object.values(a).sort((n,i)=>new Date(i.updatedAt).getTime()-new Date(n.updatedAt).getTime())}catch(e){return console.error("Error loading custom detachment metadata:",e),[]}}static deleteCustomDetachment(e){try{const a=localStorage.getItem(qc),n=a?JSON.parse(a):{};if(n[e]){delete n[e],localStorage.setItem(qc,JSON.stringify(n));const i=localStorage.getItem(rp),l=i?JSON.parse(i):{};return l[e]&&(delete l[e],localStorage.setItem(rp,JSON.stringify(l))),console.log("Custom detachment deleted:",e),!0}return!1}catch(a){return console.error("Error deleting custom detachment:",a),!1}}static updateMetadata(e){try{const a=localStorage.getItem(rp),n=a?JSON.parse(a):{};n[e.id]={id:e.id,name:e.name,baseDetachmentId:e.baseDetachmentId,faction:e.faction,subfaction:e.subfaction,customName:e.customName,description:e.description,createdAt:e.createdAt,updatedAt:e.updatedAt},localStorage.setItem(rp,JSON.stringify(n))}catch(a){console.error("Error updating custom detachment metadata:",a)}}static createCustomDetachment(e,a,n,i,l,d,u,h){const m=this.generateId(e),y=new Date().toISOString();return{id:m,name:e,baseDetachmentId:a,faction:n,subfaction:i,customName:l,description:d,units:u,primeAdvantages:h,createdAt:y,updatedAt:y}}}class m${listeners={};on(e,a){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(a)}emit(e){this.listeners[e]&&this.listeners[e].forEach(a=>a())}off(e,a){this.listeners[e]&&(this.listeners[e]=this.listeners[e].filter(n=>n!==a))}}const kp=new m$;class Wi{static saveCustomDetachment(e){try{Eo.saveCustomDetachment(e),kp.emit("customDetachmentsChanged"),console.log("Custom detachment saved and sync triggered:",e.id)}catch(a){throw console.error("Failed to save custom detachment:",a),a}}static deleteCustomDetachment(e){try{const a=Eo.deleteCustomDetachment(e);return a&&(kp.emit("customDetachmentsChanged"),console.log("Custom detachment deleted and sync triggered:",e)),a}catch(a){return console.error("Failed to delete custom detachment:",a),!1}}static updateCustomDetachment(e){try{e.updatedAt=new Date().toISOString(),Eo.saveCustomDetachment(e),kp.emit("customDetachmentsChanged"),console.log("Custom detachment updated and sync triggered:",e.id)}catch(a){throw console.error("Failed to update custom detachment:",a),a}}static getCustomDetachment=Eo.getCustomDetachment;static getAllCustomDetachments=Eo.getAllCustomDetachments;static getAllCustomDetachmentMetadata=Eo.getAllCustomDetachmentMetadata;static createCustomDetachment=Eo.createCustomDetachment;static generateId(e){return e.toLowerCase().replace(/[^a-z0-9]/g,"-")}}const g$=({isOpen:t,detachment:e,faction:a,subfaction:n,onClose:i,onSaved:l})=>{const[d,u]=w.useState(""),[h,m]=w.useState(""),[y,v]=w.useState(""),x=()=>{if(!d.trim()){v("Please enter a name for your custom detachment.");return}if(!h.trim()){v("Please enter a description for your custom detachment.");return}try{const C=Wi.createCustomDetachment(d.trim(),e.detachmentId,a,n,e.customName,h.trim(),e.units,e.primeAdvantages);Wi.saveCustomDetachment(C),l(C.id)}catch(C){console.error("Error saving custom detachment:",C),v("Failed to save custom detachment. Please try again.")}},T=C=>{C.key==="Enter"&&x()};return s.jsxs(Ra,{open:t,onClose:i,maxWidth:"md",fullWidth:!0,children:[s.jsx(ka,{children:s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(O,{variant:"h6",children:"Save Custom Detachment"}),s.jsx(xt,{onClick:i,size:"small",children:s.jsx(Mr,{})})]})}),s.jsx(Aa,{children:s.jsxs(pa,{spacing:3,sx:{mt:1},children:[s.jsx(Je,{fullWidth:!0,label:"Detachment Name",value:d,onChange:C=>u(C.target.value),onKeyPress:T,placeholder:"Enter a name for your custom detachment",inputProps:{maxLength:50}}),s.jsx(Je,{fullWidth:!0,label:"Description",value:h,onChange:C=>m(C.target.value),placeholder:"Describe your custom detachment configuration",multiline:!0,rows:4,inputProps:{maxLength:500}}),y&&s.jsx(Ca,{severity:"error",children:y}),s.jsx(yt,{variant:"outlined",children:s.jsxs(bt,{children:[s.jsx(O,{variant:"h6",gutterBottom:!0,children:"Detachment Preview"}),s.jsxs(pa,{spacing:1,children:[s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(O,{variant:"body2",color:"text.secondary",children:"Base Detachment:"}),s.jsx(O,{variant:"body2",children:e.detachmentId})]}),s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(O,{variant:"body2",color:"text.secondary",children:"Faction:"}),s.jsx(O,{variant:"body2",children:a})]}),n&&s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(O,{variant:"body2",color:"text.secondary",children:"Subfaction:"}),s.jsx(O,{variant:"body2",children:n})]}),s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(O,{variant:"body2",color:"text.secondary",children:"Units:"}),s.jsx(O,{variant:"body2",children:e.units.length})]}),s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(O,{variant:"body2",color:"text.secondary",children:"Prime Advantages:"}),s.jsx(O,{variant:"body2",children:e.primeAdvantages.length})]})]})]})})]})}),s.jsxs(Ka,{children:[s.jsx(Ve,{onClick:i,children:"Cancel"}),s.jsx(Ve,{variant:"contained",color:"success",onClick:x,children:"Save Custom Detachment"})]})]})},f$=({isOpen:t,baseDetachmentId:e,currentDetachment:a,onClose:n,onLoad:i})=>{const[l,d]=w.useState([]),[u,h]=w.useState(null),[m,y]=w.useState("");w.useEffect(()=>{if(t){const j=Eo.getAllCustomDetachmentMetadata().filter(E=>E.baseDetachmentId===e);d(j),h(null),y("")}},[t,e]);const v=()=>{if(!u){y("Please select a custom detachment to load.");return}try{const C=Eo.getCustomDetachment(u);if(!C){y("Selected custom detachment not found.");return}i(C)}catch(C){console.error("Error loading custom detachment:",C),y("Failed to load custom detachment. Please try again.")}},x=C=>{h(C),y("")},T=a.units.reduce((C,j)=>C+j.points,0);return s.jsxs(Ra,{open:t,onClose:n,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{maxHeight:"90vh"}},children:[s.jsx(ka,{children:s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(O,{variant:"h5",component:"h3",children:"Load Custom Detachment"}),s.jsx(xt,{onClick:n,size:"small",children:s.jsx(Mr,{})})]})}),s.jsxs(Aa,{children:[s.jsx(yt,{sx:{mb:3},children:s.jsxs(bt,{children:[s.jsx(O,{variant:"h6",gutterBottom:!0,children:"Current Detachment"}),s.jsx(O,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Loading a custom detachment will overwrite the current configuration."}),s.jsxs(pa,{spacing:2,children:[s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(O,{variant:"body2",color:"text.secondary",children:"Base Detachment:"}),s.jsx(O,{variant:"body2",fontWeight:"medium",children:e})]}),s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(O,{variant:"body2",color:"text.secondary",children:"Current Units:"}),s.jsx(O,{variant:"body2",fontWeight:"medium",children:a.units.length})]}),s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(O,{variant:"body2",color:"text.secondary",children:"Current Points:"}),s.jsxs(O,{variant:"body2",fontWeight:"medium",children:[T," pts"]})]})]})]})}),l.length===0?s.jsx(yt,{sx:{mb:3},children:s.jsxs(bt,{children:[s.jsx(O,{variant:"body1",sx:{mb:1},children:"No custom detachments found for this base detachment."}),s.jsx(O,{variant:"body2",color:"text.secondary",children:"Save a custom detachment first to load it here."})]})}):s.jsxs(F,{children:[s.jsxs(O,{variant:"h6",gutterBottom:!0,children:["Available Custom Detachments (",l.length,")"]}),s.jsx(F,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)"},gap:2},children:l.map(C=>s.jsx(yt,{variant:u===C.id?"elevation":"outlined",elevation:u===C.id?4:1,sx:{cursor:"pointer",borderColor:u===C.id?"primary.main":void 0,"&:hover":{borderColor:"primary.main",boxShadow:2}},onClick:()=>x(C.id),children:s.jsxs(bt,{children:[s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:1},children:[s.jsx(O,{variant:"h6",component:"h4",children:C.name}),s.jsx(O,{variant:"body2",color:"text.secondary",children:new Date(C.updatedAt).toLocaleDateString()})]}),s.jsx(O,{variant:"body2",color:"text.secondary",sx:{mb:2},children:C.description}),s.jsxs(F,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[s.jsx(Ye,{label:C.faction,size:"small",variant:"outlined",color:"primary"}),C.subfaction&&s.jsx(Ye,{label:C.subfaction,size:"small",variant:"outlined",color:"secondary"})]})]})},C.id))})]}),m&&s.jsx(Ca,{severity:"error",sx:{mt:2},children:m})]}),s.jsxs(Ka,{children:[s.jsx(Ve,{onClick:n,children:"Cancel"}),l.length>0&&s.jsx(Ve,{variant:"contained",onClick:v,disabled:!u,children:"Load Custom Detachment"})]})]})},y$=({armyDetachment:t,armyList:e,index:a,onLoadCustomDetachment:n,onSaveCustomDetachment:i,onRemoveDetachment:l,onUnitSelected:d,onDetachmentPrompt:u,onUnitManagementOpen:h,onUnitSelectionOpen:m})=>{const y=Xa(),v=Jn(y.breakpoints.down("md")),x=ge.getDetachmentById(t.detachmentId);return x?s.jsx(yt,{sx:{width:{xs:"100%",sm:"auto"},maxWidth:{xs:"100%",sm:"none"},boxShadow:{xs:"none",sm:1},border:{xs:"none",sm:"1px solid"},borderColor:{xs:"transparent",sm:"divider"},borderRadius:{xs:0,sm:1},mx:{xs:-2,sm:0}},children:s.jsxs(bt,{sx:{p:{xs:2,sm:3},pl:{xs:3,sm:3},pr:{xs:2,sm:3}},children:[s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:{xs:1.5,sm:2},flexDirection:{xs:"column",sm:"row"},gap:{xs:1,sm:0}},children:[s.jsxs(F,{sx:{flex:1},children:[s.jsxs(O,{variant:v?"h6":"h5",component:"h3",gutterBottom:!0,sx:{fontSize:{xs:"1.125rem",sm:"1.5rem"}},children:[x.name,t.triggeredBy&&s.jsx(Ye,{label:"Triggered",color:"warning",size:"small",sx:{ml:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.75rem"}}})]}),s.jsx(Ye,{label:x.type,color:"secondary",size:v?"small":"medium"}),t.triggeredBy&&s.jsxs(O,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:{xs:.5,sm:.5},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:["Triggered by unit in ",t.triggeredBy.detachmentId]})]}),s.jsxs(F,{sx:{display:"flex",gap:{xs:.5,sm:1},alignSelf:{xs:"flex-start",sm:"flex-start"}},children:[s.jsx(xt,{color:"info",size:"small",onClick:()=>n(t),title:"Load Custom Detachment",sx:{p:{xs:.5,sm:.5}},children:s.jsx(y6,{})}),s.jsx(xt,{color:"success",size:"small",onClick:()=>i(t),title:"Save as Custom Detachment",sx:{p:{xs:.5,sm:.5}},children:s.jsx(Ni,{})}),a>0&&t.detachmentId!=="crusade-primary"&&s.jsx(xt,{color:"error",size:"small",onClick:()=>l(t.id),title:"Remove Detachment",sx:{p:{xs:.5,sm:.5}},children:s.jsx(fd,{})})]})]}),s.jsx(O,{variant:"body2",color:"text.secondary",paragraph:!0,sx:{fontSize:{xs:"0.875rem",sm:"1rem"}},children:x.description}),s.jsx(vS,{detachment:x,armyDetachment:t,armyList:e,onUnitSelected:d,onDetachmentPrompt:u,onUnitManagementOpen:h,onUnitSelectionOpen:m})]})}):null},b$=({selectedAllegiance:t,onAllegianceChange:e,disabled:a=!1})=>{const n=Xa(),i=Jn(n.breakpoints.down("md")),l=[{value:"Loyalist",label:"Loyalist",description:"Remain faithful to the Emperor",color:"success"},{value:"Traitor",label:"Traitor",description:"Follow the Warmaster into heresy",color:"error"}];return s.jsxs(F,{sx:{maxWidth:{xs:"100%",sm:600},mx:"auto",p:{xs:2,sm:4},width:"100%"},children:[s.jsx(O,{variant:i?"h4":"h3",component:"h3",gutterBottom:!0,sx:{fontSize:{xs:"1.5rem",sm:"2rem",md:"3rem"},textAlign:{xs:"center",sm:"left"}},children:"Select Allegiance"}),s.jsx(O,{variant:"body1",color:"text.secondary",sx:{mb:{xs:3,sm:4},textAlign:{xs:"center",sm:"left"},fontSize:{xs:"0.875rem",sm:"1rem"}},children:"Choose your army's allegiance in the Horus Heresy."}),s.jsx(F,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:{xs:2,sm:3},maxWidth:{xs:"100%",sm:600},mx:"auto"},children:l.map(d=>{const u=t===d.value;return s.jsx(F,{sx:{flex:1},children:s.jsx(yt,{variant:u?"elevation":"outlined",elevation:u?4:1,sx:{cursor:a?"not-allowed":"pointer",opacity:a?.6:1,height:"100%",minHeight:{xs:"120px",sm:"auto"},...u&&{borderColor:`${d.color}.main`}},onClick:()=>!a&&e(d.value),children:s.jsxs(bt,{sx:{p:{xs:2,sm:3},textAlign:{xs:"center",sm:"left"}},children:[s.jsxs(F,{sx:{display:"flex",justifyContent:{xs:"center",sm:"space-between"},alignItems:"center",mb:1,flexDirection:{xs:"column",sm:"row"},gap:{xs:1,sm:0}},children:[s.jsx(O,{variant:i?"h6":"h5",component:"h4",sx:{fontSize:{xs:"1.25rem",sm:"1.5rem"},textAlign:{xs:"center",sm:"left"}},children:d.label}),u&&s.jsx(o6,{color:d.color,sx:{fontSize:{xs:"1.5rem",sm:"2rem"}}})]}),s.jsx(O,{variant:"body2",color:"text.secondary",sx:{mb:2,fontSize:{xs:"0.875rem",sm:"1rem"},textAlign:{xs:"center",sm:"left"}},children:d.description}),u&&s.jsx(F,{sx:{display:"flex",justifyContent:{xs:"center",sm:"flex-start"}},children:s.jsx(Ye,{label:"Selected",color:d.color,size:i?"small":"medium",variant:"outlined"})})]})})},d.value)})})]})},v$=({onDetachmentSelected:t,onCancel:e})=>{const a=Xa(),n=Jn(a.breakpoints.down("md")),[i,l]=w.useState(null),[d,u]=w.useState("Loyalist"),[h,m]=w.useState("allegiance"),y=ge.getMainFactionsByAllegiance(d),v=ge.getLegionSubFactionsByAllegiance(d),x=R=>{u(R),m("faction")},T=R=>{if(l(R),R.id==="legiones-astartes")m("subFaction");else{const I=ge.getDetachmentById("crusade-primary");I&&t(I,R,d)}},C=R=>{const I=ge.getDetachmentById("crusade-primary");I&&t(I,i,d,R)},j=()=>{h==="subFaction"?m("faction"):h==="faction"?(m("allegiance"),l(null)):e()},E=()=>s.jsx(b$,{selectedAllegiance:d,onAllegianceChange:x}),M=()=>s.jsxs(F,{children:[s.jsx(O,{variant:n?"h5":"h4",component:"h3",gutterBottom:!0,sx:{fontSize:{xs:"1.5rem",sm:"2rem"},textAlign:{xs:"center",sm:"left"}},children:"Select Faction"}),s.jsx(O,{variant:"body1",color:"text.secondary",sx:{mb:{xs:3,sm:4},textAlign:{xs:"center",sm:"left"},fontSize:{xs:"0.875rem",sm:"1rem"}},children:"Choose your army's faction."}),s.jsx(F,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)"},gap:{xs:2,sm:3},maxWidth:{xs:"100%",sm:"auto"}},children:y.map(R=>s.jsx(F,{children:s.jsx(yt,{variant:i?.id===R.id?"elevation":"outlined",elevation:i?.id===R.id?4:1,sx:{cursor:"pointer",height:"100%",minHeight:{xs:"120px",sm:"auto"},...i?.id===R.id&&{borderColor:"primary.main"}},onClick:()=>T(R),children:s.jsxs(bt,{sx:{p:{xs:2,sm:3},textAlign:{xs:"center",sm:"left"}},children:[s.jsx(O,{variant:"h6",component:"h4",gutterBottom:!0,sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},textAlign:{xs:"center",sm:"left"}},children:R.name}),s.jsx(O,{variant:"body2",color:"text.secondary",sx:{mb:2,fontSize:{xs:"0.875rem",sm:"1rem"},textAlign:{xs:"center",sm:"left"}},children:R.description}),s.jsx(F,{sx:{display:"flex",justifyContent:{xs:"center",sm:"flex-start"}},children:s.jsx(Ye,{label:R.type,color:"primary",size:n?"small":"medium",variant:"outlined"})})]})})},R.id))})]}),L=()=>s.jsxs(F,{children:[s.jsx(O,{variant:n?"h5":"h4",component:"h3",gutterBottom:!0,sx:{fontSize:{xs:"1.5rem",sm:"2rem"},textAlign:{xs:"center",sm:"left"}},children:"Select Legion"}),s.jsx(O,{variant:"body1",color:"text.secondary",sx:{mb:{xs:3,sm:4},textAlign:{xs:"center",sm:"left"},fontSize:{xs:"0.875rem",sm:"1rem"}},children:"Choose your Space Marine Legion."}),s.jsx(F,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)"},gap:{xs:2,sm:3},maxWidth:{xs:"100%",sm:"auto"}},children:v.map(R=>s.jsx(F,{children:s.jsx(yt,{variant:i?.id===R.id?"elevation":"outlined",elevation:i?.id===R.id?4:1,sx:{cursor:"pointer",height:"100%",minHeight:{xs:"120px",sm:"auto"},...i?.id===R.id&&{borderColor:"primary.main"}},onClick:()=>C(R),children:s.jsxs(bt,{sx:{p:{xs:2,sm:3},textAlign:{xs:"center",sm:"left"}},children:[s.jsx(O,{variant:"h6",component:"h4",gutterBottom:!0,sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},textAlign:{xs:"center",sm:"left"}},children:R.name}),s.jsx(O,{variant:"body2",color:"text.secondary",sx:{mb:2,fontSize:{xs:"0.875rem",sm:"1rem"},textAlign:{xs:"center",sm:"left"}},children:R.description}),s.jsx(F,{sx:{display:"flex",justifyContent:{xs:"center",sm:"flex-start"}},children:s.jsx(Ye,{label:R.type,color:"primary",size:n?"small":"medium",variant:"outlined"})})]})})},R.id))})]}),W=()=>{switch(h){case"allegiance":return"Select Allegiance";case"faction":return"Select Faction";case"subFaction":return"Select Legion";default:return""}};return s.jsxs(F,{sx:{maxWidth:{xs:"100%",sm:1200},mx:"auto",p:{xs:2,sm:4},width:"100%"},children:[s.jsxs(F,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:{xs:3,sm:4},flexDirection:{xs:"column",sm:"row"},gap:{xs:2,sm:0}},children:[s.jsx(O,{variant:n?"h4":"h3",component:"h2",sx:{fontSize:{xs:"1.5rem",sm:"2rem",md:"3rem"},textAlign:{xs:"center",sm:"left"}},children:W()}),s.jsx(Ve,{variant:"outlined",startIcon:s.jsx(Ol,{}),size:n?"small":"medium",onClick:j,children:"Back"})]}),s.jsxs(F,{children:[h==="allegiance"&&E(),h==="faction"&&M(),h==="subFaction"&&L()]})]})},x$=({isOpen:t,onDetachmentSelected:e,onCancel:a})=>{const n=Xa(),i=Jn(n.breakpoints.down("md"));return s.jsxs(Ra,{open:t,onClose:a,maxWidth:"md",fullWidth:!0,fullScreen:i,PaperProps:{sx:{maxHeight:i?"100vh":"90vh",height:i?"100vh":"auto"}},children:[s.jsx(ka,{sx:{p:{xs:2,sm:3},pb:{xs:1,sm:2}},children:s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(O,{variant:"h5",children:"Create New Army List"}),s.jsx(xt,{onClick:a,size:i?"medium":"small",sx:{p:{xs:1,sm:.5}},children:s.jsx(Mr,{})})]})}),s.jsx(Aa,{sx:{p:{xs:2,sm:3},pt:{xs:0,sm:1}},children:s.jsx(v$,{onDetachmentSelected:e,onCancel:a})})]})},Rn=[];for(let t=0;t<256;++t)Rn.push((t+256).toString(16).slice(1));function w$(t,e=0){return(Rn[t[e+0]]+Rn[t[e+1]]+Rn[t[e+2]]+Rn[t[e+3]]+"-"+Rn[t[e+4]]+Rn[t[e+5]]+"-"+Rn[t[e+6]]+Rn[t[e+7]]+"-"+Rn[t[e+8]]+Rn[t[e+9]]+"-"+Rn[t[e+10]]+Rn[t[e+11]]+Rn[t[e+12]]+Rn[t[e+13]]+Rn[t[e+14]]+Rn[t[e+15]]).toLowerCase()}let Dv;const S$=new Uint8Array(16);function T$(){if(!Dv){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Dv=crypto.getRandomValues.bind(crypto)}return Dv(S$)}const C$=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),eA={randomUUID:C$};function M$(t,e,a){if(eA.randomUUID&&!t)return eA.randomUUID();t=t||{};const n=t.random??t.rng?.()??T$();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,w$(n)}const rg="heresy-3.0-army-lists",Lv="heresy-3.0-army-lists-metadata";class bs{static generateId(){return M$()}static getTimestamp(){return new Date().toISOString()}static createNewArmyList(e,a,n){return{id:this.generateId(),name:"New Army List",faction:e,allegiance:n,pointsLimit:a,totalPoints:0,detachments:[],validationErrors:[],createdAt:this.getTimestamp(),updatedAt:this.getTimestamp(),isNamed:!1}}static saveArmyList(e){try{e.updatedAt=this.getTimestamp();const a={id:e.id,name:e.name,data:e,isNamed:e.isNamed,createdAt:e.createdAt,updatedAt:e.updatedAt},n=this.getAllStoredLists();n[e.id]=a,localStorage.setItem(rg,JSON.stringify(n)),this.updateMetadata(e),console.log(`Army list ${e.id} saved to local storage`)}catch(a){console.error("Error saving army list:",a)}}static loadArmyList(e){try{const n=this.getAllStoredLists()[e];return n?n.data:null}catch(a){return console.error("Error loading army list:",a),null}}static getAllArmyListMetadata(){try{const e=localStorage.getItem(Lv);return e?JSON.parse(e):[]}catch(e){return console.error("Error loading army list metadata:",e),[]}}static deleteArmyList(e){try{const a=this.getAllStoredLists();return delete a[e],localStorage.setItem(rg,JSON.stringify(a)),this.updateMetadataList(),console.log(`Army list ${e} deleted from local storage`),!0}catch(a){return console.error("Error deleting army list:",a),!1}}static renameArmyList(e,a){try{const n=this.loadArmyList(e);return n?(n.name=a,n.isNamed=!0,n.updatedAt=this.getTimestamp(),this.saveArmyList(n),!0):!1}catch(n){return console.error("Error renaming army list:",n),!1}}static cleanupUnnamedLists(){try{const e=this.getAllStoredLists(),a=new Date,n=new Date(a.getTime()-1440*60*1e3);let i=!1;Object.keys(e).forEach(l=>{const d=e[l];d.isNamed||new Date(d.createdAt)<n&&(delete e[l],i=!0,console.log(`Cleaned up unnamed army list ${l}`))}),i&&(localStorage.setItem(rg,JSON.stringify(e)),this.updateMetadataList())}catch(e){console.error("Error cleaning up unnamed lists:",e)}}static getAllStoredLists(){try{const e=localStorage.getItem(rg);return e?JSON.parse(e):{}}catch(e){return console.error("Error getting stored lists:",e),{}}}static updateMetadata(e){try{const a={id:e.id,name:e.name,faction:e.faction,allegiance:e.allegiance,pointsLimit:e.pointsLimit,totalPoints:e.totalPoints,isNamed:e.isNamed,createdAt:e.createdAt,updatedAt:e.updatedAt},n=this.getAllArmyListMetadata(),i=n.findIndex(l=>l.id===e.id);i>=0?n[i]=a:n.push(a),n.sort((l,d)=>new Date(d.updatedAt).getTime()-new Date(l.updatedAt).getTime()),localStorage.setItem(Lv,JSON.stringify(n))}catch(a){console.error("Error updating metadata:",a)}}static updateMetadataList(){try{const e=this.getAllStoredLists(),a=Object.values(e).map(n=>({id:n.id,name:n.name,faction:n.data.faction,allegiance:n.data.allegiance,pointsLimit:n.data.pointsLimit,totalPoints:n.data.totalPoints,isNamed:n.isNamed,createdAt:n.createdAt,updatedAt:n.updatedAt}));a.sort((n,i)=>new Date(i.updatedAt).getTime()-new Date(n.updatedAt).getTime()),localStorage.setItem(Lv,JSON.stringify(a))}catch(e){console.error("Error updating metadata list:",e)}}}const tA=({initialArmyList:t,onClearCurrentArmyList:e})=>{const a=Us(),n=Xa(),i=Jn(n.breakpoints.down("md")),l=Jn(n.breakpoints.down("sm")),{currentUser:d}=Nd(),[u,h]=w.useState(!1),{isSyncing:m,lastSyncTime:y,syncError:v,manualSync:x}=N8({enabled:u&&!!d,intervalMs:6e4}),[T,C]=w.useState(t||{id:`army-${Date.now()}`,name:"New Army List",allegiance:"Universal",faction:"",pointsLimit:3e3,totalPoints:0,detachments:[],validationErrors:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isNamed:!1}),[j,E]=w.useState(!1),[M,L]=w.useState(!1);w.useEffect(()=>{t&&C(t)},[t]),w.useEffect(()=>{!t&&!T.faction&&!M&&L(!0)},[t,T.faction,M]);const[W,R]=w.useState(!1),[I,N]=w.useState(null),[V,A]=w.useState(!1),[_,S]=w.useState(null),[D,U]=w.useState(!1),[P,K]=w.useState(null),[J,$]=w.useState(!1),[X,le]=w.useState(null),[ie,H]=w.useState(!1),[te,Q]=w.useState(""),[ne,ye]=w.useState(!1),[be,oe]=w.useState(""),[_e,Me]=w.useState(!1),[Oe,qe]=w.useState(null),[Qe,ae]=w.useState(!1),[ve,De]=w.useState(!1),He=ge.getFactionById(T.faction),se=ge.getAvailableDetachments(T);w.useEffect(()=>{const Ne=pe(T);C(it=>({...it,totalPoints:Ne}))},[T.detachments]),w.useEffect(()=>{T.isNamed&&ve&&(ae(!0),bs.saveArmyList(T),setTimeout(()=>ae(!1),1e3))},[T.id,T.name,T.faction,T.allegiance,T.pointsLimit,T.totalPoints,T.detachments,T.updatedAt,ve]),w.useEffect(()=>{De(!0)},[]);const ee=()=>{if(te.trim()){const Ne={...T,name:te.trim(),isNamed:!0,updatedAt:new Date().toISOString()};C(Ne),bs.saveArmyList(Ne),H(!1),Q("")}},Se=()=>{const Ne=parseInt(be,10);Ne>0&&(C(it=>({...it,pointsLimit:Ne,updatedAt:new Date().toISOString()})),ye(!1),oe(""))},pe=Ne=>Ne.detachments.reduce((it,ot)=>it+je(ot),0),je=Ne=>Ne.units.reduce((it,ot)=>it+ot.points,0),we=(Ne,it,ot,Ut)=>{C(Dt=>({...Dt,faction:it.id,allegiance:ot,subfaction:Ut?.id,updatedAt:new Date().toISOString()})),L(!1);const vt=ge.getDetachmentById("crusade-primary");if(vt){const Dt={id:`crusade-primary-${Date.now()}`,detachmentId:"crusade-primary",customName:void 0,points:0,baseSlots:vt.slots,modifiedSlots:vt.slots,primeAdvantages:[],units:[]};C(Jt=>({...Jt,detachments:[Dt]}))}},Ee=(Ne,it,ot,Ut)=>{T.detachments.length===0&&C(Dt=>({...Dt,faction:it.id,allegiance:ot,subfaction:Ut?.id,updatedAt:new Date().toISOString()}));const vt={id:`detachment-${Date.now()}`,detachmentId:Ne.id,points:0,baseSlots:Ne.slots,modifiedSlots:Ne.slots,primeAdvantages:[],units:[]};C(Dt=>({...Dt,detachments:[...Dt.detachments,vt],updatedAt:new Date().toISOString()})),E(!1)},rt=Ne=>{if(T.detachments.length===0){const it=ge.getFactionById(Ne.faction);it&&Ee(Ne,it,it.allegiance)}else{const it={id:`detachment-${Date.now()}`,detachmentId:Ne.id,points:0,baseSlots:Ne.slots,modifiedSlots:Ne.slots,primeAdvantages:[],units:[]};C(ot=>({...ot,detachments:[...ot.detachments,it],updatedAt:new Date().toISOString()}))}E(!1)},Mt=Ne=>{T.detachments.find(ot=>ot.id===Ne)?.detachmentId!=="crusade-primary"&&C(ot=>({...ot,detachments:ot.detachments.filter(Ut=>Ut.id!==Ne),updatedAt:new Date().toISOString()}))},Gt=(Ne,it,ot)=>{let Ut=ot||"";if(!ot)for(const vt of T.detachments){const Dt=`${vt.id}-${Ne}-${it}`;if(vt.units.some(Jt=>Jt.slotId===Dt)){Ut=vt.id;break}}N({roleId:Ne,slotIndex:it,triggeringDetachmentId:Ut}),R(!0)},mt=Ne=>{if(!I)return;const it=`${I.triggeringDetachmentId}-${I.roleId}-${I.slotIndex}`,Ut=T.detachments.find(Dt=>Dt.id===I.triggeringDetachmentId)?.units.find(Dt=>Dt.slotId===it),vt={id:`detachment-${Date.now()}`,detachmentId:Ne.id,customName:void 0,points:0,baseSlots:Ne.slots,modifiedSlots:Ne.slots,primeAdvantages:[],units:[],triggeredBy:{unitId:Ut?.id||it,slotId:it,detachmentId:I.triggeringDetachmentId,unitInstanceId:Ut?.id||it}};C(Dt=>({...Dt,detachments:[...Dt.detachments,vt],updatedAt:new Date().toISOString()})),R(!1),N(null)},$e=(Ne,it,ot,Ut)=>{if(ot===""){C(Zt=>{const ze=Zt.detachments.find(Rt=>Rt.id===Ne)?.units.find(Rt=>Rt.slotId===it),pt=Zt.detachments.map(Rt=>Rt.id===Ne?{...Rt,units:Rt.units.filter(un=>un.slotId!==it)}:Rt);let ht=pt;if(ze){const Rt={...Zt,detachments:pt};ht=e$(Rt,ze.id).detachments}return{...Zt,detachments:ht,updatedAt:new Date().toISOString()}});return}const vt=ot.startsWith("custom:");let Dt=null,Jt=null;if(vt){const Zt=ot.replace("custom:","");Jt=rr.getCustomUnit(Zt),Jt&&(Dt=ge.getUnitById(Jt.baseUnitId)||null)}else Dt=ge.getUnitById(ot)||null;const ft=ge.getFactionById(T.faction);if(Dt&&ft){const Zt={id:`${ot}-${Date.now()}`,unitId:vt?Jt.baseUnitId:ot,customName:vt?Jt.name:void 0,size:1,points:vt?Dt.points+Jt.upgrades.reduce((Ke,ze)=>Ke+ze.points*ze.count,0):Dt.points||0,slotId:it,models:{...Dt.models},wargear:[],weapons:{},upgrades:vt?Jt.upgrades:[],primeAdvantages:vt?Jt.primeAdvantages:[],specialRules:[],specialRuleValues:{},modelModifications:{},modelInstanceWeaponChanges:vt?Jt.modelInstanceWeaponChanges:{},modelInstanceWargearChanges:vt?Jt.modelInstanceWargearChanges:{},originalCustomUnitId:vt?Jt.id:void 0};C(Ke=>{const ze={...Ke,detachments:Ke.detachments.map(pt=>{if(pt.id===Ne){const ht=pt.units.filter(Rt=>Rt.slotId!==it);return{...pt,units:[...ht,Zt]}}return pt}),updatedAt:new Date().toISOString()};return Ut&&setTimeout(()=>{Gt(Ut.roleId,Ut.slotIndex,Ne)},0),ze})}},Ge=Ne=>{const it=[...Ne.baseSlots];return Ne.units.forEach(ot=>{ot.primeAdvantages?.forEach(Ut=>{Ut.advantageId==="logistical-benefit"&&Ut.slotModification&&it.push({roleId:Ut.slotModification.roleId,count:Ut.slotModification.count,isPrime:!1,description:`Custom slot added by Logistical Benefit for unit ${ot.unitId}`})})}),{...Ne,modifiedSlots:it}},Ue=(Ne,it)=>{C(ot=>({...ot,detachments:ot.detachments.map(vt=>{const Dt=vt.units.map(ft=>{if(ft.slotId===Ne){const Zt=it.upgrades.reduce((ht,Rt)=>ht+Rt.points*Rt.count,0),pt=(ge.getUnitById(it.unitId)?.points||0)+Zt;return{...it,slotId:Ne,points:pt}}return ft}),Jt={...vt,units:Dt};return Ge(Jt)}),updatedAt:new Date().toISOString()})),S(ot=>ot&&ot.slotId===Ne?{...ot,unit:it}:ot)},ct=Ne=>{Mt(Ne)},Fe=(Ne,it,ot)=>{let Ut;if(Ne.originalCustomUnitId){const vt=rr.getCustomUnit(Ne.originalCustomUnitId);vt&&(Ut={id:vt.id,name:vt.name,baseUnitId:vt.baseUnitId,faction:vt.faction,subfaction:vt.subfaction,createdAt:vt.createdAt,updatedAt:vt.updatedAt})}S({unit:Ne,slotId:it,detachmentId:ot,customUnitData:Ut}),A(!0)},Wt=()=>{A(!1),S(null)},oa=(Ne,it,ot,Ut,vt)=>{qe({roleId:Ne,roleName:it,detachmentId:ot,slotId:Ut,detachment:vt}),Me(!0)},Na=()=>{Me(!1),qe(null)},Xe=Ne=>{if(Oe){const it=Oe.roleId==="command"||Oe.roleId==="high-command",ot=Oe.slotId.match(/-(\d+)$/),Ut=ot?parseInt(ot[1],10):null;$e(Oe.detachmentId,Oe.slotId,Ne,it?{roleId:Oe.roleId,slotIndex:Ut}:void 0),Me(!1),qe(null)}},Vt=Ne=>{K(Ne),U(!0)},aa=Ne=>{U(!1),K(null)},Da=Ne=>{le(Ne),$(!0)},xn=Ne=>{X&&(C(it=>({...it,detachments:it.detachments.map(ot=>{if(ot.id===X.id){const Ut=Ne.units.map(vt=>{const Dt=vt.slotId.split("-"),Jt=Dt[Dt.length-2],ft=Dt[Dt.length-1],Zt=`${ot.id}-${Jt}-${ft}`;return{...vt,slotId:Zt}});return{...ot,units:Ut,primeAdvantages:Ne.primeAdvantages||[],updatedAt:new Date().toISOString()}}return ot}),updatedAt:new Date().toISOString()})),$(!1),le(null))};return s.jsxs(F,{children:[s.jsx(Id,{position:"sticky",color:"default",elevation:1,children:s.jsxs(Wd,{sx:{flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"stretch",sm:"center"},gap:{xs:1,sm:0}},children:[s.jsxs(F,{sx:{display:"flex",alignItems:"center",width:{xs:"100%",sm:"auto"},justifyContent:{xs:"space-between",sm:"flex-start"}},children:[s.jsx(xt,{edge:"start",color:"inherit",onClick:()=>{e?.(),a("/")},sx:{mr:{xs:0,sm:2}},children:s.jsx(Ol,{})}),s.jsxs(F,{sx:{flexGrow:1,display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"flex-start",sm:"center"},gap:{xs:.5,sm:2}},children:[s.jsx(O,{variant:i?"h6":"h5",component:"h1",sx:{fontSize:{xs:"1.1rem",sm:"1.25rem",md:"1.5rem"}},children:T.name}),s.jsxs(F,{sx:{display:"flex",gap:{xs:1,sm:2},alignItems:"center",flexWrap:"wrap"},children:[s.jsx(Ye,{label:He?.name||"Unknown",color:"primary",size:i?"small":"medium"}),s.jsxs(O,{variant:"body2",sx:{fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:[T.totalPoints," / ",T.pointsLimit," pts"]}),s.jsxs(O,{variant:"body2",sx:{fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:[T.detachments.length," detachments"]}),T.isNamed&&s.jsxs(F,{sx:{display:"flex",alignItems:"center",gap:1},children:[Qe?s.jsx(Ye,{icon:s.jsx(Ni,{}),label:"Saving...",size:"small",color:"info",variant:"outlined"}):s.jsx(Ye,{icon:s.jsx(Ni,{}),label:"Auto-saved",size:"small",color:"success",variant:"outlined"}),d&&s.jsx(Ye,{icon:m?s.jsx(cx,{}):s.jsx(c6,{}),label:m?"Syncing...":"Cloud Sync",size:"small",color:u?"primary":"default",variant:u?"filled":"outlined",onClick:()=>h(!u),sx:{cursor:"pointer"}})]})]})]})]}),s.jsxs(F,{sx:{display:"flex",gap:{xs:.5,sm:1},flexWrap:"wrap",justifyContent:{xs:"center",sm:"flex-end"},width:{xs:"100%",sm:"auto"}},children:[T.isNamed?s.jsx(Ve,{variant:"outlined",color:"info",size:i?"small":"medium",startIcon:s.jsx(Cw,{}),onClick:()=>H(!0),children:l?"Rename":"Rename List"}):s.jsx(Ve,{variant:"outlined",color:"info",size:i?"small":"medium",onClick:()=>H(!0),children:l?"Name":"Name List"}),s.jsx(Ve,{variant:"outlined",color:"info",size:i?"small":"medium",onClick:()=>{oe(T.pointsLimit.toString()),ye(!0)},children:l?"Points":"Set Points Limit"}),se.length>0&&s.jsx(Ve,{variant:"contained",color:"success",startIcon:s.jsx(ko,{}),size:i?"small":"medium",onClick:()=>E(!0),children:l?"Add":"Add Detachment"})]})]})}),s.jsxs(Cr,{maxWidth:i?!1:"lg",sx:{py:{xs:2,sm:3},px:{xs:0,sm:3},width:{xs:"100%",sm:"auto"}},children:[d&&s.jsxs(F,{sx:{mb:2},children:[v&&s.jsxs(Ca,{severity:"error",sx:{mb:1},children:["Sync error: ",v]}),s.jsxs(F,{sx:{display:"flex",alignItems:"center",gap:2,flexWrap:"wrap"},children:[s.jsx(pO,{control:s.jsx(Zz,{checked:u,onChange:Ne=>h(Ne.target.checked),color:"primary"}),label:"Auto-sync to cloud"}),y&&s.jsxs(O,{variant:"body2",color:"text.secondary",children:["Last synced: ",y.toLocaleTimeString()]}),u&&s.jsx(Ve,{variant:"outlined",size:"small",startIcon:s.jsx(cx,{}),onClick:x,disabled:m,children:m?"Syncing...":"Sync Now"})]})]}),!M&&s.jsxs(F,{children:[s.jsx(O,{variant:i?"h5":"h4",component:"h2",gutterBottom:!0,sx:{mb:{xs:2,sm:3}},children:"Detachments"}),T.detachments.length===0?s.jsx(yt,{children:s.jsx(bt,{children:s.jsx(O,{variant:"body1",color:"text.secondary",children:"No detachments added yet."})})}):s.jsx(F,{sx:{display:"flex",flexDirection:"column",gap:{xs:2,sm:3},width:"100%"},children:T.detachments.map((Ne,it)=>s.jsx(y$,{armyDetachment:Ne,armyList:T,index:it,onLoadCustomDetachment:Da,onSaveCustomDetachment:Vt,onRemoveDetachment:Mt,onUnitSelected:$e,onDetachmentPrompt:Gt,onUnitManagementOpen:Fe,onUnitSelectionOpen:oa},it))})]})]}),s.jsxs(Ra,{open:ne,onClose:()=>ye(!1),maxWidth:"sm",fullWidth:!0,fullScreen:i,children:[s.jsx(ka,{children:"Set Points Limit"}),s.jsx(Aa,{children:s.jsx(Je,{autoFocus:!0,margin:"dense",label:"Points Limit",type:"number",fullWidth:!0,variant:"outlined",value:be,onChange:Ne=>oe(Ne.target.value),placeholder:"Enter points limit...",inputProps:{min:1,step:1}})}),s.jsxs(Ka,{children:[s.jsx(Ve,{variant:"outlined",onClick:()=>ye(!1),children:"Cancel"}),s.jsx(Ve,{variant:"contained",color:"success",onClick:Se,disabled:!be.trim()||isNaN(parseInt(be,10))||parseInt(be,10)<=0,children:"Save"})]})]}),s.jsxs(Ra,{open:ie,onClose:()=>H(!1),maxWidth:"sm",fullWidth:!0,fullScreen:i,children:[s.jsx(ka,{children:"Name Your Army List"}),s.jsx(Aa,{children:s.jsx(Je,{autoFocus:!0,margin:"dense",label:"Army List Name",type:"text",fullWidth:!0,variant:"outlined",value:te,onChange:Ne=>Q(Ne.target.value),placeholder:"Enter army list name..."})}),s.jsxs(Ka,{children:[s.jsx(Ve,{variant:"outlined",onClick:()=>H(!1),children:"Cancel"}),s.jsx(Ve,{variant:"contained",color:"success",onClick:ee,disabled:!te.trim(),children:"Save"})]})]}),s.jsx(l$,{isOpen:j,armyList:T,onAddDetachment:rt,onClose:()=>E(!1)}),s.jsx(h$,{isOpen:W,roleId:I?.roleId||"",slotIndex:I?.slotIndex||0,armyList:T,triggeringDetachmentId:I?.triggeringDetachmentId||"",onClose:()=>{R(!1),N(null)},onDetachmentSelected:mt}),V&&_&&T&&s.jsx(xS,{isOpen:V,unit:_.unit,slotId:_.slotId,detachmentId:_.detachmentId,armyList:T,onClose:Wt,onUnitUpdated:Ue,onDetachmentPrompt:Gt,onDetachmentRemoved:ct,faction:T.faction,customUnitData:_.customUnitData}),D&&P&&T&&s.jsx(g$,{isOpen:D,detachment:P,faction:T.faction,subfaction:T.subfaction,onClose:()=>{U(!1),K(null)},onSaved:aa}),J&&X&&T&&s.jsx(f$,{isOpen:J,baseDetachmentId:X.detachmentId,currentDetachment:X,onClose:()=>{$(!1),le(null)},onLoad:xn}),s.jsx(x$,{isOpen:M,onDetachmentSelected:we,onCancel:()=>{L(!1),a("/")}}),_e&&Oe&&T&&s.jsx(p$,{isOpen:_e,roleId:Oe.roleId,roleName:Oe.roleName,armyList:T,detachment:Oe.detachment,onUnitSelected:Xe,onClose:Na})]})},R$=({onLoadList:t})=>{const e=Us(),[a,n]=w.useState([]),[i,l]=w.useState(!0),[d,u]=w.useState(!1),[h,m]=w.useState(null),[y,v]=w.useState("");w.useEffect(()=>{(()=>{try{const I=bs.getAllArmyListMetadata();n(I)}catch(I){console.error("Error loading army lists:",I)}finally{l(!1)}})()},[]);const x=R=>{const I=bs.loadArmyList(R);I&&(t(I),e("/army-builder/edit"))},T=(R,I)=>{I.stopPropagation(),window.confirm("Are you sure you want to delete this army list?")&&(bs.deleteArmyList(R),n(N=>N.filter(V=>V.id!==R)))},C=(R,I)=>{I.stopPropagation(),m(R),v(`${R.name} (Copy)`),u(!0)},j=()=>{if(!(!h||!y.trim()))try{const R=bs.loadArmyList(h.id);if(!R){alert("Failed to load the original army list.");return}const I={...R,id:`army-list-${Date.now()}`,name:y.trim(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};bs.saveArmyList(I);const N=bs.getAllArmyListMetadata();n(N),u(!1),m(null),v(""),alert("Army list duplicated successfully!")}catch(R){console.error("Error duplicating army list:",R),alert("Failed to duplicate army list. Please try again.")}},E=()=>{u(!1),m(null),v("")},M=R=>new Date(R).toLocaleDateString()+" "+new Date(R).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),L=R=>!R||R==="Universal"?"Mixed":R,W=R=>{if(!R||R==="Universal")return"default";switch(R.toLowerCase()){case"loyalist":return"success";case"traitor":return"error";default:return"default"}};return i?s.jsxs(F,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:[s.jsx(Cs,{}),s.jsx(O,{variant:"body1",sx:{ml:2},children:"Loading army lists..."})]}):s.jsxs(F,{children:[s.jsx(Id,{position:"static",color:"default",elevation:1,children:s.jsxs(Wd,{children:[s.jsx(xt,{edge:"start",color:"inherit",onClick:()=>e("/"),sx:{mr:2},children:s.jsx(Ol,{})}),s.jsx(O,{variant:"h5",component:"h1",sx:{flexGrow:1},children:"Load Army List"})]})}),s.jsx(Cr,{maxWidth:"lg",sx:{py:3},children:a.length===0?s.jsx(yt,{children:s.jsxs(bt,{sx:{textAlign:"center",py:4},children:[s.jsx(O,{variant:"h6",gutterBottom:!0,children:"No Army Lists Found"}),s.jsx(O,{variant:"body1",color:"text.secondary",sx:{mb:1},children:"You haven't created any army lists yet."}),s.jsx(O,{variant:"body2",color:"text.secondary",children:"Create a new army list to get started!"})]})}):s.jsx(F,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)",lg:"repeat(3, 1fr)"},gap:3},children:a.map(R=>s.jsx(yt,{sx:{cursor:"pointer",transition:"all 0.2s ease","&:hover":{transform:"translateY(-2px)",boxShadow:4}},onClick:()=>x(R.id),children:s.jsxs(bt,{children:[s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[s.jsx(O,{variant:"h6",component:"h3",sx:{flex:1},children:R.name}),s.jsxs(F,{sx:{display:"flex",gap:1},children:[s.jsx(xt,{size:"small",onClick:I=>C(R,I),title:"Duplicate army list",sx:{color:"info.main"},children:s.jsx(u6,{})}),s.jsx(xt,{size:"small",onClick:I=>T(R.id,I),title:"Delete army list",sx:{color:"error.main"},children:s.jsx(fd,{})})]})]}),s.jsxs(pa,{spacing:1,children:[s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(O,{variant:"body2",color:"text.secondary",children:"Faction:"}),s.jsx(O,{variant:"body2",children:R.faction})]}),s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(O,{variant:"body2",color:"text.secondary",children:"Allegiance:"}),s.jsx(Ye,{label:L(R.allegiance),size:"small",color:W(R.allegiance),variant:"outlined"})]}),s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(O,{variant:"body2",color:"text.secondary",children:"Points:"}),s.jsxs(O,{variant:"body2",children:[R.totalPoints," / ",R.pointsLimit]})]}),s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(O,{variant:"body2",color:"text.secondary",children:"Status:"}),s.jsx(Ye,{label:R.isNamed?"Named":"Unnamed",size:"small",color:R.isNamed?"success":"warning",variant:"outlined"})]}),s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(O,{variant:"body2",color:"text.secondary",children:"Updated:"}),s.jsx(O,{variant:"body2",children:M(R.updatedAt)})]})]})]})},R.id))})}),s.jsxs(Ra,{open:d,onClose:E,maxWidth:"sm",fullWidth:!0,children:[s.jsx(ka,{children:s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(O,{variant:"h6",children:"Duplicate Army List"}),s.jsx(xt,{onClick:E,size:"small",children:s.jsx(Mr,{})})]})}),s.jsxs(Aa,{children:[s.jsx(O,{variant:"body1",sx:{mb:2},children:"Enter a name for the duplicated army list:"}),s.jsx(Je,{fullWidth:!0,value:y,onChange:R=>v(R.target.value),onKeyDown:R=>{R.key==="Enter"&&y.trim()&&j()},placeholder:"Enter army list name...",autoFocus:!0,sx:{mb:3}}),h&&s.jsx(yt,{variant:"outlined",children:s.jsxs(bt,{children:[s.jsx(O,{variant:"h6",gutterBottom:!0,children:"Original List Details:"}),s.jsxs(pa,{spacing:1,children:[s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(O,{variant:"body2",color:"text.secondary",children:"Name:"}),s.jsx(O,{variant:"body2",children:h.name})]}),s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(O,{variant:"body2",color:"text.secondary",children:"Faction:"}),s.jsx(O,{variant:"body2",children:h.faction})]}),s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(O,{variant:"body2",color:"text.secondary",children:"Points:"}),s.jsxs(O,{variant:"body2",children:[h.totalPoints," /"," ",h.pointsLimit]})]})]})]})})]}),s.jsxs(Ka,{children:[s.jsx(Ve,{onClick:E,children:"Cancel"}),s.jsx(Ve,{variant:"contained",color:"warning",onClick:j,disabled:!y.trim(),children:"Duplicate"})]})]})]})},A$=()=>{const t=Us(),[e,a]=w.useState([]),[n,i]=w.useState(null),[l,d]=w.useState(!1),[u,h]=w.useState(null),[m,y]=w.useState(null);w.useEffect(()=>{v()},[]);const v=()=>{const D=rr.getAllCustomUnitMetadata();a(D)},x=D=>{const U=rr.getCustomUnit(D);U&&(i(U),d(!0))},T=D=>{y(D)},C=()=>{m&&(rr.deleteCustomUnit(m.id),y(null),v())},j=()=>{y(null)},E=D=>{h({id:D.id,name:D.name})},M=()=>{if(u){const D=rr.getCustomUnit(u.id);if(D){if(rr.isNameTaken(u.name,u.id)){alert("A custom unit with this name already exists.");return}const U=rr.generateId(u.name),P={...D,id:U,name:u.name,updatedAt:new Date().toISOString()};rr.deleteCustomUnit(u.id),rr.saveCustomUnit(P),h(null),v()}}},L=()=>{h(null)},W=D=>{u&&h({...u,name:D.target.value})},R=D=>{D.key==="Enter"?M():D.key==="Escape"&&L()},I=()=>{d(!1),i(null)},N=(D,U)=>{if(n){const P={...n,upgrades:U.upgrades,primeAdvantages:U.primeAdvantages,modelInstanceWeaponChanges:U.modelInstanceWeaponChanges,modelInstanceWargearChanges:U.modelInstanceWargearChanges,updatedAt:new Date().toISOString()};rr.saveCustomUnit(P),d(!1),i(null),v()}},V=D=>ge.getFactionById(D)?.name||D,A=D=>ge.getFactionById(D)?.name||D,_=D=>ge.getUnitById(D)?.name||D,S=D=>new Date(D).toLocaleDateString()+" "+new Date(D).toLocaleTimeString();return s.jsxs(F,{children:[s.jsx(Id,{position:"static",color:"default",elevation:1,children:s.jsxs(Wd,{children:[s.jsx(xt,{edge:"start",color:"inherit",onClick:()=>t("/"),sx:{mr:2},children:s.jsx(Ol,{})}),s.jsx(O,{variant:"h5",component:"h1",sx:{flexGrow:1},children:"Custom Units Manager"})]})}),s.jsx(Cr,{maxWidth:"lg",sx:{py:3},children:e.length===0?s.jsx(yt,{children:s.jsxs(bt,{children:[s.jsx(O,{variant:"body1",sx:{mb:1},children:"No custom units saved yet."}),s.jsx(O,{variant:"body2",color:"text.secondary",children:"Create custom units by configuring units in your army lists and saving them."})]})}):s.jsx(pa,{spacing:2,children:e.map(D=>s.jsx(yt,{children:s.jsxs(bt,{children:[s.jsx(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:s.jsx(F,{sx:{flex:1},children:u?.id===D.id?s.jsxs(F,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.jsx(Je,{value:u.name,onChange:W,onKeyDown:R,autoFocus:!0,size:"small",sx:{flex:1}}),s.jsx(xt,{color:"success",size:"small",onClick:M,children:s.jsx(Ni,{})}),s.jsx(xt,{color:"error",size:"small",onClick:L,children:s.jsx(Mr,{})})]}):s.jsxs(F,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.jsx(O,{variant:"h6",component:"h3",children:D.name}),s.jsx(Ye,{label:"Custom",size:"small",color:"primary",variant:"outlined"})]})})}),s.jsxs(pa,{spacing:1,sx:{mb:2},children:[s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(O,{variant:"body2",color:"text.secondary",children:"Base Unit:"}),s.jsx(O,{variant:"body2",children:_(D.baseUnitId)})]}),s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(O,{variant:"body2",color:"text.secondary",children:"Faction:"}),s.jsx(O,{variant:"body2",children:V(D.faction)})]}),D.subfaction&&s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(O,{variant:"body2",color:"text.secondary",children:"Subfaction:"}),s.jsx(O,{variant:"body2",children:A(D.subfaction)})]}),s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(O,{variant:"body2",color:"text.secondary",children:"Created:"}),s.jsx(O,{variant:"body2",children:S(D.createdAt)})]}),s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(O,{variant:"body2",color:"text.secondary",children:"Updated:"}),s.jsx(O,{variant:"body2",children:S(D.updatedAt)})]}),D.description&&s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[s.jsx(O,{variant:"body2",color:"text.secondary",children:"Description:"}),s.jsx(O,{variant:"body2",sx:{maxWidth:"60%",textAlign:"right"},children:D.description})]})]}),s.jsxs(F,{sx:{display:"flex",gap:1},children:[s.jsx(Ve,{variant:"outlined",size:"small",startIcon:s.jsx(Cw,{}),onClick:()=>x(D.id),title:"Edit unit configuration",children:"Edit"}),s.jsx(Ve,{variant:"outlined",size:"small",onClick:()=>E(D),title:"Rename unit",children:"Rename"}),s.jsx(Ve,{variant:"outlined",color:"error",size:"small",startIcon:s.jsx(fd,{}),onClick:()=>T(D),title:"Delete unit",children:"Delete"})]})]})},D.id))})}),s.jsxs(Ra,{open:!!m,onClose:j,maxWidth:"sm",fullWidth:!0,children:[s.jsx(ka,{children:"Delete Custom Unit"}),s.jsxs(Aa,{children:[s.jsxs(O,{variant:"body1",sx:{mb:1},children:['Are you sure you want to delete "',m?.name,'"?']}),s.jsx(Ca,{severity:"warning",children:"This action cannot be undone."})]}),s.jsxs(Ka,{children:[s.jsx(Ve,{onClick:j,children:"Cancel"}),s.jsx(Ve,{variant:"contained",color:"error",onClick:C,children:"Delete"})]})]}),l&&n&&s.jsx(xS,{isOpen:l,unit:{id:`${n.baseUnitId}-edit`,unitId:n.baseUnitId,customName:void 0,size:1,points:0,slotId:"custom-edit",models:{},wargear:[],weapons:{},upgrades:n.upgrades,primeAdvantages:n.primeAdvantages,specialRules:[],specialRuleValues:{},modelModifications:{},modelInstanceWeaponChanges:n.modelInstanceWeaponChanges,modelInstanceWargearChanges:n.modelInstanceWargearChanges},slotId:"custom-edit",detachmentId:"custom-edit",armyList:{id:"custom-edit",name:"Custom Unit Edit",faction:n.faction,allegiance:"Universal",pointsLimit:0,totalPoints:0,detachments:[],validationErrors:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isNamed:!0},onClose:I,onUnitUpdated:N,faction:n.faction,subfaction:n.subfaction,customUnitData:{id:n.id,name:n.name,baseUnitId:n.baseUnitId,faction:n.faction,subfaction:n.subfaction,createdAt:n.createdAt,updatedAt:n.updatedAt}})]})},k$=({isOpen:t,customDetachment:e,onClose:a,onSave:n})=>{const i=Xa(),l=Jn(i.breakpoints.down("md")),[d,u]=w.useState(null),[h,m]=w.useState(!1),[y,v]=w.useState(null),[x,T]=w.useState(!1),[C,j]=w.useState(null);w.useEffect(()=>{if(t&&e){const U=ge.getDetachmentById(e.baseDetachmentId),P=ge.getFactionById(e.faction);if(U&&P){const K={id:`custom-${e.id}`,detachmentId:e.baseDetachmentId,customName:e.customName,baseSlots:U.slots,modifiedSlots:e.units.length>0?[]:U.slots,units:e.units,primeAdvantages:e.primeAdvantages||[],points:0},J=E(K);u(J)}}},[t,e]);const E=U=>{const P=[...U.baseSlots];return U.units.forEach(K=>{K.primeAdvantages?.forEach(J=>{J.advantageId==="logistical-benefit"&&J.slotModification&&P.push({roleId:J.slotModification.roleId,count:J.slotModification.count,isPrime:!1,description:`Custom slot added by Logistical Benefit for unit ${K.unitId}`})})}),{...U,modifiedSlots:P}},M=U=>U.units.reduce((P,K)=>P+K.points,0),L=(U,P)=>{if(!d)return;const K=ge.getUnitById(P),J=ge.getFactionById(e.faction);if(K&&J){const $={id:`${P}-${Date.now()}`,unitId:P,customName:void 0,size:1,points:K.points||0,slotId:U,models:{},wargear:[],weapons:{},upgrades:[],primeAdvantages:[],specialRules:[],specialRuleValues:{},modelModifications:{},modelInstanceWeaponChanges:{},modelInstanceWargearChanges:{}},X=[...d.units,$],le={...d,units:X},ie=E(le);u(ie)}},W=(U,P)=>{if(!d)return;const K=d.units.map(X=>X.id===P.id?P:X),J={...d,units:K},$=E(J);u($)},R=(U,P)=>{j({roleId:U,slotIndex:P}),T(!0)},I=U=>{T(!1)},N=()=>{m(!1),v(null)},V=()=>{if(!d)return;const U={...e,units:d.units,primeAdvantages:d.primeAdvantages,updatedAt:new Date().toISOString()};n(U)},A=U=>ge.getFactionById(U)?.name||U,_=U=>ge.getFactionById(U)?.name||U,S=U=>ge.getDetachmentById(U)?.name||U;if(!t||!d)return null;const D=M(d);return s.jsxs(Ra,{open:t,onClose:a,maxWidth:"lg",fullWidth:!0,fullScreen:l,PaperProps:{sx:{maxHeight:l?"100vh":"90vh",height:l?"100vh":"auto"}},children:[s.jsx(ka,{sx:{p:{xs:2,sm:3},pb:{xs:1,sm:2}},children:s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(O,{variant:"h5",component:"h3",sx:{fontSize:{xs:"1.25rem",sm:"1.5rem"}},children:"Edit Custom Detachment"}),s.jsx(xt,{onClick:a,size:l?"medium":"small",sx:{p:{xs:1,sm:.5}},children:s.jsx(Mr,{})})]})}),s.jsxs(Aa,{sx:{p:{xs:2,sm:3}},children:[s.jsx(yt,{sx:{mb:{xs:2,sm:3}},children:s.jsxs(bt,{sx:{p:{xs:2,sm:3}},children:[s.jsxs(F,{sx:{mb:{xs:1.5,sm:2}},children:[s.jsx(O,{variant:"h6",gutterBottom:!0,sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"}},children:e.name}),s.jsxs(F,{sx:{display:"flex",gap:{xs:.5,sm:1},flexWrap:"wrap",mb:{xs:1.5,sm:2}},children:[s.jsx(Ye,{label:`Based on: ${S(e.baseDetachmentId)}`,size:"small",variant:"outlined",color:"primary",sx:{fontSize:{xs:"0.75rem",sm:"0.875rem"}}}),s.jsx(Ye,{label:A(e.faction),size:"small",variant:"outlined",color:"secondary",sx:{fontSize:{xs:"0.75rem",sm:"0.875rem"}}}),e.subfaction&&s.jsx(Ye,{label:_(e.subfaction),size:"small",variant:"outlined",color:"info",sx:{fontSize:{xs:"0.75rem",sm:"0.875rem"}}})]})]}),s.jsxs(pa,{direction:{xs:"column",sm:"row"},spacing:{xs:1,sm:3},sx:{mb:{xs:1.5,sm:2}},children:[s.jsxs(F,{children:[s.jsx(O,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"0.875rem",sm:"0.875rem"}},children:"Units:"}),s.jsx(O,{variant:"body1",fontWeight:"medium",sx:{fontSize:{xs:"1rem",sm:"1rem"}},children:d.units.length})]}),s.jsxs(F,{children:[s.jsx(O,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"0.875rem",sm:"0.875rem"}},children:"Total Points:"}),s.jsxs(O,{variant:"body1",fontWeight:"medium",sx:{fontSize:{xs:"1rem",sm:"1rem"}},children:[D," pts"]})]})]}),e.description&&s.jsxs(F,{children:[s.jsx(O,{variant:"body2",color:"text.secondary",gutterBottom:!0,sx:{fontSize:{xs:"0.875rem",sm:"0.875rem"}},children:"Description:"}),s.jsx(O,{variant:"body2",sx:{fontSize:{xs:"0.875rem",sm:"0.875rem"}},children:e.description})]})]})}),s.jsxs(F,{children:[s.jsx(O,{variant:"h6",gutterBottom:!0,sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"}},children:"Detachment Slots"}),s.jsx(vS,{detachment:ge.getDetachmentById(e.baseDetachmentId),armyDetachment:d,armyList:{id:"custom-detachment-edit",name:e.name,allegiance:"Loyalist",faction:"legiones-astartes",subfaction:void 0,pointsLimit:0,totalPoints:D,validationErrors:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isNamed:!0,detachments:[]},onUnitSelected:L,onUnitUpdated:W,onDetachmentPrompt:R})]})]}),s.jsxs(Ka,{sx:{p:{xs:2,sm:3},pt:{xs:1,sm:2}},children:[s.jsx(Ve,{onClick:a,fullWidth:l,sx:{fontSize:{xs:"0.875rem",sm:"0.875rem"}},children:"Cancel"}),s.jsx(Ve,{variant:"contained",color:"success",onClick:V,fullWidth:l,sx:{fontSize:{xs:"0.875rem",sm:"0.875rem"}},children:"Save Changes"})]}),h&&y&&s.jsx(xS,{isOpen:h,unit:y.unit,slotId:y.slotId,detachmentId:y.detachmentId,armyList:{id:"custom-detachment-edit",name:e.name,allegiance:"Loyalist",faction:"legiones-astartes",subfaction:void 0,pointsLimit:0,totalPoints:D,validationErrors:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isNamed:!0,detachments:[]},onClose:N,onUnitUpdated:W,faction:e.faction,subfaction:e.subfaction}),s.jsxs(Ra,{open:x,onClose:()=>T(!1),maxWidth:"sm",fullWidth:!0,fullScreen:l,PaperProps:{sx:{maxHeight:l?"100vh":"auto",height:l?"100vh":"auto"}},children:[s.jsx(ka,{sx:{p:{xs:2,sm:3},pb:{xs:1,sm:2}},children:s.jsx(O,{sx:{fontSize:{xs:"1.25rem",sm:"1.5rem"}},children:"Select Detachment Type"})}),s.jsxs(Aa,{sx:{p:{xs:2,sm:3}},children:[s.jsxs(O,{variant:"body1",sx:{mb:{xs:1.5,sm:2},fontSize:{xs:"0.875rem",sm:"1rem"}},children:["Choose a detachment type for the ",C?.roleId," ","slot:"]}),s.jsx(F,{sx:{display:"flex",gap:1},children:s.jsx(Ve,{variant:"contained",fullWidth:l,sx:{fontSize:{xs:"0.875rem",sm:"0.875rem"}},onClick:()=>I(),children:"Default Detachment"})})]})]})]})},E$=()=>{const t=Us(),[e,a]=w.useState([]),[n,i]=w.useState(null),[l,d]=w.useState(null),[u,h]=w.useState(null),[m,y]=w.useState(!1);w.useEffect(()=>{v()},[]);const v=()=>{const U=Wi.getAllCustomDetachmentMetadata();a(U)},x=U=>{const P=Wi.getCustomDetachment(U);P&&(h(P),y(!0))},T=U=>{d(U)},C=()=>{l&&(Wi.deleteCustomDetachment(l.id),d(null),v())},j=()=>{d(null)},E=()=>{y(!1),h(null)},M=U=>{Wi.saveCustomDetachment(U),y(!1),h(null),v()},L=U=>{i({id:U.id,name:U.name})},W=()=>{if(n){const U=Wi.getCustomDetachment(n.id);if(U){if(Wi.getAllCustomDetachmentMetadata().some($=>$.name===n.name&&$.id!==n.id)){alert("A custom detachment with this name already exists.");return}const J={...U,name:n.name,updatedAt:new Date().toISOString()};Wi.saveCustomDetachment(J),i(null),v()}}},R=()=>{i(null)},I=U=>{n&&i({...n,name:U.target.value})},N=U=>{U.key==="Enter"?W():U.key==="Escape"&&R()},V=U=>ge.getFactionById(U)?.name||U,A=U=>ge.getFactionById(U)?.name||U,_=U=>ge.getDetachmentById(U)?.name||U,S=U=>new Date(U).toLocaleDateString()+" "+new Date(U).toLocaleTimeString(),D=U=>U.reduce((P,K)=>P+(K.points||0),0);return s.jsxs(F,{children:[s.jsx(Id,{position:"static",color:"default",elevation:1,children:s.jsxs(Wd,{children:[s.jsx(xt,{edge:"start",color:"inherit",onClick:()=>t("/"),sx:{mr:2},children:s.jsx(Ol,{})}),s.jsx(O,{variant:"h5",component:"h1",sx:{flexGrow:1},children:"Custom Detachments Manager"})]})}),s.jsx(Cr,{maxWidth:"lg",sx:{py:3},children:e.length===0?s.jsx(yt,{children:s.jsxs(bt,{children:[s.jsx(O,{variant:"body1",sx:{mb:1},children:"No custom detachments saved yet."}),s.jsx(O,{variant:"body2",color:"text.secondary",children:"Create custom detachments by configuring detachments in your army lists and saving them."})]})}):s.jsx(pa,{spacing:2,children:e.map(U=>{const P=Wi.getCustomDetachment(U.id),K=P?D(P.units):0;return s.jsx(yt,{children:s.jsxs(bt,{children:[s.jsx(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:s.jsx(F,{sx:{flex:1},children:n?.id===U.id?s.jsxs(F,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.jsx(Je,{value:n.name,onChange:I,onKeyDown:N,autoFocus:!0,size:"small",sx:{flex:1}}),s.jsx(xt,{color:"success",size:"small",onClick:W,children:s.jsx(Ni,{})}),s.jsx(xt,{color:"error",size:"small",onClick:R,children:s.jsx(Mr,{})})]}):s.jsxs(F,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.jsx(O,{variant:"h6",component:"h3",children:U.name}),s.jsx(Ye,{label:"Custom",size:"small",color:"primary",variant:"outlined"})]})})}),s.jsxs(pa,{spacing:1,sx:{mb:2},children:[s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(O,{variant:"body2",color:"text.secondary",children:"Base Detachment:"}),s.jsx(O,{variant:"body2",children:_(U.baseDetachmentId)})]}),s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(O,{variant:"body2",color:"text.secondary",children:"Faction:"}),s.jsx(O,{variant:"body2",children:V(U.faction)})]}),U.subfaction&&s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(O,{variant:"body2",color:"text.secondary",children:"Subfaction:"}),s.jsx(O,{variant:"body2",children:A(U.subfaction)})]}),s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(O,{variant:"body2",color:"text.secondary",children:"Units:"}),s.jsxs(O,{variant:"body2",children:[P?.units.length||0," units"]})]}),s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(O,{variant:"body2",color:"text.secondary",children:"Total Points:"}),s.jsxs(O,{variant:"body2",children:[K," pts"]})]}),s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(O,{variant:"body2",color:"text.secondary",children:"Created:"}),s.jsx(O,{variant:"body2",children:S(U.createdAt)})]}),s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(O,{variant:"body2",color:"text.secondary",children:"Updated:"}),s.jsx(O,{variant:"body2",children:S(U.updatedAt)})]}),U.description&&s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[s.jsx(O,{variant:"body2",color:"text.secondary",children:"Description:"}),s.jsx(O,{variant:"body2",sx:{maxWidth:"60%",textAlign:"right"},children:U.description})]})]}),s.jsxs(F,{sx:{display:"flex",gap:1},children:[s.jsx(Ve,{variant:"outlined",size:"small",startIcon:s.jsx(Cw,{}),onClick:()=>x(U.id),title:"Edit detachment configuration",children:"Edit"}),s.jsx(Ve,{variant:"outlined",size:"small",onClick:()=>L(U),title:"Rename detachment",children:"Rename"}),s.jsx(Ve,{variant:"outlined",color:"error",size:"small",startIcon:s.jsx(fd,{}),onClick:()=>T(U),title:"Delete detachment",children:"Delete"})]})]})},U.id)})})}),s.jsxs(Ra,{open:!!l,onClose:j,maxWidth:"sm",fullWidth:!0,children:[s.jsx(ka,{children:"Delete Custom Detachment"}),s.jsxs(Aa,{children:[s.jsxs(O,{variant:"body1",sx:{mb:1},children:['Are you sure you want to delete "',l?.name,'"?']}),s.jsx(Ca,{severity:"warning",children:"This action cannot be undone."})]}),s.jsxs(Ka,{children:[s.jsx(Ve,{onClick:j,children:"Cancel"}),s.jsx(Ve,{variant:"contained",color:"error",onClick:C,children:"Delete"})]})]}),m&&u&&s.jsx(k$,{isOpen:m,customDetachment:u,onClose:E,onSave:M})]})},_$=({unit:t,isOpen:e,onClose:a})=>{const n=Xa(),i=Jn(n.breakpoints.down("md")),[l,d]=w.useState(new Set),[u,h]=w.useState(new Set),[m,y]=w.useState(new Set),v=w.useMemo(()=>{if(!t)return[];const A=new Map,_=(D,U,P,K)=>{const J=K?`${D.name} (${K})`:D.name,$=A.get(J);$?($.sources.includes(U)||$.sources.push(U),P&&($.isOptional=!0)):A.set(J,{weapon:D,sources:[U],isOptional:P,mount:K})};t.modelsWithData.forEach(({model:D,count:U})=>{D.weapons.forEach(P=>{const K=typeof P=="string"?P:P.id,J=typeof P=="string"?void 0:P.mount,$=ge.getWeaponById(K);$&&_($,`${U}x ${D.name}`,!1,J)})});const S=ge.getUpgrades();return t.modelsWithData.forEach(({model:D})=>{S.forEach(U=>{(U.targetModelType===D.id||U.targetModel===D.id)&&U.options?.forEach(P=>{if(P.addWeapon){const K=typeof P.addWeapon=="string"?P.addWeapon:P.addWeapon.id,J=typeof P.addWeapon=="string"?void 0:P.addWeapon.mount,$=ge.getWeaponById(K);$&&_($,`Upgrade: ${U.name} - ${P.name}`,!0,J)}P.weaponReplacements&&P.weaponReplacements.forEach(K=>{const J=typeof K.addWeapon=="string"?K.addWeapon:K.addWeapon.id,$=typeof K.addWeapon=="string"?void 0:K.addWeapon.mount,X=ge.getWeaponById(J);X&&_(X,`Upgrade: ${U.name} - ${P.name}`,!0,$)})})})}),Array.from(A.values()).map(({weapon:D,sources:U,isOptional:P,mount:K})=>({weapon:D,source:U.join(", "),isOptional:P,mount:K}))},[t]),x=w.useMemo(()=>{if(!t)return[];const A=new Map,_=(D,U,P,K)=>{const J=A.get(D.id);J?(J.count+=U,K&&(J.isOptional=!0)):A.set(D.id,{model:D,count:U,isOptional:K,source:P})};t.modelsWithData.forEach(({model:D,count:U})=>{_(D,U,"Base unit",!1)});const S=ge.getUpgrades();return t.upgrades.forEach(D=>{const U=S.find(P=>P.id===D);U&&U.options?.forEach(P=>{if(P.replaceModel){const K=ge.getModelById(P.replaceModel.to);if(K){const J=t.models[P.replaceModel.from]||0;_(K,J,`Upgrade: ${U.name} - ${P.name} (${P.points} pts)`,!0)}}})}),Array.from(A.values())},[t]),T=w.useMemo(()=>{if(!t)return[];const A=[];return t.specialRules.forEach(_=>{const S=ge.getSpecialRuleById(_);S&&S.type==="special-rule"&&A.push({rule:S})}),t.modelsWithData.forEach(({model:_})=>{_.specialRules.forEach(S=>{const D=ge.getSpecialRuleById(S);D&&D.type==="special-rule"&&A.push({rule:D})})}),A},[t]),C=w.useMemo(()=>{if(!t)return[];const A=[];return t.specialRules.forEach(_=>{const S=ge.getSpecialRuleById(_);S&&S.type==="wargear"&&A.push({rule:S,source:"Unit"})}),t.modelsWithData.forEach(({model:_,count:S})=>{_.specialRules.forEach(D=>{const U=ge.getSpecialRuleById(D);U&&U.type==="wargear"&&A.push({rule:U,source:`${S}x ${_.name}`})})}),A},[t]),j=w.useMemo(()=>{if(!t)return[];const A=[];return v.forEach(_=>{const{weapon:S}=_;S.specialRules&&S.specialRules.length>0&&S.specialRules.forEach(D=>{const U=ge.getSpecialRuleById(D);U&&U.type==="special-rule"&&A.push({rule:U})}),ge.isRangedWeapon(S)&&S.profiles&&ge.getProfileWeapons(S).forEach(U=>{U.specialRules&&U.specialRules.length>0&&U.specialRules.forEach(P=>{const K=ge.getSpecialRuleById(P);K&&K.type==="special-rule"&&A.push({rule:K})})})}),A},[v]);if(!t)return null;const E=A=>{const _=new Set(l);_.has(A)?_.delete(A):_.add(A),d(_)},M=A=>{const _=new Set(u);_.has(A)?_.delete(A):_.add(A),h(_)},L=A=>{const _=new Set(m);_.has(A)?_.delete(A):_.add(A),y(_)},W=(A,_)=>!A||A.length===0?"-":A.map(S=>{const U=ge.getSpecialRuleById(S)?.name||S;return _&&_[S]!==void 0?`${U} (${_[S]})`:U}).join(", "),R=A=>{const{model:_,count:S,isOptional:D,source:U}=A,P={p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}};if(ge.isVehicleModel(_)){const K=_.characteristics;return s.jsxs(Pt,{children:[s.jsx(Y,{sx:P,children:s.jsxs(F,{children:[s.jsxs(O,{variant:"body2",sx:{fontWeight:"bold",fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:[_.name,D&&" (Optional)"]}),s.jsxs(O,{variant:"caption",color:"text.secondary",sx:{fontSize:{xs:"0.75rem",sm:"0.75rem"}},children:[S,"x ",U]})]})}),s.jsxs(Y,{sx:P,children:[K.movement,'"']}),s.jsxs(Y,{sx:P,children:[K.ballisticSkill,"+"]}),s.jsxs(Y,{sx:P,children:[K.frontArmour,"+"]}),s.jsxs(Y,{sx:P,children:[K.sideArmour,"+"]}),s.jsxs(Y,{sx:P,children:[K.rearArmour,"+"]}),s.jsx(Y,{sx:P,children:K.hullPoints}),s.jsx(Y,{sx:P,children:K.transportCapacity||"-"}),s.jsx(Y,{sx:P,children:"-"}),s.jsx(Y,{sx:P,children:_.specialRules&&_.specialRules.length>0?_.specialRules.map(J=>ge.getSpecialRuleById(J)?.name||J).join(", "):"-"})]},`${_.id}-${U}`)}else{const K=_.characteristics;return s.jsxs(Pt,{children:[s.jsx(Y,{sx:P,children:s.jsxs(F,{children:[s.jsxs(O,{variant:"body2",sx:{fontWeight:"bold",fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:[_.name,D&&" (Optional)"]}),s.jsxs(O,{variant:"caption",color:"text.secondary",sx:{fontSize:{xs:"0.75rem",sm:"0.75rem"}},children:[S,"x ",U]})]})}),s.jsxs(Y,{sx:P,children:[K.movement,'"']}),s.jsxs(Y,{sx:P,children:[K.weaponSkill,"+"]}),s.jsxs(Y,{sx:P,children:[K.ballisticSkill,"+"]}),s.jsx(Y,{sx:P,children:K.strength}),s.jsx(Y,{sx:P,children:K.toughness}),s.jsx(Y,{sx:P,children:K.wounds}),s.jsx(Y,{sx:P,children:K.initiative}),s.jsx(Y,{sx:P,children:K.attacks}),s.jsx(Y,{sx:P,children:K.leadership}),s.jsxs(Y,{sx:P,children:[K.armourSave,"+"]}),s.jsx(Y,{sx:P,children:K.invulnerableSave?`${K.invulnerableSave}+`:"-"}),s.jsx(Y,{sx:P,children:_.specialRules&&_.specialRules.length>0?_.specialRules.map(J=>ge.getSpecialRuleById(J)?.name||J).join(", "):"-"})]},`${_.id}-${U}`)}},I=A=>{const{weapon:_,source:S,isOptional:D,mount:U}=A,P={p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}};if(ge.isRangedWeapon(_))if(_.profiles&&_.profiles.length>0){const K=[];return K.push(s.jsx(Pt,{sx:{backgroundColor:"action.hover"},children:s.jsx(Y,{colSpan:8,sx:P,children:s.jsxs(F,{children:[s.jsxs(O,{variant:"subtitle1",sx:{fontWeight:"bold",fontSize:{xs:"0.875rem",sm:"1rem"}},children:[_.name,U&&` (${U})`]}),s.jsxs(O,{variant:"caption",color:"text.secondary",sx:{fontSize:{xs:"0.75rem",sm:"0.75rem"}},children:[S," ",D&&"(Optional)"]})]})})},`${_.id}-header`)),ge.getProfileWeapons(_).forEach(($,X)=>{if(ge.isRangedWeapon($)){const le=$;K.push(s.jsxs(Pt,{children:[s.jsx(Y,{sx:{...P,pl:{xs:2,sm:4}},children:s.jsx(O,{variant:"body2",sx:{fontStyle:"italic",fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:le.name})}),s.jsxs(Y,{sx:P,children:[le.range,'"']}),s.jsx(Y,{sx:P,children:le.firepower}),s.jsx(Y,{sx:P,children:le.rangedStrength}),s.jsx(Y,{sx:P,children:le.ap}),s.jsx(Y,{sx:P,children:le.damage}),s.jsx(Y,{sx:P,children:W(le.specialRules||[],le.specialRuleValues)}),s.jsx(Y,{sx:P,children:le.traits?.join(", ")||"-"})]},`${_.id}-${X}`))}}),K}else return s.jsxs(Pt,{children:[s.jsx(Y,{sx:P,children:s.jsxs(F,{children:[s.jsxs(O,{variant:"body2",sx:{fontWeight:"bold",fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:[_.name,U&&` (${U})`]}),s.jsxs(O,{variant:"caption",color:"text.secondary",sx:{fontSize:{xs:"0.75rem",sm:"0.75rem"}},children:[S," ",D&&"(Optional)"]})]})}),s.jsxs(Y,{sx:P,children:[_.range,'"']}),s.jsx(Y,{sx:P,children:_.firepower}),s.jsx(Y,{sx:P,children:_.rangedStrength}),s.jsx(Y,{sx:P,children:_.ap}),s.jsx(Y,{sx:P,children:_.damage}),s.jsx(Y,{sx:P,children:W(_.specialRules||[],_.specialRuleValues)}),s.jsx(Y,{sx:P,children:_.traits?.join(", ")||"-"})]},_.id);return null},N=A=>{const{weapon:_,source:S,isOptional:D,mount:U}=A,P={p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}};return ge.isMeleeWeapon(_)?s.jsxs(Pt,{children:[s.jsx(Y,{sx:P,children:s.jsxs(F,{children:[s.jsxs(O,{variant:"body2",sx:{fontWeight:"bold",fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:[_.name,U&&` (${U})`]}),s.jsxs(O,{variant:"caption",color:"text.secondary",sx:{fontSize:{xs:"0.75rem",sm:"0.75rem"}},children:[S," ",D&&"(Optional)"]})]})}),s.jsx(Y,{sx:P,children:_.initiativeModifier==="I"?"I":`${typeof _.initiativeModifier=="number"&&_.initiativeModifier>0?"+":""}${_.initiativeModifier}`}),s.jsx(Y,{sx:P,children:_.attackModifier==="A"?"A":`${typeof _.attackModifier=="number"&&_.attackModifier>0?"+":""}${_.attackModifier}`}),s.jsx(Y,{sx:P,children:_.strengthModifier==="S"?"S":`${typeof _.strengthModifier=="number"&&_.strengthModifier>0?"+":""}${_.strengthModifier}`}),s.jsx(Y,{sx:P,children:_.ap}),s.jsx(Y,{sx:P,children:_.damage}),s.jsx(Y,{sx:P,children:W(_.specialRules||[],_.specialRuleValues)}),s.jsx(Y,{sx:P,children:_.traits?.join(", ")||"-"})]},_.id):null},V=x.some(({model:A})=>ge.isVehicleModel(A));return s.jsxs(Ra,{open:e,onClose:a,maxWidth:"xl",fullWidth:!0,fullScreen:i,PaperProps:{sx:{maxHeight:i?"100vh":"90vh",height:i?"100vh":"auto"}},children:[s.jsxs(ka,{sx:{p:{xs:2,sm:3},pb:{xs:1,sm:2}},children:[s.jsx(O,{variant:"h5",component:"h2",sx:{fontSize:{xs:"1.25rem",sm:"1.5rem"}},children:t.name}),s.jsx(Ye,{label:t.battlefieldRole,color:"primary",variant:"outlined",size:"small",sx:{mt:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}}})]}),s.jsxs(Aa,{sx:{p:{xs:2,sm:3}},children:[s.jsx(F,{sx:{mb:{xs:2,sm:3}},children:s.jsx(O,{variant:"body1",color:"text.secondary",paragraph:!0,sx:{fontSize:{xs:"0.875rem",sm:"1rem"}},children:t.description})}),s.jsx(vr,{sx:{my:{xs:1.5,sm:2}}}),s.jsxs(F,{sx:{mb:{xs:2,sm:3}},children:[s.jsx(O,{variant:"h6",gutterBottom:!0,sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"}},children:"Unit Details"}),s.jsxs(F,{sx:{display:"flex",gap:{xs:1,sm:2},flexWrap:"wrap"},children:[s.jsx(Ye,{label:`Size: ${t.minSize}-${t.maxSize} models`,size:"small",sx:{fontSize:{xs:"0.75rem",sm:"0.875rem"}}}),s.jsx(Ye,{label:`Points: ${t.points} pts`,color:"primary",size:"small",sx:{fontSize:{xs:"0.75rem",sm:"0.875rem"}}})]})]}),s.jsx(vr,{sx:{my:{xs:1.5,sm:2}}}),t.upgrades.length>0&&s.jsxs(F,{sx:{mb:{xs:2,sm:3}},children:[s.jsx(O,{variant:"h6",gutterBottom:!0,sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"}},children:"Available Upgrades"}),t.upgrades.map(A=>{const _=ge.getUpgrades().find(S=>S.id===A);return _?s.jsxs(F,{sx:{mb:1},children:[s.jsx(O,{variant:"body2",sx:{fontWeight:"bold",fontSize:{xs:"0.875rem",sm:"0.875rem"}},children:_.name}),s.jsx(O,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"0.875rem",sm:"0.875rem"}},children:_.description}),_.options?.map(S=>s.jsxs(O,{variant:"caption",color:"text.secondary",sx:{display:"block",ml:2,fontSize:{xs:"0.75rem",sm:"0.75rem"}},children:[" ",S.name,": ",S.points," pts"]},S.id))]},_.id):null})]}),s.jsx(vr,{sx:{my:{xs:1.5,sm:2}}}),s.jsxs(F,{sx:{mb:{xs:3,sm:4}},children:[s.jsx(O,{variant:"h6",gutterBottom:!0,sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"}},children:"Model Characteristics"}),s.jsx(Yn,{component:ta,children:s.jsxs(Gn,{size:"small",children:[s.jsx(Xn,{children:s.jsxs(Pt,{children:[s.jsx(Y,{sx:{fontWeight:"bold",p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Model"}),V?s.jsxs(s.Fragment,{children:[s.jsx(Y,{sx:{fontWeight:"bold",p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"M"}),s.jsx(Y,{sx:{fontWeight:"bold",p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"BS"}),s.jsx(Y,{sx:{fontWeight:"bold",p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"FA"}),s.jsx(Y,{sx:{fontWeight:"bold",p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"SA"}),s.jsx(Y,{sx:{fontWeight:"bold",p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"RA"}),s.jsx(Y,{sx:{fontWeight:"bold",p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"HP"}),s.jsx(Y,{sx:{fontWeight:"bold",p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"TC"}),s.jsx(Y,{sx:{fontWeight:"bold",p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Inv"}),s.jsx(Y,{sx:{fontWeight:"bold",p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Special Rules"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Y,{sx:{fontWeight:"bold",p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"M"}),s.jsx(Y,{sx:{fontWeight:"bold",p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"WS"}),s.jsx(Y,{sx:{fontWeight:"bold",p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"BS"}),s.jsx(Y,{sx:{fontWeight:"bold",p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"S"}),s.jsx(Y,{sx:{fontWeight:"bold",p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"T"}),s.jsx(Y,{sx:{fontWeight:"bold",p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"W"}),s.jsx(Y,{sx:{fontWeight:"bold",p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"I"}),s.jsx(Y,{sx:{fontWeight:"bold",p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"A"}),s.jsx(Y,{sx:{fontWeight:"bold",p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Ld"}),s.jsx(Y,{sx:{fontWeight:"bold",p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Sv"}),s.jsx(Y,{sx:{fontWeight:"bold",p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Inv"}),s.jsx(Y,{sx:{fontWeight:"bold",p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Special Rules"})]})]})}),s.jsx(Kn,{children:x.map(A=>R(A))})]})})]}),s.jsx(vr,{sx:{my:3}}),v.some(A=>ge.isRangedWeapon(A.weapon))&&s.jsxs(F,{sx:{mb:{xs:3,sm:4}},children:[s.jsx(O,{variant:"h6",gutterBottom:!0,sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"}},children:"Ranged Weapons"}),s.jsx(Yn,{component:ta,children:s.jsxs(Gn,{size:"small",children:[s.jsx(Xn,{children:s.jsxs(Pt,{children:[s.jsx(Y,{sx:{fontWeight:"bold",p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Weapon"}),s.jsx(Y,{sx:{fontWeight:"bold",p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Range"}),s.jsx(Y,{sx:{fontWeight:"bold",p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Firepower"}),s.jsx(Y,{sx:{fontWeight:"bold",p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Strength"}),s.jsx(Y,{sx:{fontWeight:"bold",p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"AP"}),s.jsx(Y,{sx:{fontWeight:"bold",p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Damage"}),s.jsx(Y,{sx:{fontWeight:"bold",p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Special Rules"}),s.jsx(Y,{sx:{fontWeight:"bold",p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Traits"})]})}),s.jsx(Kn,{children:v.filter(A=>ge.isRangedWeapon(A.weapon)).flatMap(I)})]})})]}),v.some(A=>ge.isMeleeWeapon(A.weapon))&&s.jsxs(F,{sx:{mb:{xs:3,sm:4}},children:[s.jsx(O,{variant:"h6",gutterBottom:!0,sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"}},children:"Melee Weapons"}),s.jsx(Yn,{component:ta,children:s.jsxs(Gn,{size:"small",children:[s.jsx(Xn,{children:s.jsxs(Pt,{children:[s.jsx(Y,{sx:{fontWeight:"bold",p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Weapon"}),s.jsx(Y,{sx:{fontWeight:"bold",p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Initiative Mod"}),s.jsx(Y,{sx:{fontWeight:"bold",p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Attack Mod"}),s.jsx(Y,{sx:{fontWeight:"bold",p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Strength Mod"}),s.jsx(Y,{sx:{fontWeight:"bold",p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"AP"}),s.jsx(Y,{sx:{fontWeight:"bold",p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Damage"}),s.jsx(Y,{sx:{fontWeight:"bold",p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Special Rules"}),s.jsx(Y,{sx:{fontWeight:"bold",p:{xs:.5,sm:1},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Traits"})]})}),s.jsx(Kn,{children:v.filter(A=>ge.isMeleeWeapon(A.weapon)).map(N)})]})})]}),s.jsx(vr,{sx:{my:{xs:2,sm:3}}}),j.length>0&&s.jsxs(ai,{defaultExpanded:!1,children:[s.jsx(ri,{expandIcon:s.jsx(ii,{}),sx:{p:{xs:1,sm:2}},children:s.jsxs(O,{variant:"h6",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"}},children:["Weapon Special Rules (",j.length,")"]})}),s.jsx(ni,{sx:{p:{xs:1,sm:2}},children:s.jsx(F,{children:j.map(({rule:A})=>s.jsxs(ai,{expanded:m.has(A.id),children:[s.jsx(ri,{expandIcon:s.jsx(xt,{size:i?"medium":"small",onClick:_=>{_.stopPropagation(),L(A.id)},sx:{p:{xs:.5,sm:.25}},children:m.has(A.id)?s.jsx(vp,{}):s.jsx(ii,{})}),sx:{p:{xs:1,sm:2}},children:s.jsx(O,{variant:"body2",sx:{fontStyle:"italic",fontSize:{xs:"0.875rem",sm:"0.875rem"}},children:A.description})}),s.jsx(ni,{sx:{p:{xs:1,sm:2}},children:s.jsxs(F,{children:[s.jsx(O,{variant:"body2",sx:{fontWeight:"bold",mb:{xs:.5,sm:1},fontSize:{xs:"0.875rem",sm:"0.875rem"}},children:A.shortText}),s.jsx(O,{variant:"body2",sx:{fontSize:{xs:"0.875rem",sm:"0.875rem"}},children:A.longText})]})})]},A.id))})})]}),s.jsx(vr,{sx:{my:{xs:2,sm:3}}}),T.length>0&&s.jsxs(F,{sx:{mb:{xs:3,sm:4}},children:[s.jsx(O,{variant:"h6",gutterBottom:!0,sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"}},children:"Special Rules"}),T.map(({rule:A})=>s.jsxs(ai,{expanded:l.has(A.id),children:[s.jsx(ri,{expandIcon:s.jsx(xt,{size:i?"medium":"small",onClick:_=>{_.stopPropagation(),E(A.id)},sx:{p:{xs:.5,sm:.25}},children:l.has(A.id)?s.jsx(vp,{}):s.jsx(ii,{})}),sx:{p:{xs:1,sm:2}},children:s.jsx(O,{variant:"body2",sx:{fontStyle:"italic",fontSize:{xs:"0.875rem",sm:"0.875rem"}},children:A.description})}),s.jsx(ni,{sx:{p:{xs:1,sm:2}},children:s.jsxs(F,{children:[s.jsx(O,{variant:"body2",sx:{fontWeight:"bold",mb:{xs:.5,sm:1},fontSize:{xs:"0.875rem",sm:"0.875rem"}},children:A.shortText}),s.jsx(O,{variant:"body2",sx:{fontSize:{xs:"0.875rem",sm:"0.875rem"}},children:A.longText})]})})]},A.id))]}),s.jsx(vr,{sx:{my:{xs:2,sm:3}}}),C.length>0&&s.jsxs(F,{sx:{mb:{xs:3,sm:4}},children:[s.jsx(O,{variant:"h6",gutterBottom:!0,sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"}},children:"Wargear"}),C.map(({rule:A,source:_})=>s.jsxs(ai,{expanded:u.has(A.id),children:[s.jsx(ri,{expandIcon:s.jsx(xt,{size:i?"medium":"small",onClick:S=>{S.stopPropagation(),M(A.id)},sx:{p:{xs:.5,sm:.25}},children:u.has(A.id)?s.jsx(vp,{}):s.jsx(ii,{})}),sx:{p:{xs:1,sm:2}},children:s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[s.jsx(O,{variant:"body2",sx:{fontStyle:"italic",fontSize:{xs:"0.875rem",sm:"0.875rem"}},children:A.description}),s.jsx(Ye,{label:_,size:"small",variant:"outlined",sx:{fontSize:{xs:"0.75rem",sm:"0.75rem"}}})]})}),s.jsx(ni,{sx:{p:{xs:1,sm:2}},children:s.jsxs(F,{children:[s.jsx(O,{variant:"body2",sx:{fontWeight:"bold",mb:{xs:.5,sm:1},fontSize:{xs:"0.875rem",sm:"0.875rem"}},children:A.shortText}),s.jsx(O,{variant:"body2",sx:{fontSize:{xs:"0.875rem",sm:"0.875rem"}},children:A.longText})]})})]},A.id))]})]}),s.jsx(Ka,{sx:{p:{xs:2,sm:3},pt:{xs:1,sm:2}},children:s.jsx(Ve,{onClick:a,color:"primary",fullWidth:i,sx:{fontSize:{xs:"0.875rem",sm:"0.875rem"}},children:"Close"})})]})},j$=()=>{const[t,e]=w.useState(""),[a,n]=w.useState(""),[i,l]=w.useState(!1),[d,u]=w.useState(null),h=w.useMemo(()=>ge.getFactions(),[]),m=w.useMemo(()=>ge.getUnits().map(I=>{const N=Object.entries(I.models).map(([V,A])=>({model:ge.getModelById(V),count:A}));return{...I,modelsWithData:N}}),[]),y=w.useMemo(()=>{let R=m;if(t&&(R=R.filter(I=>I.faction===t)),a){const I=a.toLowerCase();R=R.filter(N=>N.name.toLowerCase().includes(I)||N.battlefieldRole.toLowerCase().includes(I)||N.description.toLowerCase().includes(I))}return R},[m,t,a]),v=R=>{n(R.target.value)},x=()=>{n("")},T=R=>{e(R.target.value),n("")},C=R=>{u(R),l(!0)},j=()=>{l(!1),u(null)},E=()=>{const R={};return y.forEach(I=>{const N=I.battlefieldRole;R[N]||(R[N]=[]),R[N].push(I)}),R},M=R=>ge.getFactionById(R)?.name||R,L=R=>s.jsx(F,{sx:{width:"100%"},children:s.jsx(yt,{sx:{height:"100%",cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s","&:hover":{transform:"translateY(-4px)",boxShadow:4}},children:s.jsx(vw,{onClick:()=>C(R),sx:{height:"100%"},children:s.jsxs(bt,{children:[s.jsx(O,{variant:"h6",component:"h4",gutterBottom:!0,children:R.name}),s.jsx(Ye,{label:R.battlefieldRole,color:"primary",variant:"outlined",size:"small",sx:{mb:2}}),s.jsx(O,{variant:"body2",color:"text.secondary",sx:{mb:2},children:R.description}),s.jsxs(F,{sx:{mb:2},children:[s.jsx(O,{variant:"caption",color:"text.secondary",display:"block",children:"Models:"}),R.modelsWithData.map(({model:I,count:N})=>s.jsxs(O,{variant:"caption",color:"text.secondary",sx:{display:"block",ml:1},children:[N,"x ",I.name]},I.id)),R.upgrades.length>0&&s.jsxs(s.Fragment,{children:[s.jsx(O,{variant:"caption",color:"text.secondary",display:"block",sx:{mt:1},children:"Upgrades:"}),R.upgrades.map(I=>{const N=ge.getUpgrades().find(V=>V.id===I);return N?s.jsx(O,{variant:"caption",color:"text.secondary",sx:{display:"block",ml:1},children:N.name},N.id):null})]})]}),s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs(O,{variant:"body2",color:"text.secondary",children:[R.minSize,"-",R.maxSize," models"]}),s.jsxs(O,{variant:"h6",color:"primary",fontWeight:"bold",children:[R.points," pts"]})]})]})})})},R.id),W=E();return s.jsxs(Cr,{maxWidth:"xl",sx:{py:4},children:[s.jsxs(F,{sx:{mb:4},children:[s.jsxs(bn,{fullWidth:!0,sx:{mb:2},children:[s.jsx(_n,{id:"faction-select-label",children:"Select Faction"}),s.jsxs(cn,{labelId:"faction-select-label",id:"faction-select",value:t,label:"Select Faction",onChange:T,children:[s.jsx(Sa,{value:"",children:s.jsx("em",{children:"Choose a faction..."})}),h.map(R=>s.jsx(Sa,{value:R.id,children:R.name},R.id))]})]}),s.jsx(Je,{fullWidth:!0,placeholder:"Search units...",value:a,onChange:v,disabled:!t,InputProps:{startAdornment:s.jsx(Yi,{position:"start",children:s.jsx(sh,{})}),endAdornment:a&&s.jsx(Yi,{position:"end",children:s.jsx(xt,{size:"small",onClick:x,edge:"end",children:s.jsx(oh,{})})})},sx:{mb:2}}),a&&s.jsx(F,{sx:{display:"flex",alignItems:"center",gap:1},children:s.jsx(Ye,{label:`${y.length} of ${m.filter(R=>!t||R.faction===t).length} units found`,color:"primary",variant:"outlined",size:"small"})})]}),t?s.jsx(F,{children:Object.keys(W).length===0?s.jsx(ta,{sx:{p:4,textAlign:"center"},children:s.jsxs(O,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:["No units found for ",M(t)," matching your search criteria."]})}):Object.entries(W).map(([R,I],N)=>s.jsxs(F,{sx:{mb:4},children:[s.jsxs(O,{variant:"h5",component:"h3",gutterBottom:!0,children:[R," Units (",I.length,")"]}),s.jsx(Uk,{container:!0,spacing:3,children:I.map(L)}),N<Object.keys(W).length-1&&s.jsx(vr,{sx:{mt:4}})]},R))}):s.jsxs(ta,{sx:{p:4,textAlign:"center"},children:[s.jsx(O,{variant:"h5",component:"h3",gutterBottom:!0,children:"Select a Faction"}),s.jsx(O,{variant:"body1",color:"text.secondary",children:"Choose a faction to view its units organized by battlefield role."})]}),i&&d&&s.jsx(_$,{unit:d,isOpen:i,onClose:j})]})},I$=()=>{const[t,e]=w.useState(""),[a,n]=w.useState("all"),i=w.useMemo(()=>ge.getDetachments().map(j=>{const E=j.slots.map(M=>({role:ge.getBattlefieldRoleById(M.roleId),count:M.count,isPrime:M.isPrime,description:M.description}));return{...j,slotsWithRoles:E}}),[]),l=w.useMemo(()=>{let C=i;if(t){const j=t.toLowerCase();C=C.filter(E=>E.name.toLowerCase().includes(j)||E.description.toLowerCase().includes(j)||E.type.toLowerCase().includes(j))}return a!=="all"&&(C=C.filter(j=>j.type===a)),C},[i,t,a]),d=C=>{e(C.target.value)},u=()=>{e("")},h=C=>{n(C.target.value)},m=C=>{switch(C){case"Primary":return"#4CAF50";case"Auxiliary":return"#FF9800";case"Apex":return"#9C27B0";case"Warlord":return"#F44336";case"Allied":return"#2196F3";case"Universal":return"#607D8B";default:return"#757575"}},y=C=>{switch(C){case"Primary":return"";case"Auxiliary":return"";case"Apex":return"";case"Warlord":return"";case"Allied":return"";case"Universal":return"";default:return""}},v=C=>s.jsx(F,{sx:{width:"100%"},children:s.jsx(yt,{sx:{height:"100%",cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s","&:hover":{transform:"translateY(-4px)",boxShadow:4}},children:s.jsx(vw,{sx:{height:"100%"},children:s.jsxs(bt,{children:[s.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[s.jsx(O,{variant:"h6",component:"h4",sx:{flex:1},children:C.name}),s.jsx(Ye,{label:C.type,size:"small",sx:{backgroundColor:m(C.type),color:"white",fontWeight:"bold"}})]}),s.jsx(O,{variant:"body2",color:"text.secondary",sx:{mb:2},children:C.description}),s.jsxs(F,{sx:{mb:2},children:[s.jsx(O,{variant:"subtitle2",gutterBottom:!0,children:"Slots:"}),s.jsx(F,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:C.slotsWithRoles.map((j,E)=>s.jsx(Ye,{label:`${j.role.name} (${j.count})`,size:"small",variant:"outlined",icon:j.isPrime?s.jsx(Zk,{fontSize:"small"}):void 0,sx:{backgroundColor:j.isPrime?"primary.light":"transparent",color:j.isPrime?"primary.contrastText":"inherit"}},E))})]}),C.requirements&&C.requirements.length>0&&s.jsxs(F,{children:[s.jsx(O,{variant:"subtitle2",gutterBottom:!0,children:"Requirements:"}),s.jsx(F,{sx:{display:"flex",flexDirection:"column",gap:.5},children:C.requirements.map((j,E)=>s.jsxs(O,{variant:"body2",color:"text.secondary",children:[" ",j.description||`${j.type}: ${j.value}`]},E))})]})]})})})},C.id),x=()=>Array.from(new Set(i.map(j=>j.type))).sort(),T=C=>l.filter(j=>C==="all"?!0:j.type===C);return s.jsxs(Cr,{maxWidth:"xl",sx:{py:4},children:[s.jsxs(F,{sx:{mb:4},children:[s.jsx(Je,{fullWidth:!0,placeholder:"Search detachments...",value:t,onChange:d,InputProps:{startAdornment:s.jsx(Yi,{position:"start",children:s.jsx(sh,{})}),endAdornment:t&&s.jsx(Yi,{position:"end",children:s.jsx(xt,{size:"small",onClick:u,edge:"end",children:s.jsx(oh,{})})})},sx:{mb:2}}),s.jsxs(bn,{fullWidth:!0,sx:{mb:2},children:[s.jsx(_n,{id:"type-select-label",children:"Filter by Type"}),s.jsxs(cn,{labelId:"type-select-label",id:"type-select",value:a,label:"Filter by Type",onChange:h,children:[s.jsx(Sa,{value:"all",children:"All Types"}),x().map(C=>s.jsx(Sa,{value:C,children:C},C))]})]}),t&&s.jsx(F,{sx:{display:"flex",alignItems:"center",gap:1},children:s.jsx(Ye,{label:`${l.length} of ${i.length} detachments found`,color:"primary",variant:"outlined",size:"small"})})]}),l.length===0?s.jsx(ta,{sx:{p:4,textAlign:"center"},children:s.jsx(O,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"No detachments found matching your search criteria."})}):s.jsx(F,{children:x().map((C,j)=>{const E=T(C);return E.length===0?null:s.jsxs(F,{sx:{mb:4},children:[s.jsxs(F,{sx:{display:"flex",alignItems:"center",gap:2,mb:3,pb:1,borderBottom:`3px solid ${m(C)}`},children:[s.jsx(O,{variant:"h4",component:"h3",children:y(C)}),s.jsxs(O,{variant:"h5",component:"h3",children:[C," Detachments (",E.length,")"]})]}),s.jsx(Uk,{container:!0,spacing:3,children:E.map(v)}),j<x().length-1&&s.jsx(vr,{sx:{mt:4}})]},C)})})]})},P$=()=>{const[t,e]=w.useState(""),[a,n]=w.useState(new Set),i=w.useMemo(()=>ge.getSpecialRules().filter(y=>y.type==="special-rule"),[]),l=w.useMemo(()=>{if(!t)return i;const m=t.toLowerCase();return i.filter(y=>y.name.toLowerCase().includes(m)||y.shortText.toLowerCase().includes(m)||y.description.toLowerCase().includes(m)||y.longText.toLowerCase().includes(m))},[i,t]),d=m=>{e(m.target.value)},u=m=>{const y=new Set(a);y.has(m)?y.delete(m):y.add(m),n(y)},h=()=>{e("")};return s.jsxs(Cr,{maxWidth:"lg",sx:{py:4},children:[s.jsxs(F,{sx:{mb:4},children:[s.jsx(Je,{fullWidth:!0,placeholder:"Search special rules...",value:t,onChange:d,InputProps:{startAdornment:s.jsx(Yi,{position:"start",children:s.jsx(sh,{})}),endAdornment:t&&s.jsx(Yi,{position:"end",children:s.jsx(xt,{size:"small",onClick:h,edge:"end",children:s.jsx(oh,{})})})},sx:{mb:2}}),t&&s.jsx(F,{sx:{display:"flex",alignItems:"center",gap:1},children:s.jsx(Ye,{label:`${l.length} of ${i.length} rules found`,color:"primary",variant:"outlined",size:"small"})})]}),l.length===0?s.jsxs(ta,{sx:{p:4,textAlign:"center"},children:[s.jsxs(O,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:['No special rules found matching "',t,'"']}),s.jsx(Ve,{variant:"outlined",size:"small",onClick:h,sx:{mt:2},children:"Clear search"})]}):s.jsx(F,{sx:{display:"flex",flexDirection:"column",gap:2},children:l.map(m=>s.jsxs(ai,{expanded:a.has(m.id),onChange:()=>u(m.id),sx:{"&:before":{display:"none"}},children:[s.jsx(ri,{expandIcon:a.has(m.id)?s.jsx(vp,{}):s.jsx(ii,{}),sx:{"&:hover":{bgcolor:"action.hover"}},children:s.jsxs(F,{sx:{width:"100%"},children:[s.jsx(O,{variant:"h6",component:"h3",gutterBottom:!0,children:m.name}),s.jsx(O,{variant:"body2",color:"text.secondary",sx:{fontWeight:"medium"},children:m.shortText})]})}),s.jsx(ni,{children:s.jsxs(F,{sx:{display:"flex",flexDirection:"column",gap:2},children:[s.jsx(O,{variant:"body1",color:"text.secondary",sx:{fontStyle:"italic"},children:m.description}),s.jsx(O,{variant:"body2",children:m.longText})]})})]},m.id))})]})},W$=()=>{const[t,e]=w.useState(""),[a,n]=w.useState(new Set),i=w.useMemo(()=>ge.getSpecialRules().filter(y=>y.type==="wargear"),[]),l=w.useMemo(()=>{if(!t)return i;const m=t.toLowerCase();return i.filter(y=>y.name.toLowerCase().includes(m)||y.shortText.toLowerCase().includes(m)||y.description.toLowerCase().includes(m)||y.longText.toLowerCase().includes(m))},[i,t]),d=m=>{e(m.target.value)},u=m=>{const y=new Set(a);y.has(m)?y.delete(m):y.add(m),n(y)},h=()=>{e("")};return s.jsxs(Cr,{maxWidth:"lg",sx:{py:4},children:[s.jsxs(F,{sx:{mb:4},children:[s.jsx(Je,{fullWidth:!0,placeholder:"Search wargear...",value:t,onChange:d,InputProps:{startAdornment:s.jsx(Yi,{position:"start",children:s.jsx(sh,{})}),endAdornment:t&&s.jsx(Yi,{position:"end",children:s.jsx(xt,{size:"small",onClick:h,edge:"end",children:s.jsx(oh,{})})})},sx:{mb:2}}),t&&s.jsx(F,{sx:{display:"flex",alignItems:"center",gap:1},children:s.jsx(Ye,{label:`${l.length} of ${i.length} wargear found`,color:"primary",variant:"outlined",size:"small"})})]}),l.length===0?s.jsxs(ta,{sx:{p:4,textAlign:"center"},children:[s.jsxs(O,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:['No wargear found matching "',t,'"']}),s.jsx(Ve,{variant:"outlined",size:"small",onClick:h,sx:{mt:2},children:"Clear search"})]}):s.jsx(F,{sx:{display:"flex",flexDirection:"column",gap:2},children:l.map(m=>s.jsxs(ai,{expanded:a.has(m.id),onChange:()=>u(m.id),sx:{"&:before":{display:"none"}},children:[s.jsx(ri,{expandIcon:a.has(m.id)?s.jsx(vp,{}):s.jsx(ii,{}),sx:{"&:hover":{bgcolor:"action.hover"}},children:s.jsxs(F,{sx:{width:"100%"},children:[s.jsx(O,{variant:"h6",component:"h3",gutterBottom:!0,children:m.name}),s.jsx(O,{variant:"body2",color:"text.secondary",sx:{fontWeight:"medium"},children:m.shortText})]})}),s.jsx(ni,{children:s.jsxs(F,{sx:{display:"flex",flexDirection:"column",gap:2},children:[s.jsx(O,{variant:"body1",color:"text.secondary",sx:{fontStyle:"italic"},children:m.description}),s.jsx(O,{variant:"body2",children:m.longText})]})})]},m.id))})]})},D$=()=>{const[t,e]=w.useState(""),[a,n]=w.useState(!0),i=w.useMemo(()=>ge.getWeapons(),[]),l=w.useMemo(()=>i.filter(M=>ge.isRangedWeapon(M)&&M.type!=="ranged-profile"),[i]),d=w.useMemo(()=>i.filter(M=>!ge.isRangedWeapon(M)&&M.type!=="melee-profile"),[i]),u=w.useMemo(()=>{const M=new Set;return l.forEach(L=>{L.traits&&L.traits.forEach(W=>M.add(W)),L.profiles&&ge.getProfileWeapons(L).forEach(R=>{R.traits&&R.traits.forEach(I=>M.add(I))})}),d.forEach(L=>{L.traits&&L.traits.forEach(W=>M.add(W)),L.profiles&&ge.getProfileWeapons(L).forEach(R=>{R.traits&&R.traits.forEach(I=>M.add(I))})}),Array.from(M).sort()},[l,d]),h=w.useMemo(()=>{const M={};return u.forEach(L=>{M[L]={ranged:[],melee:[]}}),l.forEach(L=>{(L.traits||[]).forEach(R=>{M[R]&&M[R].ranged.push(L)})}),d.forEach(L=>{(L.traits||[]).forEach(R=>{M[R]&&M[R].melee.push(L)})}),M},[l,d,u]),m=w.useMemo(()=>{if(!t)return l;const M=t.toLowerCase();return l.filter(L=>L.name.toLowerCase().includes(M)||L.description?.toLowerCase().includes(M)||L.specialRules?.some(W=>W.toLowerCase().includes(M))||L.traits?.some(W=>W.toLowerCase().includes(M)))},[l,t]),y=w.useMemo(()=>{if(!t)return d;const M=t.toLowerCase();return d.filter(L=>L.name.toLowerCase().includes(M)||L.description?.toLowerCase().includes(M)||L.specialRules?.some(W=>W.toLowerCase().includes(M))||L.traits?.some(W=>W.toLowerCase().includes(M)))},[d,t]),v=w.useMemo(()=>{if(!t)return h;const M=t.toLowerCase(),L={};return Object.entries(h).forEach(([W,R])=>{const I=R.ranged.filter(V=>V.name.toLowerCase().includes(M)||V.description?.toLowerCase().includes(M)||V.specialRules?.some(A=>A.toLowerCase().includes(M))||V.traits?.some(A=>A.toLowerCase().includes(M))),N=R.melee.filter(V=>V.name.toLowerCase().includes(M)||V.description?.toLowerCase().includes(M)||V.specialRules?.some(A=>A.toLowerCase().includes(M))||V.traits?.some(A=>A.toLowerCase().includes(M)));(I.length>0||N.length>0)&&(L[W]={ranged:I,melee:N})}),L},[h,t]),x=M=>{e(M.target.value)},T=()=>{e("")},C=(M,L)=>{L!==null&&n(L)},j=M=>{if(M.profiles&&M.profiles.length>0){const L=[];return L.push(s.jsx(Pt,{sx:{backgroundColor:"action.hover"},children:s.jsx(Y,{colSpan:8,children:s.jsx(O,{variant:"subtitle1",sx:{fontWeight:"bold"},children:M.name})})},`${M.id}-header`)),ge.getProfileWeapons(M).forEach((R,I)=>{if(ge.isRangedWeapon(R)){const N=R;L.push(s.jsxs(Pt,{children:[s.jsx(Y,{sx:{pl:4},children:s.jsx(O,{variant:"body2",sx:{fontStyle:"italic"},children:N.name})}),s.jsxs(Y,{children:[N.range,'"']}),s.jsx(Y,{children:N.firepower}),s.jsx(Y,{children:N.rangedStrength}),s.jsx(Y,{children:N.ap}),s.jsx(Y,{children:N.damage}),s.jsx(Y,{children:N.specialRules&&N.specialRules.length>0?N.specialRules.map(V=>{const A=ge.getSpecialRuleById(V),_=N.specialRuleValues?.[V];return _?`${A?.name||V} (${_})`:A?.name||V}).join(", "):"-"}),s.jsx(Y,{children:N.traits?.join(", ")||"-"})]},`${M.id}-${I}`))}}),L}else return s.jsxs(Pt,{children:[s.jsx(Y,{children:M.name}),s.jsxs(Y,{children:[M.range,'"']}),s.jsx(Y,{children:M.firepower}),s.jsx(Y,{children:M.rangedStrength}),s.jsx(Y,{children:M.ap}),s.jsx(Y,{children:M.damage}),s.jsx(Y,{children:M.specialRules&&M.specialRules.length>0?M.specialRules.map(L=>{const W=ge.getSpecialRuleById(L),R=M.specialRuleValues?.[L];return R?`${W?.name||L} (${R})`:W?.name||L}).join(", "):"-"}),s.jsx(Y,{children:M.traits?.join(", ")||"-"})]},M.id)},E=M=>{if(M.profiles&&M.profiles.length>0){const L=[];return L.push(s.jsx(Pt,{sx:{backgroundColor:"action.hover"},children:s.jsx(Y,{colSpan:7,children:s.jsx(O,{variant:"subtitle1",sx:{fontWeight:"bold"},children:M.name})})},`${M.id}-header`)),ge.getProfileWeapons(M).forEach((R,I)=>{if(!ge.isRangedWeapon(R)){const N=R;L.push(s.jsxs(Pt,{children:[s.jsx(Y,{sx:{pl:4},children:s.jsx(O,{variant:"body2",sx:{fontStyle:"italic"},children:N.name})}),s.jsx(Y,{children:N.attackModifier==="A"?"A":`${typeof N.attackModifier=="number"&&N.attackModifier>0?"+":""}${N.attackModifier}`}),s.jsx(Y,{children:N.strengthModifier==="S"?"S":`${typeof N.strengthModifier=="number"&&N.strengthModifier>0?"+":""}${N.strengthModifier}`}),s.jsx(Y,{children:N.ap}),s.jsx(Y,{children:N.damage}),s.jsx(Y,{children:N.specialRules&&N.specialRules.length>0?N.specialRules.map(V=>{const A=ge.getSpecialRuleById(V),_=N.specialRuleValues?.[V];return _?`${A?.name||V} (${_})`:A?.name||V}).join(", "):"-"}),s.jsx(Y,{children:N.traits?.join(", ")||"-"})]},`${M.id}-${I}`))}}),L}else return s.jsxs(Pt,{children:[s.jsx(Y,{children:M.name}),s.jsx(Y,{children:M.attackModifier==="A"?"A":`${typeof M.attackModifier=="number"&&M.attackModifier>0?"+":""}${M.attackModifier}`}),s.jsx(Y,{children:M.strengthModifier==="S"?"S":`${typeof M.strengthModifier=="number"&&M.strengthModifier>0?"+":""}${M.strengthModifier}`}),s.jsx(Y,{children:M.ap}),s.jsx(Y,{children:M.damage}),s.jsx(Y,{children:M.specialRules&&M.specialRules.length>0?M.specialRules.map(L=>{const W=ge.getSpecialRuleById(L),R=M.specialRuleValues?.[L];return R?`${W?.name||L} (${R})`:W?.name||L}).join(", "):"-"}),s.jsx(Y,{children:M.traits?.join(", ")||"-"})]},M.id)};return s.jsxs(Cr,{maxWidth:"xl",sx:{py:4},children:[s.jsxs(F,{sx:{mb:4},children:[s.jsx(Je,{fullWidth:!0,placeholder:"Search weapons...",value:t,onChange:x,InputProps:{startAdornment:s.jsx(Yi,{position:"start",children:s.jsx(sh,{})}),endAdornment:t&&s.jsx(Yi,{position:"end",children:s.jsx(xt,{size:"small",onClick:T,edge:"end",children:s.jsx(oh,{})})})},sx:{mb:2}}),t&&s.jsx(F,{sx:{display:"flex",alignItems:"center",gap:1},children:s.jsx(Ye,{label:a?`${Object.values(v).reduce((M,L)=>M+L.ranged.length+L.melee.length,0)} weapons found in ${Object.keys(v).length} trait categories`:`${m.length+y.length} of ${l.length+d.length} weapons found`,color:"primary",variant:"outlined",size:"small"})})]}),s.jsx(F,{sx:{mb:4},children:s.jsxs(Xk,{value:a,exclusive:!0,onChange:C,"aria-label":"group by traits",children:[s.jsx(lx,{value:!1,"aria-label":"ungrouped",children:"Ungrouped"}),s.jsx(lx,{value:!0,"aria-label":"grouped",children:"Grouped by Traits"})]})}),a?Object.keys(v).length===0?s.jsx(ta,{sx:{p:3,textAlign:"center"},children:s.jsx(O,{variant:"body1",color:"text.secondary",children:t?`No weapons found matching "${t}" in any trait category.`:"No weapons with traits found."})}):Object.entries(v).map(([M,L])=>s.jsxs(ai,{defaultExpanded:!1,children:[s.jsx(ri,{expandIcon:s.jsx(ii,{}),children:s.jsxs(O,{variant:"h6",component:"h3",children:[M," (",L.ranged.length+L.melee.length," ","weapons)"]})}),s.jsx(ni,{children:L.ranged.length===0&&L.melee.length===0?s.jsx(ta,{sx:{p:3,textAlign:"center"},children:s.jsxs(O,{variant:"body1",color:"text.secondary",children:['No weapons found matching "',t,'" in this trait category.']})}):s.jsxs(s.Fragment,{children:[L.ranged.length>0&&s.jsxs(F,{sx:{mb:3},children:[s.jsxs(O,{variant:"h6",component:"h4",gutterBottom:!0,children:["Ranged Weapons (",L.ranged.length,")"]}),s.jsx(Yn,{component:ta,sx:{mb:2},children:s.jsxs(Gn,{size:"small",children:[s.jsx(Xn,{children:s.jsxs(Pt,{children:[s.jsx(Y,{sx:{fontWeight:"bold"},children:"Name"}),s.jsx(Y,{sx:{fontWeight:"bold"},children:"Range"}),s.jsx(Y,{sx:{fontWeight:"bold"},children:"Firepower"}),s.jsx(Y,{sx:{fontWeight:"bold"},children:"Strength"}),s.jsx(Y,{sx:{fontWeight:"bold"},children:"AP"}),s.jsx(Y,{sx:{fontWeight:"bold"},children:"Damage"}),s.jsx(Y,{sx:{fontWeight:"bold"},children:"Special Rules"}),s.jsx(Y,{sx:{fontWeight:"bold"},children:"Traits"})]})}),s.jsx(Kn,{children:L.ranged.flatMap(j)})]})})]}),L.melee.length>0&&s.jsxs(F,{children:[s.jsxs(O,{variant:"h6",component:"h4",gutterBottom:!0,children:["Melee Weapons (",L.melee.length,")"]}),s.jsx(Yn,{component:ta,children:s.jsxs(Gn,{size:"small",children:[s.jsx(Xn,{children:s.jsxs(Pt,{children:[s.jsx(Y,{sx:{fontWeight:"bold"},children:"Name"}),s.jsx(Y,{sx:{fontWeight:"bold"},children:"Attack Mod"}),s.jsx(Y,{sx:{fontWeight:"bold"},children:"Strength Mod"}),s.jsx(Y,{sx:{fontWeight:"bold"},children:"AP"}),s.jsx(Y,{sx:{fontWeight:"bold"},children:"Damage"}),s.jsx(Y,{sx:{fontWeight:"bold"},children:"Special Rules"}),s.jsx(Y,{sx:{fontWeight:"bold"},children:"Traits"})]})}),s.jsx(Kn,{children:L.melee.flatMap(E)})]})})]})]})})]},M)):s.jsxs(s.Fragment,{children:[s.jsxs(F,{sx:{mb:4},children:[s.jsxs(O,{variant:"h5",component:"h3",gutterBottom:!0,children:["Ranged Weapons (",m.length,")"]}),m.length===0?s.jsx(ta,{sx:{p:3,textAlign:"center"},children:s.jsxs(O,{variant:"body1",color:"text.secondary",children:['No ranged weapons found matching "',t,'"']})}):s.jsx(Yn,{component:ta,sx:{mb:2},children:s.jsxs(Gn,{size:"small",children:[s.jsx(Xn,{children:s.jsxs(Pt,{children:[s.jsx(Y,{sx:{fontWeight:"bold"},children:"Name"}),s.jsx(Y,{sx:{fontWeight:"bold"},children:"Range"}),s.jsx(Y,{sx:{fontWeight:"bold"},children:"Firepower"}),s.jsx(Y,{sx:{fontWeight:"bold"},children:"Strength"}),s.jsx(Y,{sx:{fontWeight:"bold"},children:"AP"}),s.jsx(Y,{sx:{fontWeight:"bold"},children:"Damage"}),s.jsx(Y,{sx:{fontWeight:"bold"},children:"Special Rules"}),s.jsx(Y,{sx:{fontWeight:"bold"},children:"Traits"})]})}),s.jsx(Kn,{children:m.flatMap(j)})]})})]}),s.jsx(vr,{sx:{my:3}}),s.jsxs(F,{children:[s.jsxs(O,{variant:"h5",component:"h3",gutterBottom:!0,children:["Melee Weapons (",y.length,")"]}),y.length===0?s.jsx(ta,{sx:{p:3,textAlign:"center"},children:s.jsxs(O,{variant:"body1",color:"text.secondary",children:['No melee weapons found matching "',t,'"']})}):s.jsx(Yn,{component:ta,children:s.jsxs(Gn,{size:"small",children:[s.jsx(Xn,{children:s.jsxs(Pt,{children:[s.jsx(Y,{sx:{fontWeight:"bold"},children:"Name"}),s.jsx(Y,{sx:{fontWeight:"bold"},children:"Attack Mod"}),s.jsx(Y,{sx:{fontWeight:"bold"},children:"Strength Mod"}),s.jsx(Y,{sx:{fontWeight:"bold"},children:"AP"}),s.jsx(Y,{sx:{fontWeight:"bold"},children:"Damage"}),s.jsx(Y,{sx:{fontWeight:"bold"},children:"Special Rules"}),s.jsx(Y,{sx:{fontWeight:"bold"},children:"Traits"})]})}),s.jsx(Kn,{children:y.flatMap(E)})]})})]})]})]})},Hc=()=>{const t=Us(),a=Bo().pathname.split("/"),n=a.length>2?a[2]:null,i=[{id:"unit-browser",name:"Unit Browser",description:"Browse all available units by faction and battlefield role",icon:""},{id:"detachment-browser",name:"Detachment Browser",description:"Browse all available detachments and their slot configurations",icon:""},{id:"special-rules-browser",name:"Special Rules Browser",description:"Browse all special rules and their descriptions",icon:""},{id:"wargear-browser",name:"Wargear Browser",description:"Browse all wargear options and their effects",icon:""},{id:"weapon-browser",name:"Weapon Browser",description:"Browse all weapons with their characteristics and special rules",icon:""}],l=m=>{t(`/rules-browser/${m}`)},d=()=>{t("/rules-browser")},u=()=>s.jsxs(Cr,{maxWidth:"lg",sx:{py:4},children:[s.jsxs(F,{sx:{mb:4,textAlign:"center"},children:[s.jsx(O,{variant:"h4",component:"h2",gutterBottom:!0,children:"Select a Browser"}),s.jsx(O,{variant:"body1",color:"text.secondary",children:"Choose a category to browse the available rules and units"})]}),s.jsx(F,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)"},gap:3},children:i.map(m=>s.jsx(F,{children:s.jsx(yt,{sx:{height:"100%",cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s","&:hover":{transform:"translateY(-4px)",boxShadow:4}},children:s.jsx(vw,{onClick:()=>l(m.id),sx:{height:"100%",p:3},children:s.jsxs(bt,{sx:{textAlign:"center"},children:[s.jsx(O,{variant:"h1",sx:{fontSize:"3rem",mb:2},children:m.icon}),s.jsx(O,{variant:"h6",component:"h3",gutterBottom:!0,children:m.name}),s.jsx(O,{variant:"body2",color:"text.secondary",sx:{mb:2},children:m.description}),s.jsx(n6,{color:"action"})]})})})},m.id))})]}),h=()=>{const m=i.find(y=>y.id===n);return m?n==="special-rules-browser"?s.jsx(P$,{}):n==="wargear-browser"?s.jsx(W$,{}):n==="weapon-browser"?s.jsx(D$,{}):n==="detachment-browser"?s.jsx(I$,{}):n==="unit-browser"?s.jsx(j$,{}):s.jsxs(Cr,{maxWidth:"lg",sx:{py:4},children:[s.jsxs(F,{sx:{mb:3},children:[s.jsx(Ve,{variant:"outlined",startIcon:s.jsx(Ol,{}),onClick:d,sx:{mb:2},children:"Back to Browser Menu"}),s.jsx(O,{variant:"h4",component:"h2",gutterBottom:!0,children:m.name})]}),s.jsxs(ta,{sx:{p:4,textAlign:"center"},children:[s.jsx(O,{variant:"h1",sx:{fontSize:"4rem",mb:2},children:m.icon}),s.jsx(O,{variant:"h5",component:"h3",gutterBottom:!0,children:m.name}),s.jsx(O,{variant:"body1",color:"text.secondary",sx:{mb:2},children:"This browser is not yet implemented."}),s.jsx(O,{variant:"body2",color:"text.secondary",children:m.description})]})]}):null};return s.jsxs(F,{sx:{minHeight:"100vh",bgcolor:"background.default"},children:[s.jsx(Id,{position:"static",color:"primary",elevation:1,children:s.jsxs(Wd,{children:[s.jsx(xt,{edge:"start",color:"inherit",onClick:()=>{n?d():t("/")},sx:{mr:2},children:s.jsx(Ol,{})}),s.jsx(O,{variant:"h6",component:"h1",children:n&&i.find(m=>m.id===n)?.name||"Rules Browser"})]})}),s.jsx(F,{sx:{py:2},children:n?h():u()})]})},L$=({open:t,onClose:e,helpContent:a})=>s.jsxs(Ra,{open:t,onClose:e,maxWidth:"md",fullWidth:!0,children:[s.jsx(ka,{children:s.jsxs(F,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.jsx(Qk,{color:"primary"}),s.jsx(O,{variant:"h6",children:a.title})]})}),s.jsx(Aa,{children:s.jsx(F,{sx:{maxHeight:"70vh",overflow:"auto"},children:a.content})}),s.jsx(Ka,{children:s.jsx(Ve,{onClick:e,children:"Close"})})]}),wS={factions:{id:{type:"string",required:!0,description:"Unique identifier for the faction"},name:{type:"string",required:!0,description:"Display name of the faction"},type:{type:"string",required:!0,description:"Faction type (Legion, Auxilia, Mechanicum, Knight, Titan)"},description:{type:"string",required:!0,description:"Description of the faction"},allegiance:{type:"string",required:!1,description:"Allegiance of the faction"},specialRules:{type:"array",required:!1,description:"Array of special rule IDs"},ritesOfWar:{type:"array",required:!1,description:"Array of rite of war IDs"},isMainFaction:{type:"boolean",required:!1,description:"Whether this is a main faction"},parentFaction:{type:"string",required:!1,description:"Parent faction ID if this is a subfaction"}},weapons:{id:{type:"string",required:!0,description:"Unique identifier for the weapon"},name:{type:"string",required:!0,description:"Display name of the weapon"},type:{type:"string",required:!0,description:"Weapon type (melee, ranged, melee-profile, ranged-profile)"},description:{type:"string",required:!0,description:"Description of the weapon"},range:{type:"string|number",required:!1,description:'Range of the weapon (number or "Template")'},firepower:{type:"number",required:!1,description:"Firepower value"},rangedStrength:{type:"number",required:!1,description:"Ranged strength value"},ap:{type:"number",required:!1,description:"Armor penetration value"},damage:{type:"number",required:!1,description:"Damage value"},attackModifier:{type:"string",required:!1,description:"Attack modifier (A, +1, etc.)"},strengthModifier:{type:"string",required:!1,description:"Strength modifier (S, +2, etc.)"},initiativeModifier:{type:"string",required:!1,description:"Initiative modifier (I, -1, etc.)"},specialRules:{type:"array",required:!1,description:"Array of special rule IDs"},specialRuleValues:{type:"object",required:!1,description:"Object mapping special rule IDs to values"},traits:{type:"array",required:!1,description:"Array of weapon traits"},profiles:{type:"array",required:!1,description:"Array of profile weapon IDs"}},units:{id:{type:"string",required:!0,description:"Unique identifier for the unit"},name:{type:"string",required:!0,description:"Display name of the unit"},description:{type:"string",required:!0,description:"Description of the unit"},faction:{type:"string",required:!0,description:"Faction ID the unit belongs to"},allegiance:{type:"string",required:!1,description:"Allegiance of the unit"},battlefieldRole:{type:"string",required:!0,description:"Battlefield role of the unit"},baseSize:{type:"number",required:!0,description:"Base size of the unit"},points:{type:"number",required:!0,description:"Base points cost"},models:{type:"object",required:!0,description:"Object mapping model IDs to counts"},wargear:{type:"array",required:!1,description:"Array of wargear IDs"},specialRules:{type:"array",required:!1,description:"Array of special rule IDs"},specialRuleValues:{type:"object",required:!1,description:"Object mapping special rule IDs to values"},traits:{type:"array",required:!1,description:"Array of unit traits"},upgrades:{type:"array",required:!1,description:"Array of upgrade IDs"},modelUpgrades:{type:"object",required:!1,description:"Object mapping model IDs to upgrade group IDs"}},models:{id:{type:"string",required:!0,description:"Unique identifier for the model"},name:{type:"string",required:!0,description:"Display name of the model"},type:{type:"string",required:!0,description:"Model type (Infantry, Cavalry, Walker, etc.)"},subType:{type:"array",required:!0,description:"Array of model subtypes"},characteristics:{type:"object",required:!0,description:"Model characteristics object"},specialRules:{type:"array",required:!1,description:"Array of special rule IDs"},specialRuleValues:{type:"object",required:!1,description:"Object mapping special rule IDs to values"},wargear:{type:"array",required:!1,description:"Array of wargear IDs"},weapons:{type:"array",required:!1,description:"Array of weapon IDs or weapon objects"},upgradeGroups:{type:"array",required:!1,description:"Array of upgrade group objects"},description:{type:"string",required:!1,description:"Description of the model"}},specialRules:{id:{type:"string",required:!0,description:"Unique identifier for the special rule"},name:{type:"string",required:!0,description:"Display name of the special rule"},description:{type:"string",required:!0,description:"Description of the special rule"},shortText:{type:"string",required:!0,description:"Short text description"},longText:{type:"string",required:!0,description:"Long text description"},hasValue:{type:"boolean",required:!0,description:"Whether the rule can have a value"},type:{type:"string",required:!0,description:"Type of rule (special-rule, wargear)"}},detachments:{id:{type:"string",required:!0,description:"Unique identifier for the detachment"},name:{type:"string",required:!0,description:"Display name of the detachment"},type:{type:"string",required:!0,description:"Detachment type (Primary, Auxiliary, etc.)"},faction:{type:"string",required:!0,description:"Faction ID the detachment belongs to"},description:{type:"string",required:!0,description:"Description of the detachment"},requirements:{type:"array",required:!1,description:"Array of requirement strings"},slots:{type:"array",required:!0,description:"Array of slot objects"}},battlefieldRoles:{id:{type:"string",required:!0,description:"Unique identifier for the battlefield role"},name:{type:"string",required:!0,description:"Display name of the battlefield role"},type:{type:"string",required:!0,description:"Role type (High Command, Command, Troops, etc.)"},description:{type:"string",required:!0,description:"Description of the battlefield role"}},upgrades:{id:{type:"string",required:!0,description:"Unique identifier for the upgrade"},name:{type:"string",required:!0,description:"Display name of the upgrade"},description:{type:"string",required:!0,description:"Description of the upgrade"},type:{type:"string",required:!0,description:"Upgrade type (model, squad, weapon, etc.)"},maxCount:{type:"string",required:!1,description:'Maximum count or "dependent"'},targetModelType:{type:"string",required:!1,description:"Target model type ID"},options:{type:"array",required:!1,description:"Array of upgrade option objects"}},ritesOfWar:{id:{type:"string",required:!0,description:"Unique identifier for the rite of war"},name:{type:"string",required:!0,description:"Display name of the rite of war"},faction:{type:"string",required:!0,description:"Faction ID the rite of war belongs to"},description:{type:"string",required:!0,description:"Description of the rite of war"},restrictions:{type:"array",required:!1,description:"Array of restriction strings"},benefits:{type:"array",required:!1,description:"Array of benefit strings"}},primeAdvantages:{id:{type:"string",required:!0,description:"Unique identifier for the prime advantage"},name:{type:"string",required:!0,description:"Display name of the prime advantage"},description:{type:"string",required:!0,description:"Description of the prime advantage"},effect:{type:"string",required:!0,description:"Effect description"},restrictions:{type:"array",required:!1,description:"Array of restriction strings"}}};function aA(t,e){const a=[],n=[],i=wS[t];if(!i)return{isValid:!1,errors:[{row:0,field:"dataType",message:`Unknown data type: ${t}`}],warnings:[],summary:{totalRows:0,validRows:0,errorRows:0,totalErrors:1}};if(e.length===0)return{isValid:!0,errors:[],warnings:["No entries to validate"],summary:{totalRows:0,validRows:0,errorRows:0,totalErrors:0}};const l=Object.entries(i).filter(([T,C])=>C.required).map(([T,C])=>T),d=Object.keys(i),u=new Set;e.forEach((T,C)=>{const j=C+1;l.forEach(E=>{const M=i[E],L=T[E];M.type==="array"?(!(E in T)||L===null||L===void 0)&&(a.push({row:j,field:E,message:`Required field "${E}" is missing`,value:T[E]}),u.add(j)):(!(E in T)||L===null||L===void 0||L==="")&&(a.push({row:j,field:E,message:`Required field "${E}" is missing or empty`,value:T[E]}),u.add(j))}),d.forEach(E=>{if(E in T&&T[E]!==null&&T[E]!==void 0&&T[E]!==""){const M=i[E],L=T[E];let W=!0,R="";switch(M.type){case"string":W=typeof L=="string",W||(R=`Expected string, got ${typeof L}`);break;case"number":W=typeof L=="number"&&!isNaN(L),W||(R=`Expected number, got ${typeof L}`);break;case"string|number":W=typeof L=="string"||typeof L=="number"&&!isNaN(L),W||(R=`Expected string or number, got ${typeof L}`);break;case"boolean":W=typeof L=="boolean",W||(R=`Expected boolean, got ${typeof L}`);break;case"array":W=Array.isArray(L),W||(R=`Expected array, got ${typeof L}`);break;case"object":W=typeof L=="object"&&L!==null&&!Array.isArray(L),W||(R=`Expected object, got ${typeof L}`);break;default:W=!0}W||(a.push({row:j,field:E,message:R||`Invalid value for field "${E}"`,value:T[E]}),u.add(j))}}),Object.keys(T).forEach(E=>{d.includes(E)||n.push(`Row ${j}: Unknown field "${E}" will be ignored`)})});const h=e.map(T=>T.id).filter(T=>T!=null&&T!==""),m=h.filter((T,C)=>h.indexOf(T)!==C);m.length>0&&[...new Set(m)].forEach(C=>{const j=e.map((E,M)=>({entry:E,index:M+1})).filter(({entry:E})=>E.id===C).map(({index:E})=>E);a.push({row:j[0],field:"id",message:`Duplicate ID "${C}" found in rows: ${j.join(", ")}`,value:C}),j.forEach(E=>u.add(E))});const y=e.length,v=y-u.size,x=a.length;return{isValid:x===0,errors:a,warnings:n,summary:{totalRows:y,validRows:v,errorRows:u.size,totalErrors:x}}}function V$(t,e){const a=wS[t];if(!a||e.length===0)return"";const n=Object.keys(a),i=n.join(","),l=e.map(d=>n.map(u=>{const h=d[u];return h==null?"":typeof h=="object"?`"${JSON.stringify(h).replace(/"/g,'""')}"`:typeof h=="string"&&h.includes(",")?`"${h.replace(/"/g,'""')}"`:String(h)}).join(","));return[i,...l].join(`
`)}const U$=["Loyalist","Traitor","Universal"],O$=["High Command","Command","Troops","Transport","Heavy Transport","Support","Armour","War Engine","Reconnaissance","Heavy Assault","Fast Attack","Retinue","Warlord","Elite","Lord of War"],z$=({open:t,onClose:e,onSave:a,initialEntry:n={},editingIndex:i=null})=>{const[l,d]=w.useState({id:""}),[u,h]=w.useState([]),[m,y]=w.useState({}),[v,x]=w.useState([]),[T,C]=w.useState([]),[j,E]=w.useState({}),[M,L]=w.useState({}),[W,R]=w.useState(""),[I,N]=w.useState(""),[V,A]=w.useState(""),[_,S]=w.useState(""),[D,U]=w.useState(""),[P,K]=w.useState(""),[J,$]=w.useState(1),[X,le]=w.useState(""),[ie,H]=w.useState("");w.useEffect(()=>{t&&(d(n||{id:""}),h(n?.specialRules||[]),y(n?.specialRuleValues||{}),x(n?.traits||[]),C(n?.upgrades||[]),E(n?.models||{}),L(n?.modelUpgrades||{}))},[t,n]);const te=(se,ee)=>{let Se=ee;["points"].includes(se)&&(Se=ee===""?null:Number(ee)),d(pe=>({...pe,[se]:Se}))},Q=()=>{W.trim()&&(h([...u,W.trim()]),R(""))},ne=se=>{h(u.filter(Se=>Se!==se));const ee={...m};delete ee[se],y(ee)},ye=()=>{I&&V.trim()&&(y({...m,[I]:isNaN(Number(V))?V:Number(V)}),N(""),A(""))},be=se=>{const ee={...m};delete ee[se],y(ee)},oe=()=>{_.trim()&&(x([...v,_.trim()]),S(""))},_e=se=>{x(v.filter(ee=>ee!==se))},Me=()=>{D.trim()&&(C([...T,D.trim()]),U(""))},Oe=se=>{C(T.filter(ee=>ee!==se))},qe=()=>{P.trim()&&J>0&&(E({...j,[P.trim()]:J}),K(""),$(1))},Qe=se=>{const ee={...j};delete ee[se],E(ee);const Se={...M};delete Se[se],L(Se)},ae=(se,ee)=>{ee>0&&E({...j,[se]:ee})},ve=()=>{if(X.trim()&&ie.trim()){const se=M[X]||[];L({...M,[X]:[...se,ie.trim()]}),le(""),H("")}},De=(se,ee)=>{const Se=M[se]||[];L({...M,[se]:Se.filter(pe=>pe!==ee)})},He=()=>{a({...l,baseSize:0,specialRules:u,specialRuleValues:m,traits:v,upgrades:T,models:j,modelUpgrades:M},i),e()};return s.jsxs(Ra,{open:t,onClose:e,maxWidth:"xl",fullWidth:!0,children:[s.jsx(ka,{children:i!==null?"Edit Unit":"Add New Unit"}),s.jsxs(Aa,{sx:{overflow:"auto"},children:[s.jsxs(F,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(400px, 1fr))",gap:3,mb:2},children:[s.jsx(Je,{label:"ID",value:l.id||"",onChange:se=>te("id",se.target.value),fullWidth:!0,required:!0}),s.jsx(Je,{label:"Name",value:l.name||"",onChange:se=>te("name",se.target.value),fullWidth:!0,required:!0}),s.jsx(Je,{label:"Description",value:l.description||"",onChange:se=>te("description",se.target.value),fullWidth:!0,multiline:!0,minRows:2}),s.jsx(Je,{label:"Faction",value:l.faction||"",onChange:se=>te("faction",se.target.value),fullWidth:!0}),s.jsxs(bn,{fullWidth:!0,children:[s.jsx(_n,{children:"Allegiance"}),s.jsx(cn,{value:l.allegiance||"",onChange:se=>te("allegiance",se.target.value),label:"Allegiance",children:U$.map(se=>s.jsx(Sa,{value:se,children:se},se))})]}),s.jsxs(bn,{fullWidth:!0,children:[s.jsx(_n,{children:"Battlefield Role"}),s.jsx(cn,{value:l.battlefieldRole||"",onChange:se=>te("battlefieldRole",se.target.value),label:"Battlefield Role",children:O$.map(se=>s.jsx(Sa,{value:se,children:se},se))})]}),s.jsx(Je,{label:"Points",type:"number",value:l.points||"",onChange:se=>te("points",se.target.value),fullWidth:!0,required:!0,inputProps:{min:0}})]}),s.jsxs(F,{sx:{mb:2},children:[s.jsx(O,{variant:"subtitle1",children:"Models"}),s.jsxs(F,{sx:{display:"flex",gap:1,mb:1},children:[s.jsx(Je,{size:"small",placeholder:"Model ID",value:P,onChange:se=>K(se.target.value),sx:{minWidth:200}}),s.jsx(Je,{size:"small",type:"number",placeholder:"Count",value:J,onChange:se=>$(Number(se.target.value)||1),inputProps:{min:1},sx:{width:100}}),s.jsx(Ve,{size:"small",onClick:qe,disabled:!P.trim()||J<=0,children:"Add Model"})]}),s.jsx(F,{sx:{display:"flex",flexDirection:"column",gap:1},children:Object.entries(j).map(([se,ee])=>s.jsx(F,{sx:{border:1,borderColor:"divider",borderRadius:1,p:1},children:s.jsxs(F,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.jsx(O,{variant:"body2",fontWeight:"bold",sx:{flex:1},children:se}),s.jsx(Je,{size:"small",type:"number",value:ee,onChange:Se=>ae(se,Number(Se.target.value)||1),inputProps:{min:1},sx:{width:80}}),s.jsx(Ve,{size:"small",color:"error",onClick:()=>Qe(se),children:"Remove"})]})},se))})]}),s.jsxs(F,{sx:{mb:2},children:[s.jsx(O,{variant:"subtitle1",children:"Special Rules"}),s.jsxs(F,{sx:{display:"flex",gap:1,mb:1},children:[s.jsx(Je,{size:"small",placeholder:"Enter special rule ID",value:W,onChange:se=>R(se.target.value),onKeyPress:se=>se.key==="Enter"&&Q()}),s.jsx(Ve,{size:"small",onClick:Q,disabled:!W.trim(),children:"Add"})]}),s.jsx(F,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:u.map((se,ee)=>s.jsx(Ye,{label:se,onDelete:()=>ne(se),size:"small",color:"primary",variant:"outlined"},ee))})]}),s.jsxs(F,{sx:{mb:2},children:[s.jsx(O,{variant:"subtitle1",children:"Special Rule Values"}),s.jsxs(F,{sx:{display:"flex",gap:1,mb:1},children:[s.jsxs(bn,{size:"small",sx:{minWidth:200},children:[s.jsx(_n,{children:"Select Special Rule"}),s.jsxs(cn,{value:I,onChange:se=>N(se.target.value),label:"Select Special Rule",children:[s.jsx(Sa,{value:"",children:"Choose a special rule"}),u.map(se=>s.jsx(Sa,{value:se,children:se},se))]})]}),s.jsx(Je,{size:"small",placeholder:"Value",value:V,onChange:se=>A(se.target.value),onKeyPress:se=>se.key==="Enter"&&ye()}),s.jsx(Ve,{size:"small",onClick:ye,disabled:!I||!V.trim(),children:"Add"})]}),s.jsx(F,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:Object.entries(m).map(([se,ee])=>s.jsx(Ye,{label:`${se}: ${ee}`,onDelete:()=>be(se),size:"small",color:"warning",variant:"outlined"},se))})]}),s.jsxs(F,{sx:{mb:2},children:[s.jsx(O,{variant:"subtitle1",children:"Traits"}),s.jsxs(F,{sx:{display:"flex",gap:1,mb:1},children:[s.jsx(Je,{size:"small",placeholder:"Enter trait",value:_,onChange:se=>S(se.target.value),onKeyPress:se=>se.key==="Enter"&&oe()}),s.jsx(Ve,{size:"small",onClick:oe,disabled:!_.trim(),children:"Add"})]}),s.jsx(F,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:v.map((se,ee)=>s.jsx(Ye,{label:se,onDelete:()=>_e(se),size:"small",color:"info",variant:"outlined"},ee))})]}),s.jsxs(F,{sx:{mb:2},children:[s.jsx(O,{variant:"subtitle1",children:"Upgrades"}),s.jsxs(F,{sx:{display:"flex",gap:1,mb:1},children:[s.jsx(Je,{size:"small",placeholder:"Enter upgrade ID",value:D,onChange:se=>U(se.target.value),onKeyPress:se=>se.key==="Enter"&&Me()}),s.jsx(Ve,{size:"small",onClick:Me,disabled:!D.trim(),children:"Add"})]}),s.jsx(F,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:T.map((se,ee)=>s.jsx(Ye,{label:se,onDelete:()=>Oe(se),size:"small",color:"success",variant:"outlined"},ee))})]}),s.jsxs(F,{sx:{mb:2},children:[s.jsx(O,{variant:"subtitle1",children:"Model Upgrades"}),Object.keys(j).length>0?s.jsxs(s.Fragment,{children:[s.jsxs(F,{sx:{display:"flex",gap:1,mb:1},children:[s.jsxs(bn,{size:"small",sx:{minWidth:200},children:[s.jsx(_n,{children:"Select Model"}),s.jsxs(cn,{value:X,onChange:se=>le(se.target.value),label:"Select Model",children:[s.jsx(Sa,{value:"",children:"Choose a model"}),Object.keys(j).map(se=>s.jsx(Sa,{value:se,children:se},se))]})]}),s.jsx(Je,{size:"small",placeholder:"Upgrade Group ID",value:ie,onChange:se=>H(se.target.value),onKeyPress:se=>se.key==="Enter"&&ve()}),s.jsx(Ve,{size:"small",onClick:ve,disabled:!X.trim()||!ie.trim(),children:"Add Upgrade"})]}),s.jsx(F,{sx:{display:"flex",flexDirection:"column",gap:1},children:Object.entries(M).map(([se,ee])=>s.jsxs(F,{sx:{border:1,borderColor:"divider",borderRadius:1,p:1},children:[s.jsxs(O,{variant:"body2",fontWeight:"bold",sx:{mb:1},children:[se,":"]}),s.jsx(F,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:ee.map((Se,pe)=>s.jsx(Ye,{label:Se,onDelete:()=>De(se,Se),size:"small",color:"secondary",variant:"outlined"},pe))})]},se))})]}):s.jsx(O,{variant:"body2",color:"text.secondary",children:"Add models to the unit first to configure their upgrades."})]})]}),s.jsxs(Ka,{children:[s.jsx(Ve,{onClick:e,children:"Cancel"}),s.jsx(Ve,{onClick:He,variant:"contained",children:i!==null?"Update":"Add"})]})]})},B$=["Infantry","Cavalry","Walker","Automata","Paragon","Vehicle"],N$=["Unique","Command","Champion","Specialist","Heavy","Sergeant","Light","Skirmish","Transport","Anti-grav","Stable","Flyer","Super-Heavy"],F$=["movement","weaponSkill","ballisticSkill","strength","toughness","wounds","initiative","attacks","leadership","cool","willpower","intelligence","armourSave","invulnerableSave"],q$=["movement","ballisticSkill","frontArmour","sideArmour","rearArmour","hullPoints","transportCapacity"],H$=({open:t,onClose:e,onSave:a,initialEntry:n={},editingIndex:i=null})=>{const[l,d]=w.useState({id:""}),[u,h]=w.useState({}),[m,y]=w.useState([]),[v,x]=w.useState({}),[T,C]=w.useState([]),[j,E]=w.useState([]),[M,L]=w.useState([]),[W,R]=w.useState(""),[I,N]=w.useState(""),[V,A]=w.useState(""),[_,S]=w.useState(""),[D,U]=w.useState(""),[P,K]=w.useState(""),[J,$]=w.useState(""),[X,le]=w.useState(1),ie=l.type==="Vehicle";w.useEffect(()=>{t&&(d({id:"",subType:n?.subType||[],...n}),h(n?.characteristics||{}),y(n?.specialRules||[]),x(n?.specialRuleValues||{}),C(n?.wargear||[]),E(n?.weapons||[]),L(n?.upgradeGroups||[]))},[t,n]);const H=(ae,ve)=>{d(De=>({...De,[ae]:ve}))},te=(ae,ve)=>{const De=ve===""?0:Number(ve);h(He=>({...He,[ae]:De}))},Q=()=>{W.trim()&&(y([...m,W.trim()]),R(""))},ne=ae=>{y(m.filter(De=>De!==ae));const ve={...v};delete ve[ae],x(ve)},ye=()=>{I&&V.trim()&&(x({...v,[I]:isNaN(Number(V))?V:Number(V)}),N(""),A(""))},be=ae=>{const ve={...v};delete ve[ae],x(ve)},oe=()=>{_.trim()&&(C([...T,_.trim()]),S(""))},_e=ae=>{C(T.filter(ve=>ve!==ae))},Me=()=>{D.trim()&&(ie?P.trim()&&J.trim()&&(E([...j,{mount:P.trim(),weapon:J.trim(),count:X}]),K(""),$(""),le(1)):(E([...j,D.trim()]),U("")))},Oe=ae=>{E(j.filter((ve,De)=>De!==ae))},qe=()=>{a({...l,characteristics:u,specialRules:m,specialRuleValues:v,wargear:T,weapons:j,upgradeGroups:M},i),e()},Qe=()=>ie?q$:F$;return s.jsxs(Ra,{open:t,onClose:e,maxWidth:"xl",fullWidth:!0,children:[s.jsx(ka,{children:i!==null?"Edit Model":"Add New Model"}),s.jsxs(Aa,{sx:{overflow:"auto"},children:[s.jsxs(F,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:2,mb:3},children:[s.jsx(Je,{label:"ID",value:l.id||"",onChange:ae=>H("id",ae.target.value),fullWidth:!0,required:!0}),s.jsx(Je,{label:"Name",value:l.name||"",onChange:ae=>H("name",ae.target.value),fullWidth:!0,required:!0}),s.jsx(Je,{label:"Description",value:l.description||"",onChange:ae=>H("description",ae.target.value),fullWidth:!0,multiline:!0,minRows:2})]}),s.jsxs(F,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:2,mb:3},children:[s.jsxs(bn,{fullWidth:!0,children:[s.jsx(_n,{children:"Type"}),s.jsx(cn,{value:l.type||"",onChange:ae=>H("type",ae.target.value),label:"Type",children:B$.map(ae=>s.jsx(Sa,{value:ae,children:ae},ae))})]}),s.jsxs(bn,{fullWidth:!0,children:[s.jsx(_n,{children:"SubType"}),s.jsx(cn,{multiple:!0,value:l.subType||[],onChange:ae=>H("subType",typeof ae.target.value=="string"?ae.target.value.split(","):ae.target.value),input:s.jsx(ih,{label:"SubType"}),renderValue:ae=>s.jsx(F,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:ae.map(ve=>s.jsx(Ye,{label:ve,size:"small"},ve))}),children:N$.map(ae=>s.jsxs(Sa,{value:ae,children:[s.jsx(u3,{checked:(l.subType||[]).indexOf(ae)>-1}),s.jsx(Dg,{primary:ae})]},ae))})]})]}),s.jsxs(F,{sx:{mb:3},children:[s.jsx(O,{variant:"subtitle1",gutterBottom:!0,children:"Characteristics"}),s.jsx(Yn,{component:ta,variant:"outlined",children:s.jsxs(Gn,{size:"small",children:[s.jsx(Xn,{children:s.jsx(Pt,{children:Qe().map(ae=>s.jsx(Y,{sx:{fontWeight:"bold",textTransform:"capitalize"},children:ae.replace(/([A-Z])/g," $1").trim()},ae))})}),s.jsx(Kn,{children:s.jsx(Pt,{children:Qe().map(ae=>s.jsx(Y,{children:s.jsx(Je,{size:"small",type:"number",value:u[ae]||"",onChange:ve=>te(ae,ve.target.value),inputProps:{min:0},fullWidth:!0})},ae))})})]})})]}),s.jsxs(F,{sx:{mb:2},children:[s.jsx(O,{variant:"subtitle1",children:"Special Rules"}),s.jsxs(F,{sx:{display:"flex",gap:1,mb:1},children:[s.jsx(Je,{size:"small",placeholder:"Enter special rule ID",value:W,onChange:ae=>R(ae.target.value),onKeyPress:ae=>ae.key==="Enter"&&Q()}),s.jsx(Ve,{size:"small",onClick:Q,disabled:!W.trim(),children:"Add"})]}),s.jsx(F,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:m.map((ae,ve)=>s.jsx(Ye,{label:ae,onDelete:()=>ne(ae),size:"small",color:"primary",variant:"outlined"},ve))})]}),s.jsxs(F,{sx:{mb:2},children:[s.jsx(O,{variant:"subtitle1",children:"Special Rule Values"}),s.jsxs(F,{sx:{display:"flex",gap:1,mb:1},children:[s.jsxs(bn,{size:"small",sx:{minWidth:200},children:[s.jsx(_n,{children:"Select Special Rule"}),s.jsxs(cn,{value:I,onChange:ae=>N(ae.target.value),label:"Select Special Rule",children:[s.jsx(Sa,{value:"",children:"Choose a special rule"}),m.map(ae=>s.jsx(Sa,{value:ae,children:ae},ae))]})]}),s.jsx(Je,{size:"small",placeholder:"Value",value:V,onChange:ae=>A(ae.target.value),onKeyPress:ae=>ae.key==="Enter"&&ye()}),s.jsx(Ve,{size:"small",onClick:ye,disabled:!I||!V.trim(),children:"Add"})]}),s.jsx(F,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:Object.entries(v).map(([ae,ve])=>s.jsx(Ye,{label:`${ae}: ${ve}`,onDelete:()=>be(ae),size:"small",color:"warning",variant:"outlined"},ae))})]}),s.jsxs(F,{sx:{mb:2},children:[s.jsx(O,{variant:"subtitle1",children:"Wargear"}),s.jsxs(F,{sx:{display:"flex",gap:1,mb:1},children:[s.jsx(Je,{size:"small",placeholder:"Enter wargear ID",value:_,onChange:ae=>S(ae.target.value),onKeyPress:ae=>ae.key==="Enter"&&oe()}),s.jsx(Ve,{size:"small",onClick:oe,disabled:!_.trim(),children:"Add"})]}),s.jsx(F,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:T.map((ae,ve)=>s.jsx(Ye,{label:ae,onDelete:()=>_e(ae),size:"small",color:"info",variant:"outlined"},ve))})]}),s.jsxs(F,{sx:{mb:2},children:[s.jsx(O,{variant:"subtitle1",children:"Weapons"}),ie?s.jsxs(F,{sx:{display:"flex",gap:1,mb:1,flexWrap:"wrap"},children:[s.jsx(Je,{size:"small",placeholder:"Mount",value:P,onChange:ae=>K(ae.target.value)}),s.jsx(Je,{size:"small",placeholder:"Weapon ID",value:J,onChange:ae=>$(ae.target.value)}),s.jsx(Je,{size:"small",type:"number",placeholder:"Count",value:X,onChange:ae=>le(Number(ae.target.value)),inputProps:{min:1},sx:{width:100}}),s.jsx(Ve,{size:"small",onClick:Me,disabled:!P.trim()||!J.trim(),children:"Add"})]}):s.jsxs(F,{sx:{display:"flex",gap:1,mb:1},children:[s.jsx(Je,{size:"small",placeholder:"Enter weapon ID",value:D,onChange:ae=>U(ae.target.value),onKeyPress:ae=>ae.key==="Enter"&&Me()}),s.jsx(Ve,{size:"small",onClick:Me,disabled:!D.trim(),children:"Add"})]}),s.jsx(F,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:j.map((ae,ve)=>s.jsx(Ye,{label:ie?`${ae.mount}: ${ae.weapon} (${ae.count})`:ae,onDelete:()=>Oe(ve),size:"small",color:"success",variant:"outlined"},ve))})]})]}),s.jsxs(Ka,{children:[s.jsx(Ve,{onClick:e,children:"Cancel"}),s.jsx(Ve,{onClick:qe,variant:"contained",children:i!==null?"Update":"Add"})]})]})},$$=["ranged","melee","ranged-profile","melee-profile"],G$=({open:t,onClose:e,onSave:a,initialEntry:n={},editingIndex:i=null,currentEntries:l=[]})=>{const[d,u]=w.useState({id:""}),[h,m]=w.useState([]),[y,v]=w.useState({}),[x,T]=w.useState([]),[C,j]=w.useState([]),[E,M]=w.useState(""),[L,W]=w.useState(""),[R,I]=w.useState(""),[N,V]=w.useState(""),A=d.type==="ranged"||d.type==="ranged-profile",_=d.type==="melee"||d.type==="melee-profile",D=(()=>{const Q=ge.getWeaponsByType("ranged-profile"),ne=l.filter(ye=>ye.type==="ranged-profile"&&ye.id!==d.id);return[...Q,...ne]})();w.useEffect(()=>{t&&(u(n||{id:""}),m(n?.specialRules||[]),v(n?.specialRuleValues||{}),T(n?.traits||[]),j(n?.profiles||[]))},[t,n]);const U=(Q,ne)=>{let ye=ne;["firepower","rangedStrength","damage","ap"].includes(Q)&&(ye=ne===""?null:Number(ne)),u(be=>({...be,[Q]:ye}))},P=()=>{E.trim()&&(m([...h,E.trim()]),M(""))},K=Q=>{m(h.filter(ye=>ye!==Q));const ne={...y};delete ne[Q],v(ne)},J=()=>{L&&R.trim()&&(v({...y,[L]:isNaN(Number(R))?R:Number(R)}),W(""),I(""))},$=Q=>{const ne={...y};delete ne[Q],v(ne)},X=()=>{N.trim()&&(T([...x,N.trim()]),V(""))},le=Q=>{T(x.filter(ne=>ne!==Q))},ie=Q=>{const ne=Q.target.value;j(typeof ne=="string"?ne.split(","):ne)},H=Q=>{j(C.filter(ne=>ne!==Q))},te=()=>{a({...d,specialRules:h,specialRuleValues:y,traits:x,profiles:C},i),e()};return s.jsxs(Ra,{open:t,onClose:e,maxWidth:"xl",fullWidth:!0,children:[s.jsx(ka,{children:i!==null?"Edit Weapon":"Add New Weapon"}),s.jsxs(Aa,{sx:{overflow:"auto"},children:[s.jsxs(F,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:2,mb:3},children:[s.jsx(Je,{label:"ID",value:d.id||"",onChange:Q=>U("id",Q.target.value),fullWidth:!0,required:!0}),s.jsx(Je,{label:"Name",value:d.name||"",onChange:Q=>U("name",Q.target.value),fullWidth:!0,required:!0}),s.jsxs(bn,{fullWidth:!0,children:[s.jsx(_n,{children:"Type"}),s.jsx(cn,{value:d.type||"",onChange:Q=>U("type",Q.target.value),label:"Type",children:$$.map(Q=>s.jsx(Sa,{value:Q,children:Q},Q))})]})]}),A&&s.jsxs(F,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:2,mb:3},children:[s.jsx(Je,{label:"Range",value:d.range||"",onChange:Q=>U("range",Q.target.value),fullWidth:!0}),s.jsx(Je,{label:"Firepower",value:d.firepower||"",onChange:Q=>U("firepower",Q.target.value),fullWidth:!0}),s.jsx(Je,{label:"Ranged Strength",value:d.rangedStrength||"",onChange:Q=>U("rangedStrength",Q.target.value),fullWidth:!0})]}),_&&s.jsxs(F,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:2,mb:3},children:[s.jsx(Je,{label:"Attack Modifier",value:d.attackModifier||"",onChange:Q=>U("attackModifier",Q.target.value),fullWidth:!0}),s.jsx(Je,{label:"Strength Modifier",value:d.strengthModifier||"",onChange:Q=>U("strengthModifier",Q.target.value),fullWidth:!0}),s.jsx(Je,{label:"Initiative Modifier",value:d.initiativeModifier||"",onChange:Q=>U("initiativeModifier",Q.target.value),fullWidth:!0})]}),s.jsxs(F,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:2,mb:3},children:[s.jsx(Je,{label:"AP",value:d.ap||"",onChange:Q=>U("ap",Q.target.value),fullWidth:!0}),s.jsx(Je,{label:"Damage",value:d.damage||"",onChange:Q=>U("damage",Q.target.value),fullWidth:!0}),s.jsx(Je,{label:"Description",value:d.description||"",onChange:Q=>U("description",Q.target.value),fullWidth:!0,multiline:!0,minRows:2})]}),(d.type==="ranged"||d.type==="melee")&&s.jsxs(F,{sx:{mb:3},children:[s.jsx(O,{variant:"subtitle1",gutterBottom:!0,children:"Weapon Profiles"}),s.jsx(O,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Select ranged-profile weapons that this weapon can use as firing modes"}),s.jsxs(bn,{fullWidth:!0,children:[s.jsx(_n,{children:"Select Profiles"}),s.jsx(cn,{multiple:!0,value:C,onChange:ie,input:s.jsx(ih,{label:"Select Profiles"}),renderValue:Q=>s.jsx(F,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:Q.map(ne=>{const ye=D.find(be=>be.id===ne);return s.jsx(Ye,{label:ye?.name||ne,size:"small",onDelete:()=>H(ne)},ne)})}),children:D.map(Q=>s.jsxs(Sa,{value:Q.id,children:[Q.name," (",Q.id,")"]},Q.id))})]}),C.length>0&&s.jsxs(F,{sx:{mt:2},children:[s.jsx(O,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Selected Profiles:"}),s.jsx(F,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:C.map(Q=>{const ne=D.find(ye=>ye.id===Q);return s.jsx(Ye,{label:ne?.name||Q,onDelete:()=>H(Q),size:"small",color:"secondary",variant:"outlined"},Q)})})]})]}),s.jsxs(F,{sx:{mb:2},children:[s.jsx(O,{variant:"subtitle1",children:"Special Rules"}),s.jsxs(F,{sx:{display:"flex",gap:1,mb:1},children:[s.jsx(Je,{size:"small",placeholder:"Enter special rule ID",value:E,onChange:Q=>M(Q.target.value),onKeyPress:Q=>Q.key==="Enter"&&P()}),s.jsx(Ve,{size:"small",onClick:P,disabled:!E.trim(),children:"Add"})]}),s.jsx(F,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:h.map((Q,ne)=>s.jsx(Ye,{label:Q,onDelete:()=>K(Q),size:"small",color:"primary",variant:"outlined"},ne))})]}),s.jsxs(F,{sx:{mb:2},children:[s.jsx(O,{variant:"subtitle1",children:"Special Rule Values"}),s.jsxs(F,{sx:{display:"flex",gap:1,mb:1},children:[s.jsxs(bn,{size:"small",sx:{minWidth:200},children:[s.jsx(_n,{children:"Select Special Rule"}),s.jsxs(cn,{value:L,onChange:Q=>W(Q.target.value),label:"Select Special Rule",children:[s.jsx(Sa,{value:"",children:"Choose a special rule"}),h.map(Q=>s.jsx(Sa,{value:Q,children:Q},Q))]})]}),s.jsx(Je,{size:"small",placeholder:"Value",value:R,onChange:Q=>I(Q.target.value),onKeyPress:Q=>Q.key==="Enter"&&J()}),s.jsx(Ve,{size:"small",onClick:J,disabled:!L||!R.trim(),children:"Add"})]}),s.jsx(F,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:Object.entries(y).map(([Q,ne])=>s.jsx(Ye,{label:`${Q}: ${ne}`,onDelete:()=>$(Q),size:"small",color:"warning",variant:"outlined"},Q))})]}),s.jsxs(F,{sx:{mb:2},children:[s.jsx(O,{variant:"subtitle1",children:"Traits"}),s.jsxs(F,{sx:{display:"flex",gap:1,mb:1},children:[s.jsx(Je,{size:"small",placeholder:"Enter trait",value:N,onChange:Q=>V(Q.target.value),onKeyPress:Q=>Q.key==="Enter"&&X()}),s.jsx(Ve,{size:"small",onClick:X,disabled:!N.trim(),children:"Add"})]}),s.jsx(F,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:x.map((Q,ne)=>s.jsx(Ye,{label:Q,onDelete:()=>le(Q),size:"small",color:"info",variant:"outlined"},ne))})]})]}),s.jsxs(Ka,{children:[s.jsx(Ve,{onClick:e,children:"Cancel"}),s.jsx(Ve,{onClick:te,variant:"contained",children:i!==null?"Update":"Add"})]})]})},K$=["model","squad","weapon","wargear","vehicle","transport"],Y$=["1","2","3","4","5","6","7","8","9","10","dependent"],X$=({open:t,onClose:e,onSave:a,initialEntry:n={},editingIndex:i=null})=>{const[l,d]=w.useState({id:""}),[u,h]=w.useState([]),[m,y]=w.useState(""),[v,x]=w.useState(""),[T,C]=w.useState(""),[j,E]=w.useState(0),[M,L]=w.useState([]),[W,R]=w.useState([]),[I,N]=w.useState({}),[V,A]=w.useState(""),[_,S]=w.useState(""),[D,U]=w.useState(""),[P,K]=w.useState(1),[J,$]=w.useState([]),[X,le]=w.useState("infantry"),[ie,H]=w.useState([]),[te,Q]=w.useState("");w.useEffect(()=>{t&&(d({id:"",type:"model",maxCount:"1",targetModelType:"",targetModelTypes:[],options:[],...n}),h(n?.options||[]),H(n?.targetModelTypes||[]))},[t,n]);const ne=(ee,Se)=>{let pe=Se;["points"].includes(ee)&&(pe=Se===""?0:Number(Se)),d(je=>({...je,[ee]:pe}))},ye=()=>{if(m.trim()&&v.trim()){let ee;J.length>0&&(ee=J);const Se={id:m.trim(),name:v.trim(),description:T.trim(),points:j,weaponReplacements:ee,wargear:M.length>0?M:void 0,specialRules:W.length>0?W:void 0,specialRuleValues:Object.keys(I).length>0?I:void 0};h([...u,Se]),y(""),x(""),C(""),E(0),L([]),R([]),N({}),$([])}},be=ee=>{h(u.filter((Se,pe)=>pe!==ee))},oe=()=>{M.length>0?L([...M,""]):L([""])},_e=(ee,Se)=>{const pe=[...M];pe[ee]=Se,L(pe)},Me=ee=>{L(M.filter((Se,pe)=>pe!==ee))},Oe=()=>{W.length>0?R([...W,""]):R([""])},qe=(ee,Se)=>{const pe=[...W];pe[ee]=Se,R(pe)},Qe=ee=>{R(W.filter((Se,pe)=>pe!==ee))},ae=()=>{if(V.trim()&&_.trim()){let ee;X==="infantry"?ee=_.trim():ee={id:_.trim(),mount:D.trim()||void 0,count:P>1?P:void 0};const Se={replaceWeapon:V.trim(),addWeapon:ee};$([...J,Se]),A(""),S(""),U(""),K(1)}},ve=ee=>{$(J.filter((Se,pe)=>pe!==ee))},De=()=>{te.trim()&&!ie.includes(te.trim())&&(H([...ie,te.trim()]),Q(""))},He=ee=>{H(ie.filter((Se,pe)=>pe!==ee))},se=()=>{a({...l,targetModelTypes:ie,options:u},i),e()};return s.jsxs(Ra,{open:t,onClose:e,maxWidth:"xl",fullWidth:!0,children:[s.jsx(ka,{children:i!==null?"Edit Upgrade":"Add New Upgrade"}),s.jsxs(Aa,{sx:{overflow:"auto"},children:[s.jsxs(F,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:2,mb:3},children:[s.jsx(Je,{label:"ID",value:l.id||"",onChange:ee=>ne("id",ee.target.value),fullWidth:!0,required:!0}),s.jsx(Je,{label:"Name",value:l.name||"",onChange:ee=>ne("name",ee.target.value),fullWidth:!0,required:!0}),s.jsx(Je,{label:"Description",value:l.description||"",onChange:ee=>ne("description",ee.target.value),fullWidth:!0,multiline:!0,minRows:2}),s.jsxs(bn,{fullWidth:!0,children:[s.jsx(_n,{children:"Type"}),s.jsx(cn,{value:l.type||"model",onChange:ee=>ne("type",ee.target.value),label:"Type",children:K$.map(ee=>s.jsx(Sa,{value:ee,children:ee.charAt(0).toUpperCase()+ee.slice(1)},ee))})]}),s.jsxs(bn,{fullWidth:!0,children:[s.jsx(_n,{children:"Max Count"}),s.jsx(cn,{value:l.maxCount||"1",onChange:ee=>ne("maxCount",ee.target.value),label:"Max Count",children:Y$.map(ee=>s.jsx(Sa,{value:ee,children:ee},ee))})]}),s.jsx(Je,{label:"Target Model Type",value:l.targetModelType||"",onChange:ee=>ne("targetModelType",ee.target.value),fullWidth:!0,placeholder:"e.g., Infantry, Vehicle"}),s.jsxs(F,{children:[s.jsx(O,{variant:"subtitle2",gutterBottom:!0,children:"Target Model Types (for multiple targeting)"}),s.jsxs(F,{sx:{display:"flex",gap:1,mb:1},children:[s.jsx(Je,{size:"small",placeholder:"Model Type ID",value:te,onChange:ee=>Q(ee.target.value),sx:{flex:1}}),s.jsx(Ve,{size:"small",onClick:De,disabled:!te.trim(),children:"Add"})]}),s.jsx(F,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:ie.map((ee,Se)=>s.jsx(Ye,{label:ee,onDelete:()=>He(Se),size:"small",color:"primary",variant:"outlined"},Se))})]})]}),s.jsxs(F,{sx:{mb:3},children:[s.jsx(O,{variant:"h6",gutterBottom:!0,children:"Upgrade Options"}),s.jsxs(F,{sx:{border:1,borderColor:"divider",borderRadius:1,p:2,mb:2},children:[s.jsx(O,{variant:"subtitle1",gutterBottom:!0,children:"Add New Option"}),s.jsxs(F,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:2,mb:2},children:[s.jsx(Je,{size:"small",label:"Option ID",value:m,onChange:ee=>y(ee.target.value),placeholder:"e.g., lasrifle-upgrade"}),s.jsx(Je,{size:"small",label:"Option Name",value:v,onChange:ee=>x(ee.target.value),placeholder:"e.g., Lasrifle"}),s.jsx(Je,{size:"small",label:"Points",type:"number",value:j,onChange:ee=>E(Number(ee.target.value)||0),inputProps:{min:0}})]}),s.jsx(Je,{size:"small",label:"Description",value:T,onChange:ee=>C(ee.target.value),fullWidth:!0,multiline:!0,minRows:2,sx:{mb:2}}),s.jsxs(F,{sx:{mb:2},children:[s.jsx(O,{variant:"subtitle2",gutterBottom:!0,children:"Weapon Replacements"}),s.jsx(F,{sx:{mb:2},children:s.jsxs(bn,{size:"small",sx:{minWidth:200},children:[s.jsx(_n,{children:"Weapon Type"}),s.jsxs(cn,{value:X,onChange:ee=>le(ee.target.value),label:"Weapon Type",children:[s.jsx(Sa,{value:"infantry",children:"Infantry (Simple Strings)"}),s.jsx(Sa,{value:"vehicle",children:"Vehicle (Mounts & Counts)"})]})]})}),s.jsxs(F,{sx:{display:"flex",gap:1,mb:1},children:[s.jsx(Je,{size:"small",placeholder:"Replace Weapon ID",value:V,onChange:ee=>A(ee.target.value),sx:{minWidth:150}}),s.jsx(Je,{size:"small",placeholder:"Add Weapon ID",value:_,onChange:ee=>S(ee.target.value),sx:{minWidth:150}}),X==="vehicle"&&s.jsxs(s.Fragment,{children:[s.jsx(Je,{size:"small",placeholder:"Mount (optional)",value:D,onChange:ee=>U(ee.target.value),sx:{minWidth:120}}),s.jsx(Je,{size:"small",type:"number",placeholder:"Count",value:P,onChange:ee=>K(Number(ee.target.value)||1),inputProps:{min:1},sx:{width:80}})]}),s.jsx(Ve,{size:"small",onClick:ae,disabled:!V.trim()||!_.trim(),children:"Add Weapon"})]}),s.jsx(F,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:J.map((ee,Se)=>{const pe=typeof ee.addWeapon=="string"?ee.addWeapon:`${ee.addWeapon.id}${ee.addWeapon.mount?` (${ee.addWeapon.mount})`:""}${ee.addWeapon.count&&ee.addWeapon.count>1?` x${ee.addWeapon.count}`:""}`;return s.jsx(Ye,{label:`${ee.replaceWeapon}  ${pe}`,onDelete:()=>ve(Se),size:"small",color:"primary",variant:"outlined"},Se)})})]}),s.jsxs(F,{sx:{mb:2},children:[s.jsx(O,{variant:"subtitle2",gutterBottom:!0,children:"Wargear"}),s.jsx(Ve,{size:"small",onClick:oe,sx:{mb:1},children:"Add Wargear"}),s.jsx(F,{sx:{display:"flex",flexDirection:"column",gap:1},children:M.map((ee,Se)=>s.jsxs(F,{sx:{display:"flex",gap:1,alignItems:"center"},children:[s.jsx(Je,{size:"small",placeholder:"Wargear ID",value:ee,onChange:pe=>_e(Se,pe.target.value),sx:{flex:1}}),s.jsx(xt,{size:"small",onClick:()=>Me(Se),children:s.jsx(fd,{})})]},Se))})]}),s.jsxs(F,{sx:{mb:2},children:[s.jsx(O,{variant:"subtitle2",gutterBottom:!0,children:"Special Rules"}),s.jsx(Ve,{size:"small",onClick:Oe,sx:{mb:1},children:"Add Special Rule"}),s.jsx(F,{sx:{display:"flex",flexDirection:"column",gap:1},children:W.map((ee,Se)=>s.jsxs(F,{sx:{display:"flex",gap:1,alignItems:"center"},children:[s.jsx(Je,{size:"small",placeholder:"Special Rule ID",value:ee,onChange:pe=>qe(Se,pe.target.value),sx:{flex:1}}),s.jsx(xt,{size:"small",onClick:()=>Qe(Se),children:s.jsx(fd,{})})]},Se))})]}),s.jsx(Ve,{variant:"contained",onClick:ye,disabled:!m.trim()||!v.trim(),sx:{mt:1},children:"Add Option"})]}),s.jsx(F,{sx:{display:"flex",flexDirection:"column",gap:1},children:u.map((ee,Se)=>s.jsxs(ai,{children:[s.jsx(ri,{expandIcon:s.jsx(ii,{}),children:s.jsxs(F,{sx:{display:"flex",alignItems:"center",gap:2,width:"100%"},children:[s.jsx(O,{variant:"body2",fontWeight:"bold",children:ee.name}),s.jsxs(O,{variant:"body2",color:"text.secondary",children:["(",ee.points," pts)"]}),s.jsx(Ve,{size:"small",color:"error",onClick:pe=>{pe.stopPropagation(),be(Se)},sx:{ml:"auto"},children:"Remove"})]})}),s.jsx(ni,{children:s.jsxs(F,{sx:{display:"flex",flexDirection:"column",gap:1},children:[s.jsxs(O,{variant:"body2",children:[s.jsx("strong",{children:"ID:"})," ",ee.id]}),s.jsxs(O,{variant:"body2",children:[s.jsx("strong",{children:"Description:"})," ",ee.description]}),ee.weaponReplacements&&ee.weaponReplacements.length>0&&s.jsxs(F,{children:[s.jsx(O,{variant:"body2",fontWeight:"bold",children:"Weapon Replacements:"}),s.jsx(F,{sx:{display:"flex",flexWrap:"wrap",gap:1,ml:2},children:ee.weaponReplacements.map((pe,je)=>{if(pe.replaceWeapon&&pe.addWeapon){const we=typeof pe.addWeapon=="string"?pe.addWeapon:`${pe.addWeapon.id}${pe.addWeapon.mount?` (${pe.addWeapon.mount})`:""}${pe.addWeapon.count&&pe.addWeapon.count>1?` x${pe.addWeapon.count}`:""}`;return s.jsx(Ye,{label:`${pe.replaceWeapon}  ${we}`,size:"small",variant:"outlined"},je)}else return s.jsx(Ye,{label:typeof pe=="string"?pe:JSON.stringify(pe),size:"small",variant:"outlined"},je)})})]}),ee.wargear&&ee.wargear.length>0&&s.jsxs(F,{children:[s.jsx(O,{variant:"body2",fontWeight:"bold",children:"Wargear:"}),s.jsx(F,{sx:{display:"flex",flexWrap:"wrap",gap:1,ml:2},children:ee.wargear.map((pe,je)=>s.jsx(Ye,{label:pe,size:"small",variant:"outlined"},je))})]}),ee.specialRules&&ee.specialRules.length>0&&s.jsxs(F,{children:[s.jsx(O,{variant:"body2",fontWeight:"bold",children:"Special Rules:"}),s.jsx(F,{sx:{display:"flex",flexWrap:"wrap",gap:1,ml:2},children:ee.specialRules.map((pe,je)=>s.jsx(Ye,{label:pe,size:"small",variant:"outlined"},je))})]})]})})]},Se))})]})]}),s.jsxs(Ka,{children:[s.jsx(Ve,{onClick:e,children:"Cancel"}),s.jsx(Ve,{onClick:se,variant:"contained",children:i!==null?"Update":"Add"})]})]})},Q$=({open:t,onClose:e,onSave:a,initialEntry:n={},editingIndex:i=null,dataType:l,fields:d})=>{const[u,h]=w.useState({id:""});w.useEffect(()=>{t&&h(n||{id:""})},[t,n]);const m=(x,T)=>{h(C=>({...C,[x]:T}))},y=()=>{a(u,i),e()},v=x=>x.toLowerCase().includes("description")||x.toLowerCase().includes("text")||x.toLowerCase().includes("long")?"multiline":"text";return s.jsxs(Ra,{open:t,onClose:e,maxWidth:"md",fullWidth:!0,children:[s.jsx(ka,{children:i!==null?`Edit ${l}`:`Add New ${l}`}),s.jsx(Aa,{sx:{overflow:"auto"},children:s.jsx(F,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:2,mt:1},children:d.map(x=>{const T=v(x),C=x==="id"||x==="name";return s.jsx(Je,{label:x.charAt(0).toUpperCase()+x.slice(1),value:u[x]||"",onChange:j=>m(x,j.target.value),fullWidth:!0,required:C,multiline:T==="multiline",minRows:T==="multiline"?2:1},x)})})}),s.jsxs(Ka,{children:[s.jsx(Ve,{onClick:e,children:"Cancel"}),s.jsx(Ve,{onClick:y,variant:"contained",children:i!==null?"Update":"Add"})]})]})},J$=["factions","units","models","weapons","upgrades","specialRules","detachments","battlefieldRoles","ritesOfWar","primeAdvantages"],Z$=()=>{const[t,e]=w.useState(""),[a,n]=w.useState([]),[i,l]=w.useState(!1),[d,u]=w.useState(null),[h,m]=w.useState(null),[y,v]=w.useState(null),[x,T]=w.useState(!1),[C,j]=w.useState(null),[E,M]=w.useState(null),L=w.useRef(null),W=w.useMemo(()=>t?wS[t]||{}:{},[t]),R=()=>({weapons:{title:"Weapon CSV Creation Help",content:s.jsxs(F,{children:[s.jsx(O,{variant:"h6",gutterBottom:!0,children:"Creating Weapons"}),s.jsx(O,{variant:"body2",paragraph:!0,children:"Weapons can be either standalone weapons or weapon profiles. Profiles are used by main weapons to provide different firing modes."}),s.jsx(O,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"Weapon Types"}),s.jsxs(F,{sx:{mb:2},children:[s.jsx(O,{variant:"body2",fontWeight:"bold",children:" Ranged Weapons:"}),s.jsx(O,{variant:"body2",sx:{ml:2},children:"Have range, firepower, and ranged strength stats"}),s.jsx(O,{variant:"body2",fontWeight:"bold",sx:{mt:1},children:" Melee Weapons:"}),s.jsx(O,{variant:"body2",sx:{ml:2},children:"Have attack, strength, and initiative modifiers"}),s.jsx(O,{variant:"body2",fontWeight:"bold",sx:{mt:1},children:" Profile Weapons:"}),s.jsx(O,{variant:"body2",sx:{ml:2},children:"Show the same fields as their parent type"})]}),s.jsx(O,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"Creating Weapons with Profiles"}),s.jsxs(F,{sx:{bgcolor:"grey.50",p:2,borderRadius:1,mb:2},children:[s.jsx(O,{variant:"body2",fontWeight:"bold",children:"Step 1: Create Profile Weapons"}),s.jsxs(O,{variant:"body2",sx:{ml:2},component:"div",children:['1. Select "ranged-profile" or "melee-profile" as the weapon type',s.jsx("br",{}),"2. Fill in the profile-specific stats (e.g., sustained firepower, maximal damage)",s.jsx("br",{}),"3. Give each profile a unique ID (e.g.,"," ",s.jsx("code",{children:"plasma-pistol-sustained"}),","," ",s.jsx("code",{children:"plasma-pistol-maximal"}),")",s.jsx("br",{}),"4. Add any special rules or traits specific to that profile"]})]}),s.jsxs(F,{sx:{bgcolor:"grey.50",p:2,borderRadius:1,mb:2},children:[s.jsx(O,{variant:"body2",fontWeight:"bold",children:"Step 2: Create Main Weapon"}),s.jsxs(O,{variant:"body2",sx:{ml:2},children:['1. Select "ranged" or "melee" as the weapon type',s.jsx("br",{}),"2. Fill in the base weapon information",s.jsx("br",{}),'3. In the "profiles" field, add the IDs of the profile weapons you created (e.g.,'," ",s.jsx("code",{children:'["plasma-pistol-sustained", "plasma-pistol-maximal"]'}),")",s.jsx("br",{}),"4. The profiles field should contain an array of strings"]})]}),s.jsx(O,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"Special Rules and Traits"}),s.jsxs(O,{variant:"body2",paragraph:!0,children:[" ",s.jsx("strong",{children:"Special Rules:"})," Array of special rule IDs that apply to the weapon",s.jsx("br",{})," ",s.jsx("strong",{children:"Special Rule Values:"})," Values for special rules that require them",s.jsx("br",{})," ",s.jsx("strong",{children:"Traits:"}),' Weapon-specific traits like "Heavy", "Twin-linked"']})]})},models:{title:"Model CSV Creation Help",content:s.jsxs(F,{children:[s.jsx(O,{variant:"h6",gutterBottom:!0,children:"Creating Models"}),s.jsx(O,{variant:"body2",paragraph:!0,children:"Models represent individual units that can be used in armies. They have characteristics, special rules, and equipment."}),s.jsx(O,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"Model Types"}),s.jsxs(F,{sx:{mb:2},children:[s.jsx(O,{variant:"body2",fontWeight:"bold",children:" Infantry:"}),s.jsx(O,{variant:"body2",sx:{ml:2},children:"Standard foot soldiers with movement, WS, BS, S, T, W, I, A, Ld, Cl, Wp, In, Sv stats"}),s.jsx(O,{variant:"body2",fontWeight:"bold",sx:{mt:1},children:" Vehicle:"}),s.jsx(O,{variant:"body2",sx:{ml:2},children:"Armored vehicles with M, BS, FA, SA, RA, HP, Transport stats"}),s.jsx(O,{variant:"body2",fontWeight:"bold",sx:{mt:1},children:" Other Types:"}),s.jsx(O,{variant:"body2",sx:{ml:2},children:"Cavalry, Walker, Automata, Paragon have their own characteristic sets"})]}),s.jsx(O,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"Characteristics"}),s.jsx(O,{variant:"body2",paragraph:!0,children:"Characteristics are displayed in a horizontal layout for easy editing:"}),s.jsxs(F,{sx:{ml:2},children:[s.jsxs(O,{variant:"body2",children:[" ",s.jsx("strong",{children:"Infantry:"})," Movement, WS, BS, S, T, W, I, A, Ld, Cl, Wp, In, Sv, Invuln"]}),s.jsxs(O,{variant:"body2",children:[" ",s.jsx("strong",{children:"Vehicles:"})," M, BS, FA, SA, RA, HP, Transport"]})]}),s.jsx(O,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"Weapons and Equipment"}),s.jsxs(O,{variant:"body2",paragraph:!0,children:[" ",s.jsx("strong",{children:"Infantry Weapons:"})," Simple array of weapon IDs",s.jsx("br",{})," ",s.jsx("strong",{children:"Vehicle Weapons:"})," Complex objects with mount, weapon ID, and count",s.jsx("br",{})," ",s.jsx("strong",{children:"Wargear:"})," Array of wargear IDs",s.jsx("br",{})," ",s.jsx("strong",{children:"Special Rules:"})," Array of special rule IDs with optional values"]})]})},units:{title:"Unit CSV Creation Help",content:s.jsxs(F,{children:[s.jsx(O,{variant:"h6",gutterBottom:!0,children:"Creating Units"}),s.jsx(O,{variant:"body2",paragraph:!0,children:"Units represent formations that can be added to armies. They contain models and have their own special rules and upgrades."}),s.jsx(O,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"Unit Structure"}),s.jsxs(F,{sx:{mb:2},children:[s.jsx(O,{variant:"body2",fontWeight:"bold",children:" Models:"}),s.jsxs(O,{variant:"body2",sx:{ml:2},children:["Object mapping model IDs to counts (e.g.,"," ",s.jsx("code",{children:'{"lasrifle-trooper-model": 10}'}),")"]}),s.jsx(O,{variant:"body2",fontWeight:"bold",sx:{mt:1},children:" Allegiance:"}),s.jsx(O,{variant:"body2",sx:{ml:2},children:"Loyalist, Traitor, or Universal"}),s.jsx(O,{variant:"body2",fontWeight:"bold",sx:{mt:1},children:" Battlefield Role:"}),s.jsx(O,{variant:"body2",sx:{ml:2},children:"Command, Troops, Support, etc."})]}),s.jsx(O,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"Special Rules and Traits"}),s.jsxs(O,{variant:"body2",paragraph:!0,children:[" ",s.jsx("strong",{children:"Special Rules:"})," Array of special rule IDs that apply to the unit",s.jsx("br",{})," ",s.jsx("strong",{children:"Special Rule Values:"})," Values for special rules that require them",s.jsx("br",{})," ",s.jsx("strong",{children:"Traits:"}),' Unit-level traits like "[Allegiance]", "Solar Auxilia"']}),s.jsx(O,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"Upgrades"}),s.jsxs(O,{variant:"body2",paragraph:!0,children:[" ",s.jsx("strong",{children:"Unit Upgrades:"})," Array of upgrade IDs available to the unit",s.jsx("br",{})," ",s.jsx("strong",{children:"Model Upgrades:"})," Object mapping model IDs to upgrade group IDs"]}),s.jsx(O,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"Size Management"}),s.jsx(O,{variant:"body2",paragraph:!0,children:"Unit size fields (minSize, maxSize, baseSize) are hidden as they're handled through the upgrade system."})]})},factions:{title:"Faction CSV Creation Help",content:s.jsxs(F,{children:[s.jsx(O,{variant:"h6",gutterBottom:!0,children:"Creating Factions"}),s.jsx(O,{variant:"body2",paragraph:!0,children:"Factions represent the different armies and subfactions in the game."}),s.jsx(O,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"Faction Types"}),s.jsxs(O,{variant:"body2",paragraph:!0,children:[" ",s.jsx("strong",{children:"Legion:"})," Space Marine legions",s.jsx("br",{})," ",s.jsx("strong",{children:"Auxilia:"})," Imperial Army units",s.jsx("br",{})," ",s.jsx("strong",{children:"Mechanicum:"})," Adeptus Mechanicus forces",s.jsx("br",{})," ",s.jsx("strong",{children:"Knight:"})," Imperial Knight houses",s.jsx("br",{})," ",s.jsx("strong",{children:"Titan:"})," Titan legions"]}),s.jsx(O,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"Special Rules and Rites of War"}),s.jsxs(O,{variant:"body2",paragraph:!0,children:[" ",s.jsx("strong",{children:"Special Rules:"})," Array of special rule IDs that apply to the faction",s.jsx("br",{})," ",s.jsx("strong",{children:"Rites of War:"})," Array of rite of war IDs available to the faction",s.jsx("br",{})," ",s.jsx("strong",{children:"Is Main Faction:"})," Boolean indicating if this is a main faction",s.jsx("br",{})," ",s.jsx("strong",{children:"Parent Faction:"})," ID of the parent faction if this is a subfaction"]})]})},specialRules:{title:"Special Rules CSV Creation Help",content:s.jsxs(F,{children:[s.jsx(O,{variant:"h6",gutterBottom:!0,children:"Creating Special Rules"}),s.jsx(O,{variant:"body2",paragraph:!0,children:"Special rules define abilities and effects that can be applied to units, models, or weapons."}),s.jsx(O,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"Rule Types"}),s.jsxs(O,{variant:"body2",paragraph:!0,children:[" ",s.jsx("strong",{children:"special-rule:"})," General special rules",s.jsx("br",{})," ",s.jsx("strong",{children:"wargear:"})," Equipment and wargear rules"]}),s.jsx(O,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"Text Fields"}),s.jsxs(O,{variant:"body2",paragraph:!0,children:[" ",s.jsx("strong",{children:"Description:"})," Full description of the rule",s.jsx("br",{})," ",s.jsx("strong",{children:"Short Text:"})," Brief summary for quick reference",s.jsx("br",{})," ",s.jsx("strong",{children:"Long Text:"})," Detailed explanation of the rule"]}),s.jsx(O,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"Has Value"}),s.jsx(O,{variant:"body2",paragraph:!0,children:'Set to true if the rule can have a numerical value (e.g., "Feel No Pain (4+)")'})]})},upgrades:{title:"Upgrade CSV Creation Help",content:s.jsxs(F,{children:[s.jsx(O,{variant:"h6",gutterBottom:!0,children:"Creating Upgrades"}),s.jsx(O,{variant:"body2",paragraph:!0,children:"Upgrades represent options that can be applied to units, models, or weapons. They can include weapon replacements, wargear, and special rules."}),s.jsx(O,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"Upgrade Types"}),s.jsxs(O,{variant:"body2",paragraph:!0,children:[" ",s.jsx("strong",{children:"model:"})," Upgrades applied to individual models",s.jsx("br",{})," ",s.jsx("strong",{children:"squad:"})," Upgrades applied to entire squads",s.jsx("br",{})," ",s.jsx("strong",{children:"weapon:"})," Weapon replacement upgrades",s.jsx("br",{})," ",s.jsx("strong",{children:"wargear:"})," Equipment upgrades",s.jsx("br",{})," ",s.jsx("strong",{children:"vehicle:"})," Vehicle-specific upgrades",s.jsx("br",{})," ",s.jsx("strong",{children:"transport:"})," Transport capacity upgrades"]}),s.jsx(O,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"Upgrade Options"}),s.jsxs(O,{variant:"body2",paragraph:!0,children:["Each upgrade can have multiple options, each with:",s.jsx("br",{})," ",s.jsx("strong",{children:"Points Cost:"})," Additional points for the upgrade",s.jsx("br",{})," ",s.jsx("strong",{children:"Weapon Replacements:"})," Weapons that replace existing ones",s.jsx("br",{})," ",s.jsx("strong",{children:"Wargear:"})," Additional equipment",s.jsx("br",{})," ",s.jsx("strong",{children:"Special Rules:"})," Rules that apply with this upgrade"]}),s.jsx(O,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"Weapon Replacements"}),s.jsxs(O,{variant:"body2",paragraph:!0,children:["For vehicle weapons, you can specify:",s.jsx("br",{})," ",s.jsx("strong",{children:"Weapon ID:"})," The weapon to add",s.jsx("br",{})," ",s.jsx("strong",{children:"Mount:"}),' Where the weapon is mounted (e.g., "Turret Mounted")',s.jsx("br",{})," ",s.jsx("strong",{children:"Count:"})," Number of weapons (for multiple weapons)"]}),s.jsx(O,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"Max Count"}),s.jsxs(O,{variant:"body2",paragraph:!0,children:[" ",s.jsx("strong",{children:"Numbers:"})," Maximum number of times this upgrade can be taken",s.jsx("br",{})," ",s.jsx("strong",{children:"dependent:"})," The count depends on other factors"]})]})}})[t]||{title:"Help",content:"Help content not available for this data type."},I=X=>{const le=X.split(`
`).filter(te=>te.trim()!=="");if(le.length===0)return[];const ie=N(le[0]),H=[];for(let te=1;te<le.length;te++){const Q=le[te],ne=N(Q),ye={id:""};ie.forEach((be,oe)=>{if(ne[oe]!==void 0){let _e=ne[oe];if(_e==="null"||_e===""){const Me=W[be];Me&&Me.type==="array"?_e=[]:_e=null}else try{_e=JSON.parse(_e)}catch{let Me=_e;if(be==="traits"||be==="profiles"||be==="specialRules"){if(be==="traits"&&console.log(`Original traits value: "${_e}"`),Me.startsWith("[")&&!Me.endsWith("]")&&(Me=Me+"]"),Me.startsWith('"[')&&!Me.endsWith(']"')&&(Me=Me+'"]'),Me.startsWith('"[')&&Me.endsWith(']"'))Me=Me.slice(2,-2),Me="["+Me+"]",Me=Me.replace(/"/g,'"'),be==="traits"&&console.log(`Fixed quoted array: "${Me}"`);else if(Me.startsWith("[")&&Me.endsWith("]"))try{JSON.parse(Me),be==="traits"&&console.log(`Valid JSON array: "${Me}"`)}catch{Me=Me.replace(/"/g,'"'),be==="traits"&&console.log(`Fixed unquoted array: "${Me}"`)}}try{const Oe=JSON.parse(Me);_e=Oe,be==="traits"&&console.log("Successfully parsed traits:",Oe)}catch(Oe){be==="traits"&&console.log("Failed to parse traits:",Oe),!isNaN(Number(_e))&&_e!==""&&(_e=Number(_e)),_e==="true"&&(_e=!0),_e==="false"&&(_e=!1)}}ye[be]=_e}}),ye.id&&H.push(ye)}return H},N=X=>{const le=[];let ie="",H=!1,te=0;for(;te<X.length;){const Q=X[te];Q==='"'?H&&X[te+1]==='"'?(ie+='"',te+=2):(H=!H,te++):Q===","&&!H?(le.push(ie.trim()),ie="",te++):(ie+=Q,te++)}return le.push(ie.trim()),le},V=X=>{const le=X.target.files?.[0];if(!le)return;j(null),M(null);const ie=new FileReader;ie.onload=H=>{try{const te=H.target?.result;console.log("CSV Text:",te);const Q=I(te);console.log("Parsed Entries:",Q),Q.forEach((oe,_e)=>{oe.traits!==void 0&&console.log(`Entry ${_e} (${oe.id}) traits:`,oe.traits,"Type:",typeof oe.traits,"IsArray:",Array.isArray(oe.traits))}),console.log("Raw CSV parsing debug:");const ne=te.split(`
`).filter(oe=>oe.trim()!==""),ye=N(ne[0]);console.log("Headers:",ye);for(let oe=1;oe<Math.min(5,ne.length);oe++){const _e=ne[oe],Me=N(_e);console.log(`Row ${oe}:`,Me);const Oe=ye.indexOf("traits");Oe>=0&&Me[Oe]&&console.log(`Row ${oe} traits raw: "${Me[Oe]}"`)}if(Q.length===0){j("No valid entries found in the CSV file.");return}const be=aA(t,Q);console.log("Validation Result:",be),be.isValid?(n(Q),M(`Successfully uploaded ${Q.length} entries from CSV.`)):j(`CSV validation failed: ${be.errors.map(oe=>`Row ${oe.row}, Field: ${oe.field} - ${oe.message||"Unknown error"}`).join(", ")}`)}catch(te){j(`Error parsing CSV file: ${te.message||"Unknown error"}`)}},ie.onerror=()=>{j("Error reading the file.")},ie.readAsText(le),L.current&&(L.current.value="")},A=X=>{e(X.target.value),n([]),v(null),j(null),M(null)},_=()=>{u(null),m(null),l(!0)},S=X=>{u(X),m(a[X]),l(!0)},D=(X,le)=>{le!=null?n(ie=>ie.map((H,te)=>te===le?X:H)):n(ie=>[...ie,X])},U=X=>{n(le=>le.filter((ie,H)=>H!==X))},P=()=>V$(t,a),K=()=>{const X=P(),le=new Blob([X],{type:"text/csv"}),ie=window.URL.createObjectURL(le),H=document.createElement("a");H.href=ie,H.download=`initial_${t}.csv`,document.body.appendChild(H),H.click(),document.body.removeChild(H),window.URL.revokeObjectURL(ie)},J=()=>{const X=aA(t,a);v(X)};w.useEffect(()=>{a.length>0?J():v(null)},[a,t]);const $=()=>{if(!i)return null;const X={open:i,onClose:()=>l(!1),onSave:D,initialEntry:h,editingIndex:d};switch(t){case"units":return s.jsx(z$,{...X});case"models":return s.jsx(H$,{...X});case"weapons":return s.jsx(G$,{...X,currentEntries:a});case"upgrades":return s.jsx(X$,{...X});default:return s.jsx(Q$,{...X,dataType:t,fields:Object.keys(W)})}};return s.jsxs(Cr,{maxWidth:"xl",sx:{py:4},children:[s.jsx(O,{variant:"h4",gutterBottom:!0,children:"CSV Creator"}),s.jsx(yt,{sx:{mb:3},children:s.jsx(bt,{children:s.jsxs(F,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[s.jsxs(bn,{sx:{minWidth:200},children:[s.jsx(_n,{children:"Data Type"}),s.jsx(cn,{value:t,onChange:A,label:"Data Type",children:J$.map(X=>s.jsx(Sa,{value:X,children:X.charAt(0).toUpperCase()+X.slice(1)},X))})]}),s.jsx(Ve,{variant:"outlined",startIcon:s.jsx(Qk,{}),onClick:()=>T(!0),disabled:!t,children:"Help"})]})})}),t&&s.jsxs(s.Fragment,{children:[s.jsx(yt,{sx:{mb:3},children:s.jsxs(bt,{children:[s.jsxs(F,{sx:{display:"flex",gap:2,mb:2,flexWrap:"wrap"},children:[s.jsx(Ve,{variant:"contained",startIcon:s.jsx(Ni,{}),onClick:_,children:"Add Entry"}),s.jsx(Ve,{variant:"outlined",startIcon:s.jsx(T6,{}),onClick:()=>L.current?.click(),component:"label",children:"Upload CSV"}),s.jsx("input",{ref:L,type:"file",accept:".csv",onChange:V,style:{display:"none"}}),s.jsx(Ve,{variant:"outlined",startIcon:s.jsx(h6,{}),onClick:K,disabled:a.length===0,children:"Download CSV"})]}),E&&s.jsx(Ca,{severity:"success",sx:{mb:2},onClose:()=>M(null),children:E}),C&&s.jsx(Ca,{severity:"error",sx:{mb:2},onClose:()=>j(null),children:C}),y&&s.jsx(Ca,{severity:y.isValid?"success":"error",icon:y.isValid?s.jsx(s6,{}):s.jsx(m6,{}),sx:{mb:2},children:y.isValid?s.jsxs(F,{children:[s.jsx(O,{variant:"body2",fontWeight:"bold",children:"Validation Passed"}),s.jsx(O,{variant:"body2",children:"All entries are valid and ready for download."})]}):s.jsxs(F,{children:[s.jsx(O,{variant:"body2",fontWeight:"bold",children:"Validation Failed"}),s.jsx(O,{variant:"body2",children:y.errors.map(X=>`Row ${X.row}, Field: ${X.field} - ${X.message}`).join(", ")})]})})]})}),a.length>0&&s.jsx(yt,{children:s.jsxs(bt,{children:[s.jsxs(O,{variant:"h6",gutterBottom:!0,children:["Entries (",a.length,")"]}),s.jsx(Yn,{component:ta,variant:"outlined",children:s.jsxs(Gn,{size:"small",children:[s.jsx(Xn,{children:s.jsxs(Pt,{children:[s.jsx(Y,{children:"ID"}),s.jsx(Y,{children:"Name"}),s.jsx(Y,{children:"Actions"})]})}),s.jsx(Kn,{children:a.map((X,le)=>s.jsxs(Pt,{children:[s.jsx(Y,{children:X.id}),s.jsx(Y,{children:X.name||"N/A"}),s.jsx(Y,{children:s.jsxs(F,{sx:{display:"flex",gap:1},children:[s.jsx(Ve,{size:"small",variant:"outlined",onClick:()=>S(le),children:"Edit"}),s.jsx(Ve,{size:"small",variant:"outlined",color:"error",onClick:()=>U(le),children:"Delete"})]})})]},le))})]})})]})})]}),$(),s.jsx(L$,{open:x,onClose:()=>T(!1),helpContent:R()})]})},eG=({currentArmyList:t,setCurrentArmyList:e})=>{const a=i=>{e(i)},n=()=>{e(null)};return s.jsx(d5,{basename:"/heresy-30-list-builder",children:s.jsxs(BI,{children:[s.jsx(Hn,{path:"/",element:s.jsx(B8,{onClearCurrentArmyList:n})}),s.jsx(Hn,{path:"/army-builder",element:s.jsx(tA,{initialArmyList:null,onClearCurrentArmyList:n})}),s.jsx(Hn,{path:"/army-builder/edit",element:s.jsx(tA,{initialArmyList:t,onClearCurrentArmyList:n})}),s.jsx(Hn,{path:"/load-list",element:s.jsx(R$,{onLoadList:a})}),s.jsx(Hn,{path:"/edit-units",element:s.jsx(A$,{})}),s.jsx(Hn,{path:"/edit-detachments",element:s.jsx(E$,{})}),s.jsx(Hn,{path:"/rules-browser",element:s.jsx(Hc,{})}),s.jsx(Hn,{path:"/rules-browser/unit-browser",element:s.jsx(Hc,{})}),s.jsx(Hn,{path:"/rules-browser/detachment-browser",element:s.jsx(Hc,{})}),s.jsx(Hn,{path:"/rules-browser/special-rules-browser",element:s.jsx(Hc,{})}),s.jsx(Hn,{path:"/rules-browser/wargear-browser",element:s.jsx(Hc,{})}),s.jsx(Hn,{path:"/rules-browser/weapon-browser",element:s.jsx(Hc,{})}),s.jsx(Hn,{path:"/csv-creator",element:s.jsx(Z$,{})}),s.jsx(Hn,{path:"*",element:s.jsx(OI,{to:"/",replace:!0})})]})})},tG=(t={})=>{const{enabled:e=!0,onSyncStart:a,onSyncComplete:n,onSyncError:i}=t,{currentUser:l}=Nd(),d=w.useRef(null),u=w.useRef(""),h=w.useRef(""),m=()=>{d.current&&clearTimeout(d.current),d.current=setTimeout(async()=>{if(!(!l||!e))try{a?.(),await jl.syncToFirestore(l),n?.()}catch(v){const x=v instanceof Error?v.message:"Unknown sync error";i?.(v instanceof Error?v:new Error(x)),console.error("LocalStorage sync error:",v)}},1e3)},y=()=>{if(!(!l||!e))try{const v=localStorage.getItem("heresy-custom-units")||"",x=localStorage.getItem("customDetachments")||"",T=v!==u.current,C=x!==h.current;(T||C)&&(u.current=v,h.current=x,m())}catch(v){console.error("Error checking for localStorage changes:",v)}};return w.useEffect(()=>{const v=x=>{(x.key==="heresy-custom-units"||x.key==="customDetachments"||x.key==="customDetachmentsMetadata")&&y()};return window.addEventListener("storage",v),()=>{window.removeEventListener("storage",v)}},[l,e]),w.useEffect(()=>{if(!l||!e)return;const v=()=>{m()},x=()=>{m()};return Ap.on("customUnitsChanged",v),kp.on("customDetachmentsChanged",x),()=>{Ap.off("customUnitsChanged",v),kp.off("customDetachmentsChanged",x)}},[l,e]),w.useEffect(()=>{if(!l||!e)return;const v=setInterval(y,2e3);return()=>{clearInterval(v)}},[l,e]),w.useEffect(()=>{l&&e&&(u.current=localStorage.getItem("heresy-custom-units")||"",h.current=localStorage.getItem("customDetachments")||"")},[l,e]),w.useEffect(()=>()=>{d.current&&clearTimeout(d.current)},[]),{checkForChanges:y}};function aG(){const[t,e]=w.useState(null);return s.jsx(U8,{children:s.jsx(nG,{currentArmyList:t,setCurrentArmyList:e})})}function nG({currentArmyList:t,setCurrentArmyList:e}){return tG({enabled:!0,onSyncStart:()=>console.log("Starting localStorage sync..."),onSyncComplete:()=>console.log("LocalStorage sync completed"),onSyncError:a=>console.error("LocalStorage sync error:",a)}),s.jsxs(A6,{children:[s.jsx(f3,{}),s.jsx(eG,{currentArmyList:t,setCurrentArmyList:e})]})}Xj.createRoot(document.getElementById("root")).render(s.jsx(w.StrictMode,{children:s.jsx(aG,{})}));
